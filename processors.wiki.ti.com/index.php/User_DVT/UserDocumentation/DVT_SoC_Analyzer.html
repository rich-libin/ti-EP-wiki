<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/User:DVT/UserDocumentation/DVT_SoC_Analyzer by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 07:43:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>User:DVT/UserDocumentation/DVT SoC Analyzer - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"User","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":2,"wgPageName":"User:DVT/UserDocumentation/DVT_SoC_Analyzer","wgTitle":"DVT/UserDocumentation/DVT SoC Analyzer","wgCurRevisionId":12752,"wgRevisionId":12752,"wgArticleId":2364,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"User:DVT/UserDocumentation/DVT_SoC_Analyzer","wgRelevantArticleId":2364,"wgRequestId":"532930bd387b09d35e250bbc","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgRelevantUserName":"DVT"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-2 ns-subject page-User_DVT_UserDocumentation_DVT_SoC_Analyzer rootpage-User_DVT skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">User:DVT/UserDocumentation/DVT SoC Analyzer</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"><span class="subpages">&lt; <a href="../../User_DVT.html" title="User:DVT">User:DVT</a>&lrm; | <a href="../UserDocumentation.html" title="User:DVT/UserDocumentation">UserDocumentation</a></span></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Supported_Devices"><span class="tocnumber">1.1</span> <span class="toctext">Supported Devices</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#SoC_Analyzer_for_Multi-Core_Devices"><span class="tocnumber">2</span> <span class="toctext">SoC Analyzer for Multi-Core Devices</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#SoC_Analyzer_for_Single-Core_Devices"><span class="tocnumber">3</span> <span class="toctext">SoC Analyzer for Single-Core Devices</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#DVT_Event_Log_Format"><span class="tocnumber">3.1</span> <span class="toctext">DVT Event Log Format</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#HTTP_Transfer"><span class="tocnumber">3.2</span> <span class="toctext">HTTP Transfer</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Log_Transfer_Commands"><span class="tocnumber">3.2.1</span> <span class="toctext">Log Transfer Commands</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Log_Control_Commands"><span class="tocnumber">3.2.2</span> <span class="toctext">Log Control Commands</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Read.2FWrite_Memory_Location"><span class="tocnumber">3.2.3</span> <span class="toctext">Read/Write Memory Location</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Misc._Commands"><span class="tocnumber">3.2.4</span> <span class="toctext">Misc. Commands</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Control_Panel"><span class="tocnumber">3.3</span> <span class="toctext">Control Panel</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Offline_Capture"><span class="tocnumber">3.3.1</span> <span class="toctext">Offline Capture</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Stream_the_logs"><span class="tocnumber">3.3.2</span> <span class="toctext">Stream the logs</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Control_Panel_.cp.xml_file"><span class="tocnumber">3.3.3</span> <span class="toctext">Control Panel .cp.xml file</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#DVT_Solution"><span class="tocnumber">3.4</span> <span class="toctext">DVT Solution</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#How_Codec_Engine_Logs_are_Processed_in_Solution"><span class="tocnumber">3.4.1</span> <span class="toctext">How Codec Engine Logs are Processed in Solution</span></a>
<ul>
<li class="toclevel-4 tocsection-17"><a href="#CodecEngineLogTranslator"><span class="tocnumber">3.4.1.1</span> <span class="toctext">CodecEngineLogTranslator</span></a></li>
<li class="toclevel-4 tocsection-18"><a href="#Analysis_of_Codec_Engine_Logs"><span class="tocnumber">3.4.1.2</span> <span class="toctext">Analysis of Codec Engine Logs</span></a></li>
<li class="toclevel-4 tocsection-19"><a href="#Visualization_of_Codec_Engine_Logs"><span class="tocnumber">3.4.1.3</span> <span class="toctext">Visualization of Codec Engine Logs</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="../../File_SocAnalyzer1.2.html" class="image"><img alt="SocAnalyzer1.2.jpg" src="https://processors.wiki.ti.com/images/b/b4/SocAnalyzer1.2.jpg" width="300" height="175" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../File_SocAnalyzer1.2.html" class="internal" title="Enlarge"></a></div></div></div></div><p>Built upon Texas Instruments' eXpressDSP™ data visualization technology (DVT), the SoC Analyzer simplifies your debugging of system integration issues and helps optimize system performance. It uses existing DSP/BIOS logging framework to collect information about system interaction and resource utilization in real time and transports the data to the host PC. 
</p><p>The SoC Analyzer employs reusable DVT components to analyze and present collected information in a rich set of analytic views like tables, line, state, discrete, and bar graphs.
</p><p>This real-time tool provides system-level analysis and display for codec- based applications to help you understand:
</p>
<ul><li>System performance</li>
<li>Resource utilization</li>
<li>Thread interaction</li>
<li>System execution flow</li></ul>
<h2><span class="mw-headline" id="Supported_Devices">Supported Devices</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=2" title="Edit section: Supported Devices">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>Tested Platforms
<ul><li>DM644x SoC Analyzer: <b>DM6446</b></li>
<li>SoC Analyzer 1.0: <b>DM6437</b></li>
<li>SoC Analyzer 1.1: <b>DM6437</b> + <b>DM648</b></li>
<li>SoC Analyzer 1.2: <b>DM6437</b> + <b>DM648</b> + <b>DM6446</b> + <b>DM6467</b></li></ul></li></ul>
<p><br />
</p>
<ul><li><a href="../../SoC_Analyzer.html" title="SoC Analyzer">Multi Core</a> minimal s/w requirement for standard use the SoC Analyzer
<ul><li>Linux</li>
<li>DSP/BIOS</li>
<li>Codec Engine</li>
<li>Trace Utility</li>
<li>HTTP Server ( Linux )</li></ul></li></ul>
<p><br />
</p>
<ul><li>Single Core minimal s/w requirement for standard use of the SoC Analyzer
<ul><li>DSP/BIOS</li>
<li>DSP/BIOS Log Server</li>
<li>HTTP Server ( Network Developer's Kit - NDK - TCP/IP Stack )</li></ul></li></ul>
<p><br />
The SoC Analyzer is delivered as part of the <a rel="nofollow" class="external text" href="http://wiki.davincidsp.com/index.php?title=DVEVM_and_DVSDK_overview">DVEVM/DVSDK</a> and also available from the <a rel="nofollow" class="external text" href="http://www.ti.com/dvevmupdates">DVEVM update site</a>
</p>
<h1><span class="mw-headline" id="SoC_Analyzer_for_Multi-Core_Devices">SoC Analyzer for Multi-Core Devices</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=3" title="Edit section: SoC Analyzer for Multi-Core Devices">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Please refer to <a href="../../SoC_Analyzer.html" title="SoC Analyzer">Multi Core SoC Analyzer</a>
</p>
<h1><span class="mw-headline" id="SoC_Analyzer_for_Single-Core_Devices">SoC Analyzer for Single-Core Devices</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=4" title="Edit section: SoC Analyzer for Single-Core Devices">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="../../File_SoCAnalyzer.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/f/f4/SoCAnalyzer.png" width="300" height="215" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../File_SoCAnalyzer.html" class="internal" title="Enlarge"></a></div>SoC Analyzer(Single Core)</div></div></div>
<p>Built upon Texas Instruments' eXpressDSP™ data visualization technology (DVT), the SoC Analyzer simplifies your debugging of a live application running on a single (DM643x, DM648x) target and helps optimize system performance. It uses existing DSP/BIOS logging framework to collect information about system interaction and resource utilization in real time and transports the data to the host PC. The SoC Analyzer employs reusable DVT components to analyze and present collected information in a rich set of summary tables (log values) and line, state, and discrete graphs.
</p><p>This real-time tool provides system-level analysis and displays for codec-based applications to help you understand:
</p>
<ul><li>System performance bottlenecks</li>
<li>Resource utilization</li>
<li>Thread interaction</li>
<li>System execution flow</li></ul>
<p>Using a standard programming pattern, the SoC Analyzer decodes, evaluates, and displays logged information from the:
</p>
<ul><li>DSP BIOS</li>
<li>Codec Engine</li>
<li>TI device drivers</li>
<li>BIOS Log Server Utility (samples EMIF Counters every 10 milliseconds)</li></ul>
<p>The SoC Analyzer uses the DSP BIOS logging elements to display time-based visualizations and analysis:
</p>
<ul><li>Execution analysis - displays BIOS, codec, and TI device driver tasks, SWIs, and PRDs</li>
<li>Load Analysis - displays CPU and task loads</li>
<li>Throughput analysis - displays peripheral throughput and bandwidth, along with EMIF events</li>
<li>Latency analysis - display driver and code execution</li>
<li>System performance - display codec and driver profiling</li></ul>
<p>Device drivers were instrumented to collect information required for performing event tracking, latency, throughput and bandwidth. This was achieved by taking advantage of existing DSP/BIOS logging facilities, and conforming to a logging format, <a href="DVT_SoC_Analyzer/DVT_Event_Log.html" title="User:DVT/UserDocumentation/DVT SoC Analyzer/DVT Event Log">DVT Event Log</a>, that SoC analyzer tool uses to visualize the collected information.
</p><p>SoC Analyzer communicates with the target hardware using HTTP and relies on following services from BIOS/DSP framework to collect, transfer and decode the BIOS logs.
</p>
<ul><li>NDK to provide TCPIP stack and an HTTP Server</li>
<li>BIOSUTILS CGI scripts to provide following services
<ul><li>Start / Stop streaming the collected logs</li>
<li>Capture collected logs in single shot (non-streaming)</li>
<li>Collect CPU Load information and EMIF Counter values</li>
<li>Configure EMIF by Reading and Writing to memory location</li></ul></li>
<li>rtadecode commandline decoder to decode raw BIOS logs on host side using the symbol file</li></ul>
<p>SoC Analyzer provides means to visualize collected data and made up of the following components. 
</p>
<ul><li>DVT Solution
<ul><li>Data Model</li>
<li>Data Views</li>
<li>Control Panel</li></ul></li></ul>
<h2><span class="mw-headline" id="DVT_Event_Log_Format">DVT Event Log Format</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=5" title="Edit section: DVT Event Log Format">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>DVT Event Log format is a generic logging format on top of DSP/BIOS LogPrintf4, that was defined as part of SoC Analyzer project.
</p><p>Peripheral drivers used this logging format to log information on target side.
</p><p>Please see: <a href="DVT_SoC_Analyzer/DVT_Event_Log.html" title="User:DVT/UserDocumentation/DVT SoC Analyzer/DVT Event Log">DVT Event Log</a>
</p>
<h2><span class="mw-headline" id="HTTP_Transfer">HTTP Transfer</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=6" title="Edit section: HTTP Transfer">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>As part of SoC Analyzer project, a number of CGI commands on target running an NDK stack were defined to enable us to perform:
</p>
<ul><li>Log Transfer from target to host</li>
<li>Control the logs</li>
<li>Read/Write Memory Locations</li>
<li>Other</li></ul>
<p>These commands were defined in BIOSUTILS package which is shipped as part of DSP/BIOS offering and using NDK stack.
</p>
<h3><span class="mw-headline" id="Log_Transfer_Commands">Log Transfer Commands</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=7" title="Edit section: Log Transfer Commands">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>Start Streaming</dt></dl>
<pre>http://&lt;target-cgi-path&gt;/startstreaming.cgi?&amp;pollRate=&lt;N&gt;&amp;logMask=&lt;binary_data_mask&gt;
</pre>
<p>Transfer logs periodically with the given refresh rate
Stream to be closed by Stop Streaming
</p>
<dl><dt>Stop Streaming</dt></dl>
<pre>http://&lt;target_cgi_path&gt;/stopstreaming
</pre>
<dl><dt>Transfer once</dt></dl>
<pre>http://&lt;target-cgi-path&gt;/capturelogs.cgi?logMask=&lt;binary_data_mask&gt;
</pre>
<p>Transfer all the logs at once
No refresh rate
No need to stop stream by stopstreaming cgi, close connection after logs get transferred 
</p>
<h3><span class="mw-headline" id="Log_Control_Commands">Log Control Commands</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=8" title="Edit section: Log Control Commands">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>Start collecting Logs</dt></dl>
<pre>http://&lt;target_cgi_path&gt;/startlogging.cgi
</pre>
<dl><dt>Stop collecting Logs</dt></dl>
<pre>http://&lt;target_cgi_path&gt;/stoplogging.cgi
</pre>
<dl><dt>Enable / Disable Logs (logMask = 0 will disable all logs)</dt></dl>
<pre>http://&lt;target-cgi-path&gt;/enablelogging.cgi?logMask=&lt;binary_data_mask&gt;
</pre>
<dl><dt>Flush Logs (</dt></dl>
<pre>http://&lt;target-cgi-path&gt;/logflush.cgi?logMask=&lt;binary_data_mask&gt;
</pre>
<h3><span id="Read/Write_Memory_Location"></span><span class="mw-headline" id="Read.2FWrite_Memory_Location">Read/Write Memory Location</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=9" title="Edit section: Read/Write Memory Location">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>ReadWord - Used for EMIFConfig but can be used for any address</dt></dl>
<pre>http://&lt;target_cgi_path&gt;/readword.cgi?address=&lt;address&gt;
</pre>
<dl><dt>WriteWord  - Used for EMIFConfig but can be used for any address</dt></dl>
<pre>http://&lt;target_cgi_path&gt;/writeword.cgi?address=&lt;address&gt;&amp;value=&lt;numbervalue&gt;
</pre>
<dl><dt>ReadBlock</dt></dl>
<pre>http://&lt;target_cgi_path&gt;/read.cgi?address=&lt;address&gt;&amp;size=&lt;size&gt;
</pre>
<h3><span class="mw-headline" id="Misc._Commands">Misc. Commands</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=10" title="Edit section: Misc. Commands">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>Get CPU Speed</dt></dl>
<pre>http://&lt;target-cgi-path&gt;/getcpuspeed.cgi 
</pre>
<dl><dt>Set Track Logs - monitor values of the given addresses and log them periodically to a log buffer</dt></dl>
<pre>http://&lt;target-cgi-path&gt;/settrackaddrs.cgi?addr1=&lt;val1&gt;&amp;addr2=&lt;val2&gt;
</pre>
<h2><span class="mw-headline" id="Control_Panel">Control Panel</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=11" title="Edit section: Control Panel">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The General view of the Control Panel is used to capture and process data from the target application. You must provide the target IP address.
</p><p>Note: The IP address is visible in CCStudio only when you load an application on the target board. If the demonstration application is transferred to flash memory, you should use the DVSDK host application to detect the IP address of the running board.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="../../File_Controlpanel_1.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/c/cf/Controlpanel_1.jpg" width="300" height="304" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../File_Controlpanel_1.html" class="internal" title="Enlarge"></a></div>Control Panel General Tab</div></div></div>
<p>To better manage the TCP/IP transport bandwidth, the Setup tab of the Control Panel provides the option to enable or disable the log collection and control log transfer from the target board. Transported data is stored in files on the PC. You can keep multiple sets of data logs by specifying different session names in the SoC Analyzer Control Panel.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="../../File_Controlpanel_2.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/8/80/Controlpanel_2.jpg" width="300" height="304" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../File_Controlpanel_2.html" class="internal" title="Enlarge"></a></div>Control Panel Setup Tab</div></div></div>
<p><br />
Applications must enable logging on the required components. Appropriate BIOS Log buffer sizes must be set large enough to collect the duration of logs required. 
</p><p>The Control Panel View user interface performs several key functions:
</p>
<ul><li>Displays the initial Solution Perspective, the first time you start SoC Analyzer</li>
<li>Controls data capture of logs on the target application board</li>
<li>Selects logs of interest and external memory interface (EMIF) configuration</li>
<li>Controls log data transfer to and data processing on the PC host</li>
<li>Manages your SoC Analyzer session data</li></ul>
<p>To work with application logs, the Control Panel View supports these operational Action modes:
</p>
<ul><li>Online Capture - Captures data live from the application for a specific duration.  Data is captured into buffers in the target in real time and transferred (using HTTP) to the host for processing.</li>
<li>Offline Capture - Transports data already in the target log buffers. Data is transported by HTTP to the host for analysis.</li>
<li>Post Process - Processes data previously captured and stored in a session on the PC.</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Offline_Capture">Offline Capture</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=12" title="Edit section: Offline Capture">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Here is a sample flow of HTTP requests: 
</p><p>User may specify the number of seconds that s/he wants to collect the logs for. 
</p>
<dl><dt>User presses start collecting logs</dt></dl>
<ul><li>Read CPU Speed and EMIF configuration registers:</li></ul>
<pre>http://&lt;target-cgi-path&gt;/readword.cgi?address=&lt;addr&gt; 
http://&lt;target-cgi-path&gt;/readword.cgi?address=&lt;addr&gt; 
http://&lt;target-cgi-path&gt;/getcpuspeed.cgi 
</pre> 
<ul><li>Set track logs for EMIF counters</li></ul>
<pre>http://&lt;target-cgi-path&gt;/settrackaddrs.cgi?addr1=0x20000040&amp;addr2=0x20000044 
</pre>
<ul><li>Flush the logs - This is to start off with a clean log</li></ul>
<pre>http://&lt;target-cgi-path&gt;/logflush.cgi?logMask=&lt;binary_data_mask&gt; 
</pre>
<ul><li>Enable logging - Logs on log server are getting collected now but as nothing gets transferred to host yet we don't see any data on DVT yet.</li></ul>
<pre>http://&lt;target-cgi-path&gt;/enablelogging.cgi?logMask=&lt;binary_data_mask&gt; 
</pre>
<dl><dt>User presses stop collecting logs or the timer expires.</dt></dl>
<ul><li>Disable the logs</li></ul>
<pre>http://&lt;target-cgi-path&gt;/enablelogging.cgi?logMask=0 
</pre>
<ul><li>Start streaming(transferring to host)</li></ul>
<pre>http://&lt;target-cgi-path&gt;/capturelogs.cgi?logMask=&lt;binary_data_mask&gt; 
</pre>
<h3><span class="mw-headline" id="Stream_the_logs">Stream the logs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=13" title="Edit section: Stream the logs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>User presses start</dt></dl>
<ul><li>Read CPU Speed and EMIF configuration registers:</li></ul>
<pre>http://&lt;target-cgi-path&gt;/readword.cgi?address=&lt;addr&gt; 
http://&lt;target-cgi-path&gt;/readword.cgi?address=&lt;addr&gt; 
http://&lt;target-cgi-path&gt;/getcpuspeed.cgi 
</pre>
<ul><li>Set track logs for EMIF counters</li></ul>
<pre>http://&lt;target-cgi-path&gt;/settrackaddrs.cgi?addr1=0x20000040&amp;addr2=0x20000044 
</pre>
<ul><li>Flush the logs - This is to start off with a clean log</li></ul>
<pre>http://&lt;target-cgi-path&gt;/logflush.cgi?logMask=&lt;binary_data_mask&gt; 
</pre>
<ul><li>Enable logging for the selected log ids</li></ul>
<pre>http://&lt;target-cgi-path&gt;/enablelogging.cgi?logMask=&lt;binary_data_mask&gt; 
</pre>
<ul><li>Start streaming(transferring to host) the logs (for the user selection)</li></ul>
<pre>http://&lt;target-cgi-path&gt;/startstreaming.cgi?&amp;pollRate=14&amp;logMask=&lt;binary_data_mask&gt; 
</pre>
<dl><dt>DVT analyzes and visualizes data as they are received</dt>
<dt>User presses stop</dt></dl>
<ul><li>Disable collecting the logs</li></ul>
<pre>http://&lt;target-cgi-path&gt;/disablelogging.cgi?logMask=0 
</pre>
<ul><li>Stop streaming(transferring) the logs</li></ul>
<pre>http://&lt;target-cgi-path&gt;/stopstreaming.cgi 
</pre>
<ul><li>Wait until stream closes</li></ul>
<h3><span class="mw-headline" id="Control_Panel_.cp.xml_file">Control Panel .cp.xml file</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=14" title="Edit section: Control Panel .cp.xml file">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>SoC Analyzer employs DVT's Control Panel configuration file (.cp.xml) to achieve this but it uses a custom made view component instead of generic control panel view.
</p><p>Here is the .cp.xml file:
</p><p><code lang="xml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ControlPanel&gt;
</code></p><code lang="xml"><pre>  &lt;ControlPanelView name="com.ti.dvt.c64lc.controlpanel.views.C64lcControlPanel" /&gt;
</pre></code><code lang="xml"><pre>  &lt;Node name="Post Process"&gt;
     &lt;Solution name="64LC_sample.sol"/&gt;
</pre></code><code lang="xml"><pre>     &lt;Property name="session" display="Session" class="com.ti.dvt.davinci.controlpanel.DavinciControlPanelModel"/&gt;
     &lt;Property name="symbolFile" display="Symbol File" class="com.ti.dvt.davinci.controlpanel.DavinciControlPanelModel"/&gt;    
           
     &lt;ActionNode name="Start" button="Start" condition="'(new String(&quot;'Session'&quot;)).equals(&quot;sessions\&quot;);'" logError="'Session cannot be null. Please pick a value from the sessions combo box.'" &gt;
     &lt;ActionNode name="validateSymbolFile" condition="'(new String(&quot;'Symbol File'&quot;)).equals(&quot;&quot;);" logError="'Please fill in Symbol File.'"&gt;      
     	&lt;ResetDP /&gt;
     	&lt;SetViewProperty viewName="Running Task" name="Number of categories" value="'0'"/&gt;      
</pre></code><code lang="xml"><p>	&lt;Set dpName="HTTPDataSource" name="Mode" value="'file'"/&gt;
	&lt;Set dpName="HTTPDataSource" name="Input File Name" value="Session'\bioslog.bin'"/&gt;
	&lt;Set dpName="RTALiteDecoder" name="Coff File Name" value="Symbol File"/&gt;	
</p></code><code lang="xml"><pre>       &lt;Set dpName="EMIFTranslator" name="XMLconfig File" value="Session'\emif.xml'"/&gt;
</pre></code><code lang="xml"><p>	&lt;ReadProperty filename="SolutionDir'\'Session'\CPUSpeed.properties'" /&gt;	
</p></code><code lang="xml"><pre>       &lt;Set dpName="RTALiteDecoder" name="Cpu Speed" value="CPU Speed" /&gt;
</pre></code><code lang="xml"><p>	&lt;ScheduleJobs /&gt;		
	&lt;StartDP /&gt;	
</p></code><code lang="xml"><pre>     &lt;/ActionNode&gt;
     &lt;/ActionNode&gt;
     
     &lt;ActionNode name="Stop" button="Stop"&gt;
     	&lt;Set dpName="HTTPDataSource" name="Stop Url" value="<i>"/&gt;</i>
     	&lt;StopDP /&gt;
     	&lt;ResetJobs /&gt;
     &lt;/ActionNode&gt;
     
     &lt;ActionNode name="Reset" button="Reset"&gt;
     	&lt;Set dpName="HTTPDataSource" name="Stop Url" value="<i>"/&gt;</i>
       &lt;StopDP /&gt;
     	&lt;ResetJobs /&gt;
     	&lt;ResetDP /&gt;
     	&lt;SetViewProperty viewName="Running Task" name="Number of categories" value="'0'"/&gt;
       &lt;Set dpName="EMIFTranslator" name="XMLconfig File" value="'emif.xml'"/&gt;
     &lt;/ActionNode&gt;
     
     &lt;ActionNode name="Reload" button="Reload"&gt;
       &lt;ResetJobs /&gt;
     	&lt;Solution name="64LC_sample.sol" force="true"/&gt;
     &lt;/ActionNode&gt;      
      
     &lt;ActionNode name="Restore" button="Restore"&gt;
     	&lt;ResetJobs /&gt;
       &lt;CloseSolution/&gt;
       &lt;CMD cmd="'xcopy /Y /E /R /Q &quot;'SolutionDir'_factory&quot; &quot;'SolutionDir'&quot;'" verify="'Are you sure you want to replace your settings with factory settings?'"/&gt;             
     	&lt;Solution name="64LC_sample.sol" force="true"/&gt;      	
     &lt;/ActionNode&gt;
           
</pre></code><code lang="xml"><pre>  &lt;/Node&gt;
  
  &lt;Node name="Online Capture"&gt;
     &lt;Solution name="64LC_sample.sol"/&gt;
     &lt;Property name="session" display="Session" class="com.ti.dvt.davinci.controlpanel.DavinciControlPanelModel"/&gt;      
     &lt;Property name="targetIpAddress" display="Target IP Address" class="com.ti.dvt.davinci.controlpanel.DavinciControlPanelModel"/&gt;      
     &lt;Property name="symbolFile" display="Symbol File" class="com.ti.dvt.davinci.controlpanel.DavinciControlPanelModel"/&gt;            
     &lt;Property name="live" display="Live" class="com.ti.dvt.davinci.controlpanel.DavinciControlPanelModel" value="'true'"/&gt;
     
     &lt;ActionNode name="Start" button="Start" /&gt;	
     
     &lt;ActionNode name="Stop" button="Stop"&gt;
     	&lt;Set dpName="HTTPDataSource" name="Stop Url" value="<i>"/&gt;</i>
     	&lt;StopDP /&gt;
     	&lt;ResetJobs /&gt;
     &lt;/ActionNode&gt;
     
     &lt;ActionNode name="Reset" button="Reset"&gt;
      	&lt;Set dpName="HTTPDataSource" name="Stop Url" value="<i>"/&gt;</i>
       &lt;StopDP /&gt;
     	&lt;ResetJobs /&gt;
     	&lt;ResetDP /&gt;
     	&lt;SetViewProperty viewName="Running Task" name="Number of categories" value="'0'"/&gt;
       &lt;Set dpName="EMIFTranslator" name="XMLconfig File" value="'emif.xml'"/&gt;      	
     &lt;/ActionNode&gt;
           
     &lt;ActionNode name="StartTargetCapture" button="StartTargetCapture" condition="'new java.net.URL(&quot;<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'&quot;).openConnection().connect();'" logError="'Webserver on &quot;'Target IP Address'&quot; is unreachable'" &gt;
     &lt;ActionNode name="sessionOverWrite" condition="'((new java.io.File(&quot;'SolutionDir'\'Session'\&quot;)).listFiles()).length&gt;0;'" confirm="'Overwrite &quot;'session'&quot; session?'"&gt;      
     &lt;ActionNode name ="validateSession" condition="'(new String(&quot;'Session'&quot;)).equals(&quot;sessions\&quot;);'" logError="'Session cannot be null. Please create a new session by providing a new name in sessions combo box.'" &gt;
     &lt;ActionNode name="validateSymbolFile" condition="'(new String(&quot;'Symbol File'&quot;)).equals(&quot;&quot;);" logError="'Please fill in Symbol File.'"&gt;      
     
       &lt;HTTP name="Setting Track Logs" URL="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/settrackaddrs.cgi?addr1=0x20000040&amp;addr2=0x20000044'" /&gt;                      
</pre></code><code lang="xml"><p>	&lt;Java&gt;&lt;![CDATA['
</p><p>		temp = Packages.com.ti.dvt.emifconfig.EMIFRegisters.toXMLString("<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/readword.cgi?addr=%ADDRESS%","DM643x");      	
</p><p>		fw = new java.io.FileWriter("'SolutionDir'\'Session'\emif.xml");
		fw.write(temp);
		fw.close();      	
</p><p>	']]&gt;&lt;/Java&gt;
</p></code><code lang="xml"><pre>       &lt;Java result="CPU Speed"&gt;&lt;![CDATA['
              urlConnection = new Packages.java.net.URL("<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/getcpuspeed.cgi").openConnection();
              urlConnection.connect();
              httpURLInputStream = urlConnection.getInputStream();
              isr = new Packages.java.io.BufferedInputStream(httpURLInputStream);
              bb = Packages.java.nio.ByteBuffer.allocateDirect(4);
              bb.order(Packages.java.nio.ByteOrder.nativeOrder());
              for (i=0; i&lt;4; i++)
                bb.put(new Packages.java.lang.Integer(isr.read()).byteValue());               
              isr.close();
              bb.rewind();
              bb.getInt() / 1000.0;
                      
       ']]&gt;&lt;/Java&gt; 
       &lt;WriteProperty name="CPU Speed" filename="SolutionDir'\'Session'\CPUSpeed.properties'" /&gt;
       &lt;Set dpName="RTALiteDecoder" name="Cpu Speed" value="CPU Speed" /&gt;
</pre></code><code lang="xml"><pre>       &lt;HTTP name="Flushing selected logs" URL="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/logflush.cgi?logMask='Flush Mask" /&gt;
       &lt;HTTP name="Enabling selected logs" URL="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/enableLogging.cgi?logMask='Log Mask" /&gt;
     &lt;/ActionNode&gt;          
     &lt;/ActionNode&gt;        
     &lt;/ActionNode&gt;
     &lt;/ActionNode&gt;
</pre></code><code lang="xml"><pre>     &lt;ActionNode name="StopTargetCapture" button="StopTargetCapture" condition="'new java.net.URL(&quot;<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'&quot;).openConnection().connect();'" logError="'Webserver on &quot;'Target IP Address'&quot; is unreachable'" &gt;
</pre></code><code lang="xml"><pre>     &lt;HTTP name="Disabling selected logs" URL="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/disablelogging.cgi?logMask='Log Mask" /&gt; 
</pre></code><code lang="xml"><p>	&lt;ResetDP /&gt;
	&lt;ScheduleJobs /&gt;	
</p></code><code lang="xml"><pre>       &lt;CMD cmd="'cmd /c del &quot;'SolutionDir'\'Session'\bioslog.bin&quot; -ui - i" /&gt;
</pre></code><code lang="xml"><p>	&lt;HTTP name="Starting the transfer" URL="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/capturelogs.cgi?logMask='Log Mask" destination="Session'\bioslog.bin'"/&gt;
</p></code><code lang="xml"><pre>        &lt;HTTP name="Enabling selected logs" URL="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/enableLogging.cgi?logMask='Log Mask" /&gt; 
       
</pre></code><code lang="xml"><p>	&lt;Set dpName="HTTPDataSource" name="Mode" value="'file'"/&gt;
	&lt;Set dpName="HTTPDataSource" name="Input File Name" value="Session'\bioslog.bin'"/&gt;
	&lt;Set dpName="RTALiteDecoder" name="Coff File Name" value="Symbol File"/&gt;
</p><p>	&lt;Set dpName="EMIFTranslator" name="XMLconfig File" value="'emif.xml'"/&gt;      	      	
	&lt;Set dpName="EMIFTranslator" name="XMLconfig File" value="Session'\emif.xml'"/&gt;	
</p><p>	&lt;StartDP /&gt;	
</p></code><code lang="xml"><pre>     &lt;/ActionNode&gt;
     
     
     &lt;ActionNode name="Reload" button="Reload"&gt;
       &lt;ResetJobs /&gt;
     	&lt;Solution name="64LC_sample.sol" force="true"/&gt;      	
     &lt;/ActionNode&gt;
     
     &lt;ActionNode name="Restore" button="Restore"&gt;
       &lt;ResetJobs /&gt;
       &lt;CloseSolution/&gt;
       &lt;CMD cmd="'xcopy /Y /E /R /Q &quot;'SolutionDir'_factory&quot; &quot;'SolutionDir'&quot;'" verify="'Are you sure you want to replace your settings with factory settings?'"/&gt;             
     	&lt;Solution name="64LC_sample.sol" force="true"/&gt;
     &lt;/ActionNode&gt;      
     
    &lt;ActionNode name="EMIF Configuration" condition="'new java.net.URL(&quot;<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'&quot;).openConnection().connect();'" logError="'Webserver on &quot;'Target IP Address'&quot; is unreachable'" &gt;
</pre></code><code lang="xml"><p>	&lt;View name="com.ti.dvt.emifconfig.views.EMIFConfigView"/&gt;
	&lt;SetViewProperty name="Write Url" viewName="com.ti.dvt.emifconfig.views.EMIFConfigView" value="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/writeword.cgi?addr=%ADDRESS%&amp;val=%VALUE%'"/&gt;
	&lt;SetViewProperty name="Platform"  viewName="com.ti.dvt.emifconfig.views.EMIFConfigView" value="'DM643x'"/&gt;
	&lt;SetViewProperty name="Read Url"  viewName="com.ti.dvt.emifconfig.views.EMIFConfigView" value="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/readword.cgi?addr=%ADDRESS%'"/&gt;
</p></code><code lang="xml"><pre>    &lt;/ActionNode&gt; 
     
     
  &lt;/Node&gt;
</pre></code><code lang="xml"><pre>  &lt;Node name="Offline Capture"&gt;
     &lt;Solution name="64LC_sample.sol"/&gt;
     &lt;Property name="session" display="Session" class="com.ti.dvt.davinci.controlpanel.DavinciControlPanelModel"/&gt;      
     &lt;Property name="targetIpAddress" display="Target IP Address" class="com.ti.dvt.davinci.controlpanel.DavinciControlPanelModel"/&gt;
     &lt;Property name="symbolFile" display="Symbol File" class="com.ti.dvt.davinci.controlpanel.DavinciControlPanelModel"/&gt;
     
     &lt;ActionNode name="Stop" button="Stop"&gt;
      	&lt;Set dpName="HTTPDataSource" name="Stop Url" value="<i>"/&gt;</i>
     	&lt;StopDP /&gt;
     	&lt;ResetJobs /&gt;
     &lt;/ActionNode&gt;
     
     &lt;ActionNode name="Reset" button="Reset"&gt;
      	&lt;Set dpName="HTTPDataSource" name="Stop Url" value="<i>"/&gt;      </i>
       &lt;StopDP /&gt;
     	&lt;ResetJobs /&gt;
     	&lt;ResetDP /&gt;
     	&lt;SetViewProperty viewName="Running Task" name="Number of categories" value="'0'"/&gt;
       &lt;Set dpName="EMIFTranslator" name="XMLconfig File" value="'emif.xml'"/&gt;
     &lt;/ActionNode&gt;
           
     &lt;ActionNode name="Start" button="Start" condition="'(new String(&quot;'Session'&quot;)).equals(&quot;sessions\&quot;);'" logError="'Session cannot be null. Please create a new session by providing a new name in sessions combo box.'" &gt;      
     &lt;ActionNode name="validateSymbolFile" condition="'(new String(&quot;'Symbol File'&quot;)).equals(&quot;&quot;);" logError="'Please fill in Symbol File.'"&gt;      
     &lt;ActionNode name ="validateIP" condition="'new java.net.URL(&quot;<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'&quot;).openConnection().connect();'" logError="'Webserver on &quot;'Target IP Address'&quot; is unreachable'" &gt;      
     &lt;ActionNode name="SessionOverWrite" condition="'((new java.io.File(&quot;'SolutionDir'\'Session'\&quot;)).listFiles()).length&gt;0;'" confirm="'Overwrite &quot;'session'&quot; session?'"&gt;      
</pre></code><code lang="xml"><p>	&lt;ResetDP /&gt;
</p></code><code lang="xml"><pre>     	&lt;SetViewProperty viewName="Running Task" name="Number of categories" value="'0'"/&gt;
</pre></code><code lang="xml"><p>	&lt;ScheduleJobs /&gt;	
</p></code><code lang="xml"><pre>       &lt;CMD cmd="'cmd /c del &quot;'SolutionDir'\'Session'\bioslog.bin&quot; -ui - i" /&gt;
       &lt;HTTP name="Setting Track Logs" URL="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/settrackaddrs.cgi?addr1=0x20000040&amp;addr2=0x20000044'" /&gt;                
       
</pre></code><code lang="xml"><p>	&lt;Java&gt;&lt;![CDATA['
</p><p>		temp = Packages.com.ti.dvt.emifconfig.EMIFRegisters.toXMLString("<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/readword.cgi?addr=%ADDRESS%","DM643x");      	
</p><p>		fw = new java.io.FileWriter("'SolutionDir'\'Session'\emif.xml");
		fw.write(temp);
		fw.close();      	
</p><p>	']]&gt;&lt;/Java&gt;
</p></code><code lang="xml"><pre>       &lt;Java result="CPU Speed"&gt;&lt;![CDATA['
              urlConnection = new Packages.java.net.URL("<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/getcpuspeed.cgi").openConnection();
              urlConnection.connect();
              httpURLInputStream = urlConnection.getInputStream();
              isr = new Packages.java.io.BufferedInputStream(httpURLInputStream);
              bb = Packages.java.nio.ByteBuffer.allocateDirect(4);
              bb.order(Packages.java.nio.ByteOrder.nativeOrder());
              for (i=0; i&lt;4; i++)
                bb.put(new Packages.java.lang.Integer(isr.read()).byteValue());               
              isr.close();
              bb.rewind();
              bb.getInt() / 1000.0;
                      
       ']]&gt;&lt;/Java&gt; 
       &lt;WriteProperty name="CPU Speed" filename="SolutionDir'\'Session'\CPUSpeed.properties'" /&gt;
       &lt;Set dpName="RTALiteDecoder" name="Cpu Speed" value="CPU Speed" /&gt;                
       
       &lt;HTTP name="Enabling selected logs" URL="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/enableLogging.cgi?logMask='Log Mask" /&gt;
       
</pre></code><code lang="xml"><p>	&lt;HTTP name="Starting the transfer"  URL="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/capturelogs.cgi?logMask='Log Mask" destination="Session'\bioslog.bin'"/&gt;
</p><p>	&lt;Set dpName="HTTPDataSource" name="Mode" value="'file'"/&gt;
	&lt;Set dpName="HTTPDataSource" name="Input File Name" value="Session'\bioslog.bin'"/&gt;
	&lt;Set dpName="RTALiteDecoder" name="Coff File Name" value="Symbol File"/&gt;
</p><p>	&lt;Set dpName="EMIFTranslator" name="XMLconfig File" value="'emif.xml'"/&gt;      	      	
	&lt;Set dpName="EMIFTranslator" name="XMLconfig File" value="Session'\emif.xml'"/&gt;
</p><p><br />	
	&lt;StartDP /&gt;
</p></code><code lang="xml"><pre>     &lt;/ActionNode&gt;
     &lt;/ActionNode&gt;
     &lt;/ActionNode&gt;
     &lt;/ActionNode&gt;
           
     &lt;ActionNode name="Reload" button="Reload"&gt;
       &lt;ResetJobs /&gt;
     	&lt;Solution name="64LC_sample.sol" force="true"/&gt;      	
     &lt;/ActionNode&gt;
     
     &lt;ActionNode name="Restore" button="Restore"&gt;
       &lt;ResetJobs /&gt;
       &lt;CloseSolution/&gt;
       &lt;CMD cmd="'xcopy /Y /E /R /Q &quot;'SolutionDir'_factory&quot; &quot;'SolutionDir'&quot;'" verify="'Are you sure you want to replace your settings with factory settings?'"/&gt;             
     	&lt;Solution name="64LC_sample.sol" force="true"/&gt;
     &lt;/ActionNode&gt;      
     
    &lt;ActionNode name="EMIF Configuration" condition="'new java.net.URL(&quot;<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'&quot;).openConnection().connect();'" logError="'Webserver on &quot;'Target IP Address'&quot; is unreachable'" &gt;
</pre></code><code lang="xml"><p>	&lt;View name="com.ti.dvt.emifconfig.views.EMIFConfigView"/&gt;
	&lt;SetViewProperty name="Write Url" viewName="com.ti.dvt.emifconfig.views.EMIFConfigView" value="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/writeword.cgi?addr=%ADDRESS%&amp;val=%VALUE%'"/&gt;
	&lt;SetViewProperty name="Platform"  viewName="com.ti.dvt.emifconfig.views.EMIFConfigView" value="'DM643x'"/&gt;
	&lt;SetViewProperty name="Read Url"  viewName="com.ti.dvt.emifconfig.views.EMIFConfigView" value="'<a rel="nofollow" class="external free" href="http://'target/">http://'Target</a> IP Address'/readword.cgi?addr=%ADDRESS%'"/&gt;
</p></code><code lang="xml"><pre>    &lt;/ActionNode&gt; 
     
          
     
  &lt;/Node&gt;
</pre></code><code lang="xml"><p>&lt;/ControlPanel&gt;
</p></code><p><code lang="xml"></code>
</p>
<h2><span class="mw-headline" id="DVT_Solution">DVT Solution</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=15" title="Edit section: DVT Solution">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>After selecting any Action (for example, Post Process) from the drop-down selection list in Control Panel and pressing the start button, depending on parameters specified in the control panel xml file, DVT Solution will be configured and then started.
</p><p>Here is the DVT Solution for single core SoC Analyzer that employs DVT components:
<a href="../../File_Solution_64lc.html" class="image"><img alt="Solution 64lc.jpg" src="https://processors.wiki.ti.com/images/4/43/Solution_64lc.jpg" width="1476" height="844" /></a>
</p><p>As an example please see how Codec Engine Logs are processed through the solution:
</p>
<h3><span class="mw-headline" id="How_Codec_Engine_Logs_are_Processed_in_Solution">How Codec Engine Logs are Processed in Solution</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=16" title="Edit section: How Codec Engine Logs are Processed in Solution">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For "DSP only" devices such as 64LC (DM643x) / Kailash (DM648x), Codec Engine logs data into a reserved buffer called <b>"ti_sdo_ce_osal_LOG_Buffer"</b> using an extended version of <tt>LOG_printf4()</tt> that allows passing 4 args as follows:
</p>
<table cellpadding="4" cellspacing="2" border="0" style="color:black;background-color:#ffffff;">

<tbody><tr style="color:black;background-color:#cccccc;">
<th align="left"><b>Description</b>
</th>
<th align="left"><b>arg0</b>
</th>
<th align="center"><b>arg1</b>
</th>
<th align="center"><b>arg2</b>
</th>
<th align="left"><b>arg3</b>
</th>
<th align="center"><b>Format string</b>
</th></tr>
<tr style="color:black;background-color:#eeeeee;">
<td align="center">(optional) Sequence description
</td>
<td align="left">String describing event, in the form Extension:sequence (eg "AUDDEC1:process", "VIDENC:control", "SCALE:scaleby2")
</td>
<td align="left">Codec handle
</td>
<td align="left">undefined
</td>
<td align="left"><tt>0</tt>
</td>
<td align="center">"%s" (format for arg0)
</td></tr>
<tr style="color:black;background-color:#cccccc;">
<td align="left">pre-Activate
</td>
<td align="left">Task Id
</td>
<td align="left">Codec handle
</td>
<td align="left">undefined
</td>
<td align="left"><tt>1</tt>
</td>
<td align="center">undefined
</td></tr>
<tr style="color:black;background-color:#eeeeee;">
<td align="left">post-Activate
</td>
<td align="center">Codec name (eg, "mp4")
</td>
<td align="left">Codec handle
</td>
<td align="left">undefined
</td>
<td align="left"><tt>2</tt>
</td>
<td align="center">"%s" (format string for arg0)
</td></tr>
<tr style="color:black;background-color:#cccccc;">
<td align="left">pre-Deactivate
</td>
<td align="left">undefined
</td>
<td align="left">Codec handle
</td>
<td align="left">undefined
</td>
<td align="left"><tt>3</tt>
</td>
<td align="center">undefined
</td></tr>
<tr style="color:black;background-color:#eeeeee;">
<td align="left">post-Deactivate
</td>
<td align="left">undefined
</td>
<td align="left">Codec handle
</td>
<td align="left">undefined
</td>
<td align="left"><tt>4</tt>
</td>
<td align="center">undefined
</td></tr></tbody></table>
<p>SoC Analyzer transfers the BIOS logs to host using HTTP and BIOSUtil's LogServer, runs rtadecode.exe to translate the raw binary data to a user readable format. All of the BIOS logs can be viewes in "All Logs" table before they are 
</p><p><a href="../../File_Codecengine0.html" class="image"><img alt="Codecengine0.jpg" src="https://processors.wiki.ti.com/images/b/be/Codecengine0.jpg" width="851" height="634" /></a>
</p><p>The logs are passed down CodecEngineLogTranslator to extract/decode the data in that log buffer to use it furthur down for visualizing and analysing Codec Engine related logs.
</p><p><a href="../../File_Tip.html" class="image"><img alt="Tip.gif" src="https://processors.wiki.ti.com/images/5/51/Tip.gif" width="16" height="16" /></a> As you can see from CodecEngineLogTranslator, it uses "CCEEvent Log Name" to identify the log buffer it needs to work on. ( here "ti_sdo_ce_osal_LOG_Buffer") This buffer name is also used in a filter where we are routing data to Codec Engine related data views. 
</p><p><a href="../../File_Codecengine1.html" class="image"><img alt="Codecengine1.jpg" src="https://processors.wiki.ti.com/images/9/9c/Codecengine1.jpg" width="891" height="632" /></a>
</p>
<h4><span class="mw-headline" id="CodecEngineLogTranslator">CodecEngineLogTranslator</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=17" title="Edit section: CodecEngineLogTranslator">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>CodecEngineLogTranslator is a DVT translator that expects a RTALiteDecoder format (such as the one seen in All Logs table) as its input. Filling in EventName, EventHandle, EventType and adding in two new Columns: CodecEngineEvent, ThreadId.
</p><p>Where: 
</p>
<ul><li>EventName holds CodecName (e.g. mpeg4, h264, ...)</li>
<li>EventHandle holds CodecHandle</li>
<li>EventType holds CodecState as in CodecEngine states (e.g. Activate, Execute, Deactivate)</li>
<li>CodecEngineEvent holds String describing event, in the form Extension:sequence (eg "AUDDEC1:process", "VIDENC:control", "SCALE:scaleby2")</li>
<li>ThreadId holds calling DSP/BIOS task handle (this will be later translated to its corresponding DSP/BIOS task name using RTFieldLookup component)</li></ul>
<p>Note that CodecEngineLogTranslator does not send anything out to its connected dataprocessor, for CodecState (0,1,2) until it gets all the information it needs. If a single DSP/BIOS log record contained all information we needed, we didn't have to do this but we are limited to 4 args and CodecHandle is used to co-relate the related logs. This picture depicts how CodecEngineLogTranslator to something more readable/consumable by DVT data views:
</p><p><br />
<a href="../../File_Codecengine2.html" class="image"><img alt="Codecengine2.jpg" src="https://processors.wiki.ti.com/images/2/26/Codecengine2.jpg" width="882" height="880" /></a>
</p>
<h4><span class="mw-headline" id="Analysis_of_Codec_Engine_Logs">Analysis of Codec Engine Logs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=18" title="Edit section: Analysis of Codec Engine Logs">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><a href="../../File_Codecengine3.html" class="image"><img alt="Codecengine3.jpg" src="https://processors.wiki.ti.com/images/2/29/Codecengine3.jpg" width="1110" height="850" /></a>
<a href="../../File_Codecengine4.html" class="image"><img alt="Codecengine4.jpg" src="https://processors.wiki.ti.com/images/b/b1/Codecengine4.jpg" width="1146" height="652" /></a>
</p><p><br />
</p>
<h4><span class="mw-headline" id="Visualization_of_Codec_Engine_Logs">Visualization of Codec Engine Logs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;section=19" title="Edit section: Visualization of Codec Engine Logs">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><a href="../../File_Codecengine5.html" class="image"><img alt="Codecengine5.jpg" src="https://processors.wiki.ti.com/images/3/37/Codecengine5.jpg" width="1367" height="985" /></a>
</p>
<!-- 
NewPP limit report
Cached time: 20201201043325
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.097 seconds
Real time usage: 0.106 seconds
Preprocessor visited node count: 311/1000000
Preprocessor generated node count: 604/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 2361/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:2364-0!canonical and timestamp 20201201043325 and revision id 12752
 -->
</div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;oldid=12752">https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;oldid=12752</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=User%3ADVT%2FUserDocumentation%2FDVT+SoC+Analyzer" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="../../Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-user" class="selected"><span><a href="DVT_SoC_Analyzer.html" title="View the user page [c]" accesskey="c">User page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=User_talk:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="DVT_SoC_Analyzer.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="../../Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="../../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="../../Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="../../Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="../../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="../../Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="../../Special_WhatLinksHere/User_DVT/UserDocumentation/DVT_SoC_Analyzer.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../../Special_RecentChangesLinked/User_DVT/UserDocumentation/DVT_SoC_Analyzer.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-contributions"><a href="../../Special_Contributions/DVT.html" title="A list of contributions by this user">User contributions</a></li><li id="t-log"><a href="../../Special_Log/DVT.html">Logs</a></li><li id="t-userrights"><a href="../../Special_UserRights/DVT.html">View user groups</a></li><li id="t-specialpages"><a href="../../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;oldid=12752" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=User:DVT/UserDocumentation/DVT_SoC_Analyzer&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 18 June 2009, at 12:41.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../../Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../../Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../../Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="../../Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.097","walltime":"0.106","ppvisitednodes":{"value":311,"limit":1000000},"ppgeneratednodes":{"value":604,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":2361,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201201043325","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":297});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/User:DVT/UserDocumentation/DVT_SoC_Analyzer by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 07:43:20 GMT -->
</html>
