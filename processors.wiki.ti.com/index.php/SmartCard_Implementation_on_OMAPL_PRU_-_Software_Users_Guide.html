<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 13:20:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>SmartCard Implementation on OMAPL PRU - Software Users Guide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide","wgTitle":"SmartCard Implementation on OMAPL PRU - Software Users Guide","wgCurRevisionId":114632,"wgRevisionId":114632,"wgArticleId":11032,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide","wgRelevantArticleId":11032,"wgRequestId":"f8d12ffc85b6c56e4c8569da","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide rootpage-SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">SmartCard Implementation on OMAPL PRU - Software Users Guide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><br /> 
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Current_Status"><span class="tocnumber">2</span> <span class="toctext">Current Status</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Known_Issues"><span class="tocnumber">2.1</span> <span class="toctext">Known Issues</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Test_Devices"><span class="tocnumber">2.2</span> <span class="toctext">Test Devices</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Features_Supported"><span class="tocnumber">3</span> <span class="toctext">Features Supported</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Features_Not_Supported"><span class="tocnumber">4</span> <span class="toctext">Features Not Supported</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Hardware_Requirements"><span class="tocnumber">5</span> <span class="toctext">Hardware Requirements</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Soft_UART_Requirement"><span class="tocnumber">6</span> <span class="toctext">Soft UART Requirement</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Location_of_the_Source_Code"><span class="tocnumber">7</span> <span class="toctext">Location of the Source Code</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Build_Procedure"><span class="tocnumber">8</span> <span class="toctext">Build Procedure</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Building_using_OpenEmbedded"><span class="tocnumber">8.1</span> <span class="toctext">Building using OpenEmbedded</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Prerequisites"><span class="tocnumber">8.1.1</span> <span class="toctext">Prerequisites</span></a>
<ul>
<li class="toclevel-4 tocsection-13"><a href="#Install_Required_Packages"><span class="tocnumber">8.1.1.1</span> <span class="toctext">Install Required Packages</span></a></li>
<li class="toclevel-4 tocsection-14"><a href="#Install_the_Toolchain"><span class="tocnumber">8.1.1.2</span> <span class="toctext">Install the Toolchain</span></a></li>
<li class="toclevel-4 tocsection-15"><a href="#Change_Default_Shell"><span class="tocnumber">8.1.1.3</span> <span class="toctext">Change Default Shell</span></a></li>
<li class="toclevel-4 tocsection-16"><a href="#Disk_Space_Requirements"><span class="tocnumber">8.1.1.4</span> <span class="toctext">Disk Space Requirements</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-17"><a href="#Obtain_the_Sources"><span class="tocnumber">8.1.2</span> <span class="toctext">Obtain the Sources</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Setup_the_Environment_File"><span class="tocnumber">8.1.3</span> <span class="toctext">Setup the Environment File</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Setup_the_Configuration_File"><span class="tocnumber">8.1.4</span> <span class="toctext">Setup the Configuration File</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Source_Environment_Script"><span class="tocnumber">8.1.5</span> <span class="toctext">Source Environment Script</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Build_the_Distribution"><span class="tocnumber">8.1.6</span> <span class="toctext">Build the Distribution</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="#SmartCard_Recipes"><span class="tocnumber">8.2</span> <span class="toctext">SmartCard Recipes</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Building_Tips.2FTricks"><span class="tocnumber">8.3</span> <span class="toctext">Building Tips/Tricks</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Building_Firmware"><span class="tocnumber">8.4</span> <span class="toctext">Building Firmware</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#Prerequisites_2"><span class="tocnumber">8.4.1</span> <span class="toctext">Prerequisites</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Building_SmartCard_Firmware"><span class="tocnumber">8.4.2</span> <span class="toctext">Building SmartCard Firmware</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Building_SUART_Firmware"><span class="tocnumber">8.4.3</span> <span class="toctext">Building SUART Firmware</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-28"><a href="#Building_Linux_Kernel_and_Device_Driver"><span class="tocnumber">8.5</span> <span class="toctext">Building Linux Kernel and Device Driver</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="#Components_on_Target_File_System"><span class="tocnumber">9</span> <span class="toctext">Components on Target File System</span></a></li>
<li class="toclevel-1 tocsection-30"><a href="#Running_the_SmartCard_Application"><span class="tocnumber">10</span> <span class="toctext">Running the SmartCard Application</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This article serves as the User's Guide for the SmartCard implementation on the Programmable Real-Time Unit (<a href="Category_PRU.html" title="Category:PRU">PRU</a>) of the AM1808 device from Texas Instruments.  This user's guide will detail the features supported, source locations, build procedure, and test procedure.
</p><p>The software described below emulates a SmartCard reader by implementing the ISO 7816 protocol stack on the PRU.  The following high level components create the SmartCard solution:
</p>
<ol><li>PRU Firmware - This firmware is responsible for controlling the physical transmission/reception of data as well as detecting and handling errors.</li>
<li>Linux Driver - The driver is implemented using the serial subsystem of the Linux kernel as in interface to send and receive data to the SmartCard.  The driver also controls the power, reset, and card detect lines.</li>
<li>IFDHandler - The IFDHandler is a user space Linux library used by other software stacks to abstract communication with the SmartCard to a simple and common interface.  In this implementation the IFDHandler is also responsible for handling the procedure byte from the SmartCard which details how to send the data section of an APDU command.</li>
<li>pcsc-lite - This is an open source software stack for communicating with a SmartCard.  This software stack has not been modified and is used as a library for applications to request access to the SmartCard.</li>
<li>OpenEmbedded Recipes - The building of the entire system including bootloaders, kernel, and file system is accomplished using an overlay to the <a rel="nofollow" class="external text" href="http://openembedded.org/">OpenEmbedded</a> project.  The OpenEmbedded project is a community effort for building custom embedded distributions.  It solves the often complex cross-compilation and linking issues as well and handling generation of file system images.  More details for using this overlay can be found in the <a href="#Build_Procedure"> Build Procedure</a> section below.</li></ol>
<pre>   Note: The Linux Driver is implemented on the 2.6.32 kernel.  Currently there are no plans to port this driver to a newer kernel version. The code is provided as-is.
</pre>
<p>The general flow of data in this system is to have the application use the pcsc-lite library and daemon to request/send data to the card.  The pcsc-lite library will in turn use the IFDHandler library to communicate with the TI specific implementation using the Linux driver and a serial protocol.  The driver will in turn communicate with the firmware running on the PRU to actually transmit or receive the data and the firmware will handle any errors that occur during transmission.  The following diagram is a graphical representation of this software stack.
</p><p><br />
</p>
<div class="center"><div class="floatnone"><a href="File_SCSoftwareStack.html" class="image"><img alt="SCSoftwareStack.jpg" src="https://processors.wiki.ti.com/images/f/f3/SCSoftwareStack.jpg" width="560" height="749" /></a></div></div>
<h1><span class="mw-headline" id="Current_Status">Current Status</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=2" title="Edit section: Current Status">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This project is currently in a <b>Beta</b> phase of development.  This means that while most features work there could be bugs or limitations.  The next sections lists the known issues but is not necessarily a comprehensive list.
</p>
<h2><span class="mw-headline" id="Known_Issues">Known Issues</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=3" title="Edit section: Known Issues">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ol><li>During some cases when signaling a parity error a repeating pulse pattern has been observed on the data line.  The cause for this pattern is under investigation but when this issue occurs the data line used to communicate with the card is no longer in a good state.
<ol><li>This issue has not been observed with the latest code but the likely reason is because the latest code is not causing the accidental detection of a parity error like the previous version was.</li></ol></li></ol>
<h2><span class="mw-headline" id="Test_Devices">Test Devices</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=4" title="Edit section: Test Devices">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This software was tested with ESAM (DIP) and CPU card packages from M&amp;W.  The part numbers are:
</p>
<ul><li>M&amp;W CPU card  3B6C00024561863836F7D5687654D06C</li>
<li>M&amp;W ESAM  3B6C0002436186380754410033036828</li></ul>
<h1><span class="mw-headline" id="Features_Supported">Features Supported</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=5" title="Edit section: Features Supported">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li>ISO 7816-3 and ISO 7816-4 compliant</li>
<li>Asynchronous half-duplex character transmission protocol (T=0) supported</li>
<li>Byte reception and transmission with parity check</li>
<li>Retransmission on error detection</li>
<li>Card detection support</li>
<li>Class A (5V) support</li>
<li>LSB-first transmission mode support</li>
<li>Software programmable input clock support</li>
<li>Single SmartCard Reader implementation</li>
<li>Multiple programmable baud rate support
<ul><li><b>NOTE: This feature is not yet implemented and is under development</b></li></ul></li></ul>
<h1><span class="mw-headline" id="Features_Not_Supported">Features Not Supported</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=6" title="Edit section: Features Not Supported">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li>Class B (3V) and Class C (1.8V) operating conditions</li>
<li>Negotiation of class operating condition (only class A is supported)</li>
<li>SPU (C6) contact on card</li>
<li>Negotiation of fmax, D, &amp; F for clock frequency</li></ul>
<dl><dd><ul><li><b>NOTE: Default clock frequency is fixed at 3.57 MHz but can be modified using the pru-smartcard-clock script</b></li></ul></dd></dl>
<ul><li>Clock stop</li>
<li>PPS negotiation</li>
<li>MSB-first transmission mode</li>
<li>Transmission protocols T=1 and higher are not supported</li>
<li>Synchronous transmission protocols</li>
<li>Security and cryptography</li>
<li>ISO 7816, sections 5-15</li></ul>
<h1><span class="mw-headline" id="Hardware_Requirements">Hardware Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=7" title="Edit section: Hardware Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This code depends on additional hardware not found in the EVM box.  For information about this hardware please send an e-mail to <a rel="nofollow" class="external text" href="mailto:sc_hw@list.ti.com">sc_hw@list.ti.com</a>.
</p><p>The hardware to support the SmartCard implementation requires the following signals and AM1808 pins:
</p>
<table cellspacing="1" cellpadding="1" border="1">

<tbody><tr>
<th scope="col">SIGNAL
</th>
<th scope="col">DIRECTION
</th>
<th scope="col">EXPECTED PIN
</th></tr>
<tr>
<td>SmartCard Vcc Enable
</td>
<td>Output
</td>
<td>GPIO
</td></tr>
<tr>
<td>SmartCard Vpp Enable
</td>
<td>Output
</td>
<td>GPIO
</td></tr>
<tr>
<td>SmartCard Detect
</td>
<td>Input
</td>
<td>GPIO
</td></tr>
<tr>
<td>SmartCard Reset
</td>
<td>Output
</td>
<td>GPIO
</td></tr>
<tr>
<td>SmartCard Timer
</td>
<td>Output
</td>
<td>ECAP Auxillary PWM (ECAP&lt;n&gt;_APWM&lt;n&gt;)
</td></tr>
<tr>
<td>SmartCard TX (IO line)
</td>
<td>Output
</td>
<td>McASP Serializer (AXR&lt;m&gt;)
</td></tr>
<tr>
<td>SmartCard RX (IO line)
</td>
<td>Input
</td>
<td>McASP Serializer (AXR&lt;n&gt;)
</td></tr>
<tr>
<td>SmartCard Parity Error (IO line)
</td>
<td>Output
</td>
<td>PWM (EPWM&lt;n&gt;A or EPWM&lt;n&gt;B)
</td></tr></tbody></table>
<p><br />
</p>
<div class="center"><div class="floatnone"><a href="File_AM18x_SC_Interface.html" class="image"><img alt="AM18x SC Interface.png" src="https://processors.wiki.ti.com/images/f/fb/AM18x_SC_Interface.png" width="883" height="489" /></a></div></div>
<h1><span class="mw-headline" id="Soft_UART_Requirement">Soft UART Requirement</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=8" title="Edit section: Soft UART Requirement">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>The current implementation of SmartCard is intended to be run on PRU1 of the AM1808 in conjunction with a Soft UART implementing firmware running on PRU0 which provides an additional 4 UART ports.  Details of the Soft UART (SUART) implementation can be found <a rel="nofollow" class="external text" href="Soft-UART_Implementation_on_OMAPL_PRU_-_Software_Users_Guide.html">here</a>.
</p><p>The SmartCard Linux driver requires that both firmware images for SmartCard and SUART be loaded into the PRUs and the same driver is used to provide the SmartCard (using serial interface) and SUART functionality.  This is why the device nodes used to access the different functionalities are:
</p>
<ul><li>/dev/ttySU0 - SUART Port 1</li>
<li>/dev/ttySU1 - SUART Port 2</li>
<li>/dev/ttySU2 - SUART Port 3</li>
<li>/dev/ttySU3 - SUART Port 4</li>
<li>/dev/ttySU4 - SmartCard</li></ul>
<h1><span class="mw-headline" id="Location_of_the_Source_Code">Location of the Source Code</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=9" title="Edit section: Location of the Source Code">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Source code for all the SmartCard Reader software components are maintained in a series of git repositories hosted at <a rel="nofollow" class="external text" href="http://www.gitorious.org/">gitorious.org</a>.  At the gitorious site there is a <a rel="nofollow" class="external text" href="http://www.gitorious.org/pru">PRU</a> project which contains all of the repositories. The following table is the list of software components with their repositories and the branch details.
</p><p><b>NOTE:</b> In order for the SmartCard firmware to operate it also requires a version of the SUART firmware to be loaded onto PRU0.  This SUART firmware is located on a special branch of the generic SUART firmware repository.  For this reason the pru-uart-fw repository is listed below as well.
</p><p><br />
</p>
<table cellspacing="1" cellpadding="1" border="1">

<tbody><tr>
<th scope="col">COMPONENT
</th>
<th scope="col">GITORIOUS REPOSITORY
</th>
<th scope="col">GIT CLONE URL
</th>
<th scope="col">LATEST BRANCH
</th></tr>
<tr>
<td>SmartCard Firmware
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-sc-fw">pru/pru-sc-fw</a>
</td>
<td><a rel="nofollow" class="external free" href="git://gitorious.org/pru/pru-sc-fw.git">git://gitorious.org/pru/pru-sc-fw.git</a>
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-sc-fw/commits/pru1-migration">pru1-migration</a>
</td></tr>
<tr>
<td>SUART+SmartCard Firmware
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-uart-fw">pru/pru-uart-fw</a>
</td>
<td><a rel="nofollow" class="external free" href="git://gitorious.org/pru/pru-uart-fw.git">git://gitorious.org/pru/pru-uart-fw.git</a>
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-uart-fw/commits/mei">mei</a>
</td></tr>
<tr>
<td>Linux Kernel and Driver Source
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-linux-drivers">pru/pru-linux-drivers</a>
</td>
<td><a rel="nofollow" class="external free" href="git://gitorious.org/pru/pru-linux-drivers.git">git://gitorious.org/pru/pru-linux-drivers.git</a>
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-linux-drivers/commits/master">master</a>
</td></tr>
<tr>
<td>IFDHandler Library
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-sc-ifdhandler">pru/pru-sc-ifdhandler</a>
</td>
<td><a rel="nofollow" class="external free" href="git://gitorious.org/pru/pru-sc-ifdhandler.git">git://gitorious.org/pru/pru-sc-ifdhandler.git</a>
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-sc-ifdhandler/commits/pru1-migration">pru1-migration</a>
</td></tr>
<tr>
<td>SmartCard Test Application
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-sc-testapp">pru/pru-sc-testapp</a>
</td>
<td><a rel="nofollow" class="external free" href="git://gitorious.org/pru/pru-sc-testapp.git">git://gitorious.org/pru/pru-sc-testapp.git</a>
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-sc-testapp/commits/master">master</a>
</td></tr>
<tr>
<td>OpenEmbedded Recipes
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-recipes">pru/pru-recipes</a>
</td>
<td><a rel="nofollow" class="external free" href="git://gitorious.org/pru/pru-recipes.git">git://gitorious.org/pru/pru-recipes.git</a>
</td>
<td><a rel="nofollow" class="external text" href="http://www.gitorious.org/pru/pru-recipes/commits/master">master</a>
</td></tr></tbody></table>
<p><br />
The source code from the git repository can be pulled into local host using the git commands below replacing the values in &lt;&gt; marks with the value from the table above.  <b>Note:</b> Install git if not available on the local host
</p>
<pre>git clone &lt;GIT CLONE URL&gt;    # Command to pull the repository
git checkout &lt;LATEST BRANCH&gt;  # Command to checkout to the required branch
</pre>
<p>Following are the example commands to pull the IFDHandler source code
</p>
<pre>git clone <a rel="nofollow" class="external free" href="git://gitorious.org/pru/pru-sc-ifdhandler.git">git://gitorious.org/pru/pru-sc-ifdhandler.git</a>
git checkout pru1-migration 
</pre>
<p>It is also work noting that many of these repositories also have git tags corresponding to particular releases.  These tags can be viewed online, or in the checked out repository by using the <i>git tag</i> command.
</p>
<h1><span class="mw-headline" id="Build_Procedure">Build Procedure</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=10" title="Edit section: Build Procedure">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This section will detail both how to build an entire distribution using OpenEmbedded and the overlay contained in the pru-recipes repository as well as building the Linux kernel and PRU firmware stand-alone.
</p>
<h2><span class="mw-headline" id="Building_using_OpenEmbedded">Building using OpenEmbedded</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=11" title="Edit section: Building using OpenEmbedded">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This sections covers using OpenEmbedded and the pru-recipes overlay to build the entire distribution.  This is required when building applications that will link with the pcsc-lite library to provide the proper cross-compilation environment and libraries.  The pru-recipes overlay was based on the Arago project overlay from <a rel="nofollow" class="external text" href="http://arago-project.org/">arago-project.org</a> and so you will see the use of the arago name throughout.
</p>
<h3><span class="mw-headline" id="Prerequisites">Prerequisites</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=12" title="Edit section: Prerequisites">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Install_Required_Packages">Install Required Packages</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=13" title="Edit section: Install Required Packages">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>For an Ubuntu 10.04 host you should install the following packages:
</p>
<ul><li>build-essential</li>
<li>subversion</li>
<li>ccache</li>
<li>sed</li>
<li>wget</li>
<li>cvs</li>
<li>git-core</li>
<li>coreutils</li>
<li>unzip</li>
<li>texinfo</li>
<li>docbook-utils</li>
<li>gawk</li>
<li>help2man</li>
<li>diffstat</li>
<li>file</li>
<li>g++</li>
<li>texi2html</li>
<li>bison</li>
<li>flex</li>
<li>htmldoc</li>
<li>chrpath</li>
<li>libxext-dev</li>
<li>xserver-xorg-dev</li>
<li>doxygen</li>
<li>corkscrew</li></ul>
<p>You can use the following command to install all of these package:
</p><p><i>sudo apt-get install build-essential subversion ccache sed wget cvs git-core coreutils unzip texinfo docbook-utils gawk help2man diffstat file g++ texi2html bison flex htmldoc chrpath libxext-dev xserver-xorg-dev doxygen corkscrew</i>
</p>
<h4><span class="mw-headline" id="Install_the_Toolchain">Install the Toolchain</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=14" title="Edit section: Install the Toolchain">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>You will also need to install the codesourcery toolchain.  The normal toolchain location to install to is in <b>/opt/arm-2009q1</b>.  You can find information on installing the toolchain at <a rel="nofollow" class="external text" href="http://arago-project.org/wiki/index.php/Getting_CodeSourcery_Toolchain">this link</a>
</p><p><b>NOTE:</b> you may need to install the toolchain using sudo or change permissions of /opt/arm-2009q1 to allow you to write to that directory.
</p>
<h4><span class="mw-headline" id="Change_Default_Shell">Change Default Shell</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=15" title="Edit section: Change Default Shell">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>OpenEmbedded contains packages that may have shell script that is not Dash shell compliant.  To avoid possible issues it is best to change your /bin/sh shell to bash using the following command:
</p>
<pre>sudo dpkg-reconfigure dash
</pre>
<p>Select <b>No</b> when prompted
</p>
<h4><span class="mw-headline" id="Disk_Space_Requirements">Disk Space Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=16" title="Edit section: Disk Space Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Building an entire distribution can require a sizeable amount of disk space (Minimum of 19GB).
</p>
<h3><span class="mw-headline" id="Obtain_the_Sources">Obtain the Sources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=17" title="Edit section: Obtain the Sources">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In order to build with OpenEmbedded you will need to clone three repositories that contain the metadata (recipes) used to build all the packages.  <b>NOTE:</b> OpenEmbedded contains recipes for more packages than are required for SmartCard.  These packages can be used to add additional functionality to your system but are not built by default.
</p>
<pre>git clone <a rel="nofollow" class="external free" href="git://gitorious.org/pru/pru-recipes.git">git://gitorious.org/pru/pru-recipes.git</a> arago
git clone <a rel="nofollow" class="external free" href="git://arago-project.org/git/arago-oe-dev.git">git://arago-project.org/git/arago-oe-dev.git</a>
git clone <a rel="nofollow" class="external free" href="git://arago-project.org/git/arago-bitbake.git">git://arago-project.org/git/arago-bitbake.git</a>
</pre>
<p>For the arago-oe-dev and arago-bitbake repositories the last validated revisions are:
</p>
<ul><li>arago-oe-dev: 1428ddd69c31eb7f9874c8e7941ea614b423904b</li>
<li>arago-bitbake: 789382350344a40a3d7c094b5a96bee2a69d01fa</li></ul>
<p>To use these revisions you must do:
</p>
<ol><li>cd &lt;repo name&gt;</li>
<li>git checkout &lt;revision&gt;</li></ol>
<p>For example to use the correct revision for arago-oe-dev you would do:
</p>
<pre>cd arago-oe-dev
git checkout 1428ddd69c31eb7f9874c8e7941ea614b423904b
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Setup_the_Environment_File">Setup the Environment File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=18" title="Edit section: Setup the Environment File">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre> cd arago
 cp setenv.sample setenv
</pre>
<p>Edit setenv and set OEBASE to the location where you cloned the arago repositories above.  For example if you made a directory in /home/user/build and cloned the repositories in this directory then OEBASE should be set to:
</p>
<pre> export OEBASE=/home/user/build
</pre>
<h3><span class="mw-headline" id="Setup_the_Configuration_File">Setup the Configuration File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=19" title="Edit section: Setup the Configuration File">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre> cd arago/conf
 cp local.conf.sample local.conf
</pre>
<p>Change MACHINE&#160;?= “arago” to MACHINE&#160;?= “am180x-evm”
</p><p>If you have more than 1 CPU Uncomment the PARALLEL_MAKE and BB_NUMBER_THREADS lines and set the value to the number of CPUs you have
</p><p><b>NOTE:</b> If you want to preserve disk space you can also uncomment the line <i>INHERIT += "rm_work"</i>.  However, if you do this then using the method described below to do custom one-off builds without updating recipes will no longer work since your work directories will be cleaned after each package is built.
</p>
<h3><span class="mw-headline" id="Source_Environment_Script">Source Environment Script</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=20" title="Edit section: Source Environment Script">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In the terminal you are going to use for building you will need to source the environment script to set the required variables.  This can be done using:
</p>
<pre>source arago/setenv
</pre>
<h3><span class="mw-headline" id="Build_the_Distribution">Build the Distribution</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=21" title="Edit section: Build the Distribution">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Using the following command will build the kernel, bootloader, and file system with all required packages for SmartCard support.
</p>
<pre>bitbake arago-pcsc-lite-image
</pre>
<p><b>NOTE:</b> It can take a long time to do the initial build of the file system depending on your system resources.  During this time the build system is downloading the package sources and compiling the packages that make up the system.  As long as you do not delete your arago-tmp and downloads directories which are created during the build process, subsequent builds will be done much faster because they will only have to build the delta changes.
</p>
<h2><span class="mw-headline" id="SmartCard_Recipes">SmartCard Recipes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=22" title="Edit section: SmartCard Recipes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The following recipes (paths given from the OEBASE directory) were created to build the SmartCard software components:
</p>
<ol><li>arago/recipes/pcsc-lite/pcsc-lite_1.6.7.bb: PC/SC lite library package.  This is the last version that still used "hal" instead of requiring later versions of udev</li>
<li>arago/recipes/pru/handlertest_0.3.1.bb: Builds a simple test application that tests if IFDHandler</li>
<li>arago/recipes/pru/pasm.bb: Stages the pasm executable required to build PRU firmware</li>
<li>arago/recipes/pru/pru-smartcard-examples_1.0.bb: Builds the pcsc_test application which using the PC/SC lite library to test communication with the board.</li>
<li>arago/recipes/pru/pru-smartcard-firmware_1.0.bb: Builds the SmartCard firmware to be loaded on the PRU</li>
<li>arago/recipes/pru/pru-smartcard-ifdhandler_1.0.bb: Builds the IFDHandler library used by PC/SC lite</li>
<li>arago/recipes/pru/pru-suart-sc-firmware_1.0.bb: Builds the Soft UART firmware that is used in conjunction with the SmartCard firmware.  This is required for the driver to load.</li>
<li>arago/recipes/linux/linux-pru: Build the Linux kernel will support for eCAP input clock, SUART driver, and SmartCard Driver.</li></ol>
<h2><span id="Building_Tips/Tricks"></span><span class="mw-headline" id="Building_Tips.2FTricks">Building Tips/Tricks</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=23" title="Edit section: Building Tips/Tricks">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Often times you may want to make a simple modification to the test application to try sending an additional command.  You could create a new repository with your version of the test application and modify the pru-smartcard-examples recipe to pull from your repository.  You could then keep bumping the SRCREV value for each small change you make to the test application and rebuilding, but this is often more work than is required.  One of the simplest ways to make a change to any of the software (including firmware, drivers, ifdhandler, etc) is to use the files in the work directory (<b>NOTE:</b> This assumes you did not uncomment the rm_work line in your local.conf file).
</p><p>In OpenEmbedded each package that is build gets its own unique work directory.  This directory can be found in the:
</p><p>arago-tmp/work/&lt;arch&gt;/&lt;recipe-name&gt; directory, where &lt;arch&gt; is the architecture of the package.  For generic packages this is usually armv5te-none-linux-gnueabi, whereas for machine specific packages like the Linux kernel this is the am180x-evm-none-linux-gnueabi directory.  &lt;recipe-name&gt; corresponds to the name of the recipe in Arago.  As an example if I want to go to the work directory of the pru-smartcard-examples directory it would be:
</p>
<pre>arago-tmp/work/armv5te-none-linux-gnueabi/pru-smartcard-examples-1.0-r4/
</pre>
<p>In that directory you will find the sources in the <i>git</i> directory (This may be different for other packages).  You can then go ahead and modify these sources for the change you want.
</p><p>Once the sources have been modified the next step is to build them.  Since most applications also require linking against additional libraries and headers this is where things would normally get complicated.  Fortunately OpenEmbedded has saved the command that was used to build the application the first time.  Inside of the <i>temp</i> directory you will find a script named something like:
</p>
<pre>run.do_compile.xxxxx
</pre>
<p>where xxxxx is some number.  By executing this script you will get a properly configured cross compile environment and be able to recompile the application properly.
</p>
<h2><span class="mw-headline" id="Building_Firmware">Building Firmware</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=24" title="Edit section: Building Firmware">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In case you wish to modify the SmartCard firmware or the required SUART firmware and rebuild outside of the OpenEmbedded flow you can use the following command to build the firmware.
</p><p><b>NOTE:</b> As mentioned above it is required that the SUART firmware be loaded to run in conjunction with the SmartCard firmware.  This version of the SUART firmware shares resources with the SmartCard firmware and routes interrupts from the serializers to the SmartCard firmware.
</p>
<h3><span class="mw-headline" id="Prerequisites_2">Prerequisites</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=25" title="Edit section: Prerequisites">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ol><li>You will need to have cloned the firmware repositories listed above in order to have access to the SmartCard and SUART firmwares.</li>
<li>You will need to have the pasm tool.  You can download the tool from <a rel="nofollow" class="external text" href="https://gforge.ti.com/gf/download/frsrelease/552/4622/pasm">this link</a></li></ol>
<h3><span class="mw-headline" id="Building_SmartCard_Firmware">Building SmartCard Firmware</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=26" title="Edit section: Building SmartCard Firmware">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ol><li>cd pru-sc-fw</li>
<li>git checkout pru1-migration</li>
<li>mkdir -p bin</li>
<li>pasm -b -DMCASP0 PRU_SCARD_Emulation.p bin/PRU_SCARD_Emulation</li></ol>
<h3><span class="mw-headline" id="Building_SUART_Firmware">Building SUART Firmware</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=27" title="Edit section: Building SUART Firmware">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ol><li>cd pru-uart-fw</li>
<li>git checkout mei</li>
<li>mkdir -p bin</li>
<li>pasm -b -DMCASP0 PRU_SUART_Emulation.p bin/PRU_SUART_SC_Emulation</li></ol>
<h2><span class="mw-headline" id="Building_Linux_Kernel_and_Device_Driver">Building Linux Kernel and Device Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=28" title="Edit section: Building Linux Kernel and Device Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Pull the Linux kernel source from the pru-linux-drivers Gitorious repository specified above and go to the latest branch. Execute the following commands in sequence 
</p>
<pre>cd pru-linux-drivers
make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- distclean 
make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- da850_am18x_pru_defconfig 
make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- xconfig
</pre>
<p><b>NOTE:</b> In order to use xconfig you may need to install Qt support using <i>sudo apt-get install libqt3-mt-dev</i>.  If you do not want to use xconfig you may also use <i>menuconfig</i> to configure the kernel
</p>
<ol><li>Enable <i>Device Drivers</i> -&gt; <i>Character devices</i> -&gt; <i>Serial drivers</i> -&gt; <i>PRU based SmartCard interface for OMAPL</i> as a <b>module</b>
<dl><dd><div class="center"><div class="floatnone"><a href="File_EnableSmartCardDriver.html" class="image"><img alt="EnableSmartCardDriver.png" src="https://processors.wiki.ti.com/images/0/09/EnableSmartCardDriver.png" width="800" height="738" /></a></div></div></dd>
<dd><b>NOTE:</b> It is OK to also have the <i>PRU based SUART emulation for OMAPL</i> driver enabled as a module as well, but it cannot be built statically into the kernel.  These two drivers are mutually exclusive and cannot both be loaded at the same time.</dd></dl></li>
<li>Enable <i>Device Drivers</i> -&gt; <i>PWM Support</i> and <i>Device Drivers</i> -&gt; <i>eCAP PWM support</i> as statically linked modules
<dl><dd><div class="center"><div class="floatnone"><a href="File_EnableeCAPPWMSupport.html" class="image"><img alt="EnableeCAPPWMSupport.png" src="https://processors.wiki.ti.com/images/2/28/EnableeCAPPWMSupport.png" width="800" height="740" /></a></div></div></dd>
<dd><b>NOTE:</b> These modules should be enables statically to allow for proper configuration of the SmartCard clock on system startup.</dd></dl></li>
<li>Save the configuration and execute the following commands to compile the kernel and the modules.
<dl><dd>make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- uImage</dd>
<dd>make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi-  modules</dd></dl></li></ol>
<h1><span class="mw-headline" id="Components_on_Target_File_System">Components on Target File System<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=29" title="Edit section: Components on Target File System">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>All the software components of the SmartCard Reader has to be placed at specific directories in the target file sytem. Following table has the list of software components and their location on the target file system. <br /> 
</p>
<table cellspacing="1" cellpadding="1" border="1">

<tbody><tr>
<th scope="col">COMPONENT
</th>
<th scope="col">DESCRIPTION
</th>
<th scope="col">LOCATION ON FILE SYSTEM
</th></tr>
<tr>
<td>SmartCard Firmware
</td>
<td>Firmware to run on PRU1 and emulate a SmartCard reader
</td>
<td>/lib/firmware/PRU_SCARD_Emulation.bin
</td></tr>
<tr>
<td>SUART+SmartCard Firmware
</td>
<td>Firmware to run on PRU0 and provide 4 SUART ports
</td>
<td>/lib/firmware/PRU_SUART_SC_Emulation.bin
</td></tr>
<tr>
<td>Linux Driver
</td>
<td>SUART+SmartCard driver.  Loads firmware and provides access to the SUART and SmartCard ports
</td>
<td>/lib/modules/&lt;kernel version&gt;/kernel/drivers/serial/omapl_pru/sc/sc_rdr.ko
</td></tr>
<tr>
<td>IFD Handler Library
</td>
<td>Provides access to SmartCard for PC/SC Lite library
</td>
<td>/usr/lib/ifd-ti-pru-sc/libtiserial.so
</td></tr>
<tr>
<td>SmartCard Test Application
</td>
<td>Test application to validate communication with the SmartCard using PC/SC Lite library
</td>
<td>/usr/bin/pcsctest
</td></tr>
<tr>
<td>PC/SC Lite Configuration
</td>
<td>Configuration file for PC/SC Lite library describing the TI SmartCard reader
</td>
<td>/etc/reader.d.conf/reader.conf
</td></tr>
<tr>
<td>SmartCard Clock Configuration
</td>
<td>Startup script that allows configuring the programmable input clock to the SmartCard
</td>
<td>/etc/init.d/pru-smartcard-clock
</td></tr></tbody></table>
<h1><span class="mw-headline" id="Running_the_SmartCard_Application">Running the SmartCard Application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;section=30" title="Edit section: Running the SmartCard Application">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This section shows the expected output of running the pcsc_test application and describes the testing steps:
</p>
<ol><li>Boot the board and login using <b>root</b></li>
<li>Insert the sc_rdr.ko module to load the firmware and provide access to the SmartCard
<dl><dd>root@am180x-evm:~# modprobe sc_rdr</dd>
<dd>ti_omapl_pru_suart ti_omapl_pru_suart.1: firmware: requesting PRU_SUART_SC_Emulation.bin</dd>
<dd>ti_omapl_pru_suart ti_omapl_pru_suart.1: fw_pru0 size 3596. downloading...</dd>
<dd>ti_omapl_pru_suart ti_omapl_pru_suart.1: firmware: requesting PRU_SCARD_Emulation.bin</dd>
<dd>ti_omapl_pru_suart ti_omapl_pru_suart.1: fw_pru1 size 3676. downloading...</dd>
<dd>ti_omapl_pru_suart.1: ttySU0 at MMIO 0x1d00000 (irq = 3) is a suart_tty</dd>
<dd>ti_omapl_pru_suart.1: ttySU1 at MMIO 0x1d00000 (irq = 4) is a suart_tty</dd>
<dd>ti_omapl_pru_suart.1: ttySU2 at MMIO 0x1d00000 (irq = 5) is a suart_tty</dd>
<dd>ti_omapl_pru_suart.1: ttySU3 at MMIO 0x1d00000 (irq = 6) is a suart_tty</dd>
<dd>ti_omapl_pru_suart.1: ttySU4 at MMIO 0x1d00000 (irq = 7) is a suart_tty</dd>
<dd>ti_omapl_pru_suart.1: ttySU5 at MMIO 0x1d00000 (irq = 8) is a suart_tty</dd>
<dd>ti_omapl_pru_suart.1: ttySU6 at MMIO 0x1d00000 (irq = 9) is a suart_tty</dd>
<dd>ti_omapl_pru_suart.1: ttySU7 at MMIO 0x1d00000 (irq = 10) is a suart_tty</dd>
<dd>ti_omapl_pru_suart ti_omapl_pru_suart.1: ti_omapl_pru_suart device registered(pru_clk=228000000, asp_clk=132000000)</dd></dl></li>
<li>The pcsc_test application does not require any user input.  It will look at the /etc/reader.conf.d/reader.conf file to determine how to locate and talk to the SmartCard reader.  It is executed using by simple doing
<dl><dd>root@am180x-evm:~# pcsc_test</dd></dl></li>
<li>The test will execute the following APDU commands to the SmartCard (<b>NOTE:</b> This test assumes the SmartCard is configured with the default key of <b>FFFFFFFFFFFFFFFF</b>)
<ol><li>Erase MF</li>
<li>Create MF</li>
<li>Create EF</li>
<li>Install External Authentication (key <b>11111111111111111111111111111111</b>)</li>
<li>Install Internal Authentication (key <b>11111111111111111111111111111111</b>)</li>
<li>Create DF File DF01</li>
<li>Select DF File DF01</li>
<li>Create EF file ID 0001</li>
<li>Install External Authentication (key <b>11111111111111111111111111111111</b>)</li>
<li>Install PIN (pin <b>00000000</b>)</li>
<li>Create EF file ID 0015</li>
<li>Create EF file ID 0016</li>
<li>Create EF file ID 0018</li>
<li>Create EF file ID 0019</li>
<li>Create End DF file DF01</li>
<li>Create End MF file</li>
<li>Perform Internal Authentication of Message 1122334455667788
<ul><li>Expected result with key <b>11111111111111111111111111111111</b> is <b>9e90de82745e6852</b></li></ul></li>
<li>Perform External Authentication
<ul><li><b>NOTE:</b> This command is optional and the user is prompted if they want to perform this authentication.  If the user selects "y" then they will have to perform the 3DES encryption of the 8 byte random number given by the card with the key <b>11111111111111111111111111111111</b> and type the 8 byte encrypted value back into the program WITH NO SPACES</li></ul></li></ol></li>
<li>The expected output from running the above commands is something like</li></ol>
<pre>root@am180x-evm:~# pcsc_test                                                    
TI Smartcard reader test application...                                         
                                                                                
      Reader 01: TI Reader 00 00                                                
Waiting for card insertion     &#160;:    SCARD_ATTR_DEVICE_FRIENDLY_NAME: TI Reader 
00 00                                                                           
  SCARD_ATTR_ATR_STRING length: 16                                              
SCARD_ATTR_ATR_STRING: 3B 6C 00 02 45 61 86 38 36 F7 A5 48 16 30 26 4C          
  Current Reader Name          &#160;: TI Reader 00 00                               
Current Reader State           &#160;: 0x0034                                        
Current Reader Protocol        &#160;: T=0                                           
Current Reader ATR Size        &#160;: 16 bytes                                      
Current Reader ATR Value       &#160;: 3B 6C 00 02 45 61 86 38 36 F7 A5 48 16 30 26 4
C                                                                               
                                                                                
 Sending Erase MF APDU 80 0E 00 00 08 FF FF FF FF FF FF FF FF                   
  card response: 90 00                                                          
                                                                                
 Sending Create MF APDU 80 E0 00 00 18 FF FF FF FF FF FF FF FF 0F 00 31 50 41 59
 2E 53 59 53 2E 44 44 46 30 31                                                  
  card response: 90 00                                                          
Successfully created MF File                                                    
                                                                                
 Sending Create EF file APDU, FileLen =  5 0, FileID=  0 1, accesscondition=  f 
0, filetype =  5 80 E0 02 00 07 00 01 05 0F 00 05 00                            
  card response: 90 00                                                          
Successfully created EF File                                                    
                                                                                
 Sending InstallExternalAuth APDU 80 D4 00 00 18 01 01 00 08 0F 05 5F FF 11 11 1
1 11 11 11 11 11 11 11 11 11 11 11 11 11                                        
  card response: 90 00                                                          
Successfully installed external authentication                                  
                                                                                
 Sending InstallInternalAuth APDU 80 D4 00 00 18 01 01 00 09 0F 05 5F FF 11 11 1
1 11 11 11 11 11 11 11 11 11 11 11 11 11                                        
  card response: 90 00                                                          
Successfully installed internal authentication                                  
                                                                                
 Sending Create DF APDU 80 E0 01 00 0F DF 01 0F 00 BC DC BC D3 45 2E 44 44 46 30
 31                                                                             
  card response: 90 00                                                          
Successfully created DF                                                         
                                                                                
 Sending Select DF APDU 00 A4 00 00 02 DF 01                                    
  card response: 61 11                                                          
Successfully selected DF                                                        
                                                                                
 Sending Create EF file APDU, FileLen =  4 0, FileID=  0 1, accesscondition= 5f 
0, filetype =  5 80 E0 02 00 07 00 01 05 5F 00 04 00                            
  card response: 90 00                                                          
Successfully created EF                                                         
                                                                                
 Sending InstallExternalAuth APDU 80 D4 00 00 18 01 01 00 08 0F 05 5F FF 11 11 1
1 11 11 11 11 11 11 11 11 11 11 11 11 11                                        
  card response: 90 00                                                          
Successfully installed external authentication                                  
                                                                                
 Sending Install PIN APDU 80 D4 00 00 0C 01 01 00 0B 0F 03 33 66 00 00 00 00    
  card response: 90 00                                                          
Successfully installed PIN                                                      
                                                                                
 Sending Create EF file APDU, FileLen =  028, FileID=  015, accesscondition=  f2
2, filetype =  0 80 E0 02 00 07 00 15 00 0F 22 00 28                            
  card response: 90 00                                                          
Successfully created EF                                                         
                                                                                
 Sending Create EF file APDU, FileLen =  064, FileID=  016, accesscondition=  f2
2, filetype =  0 80 E0 02 00 07 00 16 00 0F 22 00 64                            
  card response: 90 00                                                          
Successfully created EF                                                         
                                                                                
 Sending Create EF file APDU, FileLen =  077, FileID=  018, accesscondition= 22f
0, filetype =  0 80 E0 02 00 07 00 18 00 22 F0 00 77                            
  card response: 90 00                                                          
Successfully created EF                                                         
                                                                                
 Sending Create EF file APDU, FileLen =  064, FileID=  019, accesscondition= 33f
0, filetype =  0 80 E0 02 00 07 00 19 00 33 F0 00 64                            
  card response: 90 00                                                          
Successfully created EF                                                         
                                                                                
 Sending end DF APDU 80 E0 01 01 02 DF 01                                       
  card response: 90 00                                                          
Successfully created end of DF                                                  
                                                                                
 Sending end MF APDU 80 E0 00 01 02 3F 00                                       
  card response: 90 00                                                          
Successfully created end of MF                                                  
                                                                                
 Sending internal authentication APDU 00 88 00 01 08 11 22 33 44 55 66 77 88    
  card response: 61 08                                                          
                                                                                
 Geting internal authentication response APDU 00 C0 00 00 08                    
  card response: 68 89 09 09 52 9E EB BF 90 00                                  
Successfully completed internal authentication test...                          
                                                                                
External Authentication test                                                    
        NOTE: This will require the user to decrypt the challenge               
              bytes themselves with 3EDS and provide the value to               
              the application                                                   
                                                                                
Perform External Authentication test? [y/n] y                                   
                                                                                
 Sending GetChallenge APDU 00 84 00 00 08                                       
  card response: 75 C9 1F E4 FA 4C 96 16 90 00                                  
                                                                                
Challenge from Card: 75 C9 1F E4 FA 4C 96 16                                    
Please enter the decrypted value of the challenge: f077cca21359f848             
                                                                                
Input from user: F0 77 CC A2 13 59 F8 48                                        
 Sending external authenticate APDU 00 82 00 00 08 F0 77 CC A2 13 59 F8 48      
  card response: 90 00                                                          
Successfully completed external authentication test...                          
                                                                                
Test Completed ...&#160;!
</pre>

<!-- 
NewPP limit report
Cached time: 20201201110007
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.087 seconds
Real time usage: 0.090 seconds
Preprocessor visited node count: 122/1000000
Preprocessor generated node count: 144/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 9267/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:11032-0!canonical and timestamp 20201201110007 and revision id 114632
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>SmartCard Implementation on OMAPL PRU - Software Users Guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>SmartCard Implementation on OMAPL PRU - Software Users Guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>SmartCard Implementation on OMAPL PRU - Software Users Guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>SmartCard Implementation on OMAPL PRU - Software Users Guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>SmartCard Implementation on OMAPL PRU - Software Users Guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>SmartCard Implementation on OMAPL PRU - Software Users Guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>SmartCard Implementation on OMAPL PRU - Software Users Guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>SmartCard Implementation on OMAPL PRU - Software Users Guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>SmartCard Implementation on OMAPL PRU - Software Users Guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;oldid=114632">https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;oldid=114632</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=SmartCard+Implementation+on+OMAPL+PRU+-+Software+Users+Guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;oldid=114632" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 25 July 2012, at 09:30.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.087","walltime":"0.090","ppvisitednodes":{"value":122,"limit":1000000},"ppgeneratednodes":{"value":144,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":9267,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201201110007","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":314});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/SmartCard_Implementation_on_OMAPL_PRU_-_Software_Users_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 13:20:08 GMT -->
</html>
