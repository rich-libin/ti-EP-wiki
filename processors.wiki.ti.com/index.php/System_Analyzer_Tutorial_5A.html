<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/System_Analyzer_Tutorial_5A by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 13:06:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>System Analyzer Tutorial 5A - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"System_Analyzer_Tutorial_5A","wgTitle":"System Analyzer Tutorial 5A","wgCurRevisionId":192985,"wgRevisionId":192985,"wgArticleId":17553,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"System_Analyzer_Tutorial_5A","wgRelevantArticleId":17553,"wgRequestId":"f44e24a4222cccf245ca64bf","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-System_Analyzer_Tutorial_5A rootpage-System_Analyzer_Tutorial_5A skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">System Analyzer Tutorial 5A</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Tutorial_5A:_A_Flight_Recorder_logger:_using_LoggerStreamer_to_log_events_to_memory_and_uploading_the_events_to_a_binary_file_for_off-line_analysis_in_System_Analyzer"><span class="tocnumber">1</span> <span class="toctext">Tutorial 5A: A Flight Recorder logger: using LoggerStreamer to log events to memory and uploading the events to a binary file for off-line analysis in System Analyzer</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Building_the_Tutorial_Project"><span class="tocnumber">1.1</span> <span class="toctext">Building the Tutorial Project</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#A_brief_overview_of_the_Tutorial_Project"><span class="tocnumber">1.2</span> <span class="toctext">A brief overview of the Tutorial Project</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Running_the_Tutorial_Project"><span class="tocnumber">1.3</span> <span class="toctext">Running the Tutorial Project</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#A_Debug_Server_Script_to_upload_captured_events"><span class="tocnumber">1.4</span> <span class="toctext">A Debug Server Script to upload captured events</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Uploading_the_captured_events"><span class="tocnumber">1.5</span> <span class="toctext">Uploading the captured events</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Configuring_SysBios_to_use_LoggerStreamer_to_upload_SysBios_events"><span class="tocnumber">1.6</span> <span class="toctext">Configuring SysBios to use LoggerStreamer to upload SysBios events</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Links"><span class="tocnumber">1.7</span> <span class="toctext">Links</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Tutorial_5A:_A_Flight_Recorder_logger:_using_LoggerStreamer_to_log_events_to_memory_and_uploading_the_events_to_a_binary_file_for_off-line_analysis_in_System_Analyzer">Tutorial 5A: A Flight Recorder logger: using LoggerStreamer to log events to memory and uploading the events to a binary file for off-line analysis in System Analyzer</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=edit&amp;section=1" title="Edit section: Tutorial 5A: A Flight Recorder logger: using LoggerStreamer to log events to memory and uploading the events to a binary file for off-line analysis in System Analyzer">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Pre-requisites for this tutorial:</b>
</p>
<ul><li>A board with a C66XX device (e.g. <a rel="nofollow" class="external text" href="http://www.advantech.com/Support/TI-EVM/6670le_of.aspx">TMDXEVM6670L</a>, <a rel="nofollow" class="external text" href="http://www.advantech.com/Support/TI-EVM/6678le_of.aspx">TMDXEVM6678L</a> or <a rel="nofollow" class="external text" href="http://www.advantech.com/Support/TI-EVM/6614le_of.aspx">TMDXEVM6614LE</a>)</li>
<li><a rel="nofollow" class="external text" href="Download_CCS_Code_Composer_Studio_v5.html">CCSv5.2</a> or later</li>
<li><a rel="nofollow" class="external text" href="http://software-dl.ti.com/dsps/dsps_public_sw/sdo_ccstudio/DVT/SystemAnalyzer1.1">System Analyzer 1.1</a> or later</li>
<li>Target content package <a rel="nofollow" class="external text" href="http://software-dl.ti.com/dsps/dsps_public_sw/sdo_sb/targetcontent/uia/index.html">uia_1_01_01_14</a> or later</li></ul>
<p>In this tutorial, we will create a project that uses a very low overhead logger named LoggerStreamer to store events in a circular array of UIA Packet buffers in memory.  A Debug Server Scripting (DSS) script is provided that uploads the events from memory and saves them to a binary file that can be analyzed off-line by System Analyzer.  This enables a lightweight ‘flight recorder’ style of logging events that can be used in situations where real-time monitoring is not required, but analysis of the events leading up to a crash is needed.  Along the way, we'll discuss how to configure the LoggerStreamer module and how to implement the callback functions that LoggerStreamer interacts with.
</p>
<h3><span class="mw-headline" id="Building_the_Tutorial_Project">Building the Tutorial Project</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=edit&amp;section=2" title="Edit section: Building the Tutorial Project">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To get started, we'll create a new project based on a template project that ships with the UIA package:
</p><p><b>CCSv5.2:</b>
</p>
<ul><li>In CCS, select File / New / CCS Project /</li>
<li>Configure the New Project Wizard as shown below:</li></ul>
<p><a href="File_LoggerStreamerTutorial.html" class="image"><img alt="LoggerStreamerTutorial.gif" src="https://processors.wiki.ti.com/images/1/1a/LoggerStreamerTutorial.gif" width="543" height="682" /></a>
</p>
<ul><li>Click Next, and select the Platform that corresponds to your target device.  E.g. for the 6670 EVM, configure it as shown below:</li></ul>
<p><a href="File_LoggerStreamerTutorial_2.html" class="image"><img alt="LoggerStreamerTutorial 2.gif" src="https://processors.wiki.ti.com/images/3/30/LoggerStreamerTutorial_2.gif" width="506" height="76" /></a>
</p>
<ul><li>Click Finish.  This should add a new project to your workspace.  You should be able to build this project without errors.</li></ul>
<p><b>CCSv5.3 and Later:</b>
</p>
<ul><li>The attached zip file contains the same CCS project as described for CCSv5.2: <a href="File_Tutorial5A_LoggerStreamer.html" title="File:Tutorial5A LoggerStreamer.zip">File:Tutorial5A LoggerStreamer.zip</a></li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="A_brief_overview_of_the_Tutorial_Project">A brief overview of the Tutorial Project</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=edit&amp;section=3" title="Edit section: A brief overview of the Tutorial Project">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>LoggerStreamer logs events directly into memory buffers that are provided by the application.  Before the memory buffers can be used, they need to be initialized to contain the UIA Packet Header information by calling the LoggerStreamer_initBuffer API.  This is typically handled by a user-written "priming" function that the logger has been configured to use.  When an event is logged and LoggerStreamer determines that there is not enough room to store the event in the buffer it is currently using, it calls the user-written "exchange" function, passing it the pointer to the buffer it has filled (so that it can be e.g. sent out over Ethernet using UDP to the PC that System Analyzer is running on).  The exchange function returns a pointer to the next buffer to use (or NULL if there are no available buffers). 
</p><p>Here's the .cfg script that is used to configure the LoggerStreamer module:<br />
</p><p><a href="File_Tutorial5A_cfg.html" class="image"><img alt="Tutorial5A cfg.gif" src="https://processors.wiki.ti.com/images/f/f9/Tutorial5A_cfg.gif" width="680" height="147" /></a>
</p><p>And here's the .c code that is used to define an array of 3 1024 byte buffers, as well as the prime and exchange functions:<br />
</p><p><a href="File_Tutorial5A_code.html" class="image"><img alt="Tutorial5A code.gif" src="https://processors.wiki.ti.com/images/7/74/Tutorial5A_code.gif" width="503" height="308" /></a>
</p><p><b>Some requirements on the buffers used to log events:</b>
</p>
<ul><li>buffer length must be a multiple of 4</li>
<li>buffer start address must be word-aligned</li>
<li>buffer start address should be cache aligned</li></ul>
<dl><dd><ul><li>(Note: to keep the tutorial code simple, the buffers in the tutorial are not cache aligned.)</li></ul></dd></dl>
<p>If the buffer is to be uploaded to SystemAnalyzer over Ethernet using UDP, the buffer size should be less than 1500 or whatever the MTU (Maximum Transmission Unit) size is.  (See <a href="https://processors.wiki.ti.com/index.php?title=SystemAnalyzerTutorial5C&amp;action=edit&amp;redlink=1" class="new" title="SystemAnalyzerTutorial5C (page does not exist)">Tutorial 5C</a> for more information on how to optimize the performance and throughput of LoggerStreamer, including how to cache align buffers and how to determine your system's MTU size.)
</p><p>The tutorial logs events using the "LogUC" (Log unconditional) APIs Log_printUC1 and Log_writeUC0 in order to reduce the CPU overhead.  For more information on these APIs, please see <i><a href="SystemAnalyzerTutorial1E.html" title="SystemAnalyzerTutorial1E">Tutorial 1E</a>: LogUC.h - reducing the number of cycles required to log an event</i>.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Running_the_Tutorial_Project">Running the Tutorial Project</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=edit&amp;section=4" title="Edit section: Running the Tutorial Project">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Launch a debug session for your target device:</li></ul>
<dl><dd><ul><li>connect to the first C66XX CPU on the device</li>
<li>do a system reset (Run / Reset / System Reset)</li></ul></dd></dl>
<ul><li>run the Global Default Initialization GEL script for the EVM</li></ul>
<dl><dd><ul><li>For the C6670: Scripts / LC_EVM_C6670_Functions / Global_Default_Setup</li></ul></dd></dl>
<ul><li>Load the project.  It should halt at main.</li>
<li>Set a breakpoint in main.c at the return statement in the exchange function.</li>
<li>Configure the breakpoint so that it has a Skip Count of 2 so that the breakpoint will only hit once all three of the buffers have been filled.</li></ul>
<dl><dd><ul><li>In the editor, right click on the breakpoint icon in the left-hand gutter and select Breakpoint Properties.</li>
<li>Change the Skip Count to 2</li></ul></dd></dl>
<ul><li>Run the program until it halts at the breakpoint</li></ul>
<dl><dd><ul><li>verify that the count variable has a value of 3</li></ul></dd></dl>
<h3><span class="mw-headline" id="A_Debug_Server_Script_to_upload_captured_events">A Debug Server Script to upload captured events</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=edit&amp;section=5" title="Edit section: A Debug Server Script to upload captured events">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For the tutorial, we will use a Debug Server Scripting (DSS) script to upload the captured event buffers via JTAG and store them to a binary file.
</p><p>Here's a .zip file that contains the Tutorial5A_readLogBuffers.js DSS script: <a href="File_Tutorial5A_readLogBuffers.html" title="File:Tutorial5A readLogBuffers.zip">File:Tutorial5A readLogBuffers.zip</a>.  To follow along with the steps in the tutorial, please unzip the file into c:\.
</p><p>You may need to make some modifications to this script in order to use it in your setup.
</p>
<ul><li>The following line in the Tutorial5A_readLogBuffers.js script is used to specify which CPU the script will interact with:</li></ul>
<p><a href="File_Tutorial5A_script.html" class="image"><img alt="Tutorial5A script.gif" src="https://processors.wiki.ti.com/images/e/e7/Tutorial5A_script.gif" width="1076" height="84" /></a>
</p>
<dl><dd><ul><li>The string passed to debugServer.openSession must match exactly the string displayed in the Debug View for the CPU that you wish the script to interact with:</li></ul></dd></dl>
<p><a href="File_Tutorial5A_debugView.html" class="image"><img alt="Tutorial5A debugView.gif" src="https://processors.wiki.ti.com/images/8/8b/Tutorial5A_debugView.gif" width="588" height="63" /></a>
</p>
<dl><dd><ul><li>To change the script to work with a different CPU or with a different emulator, open the .js file in a text editor (e.g. Notepad++) and change the string to match the text shown in the Debug View for the CPU you wish to use.  The string is case sensitive.</li>
<li>Note: If you try to edit the file in CCS using File / Open, you will likely encounter a Microsoft JScript error.  You can get around this by importing the file into your project (File / Import / File System, browse to file and specify the tutorial project folder in your CCS workspace). In The CCS Project Explorer, right click on the file and select Open With / Other... / C/C++ Editor.  This editor provides syntax coloring and does not try to use Microsoft JScript to parse it.</li></ul></dd></dl>
<ul><li>The script is tailored to work with the tutorial example, but can be easily modified to work with other applications.</li></ul>
<dl><dd><ul><li>The script references the "count" and "buffer" symbols defined in the tutorial's logger.c file.  If you are using different names for these items in your application's .c code, change the symbol names used in the script to match.</li>
<li>The following variables in the script must reflect values in your application:  <span style="color: blue">numPackets, bufferSize, isBigEndian</span>.</li></ul></dd></dl>
<ul><li>The script saves the packets to the folder specified by the strOutputFolderName variable ("c:/ti").</li></ul>
<dl><dd><ul><li>If you wish to change the directory that the file is written to, edit the string assigned to the strOutputFolderName variable.</li>
<li>Note that the name of the file MUST be <b>systemAnalyzerData.bin</b> for System Analyzer to be able to recognize it.</li></ul></dd></dl>
<h3><span class="mw-headline" id="Uploading_the_captured_events">Uploading the captured events</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=edit&amp;section=6" title="Edit section: Uploading the captured events">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Open the scripting console (View / Scripting Console)</li>
<li>run the script by typing <span style="color: blue"><i>loadJSFile "c:/Tutorial5A_readLogBuffers.js" </i></span></li></ul>
<dl><dd><ul><li>Tip: use the 'up arrow' on your keyboard to recall previous commands entered into the Scripting Console.  Commands entered during previous CCS sessions can be recalled in this way too.</li>
<li>The script outputs status messages to the console to provide feedback on what it is doing</li></ul></dd></dl>
<p><a href="File_Tutorial5A_scriptingConsole.html" class="image"><img alt="Tutorial5A scriptingConsole.gif" src="https://processors.wiki.ti.com/images/6/69/Tutorial5A_scriptingConsole.gif" width="1027" height="228" /></a>
</p><p>This will save the uploaded buffers (each containing a UIA event packet) to c:\ti\systemAnalyzerData.bin
To view the events:
</p>
<ul><li>Tools / System Analyzer / Open Binary File</li></ul>
<dl><dd><ul><li>For CCSv5.2, at the top of the dialog, specify the full path to the binary file (c:\ti\systemAnalyzerData.bin)</li></ul>
<dl><dd><ul><li><a href="File_OpenBinaryFile_SpecifyFileName.html" class="image"><img alt="OpenBinaryFile SpecifyFileName.gif" src="https://processors.wiki.ti.com/images/0/06/OpenBinaryFile_SpecifyFileName.gif" width="653" height="137" /></a></li></ul></dd></dl>
<ul><li>For later releases, at the top of the dialog, specify the <i>Folder Name</i> that the binary file is located in (c:/ti)</li></ul>
<dl><dd><ul><li><a href="File_OpenBinaryFile_SpecifyFolderName.html" class="image"><img alt="OpenBinaryFile SpecifyFolderName.gif" src="https://processors.wiki.ti.com/images/e/e3/OpenBinaryFile_SpecifyFolderName.gif" width="654" height="135" /></a></li></ul></dd></dl></dd></dl>
<ul><li>Click on the Create UIA Config File button to create a custom configuration for System Analyzer.</li></ul>
<dl><dd><ul><li>Create a custom configuration for System Analyzer, consisting of an Event Transport set to Type = None and a single endpoint, with the .out file set to the location of the .out file for this tutorial, as shown below: <br /></li></ul></dd></dl>
<p><a href="File_Tutorial5A_SAConfig.html" class="image"><img alt="Tutorial5A SAConfig.gif" src="https://processors.wiki.ti.com/images/a/a3/Tutorial5A_SAConfig.gif" width="651" height="381" /></a>
</p>
<dl><dd><ul><li>Save this to the root folder of the tutorial project in the CCS workspace for later use.</li></ul></dd></dl>
<ul><li>Click the Start button to process the bin file</li></ul>
<p>This will display the events that were captured in a view named "Binary File -&#160;: Logs".  
</p><p>The breakpoint that we placed in the exchange function ensured that the UIA packets were properly closed by LoggerStreamer.  The script contains a "flush" function that detects if the UIA packet was actively being logged to (i.e. had an incomplete packet header) and, if so, updates the packet header prior uploading the buffers.  It then restores the original state of any memory locations it has modified so that the target can go on running normally.  
</p><p>To demonstrate this:
</p>
<ul><li>remove or disable the breakpoint in the exchange function</li>
<li>run the target</li>
<li>manually halt the target ( Run / Suspend)</li>
<li>re-run the script in the scripting console (recall the last used command by clicking on the Scripting Console to bring it into focus and hitting the up arrow key on your keyboard, and then hitting Enter.</li></ul>
<dl><dd><ul><li>The console output will show which memory locations were altered in order to close the active packet, and then indicate that the original values were restored after the packets were uploaded.</li></ul></dd></dl>
<p>To update the System Analyzer Binary File -&#160;:Logs view to show the newly uploaded events:
</p>
<ul><li>click the red Stop button in the view toolbar</li></ul>
<dl><dd><ul><li><a href="File_Tutorial5A_stopButton.html" class="image"><img alt="Tutorial5A stopButton.gif" src="https://processors.wiki.ti.com/images/2/2b/Tutorial5A_stopButton.gif" width="295" height="53" /></a></li>
<li>the icon will change to a green triangle</li>
<li><a href="File_Tutorial5A_runButton.html" class="image"><img alt="Tutorial5A runButton.gif" src="https://processors.wiki.ti.com/images/8/84/Tutorial5A_runButton.gif" width="297" height="55" /></a></li></ul></dd></dl>
<ul><li>click the button again to upload the events from the same file as you used previously.</li></ul>
<h3><span class="mw-headline" id="Configuring_SysBios_to_use_LoggerStreamer_to_upload_SysBios_events">Configuring SysBios to use LoggerStreamer to upload SysBios events</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=edit&amp;section=7" title="Edit section: Configuring SysBios to use LoggerStreamer to upload SysBios events">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To configure SysBios to log events using LoggerStreamer, add the following lines to your .cfg script:
</p>
<ul><li><code>var LoggingSetup = xdc.useModule('ti.uia.sysbios.LoggingSetup');</code></li>
<li><code>LoggingSetup.eventUploadMode = LoggingSetup.UploadMode_STREAMER;</code></li></ul>
<p>Then rebuild your application.  
</p><p>You should be able to run the application, halt it, run the script, and view the events captured to the binary file using System Analyzer as described above.  
</p><p>To view the SysBios task switching events graphically, click on the small black triangle to the right of the "Analyze" label in the Logs view toolbar and select Execution Graph:<br />
<a href="File_Tutorial5A_analyze.html" class="image"><img alt="Tutorial5A analyze.gif" src="https://processors.wiki.ti.com/images/c/c2/Tutorial5A_analyze.gif" width="170" height="216" /></a>
<br />
</p><p>See <a href="SystemAnalyzerTutorial3.html" title="SystemAnalyzerTutorial3">Tutorial 3</a> for more information on how to configure and view SysBios events.
</p><p><b>Next:</b><a href="System_Analyzer_Tutorial_5B.html" title="System Analyzer Tutorial 5B">Tutorial 5B</a>: Using LoggerStreamer and the PDK Trace Framework.
</p>
<h3><span class="mw-headline" id="Links">Links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=edit&amp;section=8" title="Edit section: Links">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li><a href="SystemAnalyzerTutorial5.html" title="SystemAnalyzerTutorial5">Back up to the System Analyzer Tutorial 5 page</a></li>
<li><a href="System_Analyzer_Tutorials_(CCSv5).html" class="mw-redirect" title="Multicore System Analyzer Tutorials">Back up to the System Analyzer Tutorials page</a></li>
<li><a href="Multicore_System_Analyzer.html" title="Multicore System Analyzer">Back up to the System Analyzer Home</a></li></ul>

<!-- 
NewPP limit report
Cached time: 20201130173111
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.077 seconds
Real time usage: 0.088 seconds
Preprocessor visited node count: 32/1000000
Preprocessor generated node count: 40/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:17553-0!canonical and timestamp 20201130173111 and revision id 192985
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>System Analyzer Tutorial 5A</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>System Analyzer Tutorial 5A</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>System Analyzer Tutorial 5A</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>System Analyzer Tutorial 5A</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>System Analyzer Tutorial 5A</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>System Analyzer Tutorial 5A</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>System Analyzer Tutorial 5A</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>System Analyzer Tutorial 5A</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>System Analyzer Tutorial 5A</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;oldid=192985">https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;oldid=192985</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=System+Analyzer+Tutorial+5A" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="System_Analyzer_Tutorial_5A.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:System_Analyzer_Tutorial_5A&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="System_Analyzer_Tutorial_5A.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/System_Analyzer_Tutorial_5A.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/System_Analyzer_Tutorial_5A.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;oldid=192985" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=System_Analyzer_Tutorial_5A&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 3 February 2015, at 07:47.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.077","walltime":"0.088","ppvisitednodes":{"value":32,"limit":1000000},"ppgeneratednodes":{"value":40,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130173111","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":224});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/System_Analyzer_Tutorial_5A by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 13:06:58 GMT -->
</html>
