<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Determining_DSPLink_shared_memory_size_requirements by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:36:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Determining DSPLink shared memory size requirements - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Determining_DSPLink_shared_memory_size_requirements","wgTitle":"Determining DSPLink shared memory size requirements","wgCurRevisionId":181459,"wgRevisionId":181459,"wgArticleId":820,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["EndOfLife","DSPLink"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Determining_DSPLink_shared_memory_size_requirements","wgRelevantArticleId":820,"wgRequestId":"31296fafacef566d356b4cfb","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Determining_DSPLink_shared_memory_size_requirements rootpage-Determining_DSPLink_shared_memory_size_requirements skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Determining DSPLink shared memory size requirements</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div style="margin:5px 5px 10px 5px; padding:2px 20px; background-color: #ffcccc; color: #ff0000; border-left: 5px solid #ff0000; border-right: 5px solid #ff1100; font-size: 1.0em;">
<p><b>END OF LIFE</b>
</p><p>DSP Link is still available for download, but no further releases or updates are planned.  Please see <a href="IPC_Software_Options.html" title="IPC Software Options">IPC Software Options</a> for details and alternatives.
</p>
</div>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Details"><span class="tocnumber">2</span> <span class="toctext">Details</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Procedure_to_enable_the_prints_for_shared_memory_usage"><span class="tocnumber">3</span> <span class="toctext">Procedure to enable the prints for shared memory usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Log"><span class="tocnumber">4</span> <span class="toctext">Log</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Log_analysis"><span class="tocnumber">5</span> <span class="toctext">Log analysis</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Relevant_information_from_the_log"><span class="tocnumber">5.1</span> <span class="toctext">Relevant information from the log</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Related_Configuration_information"><span class="tocnumber">5.2</span> <span class="toctext">Related Configuration information</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Analysis_for_DSPLINKMEM_region"><span class="tocnumber">5.3</span> <span class="toctext">Analysis for DSPLINKMEM region</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Analysis_for_DSPLINKMEM1_region"><span class="tocnumber">5.4</span> <span class="toctext">Analysis for DSPLINKMEM1 region</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#POOL_size"><span class="tocnumber">5.5</span> <span class="toctext">POOL size</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Pre-DSPLink_v1.60"><span class="tocnumber">5.5.1</span> <span class="toctext">Pre-DSPLink v1.60</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#DSPLink_v1.60_onwards"><span class="tocnumber">5.5.2</span> <span class="toctext">DSPLink v1.60 onwards</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="#Total_DSPLink_module_control_structure_requirements"><span class="tocnumber">5.6</span> <span class="toctext">Total DSPLink module control structure requirements</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Conclusion"><span class="tocnumber">6</span> <span class="toctext">Conclusion</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This page gives information about how certain trace prints within DSPLink can be used to determine the shared memory requirements of DSPLink. Using this information, an optimum memory map can be created by the system integrator.
</p>
<h2><span class="mw-headline" id="Details">Details</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=2" title="Edit section: Details">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The shared memory requirements for DSPLink vary based on the configuration in which DSPLink has been built. Each DSPLink module has its own shared memory requirements, and based on the modules included within the build, the shared memory requirements are different. <br />
In addition, DSPLink configuration allows the system integrator to create multiple memory segments, into which DSPLink modules can be placed. For example, the default DSPLink configuration ships with two memory regions: DSPLINKMEM &amp; DSPLINKMEM1. Information about the shared memory usage within the different memory regions will also be required in order to optimize the memory usage.
</p><p>The procedure to identify the exact shared memory requirements, the procedure detailed on this page can be followed to:
</p>
<ul><li>Get trace prints giving information about the shared memory requirements of each module</li>
<li>Analyze the trace prints to get the required information about total shared memory consumption by DSPLink within the different memory regions</li></ul>
<p>The information, logs and analysis provided below applies to the DSPLink v1.50. However, similar trace prints are also available from 1.40.03 release onwards.
</p>
<h2><span class="mw-headline" id="Procedure_to_enable_the_prints_for_shared_memory_usage">Procedure to enable the prints for shared memory usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=3" title="Edit section: Procedure to enable the prints for shared memory usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Follow the steps detailed at the <a href="Enabling_trace_in_DSPLink.html" title="Enabling trace in DSPLink">wiki page about enabling trace in DSPLink</a> to enable trace prints within DSPLink
</p>
<ul><li>Enable trace</li>
<li>Disable user-level prints</li>
<li>Set severity to <code>TRC_LEVEL4</code></li></ul>
<p>&lt;syntaxhighlight lang=c&gt;
TRC_SET_SEVERITY (TRC_LEVEL4)&#160;;
&lt;/syntaxhighlight&gt;
</p>
<ul><li>Uncomment the lines that enable trace for all LDRV modules</li></ul>
<p>&lt;syntaxhighlight lang=c&gt;
TRC_ENABLE (ID_LDRV_ALL)       &#160;;
TRC_ENABLE (ID_LDRV_DATA_ALL)  &#160;;
TRC_ENABLE (ID_LDRV_DRV_ALL)   &#160;;
TRC_ENABLE (ID_LDRV_DSP_ALL)   &#160;;
TRC_ENABLE (ID_LDRV_HAL_ALL)   &#160;;
TRC_ENABLE (ID_LDRV_IPS_ALL)   &#160;;
TRC_ENABLE (ID_LDRV_MQT_ALL)   &#160;;
TRC_ENABLE (ID_LDRV_POOL_ALL)  &#160;;
&lt;/syntaxhighlight&gt;
</p>
<h2><span class="mw-headline" id="Log">Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=4" title="Edit section: Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To get the log of shared memory usage, run any sample application within DSPLink, or even your own application. <br />
Trace prints such as the following will be seen (this is extracted from log seen when running the DSPLink message sample application on DM6446:
</p>
<pre>LDRV_DRV Ctrl GPP address [0xc4100000]
LDRV_DRV Ctrl DSP address [0x8fe05000]
LDRV_DRV Ctrl size        [0x100]
SHMDRV Ctrl GPP address [0xc4100100]
SHMDRV Ctrl DSP address [0x8fe05100]
SHMDRV Ctrl size [0x80]
LDRV_IPS Ctrl GPP address [0xc4100180]
LDRV_IPS Ctrl DSP address [0x8fe05180]
LDRV_IPS Ctrl size        [0x80]
IPS Ctrl GPP address [0xc4098000]
IPS Ctrl DSP address [0x8fe00000]
IPS Ctrl size        [0x2380]
LDRV_POOL Ctrl GPP address [0xc4100200]
LDRV_POOL Ctrl DSP address [0x8fe05200]
LDRV_POOL Ctrl size        [0x80]
SMAPOOL shared memory GPP address      [0xc4100280]
SMAPOOL shared memory DSP address      [0x8fe05280]
SMAPOOL shared memory physical address [0x8fe05280]
SMAPOOL shared memory size             [0x70000]
SMAPOOL Ctrl GPP address               [0xc4100480]
MPCS Ctrl GPP address      [0xc4170280]
MPCS Ctrl DSP address      [0x8fe75280]
MPCS Ctrl physical address [0x8fe75280]
MPCS Ctrl size             [0x8200]
MPLIST Ctrl GPP address      [0xc4178480]
MPLIST Ctrl DSP address      [0x8fe7d480]
MPLIST Ctrl physical address [0x8fe7d480]
MPLIST Ctrl size             [0x2200]
LDRV_MQT Ctrl GPP address [0xc417a680]
LDRV_MQT Ctrl DSP address [0x8fe7f680]
LDRV_MQT Ctrl size        [0x80]
ZCPYMQT Ctrl GPP address [0xc417a700]
ZCPYMQT Ctrl DSP address [0x8fe7f700]
ZCPYMQT Ctrl size [0x480]
LDRV_DATA Ctrl GPP address [0xc417ab80]
LDRV_DATA Ctrl DSP address [0x8fe7fb80]
LDRV_DATA Ctrl size        [0x80]
ZCPYDATA Ctrl GPP address [0xc417ac00]
ZCPYDATA Ctrl DSP address [0x8fe7fc00]
ZCPYDATA Ctrl size        [0x2e00]
ZCPYDATA freeChirps address [0xc417d200]
RINGIO Ctrl GPP address      [0xc409a380]
RINGIO Ctrl DSP address      [0x8fe02380]
RINGIO Ctrl physical address [0x8fe02380]
RINGIO Ctrl size             [0x2200]
SMAPOOL buffers start GPP address      [0xc4100d00]
SMAPOOL buffers start DSP address      [0x8fe05d00]
</pre>
<h2><span class="mw-headline" id="Log_analysis">Log analysis</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=5" title="Edit section: Log analysis">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Relevant_information_from_the_log">Relevant information from the log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=6" title="Edit section: Relevant information from the log">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The above log gives the following important information about start physical address of each module, and the shared memory size consumed by that module (Note that DSP address is the same as physical address on DM6446):
</p>
<pre>LDRV_DRV Ctrl DSP address [0x8fe05000]
LDRV_DRV Ctrl size        [0x100]

SHMDRV Ctrl DSP address [0x8fe05100]
SHMDRV Ctrl size [0x80]

LDRV_IPS Ctrl DSP address [0x8fe05180]
LDRV_IPS Ctrl size        [0x80]

IPS Ctrl DSP address [0x8fe00000]
IPS Ctrl size        [0x2380]

LDRV_POOL Ctrl DSP address [0x8fe05200]
LDRV_POOL Ctrl size        [0x80]
SMAPOOL shared memory physical address [0x8fe05280]
SMAPOOL shared memory size             [0x70000]

MPCS Ctrl physical address [0x8fe75280]
MPCS Ctrl size             [0x8200]

MPLIST Ctrl physical address [0x8fe7d480]
MPLIST Ctrl size             [0x2200]

LDRV_MQT Ctrl DSP address [0x8fe7f680]
LDRV_MQT Ctrl size        [0x80]

ZCPYMQT Ctrl DSP address [0x8fe7f700]
ZCPYMQT Ctrl size [0x480]

LDRV_DATA Ctrl DSP address [0x8fe7fb80]
LDRV_DATA Ctrl size        [0x80]

ZCPYDATA Ctrl DSP address [0x8fe7fc00]
ZCPYDATA Ctrl size        [0x2e00]

RINGIO Ctrl physical address [0x8fe02380]
RINGIO Ctrl size             [0x2200]

SMAPOOL buffers start DSP address      [0x8fe05d00]
</pre>
<h3><span class="mw-headline" id="Related_Configuration_information">Related Configuration information</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=7" title="Edit section: Related Configuration information">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Two shared memory regions are defined in the DSPLink configuration file for DM6446:
&lt;syntaxhighlight lang=c&gt;
</p>
<pre>   {
       0,                     /* ENTRY         &#160;: Entry number */
       "DSPLINKMEM",          /* NAME          &#160;: Name of the memory region */
       0x8FE00000,            /* ADDRPHYS      &#160;: Physical address */
       0x8FE00000,            /* ADDRDSPVIRT   &#160;: DSP virtual address */
       (Uint32) -1,           /* ADDRGPPVIRT   &#160;: GPP virtual address (if known) */
       0x5000,                /* SIZE          &#160;: Size of the memory region */
       TRUE                   /* SHARED        &#160;: Shared access memory? */
   },
   {
       1,                     /* ENTRY         &#160;: Entry number */
       "DSPLINKMEM1",         /* NAME          &#160;: Name of the memory region */
       0x8FE05000,            /* ADDRPHYS      &#160;: Physical address */
       0x8FE05000,            /* ADDRDSPVIRT   &#160;: DSP virtual address */
       (Uint32) -1,           /* ADDRGPPVIRT   &#160;: GPP virtual address (if known) */
       0xFB000,               /* SIZE          &#160;: Size of the memory region */
       TRUE                   /* SHARED        &#160;: Shared access memory? */
   },
</pre>
<p>&lt;/syntaxhighlight&gt;
</p>
<h3><span class="mw-headline" id="Analysis_for_DSPLINKMEM_region">Analysis for DSPLINKMEM region</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=8" title="Edit section: Analysis for DSPLINKMEM region">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Start address: <code>0x8fe000000</code> <br />
Corresponding log prints:
</p>
<pre>IPS Ctrl DSP address [0x8fe00000]
IPS Ctrl size        [0x2380]

RINGIO Ctrl physical address [0x8fe02380]
RINGIO Ctrl size             [0x2200]
</pre>
<p>This indicates that total shared memory size used within DSPLINKMEM region out of the <code>0x5000</code> defined size is: <code>0x2380</code> + <code>0x2200</code> = <br />
<b>0x4580</b> <br />
Based on this, size of DSPLINKMEM region can be safely reduced to <code>0x4580</code>.
</p>
<h3><span class="mw-headline" id="Analysis_for_DSPLINKMEM1_region">Analysis for DSPLINKMEM1 region</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=9" title="Edit section: Analysis for DSPLINKMEM1 region">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Start address: <code>0x8fe05000</code> <br />
Corresponding log prints:
</p>
<pre>LDRV_DRV Ctrl DSP address [0x8fe05000]
LDRV_DRV Ctrl size        [0x100]

SHMDRV Ctrl DSP address [0x8fe05100]
SHMDRV Ctrl size [0x80]

LDRV_IPS Ctrl DSP address [0x8fe05180]
LDRV_IPS Ctrl size        [0x80]

LDRV_POOL Ctrl DSP address [0x8fe05200]
LDRV_POOL Ctrl size        [0x80]
SMAPOOL shared memory physical address [0x8fe05280]
SMAPOOL shared memory size             [0x70000]

MPCS Ctrl physical address [0x8fe75280]
MPCS Ctrl size             [0x8200]

MPLIST Ctrl physical address [0x8fe7d480]
MPLIST Ctrl size             [0x2200]

LDRV_MQT Ctrl DSP address [0x8fe7f680]
LDRV_MQT Ctrl size        [0x80]

ZCPYMQT Ctrl DSP address [0x8fe7f700]
ZCPYMQT Ctrl size [0x480]

LDRV_DATA Ctrl DSP address [0x8fe7fb80]
LDRV_DATA Ctrl size        [0x80]

ZCPYDATA Ctrl DSP address [0x8fe7fc00]
ZCPYDATA Ctrl size        [0x2e00]

SMAPOOL buffers start DSP address      [0x8fe05d00]
</pre>
<p>The defined size of the DSPLINKMEM1 region in the configuration is <code>0xFB000</code> <br />
</p><p>The total size used by all modules for control region can be found through any one of two approaches: <br />
1. Totalling the sizes from individual modules:
<code>0x100</code> + <code>0x80</code> + <code>0x80</code> + <code>0x80</code> + <code>0x70000</code> + <code>0x8200</code> + <code>0x2200</code> + <code>0x80</code> + <code>0x480</code> + <code>0x80</code> + <code>0x2e00</code> = <br />
<b>7DA00</b>
</p><p>2. Looking at the DSP addresses to get the largest address in this memory region range:
</p>
<pre>ZCPYDATA Ctrl DSP address [0x8fe7fc00]
ZCPYDATA Ctrl size        [0x2e00]
</pre>
<p>Final address is: <code>0x8fe7fc0</code> + <code>0x2e00</code> = <code>0x8FE82A00</code> <br />
DSPLINKMEM1 start is at <code>0x8fe05000</code>, so subtracting it from the final address: <code>0x8FE82A0</code> - <code>0x8fe05000</code> = <br />
<b>7DA00</b> <br /> <br />
</p><p>Based on this, size of DSPLINKMEM region can be safely reduced to <code>0x7DA00</code>.
</p>
<h3><span class="mw-headline" id="POOL_size">POOL size</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=10" title="Edit section: POOL size">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Out of the total shared memory consumption by DSPLink modules, the size for POOL control structure and buffers is <code>0x70000</code>.
&lt;syntaxhighlight lang=c&gt;
STATIC CONST LINKCFG_Pool  LINKCFG_poolTable_00 [] =
{
</p>
<pre>   {
       "SMAPOOL",             /* NAME          &#160;: Name of the pool */
       (Uint32) 1,            /* MEMENTRY      &#160;: Memory entry ID (-1 if not needed) */
       (Uint32) 0x70000,      /* POOLSIZE      &#160;: Size of the pool (-1 if not needed) */
       (Uint32) -1,           /* IPSID         &#160;: ID of the IPS used */
       (Uint32) -1,           /* IPSEVENTNO    &#160;: IPS Event number associated with POOL */
       0x0,                   /* ARGUMENT1     &#160;: First Pool-specific argument */
       0x0                    /* ARGUMENT2     &#160;: Second Pool-specific argument */
   }
</pre>
<p>}&#160;;
&lt;/syntaxhighlight&gt;
</p>
<h4><span class="mw-headline" id="Pre-DSPLink_v1.60">Pre-DSPLink v1.60</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=11" title="Edit section: Pre-DSPLink v1.60">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In DSPLink releases before 1.60, this was reserved for POOL control structures as well as buffers.
Looking at the log:
</p>
<pre>SMAPOOL shared memory physical address [0x8fe05280]
SMAPOOL shared memory size             [0x70000]
SMAPOOL buffers start DSP address      [0x8fe05d00]
</pre>
<p>From this, we can find out that the buffers start from <code>0x8fe05d00</code>, so the SMAPOOL control structures take up <code>0x8fe05d00</code> - <code>0x8fe05280</code> = <code>0xA80</code>.
</p><p>The rest, i.e. <code>0x6F580</code> (<code>0x70000</code> - <code>0xA80</code>) is only for the POOL buffers, and is completely dependent on application requirements, and the buffer sizes and numbers configured by the application for this pool. <br />
For the DSPLink SMA POOL, if the buffers configured are: <br />
L buffers of size A <br />
M buffers of size B <br />
N buffers of size C <br /> <br />
</p><p>The total buffer size = (L x A) + (M x B) + (N x C)
</p>
<h4><span class="mw-headline" id="DSPLink_v1.60_onwards">DSPLink v1.60 onwards</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=12" title="Edit section: DSPLink v1.60 onwards">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In DSPLink release 1.60 onwards, this region only contains POOL buffers. POOL control structures are placed along with control structures for other modules within the DSPLINKMEM / DSPLINKMEM1 regions.<br />
This makes it very easy to calculate the exact size of shared memory required for the SMAPOOL by the following method:
The size of POOL memory required dependent on application requirements, and the buffer sizes and numbers configured by the application for this pool. <br />
For the DSPLink SMA POOL, if the buffers configured are: <br />
L buffers of size A <br />
M buffers of size B <br />
N buffers of size C <br /> <br />
</p><p>The total buffer size = (L x A) + (M x B) + (N x C)
</p>
<h3><span class="mw-headline" id="Total_DSPLink_module_control_structure_requirements">Total DSPLink module control structure requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=13" title="Edit section: Total DSPLink module control structure requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>From the above calculations, the total shared memory size used up by all DSPLink modules is: <br />
Size of control structures except for POOL: <code>0x7DA00</code> - <code>0x70000</code> = <code>0xDA00</code> <br />
+ <br />
Size of POOL control structures = <code>0xA80</code> <br />
</p><p>Total size = <code>0xE480</code>
</p>
<h2><span class="mw-headline" id="Conclusion">Conclusion</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;section=14" title="Edit section: Conclusion">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Even though DSPLink reserves a total of 1MB size (<code>0x100000</code>) by default in the configuration, the actual amount of shared memory required by DSPLink modules for its control structures is much lesser (only <code>0xE480</code> for DM6446 in DSPLink v1.50). Most of the memory is required for application's POOL configuration. The DSPLink configuration can be tuned for the most optimum memory usage by using the procedure mentioned on this page.
</p>
<!-- 
NewPP limit report
Cached time: 20201130143316
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.032 seconds
Real time usage: 0.034 seconds
Preprocessor visited node count: 119/1000000
Preprocessor generated node count: 228/1000000
Post‐expand include size: 776/2097152 bytes
Template argument size: 156/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4215/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.376      1 -total
100.00%    3.376      1 Template:DSPLinkEOL
 51.92%    1.753      1 Template:EndOfLife
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:820-0!canonical and timestamp 20201130143316 and revision id 181459
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Determining DSPLink shared memory size requirements</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Determining DSPLink shared memory size requirements</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>Determining DSPLink shared memory size requirements</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>Determining DSPLink shared memory size requirements</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>Determining DSPLink shared memory size requirements</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Determining DSPLink shared memory size requirements</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Determining DSPLink shared memory size requirements</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>Determining DSPLink shared memory size requirements</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>Determining DSPLink shared memory size requirements</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;oldid=181459">https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;oldid=181459</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_EndOfLife.html" title="Category:EndOfLife">EndOfLife</a></li><li><a href="Category_DSPLink.html" title="Category:DSPLink">DSPLink</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Determining+DSPLink+shared+memory+size+requirements" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Determining_DSPLink_shared_memory_size_requirements.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:Determining_DSPLink_shared_memory_size_requirements&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Determining_DSPLink_shared_memory_size_requirements.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Determining_DSPLink_shared_memory_size_requirements.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Determining_DSPLink_shared_memory_size_requirements.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;oldid=181459" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Determining_DSPLink_shared_memory_size_requirements&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 14 July 2014, at 08:41.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.032","walltime":"0.034","ppvisitednodes":{"value":119,"limit":1000000},"ppgeneratednodes":{"value":228,"limit":1000000},"postexpandincludesize":{"value":776,"limit":2097152},"templateargumentsize":{"value":156,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":4215,"limit":5000000},"timingprofile":["100.00%    3.376      1 -total","100.00%    3.376      1 Template:DSPLinkEOL"," 51.92%    1.753      1 Template:EndOfLife"]},"cachereport":{"timestamp":"20201130143316","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":225});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Determining_DSPLink_shared_memory_size_requirements by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:36:14 GMT -->
</html>
