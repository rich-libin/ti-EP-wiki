<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/MCSDK_VIDEO_VA_2.x_Development_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 09:49:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>MCSDK VIDEO VA 2.x Development Guide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"MCSDK_VIDEO_VA_2.x_Development_Guide","wgTitle":"MCSDK VIDEO VA 2.x Development Guide","wgCurRevisionId":172745,"wgRevisionId":172745,"wgArticleId":33495,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"MCSDK_VIDEO_VA_2.x_Development_Guide","wgRelevantArticleId":33495,"wgRequestId":"65c9b5ce5896bf590d347ad3","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-MCSDK_VIDEO_VA_2_x_Development_Guide rootpage-MCSDK_VIDEO_VA_2_x_Development_Guide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">MCSDK VIDEO VA 2.x Development Guide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><a href="File_TIBanner.html" class="image"><img alt="TIBanner.png" src="https://processors.wiki.ti.com/images/c/cd/TIBanner.png" width="667" height="87" /></a>
</p><p><br /><font size="6"><b>MCSDK Video</b><br /></font><br /><font size="6"><b>Version 2.x</b> <br /></font><br /><font size="6"><b>Development Guide</b></font> <br /><br />
</p><p><i>Last updated: 04/09/2014</i>
</p>
<hr />
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#MCSDK_Video_Host_Application_Development"><span class="tocnumber">2</span> <span class="toctext">MCSDK Video Host Application Development</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Multiple_Threads_to_Support_Parallel_Operation"><span class="tocnumber">2.1</span> <span class="toctext"><b>Multiple Threads to Support Parallel Operation</b></span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Efficient_and_Fragmentation-Free_Memory_Management"><span class="tocnumber">2.2</span> <span class="toctext"><b>Efficient and Fragmentation-Free Memory Management</b></span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Memory_Types_and_Mechanisms_for_Data_Exchange"><span class="tocnumber">2.2.1</span> <span class="toctext">Memory Types and Mechanisms for Data Exchange</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Multiple_Types_of_Buffer_Pools_.28review.29"><span class="tocnumber">2.2.2</span> <span class="toctext">Multiple Types of Buffer Pools (review)</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Frame_Descriptor_to_Construct_Frames_from_x86_Buffer_Pools"><span class="tocnumber">2.2.3</span> <span class="toctext">Frame Descriptor to Construct Frames from x86 Buffer Pools</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Control_Message_Exchange_via_Pipes_and_Mailboxes"><span class="tocnumber">2.3</span> <span class="toctext"><b>Control Message Exchange via Pipes and Mailboxes</b></span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Scheduler_Design_Tailoring_to_Codecs"><span class="tocnumber">2.4</span> <span class="toctext"><b>Scheduler Design Tailoring to Codecs</b></span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Operation_Details_for_Threads"><span class="tocnumber">2.5</span> <span class="toctext"><b>Operation Details for Threads</b></span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Input_Thread_.28File_Reader_Thread.29"><span class="tocnumber">2.5.1</span> <span class="toctext">Input Thread (File Reader Thread)</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#DeviceIO_TX_Thread"><span class="tocnumber">2.5.2</span> <span class="toctext">DeviceIO TX Thread</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#DeviceIO_RX_Thread"><span class="tocnumber">2.5.3</span> <span class="toctext">DeviceIO RX Thread</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#FrameOverlay_Thread_.28review.29"><span class="tocnumber">2.5.4</span> <span class="toctext">FrameOverlay Thread (review)</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Output_Thread_.28File_Writer_or_Display_Thread.29"><span class="tocnumber">2.5.5</span> <span class="toctext">Output Thread (File Writer or Display Thread)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#Developing_Video_Demos_on_Quad_C6678_PCIe_card"><span class="tocnumber">2.6</span> <span class="toctext"><b>Developing Video Demos on Quad C6678 PCIe card</b></span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#Memory_Usage_on_Quad_C6678_PCIe_card"><span class="tocnumber">2.6.1</span> <span class="toctext">Memory Usage on Quad C6678 PCIe card</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Data_Flow_of_H264HP_Encoding"><span class="tocnumber">2.6.2</span> <span class="toctext">Data Flow of H264HP Encoding</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Data_Flow_of_JPEG2000_Decoding"><span class="tocnumber">2.6.3</span> <span class="toctext">Data Flow of JPEG2000 Decoding</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#MCSDK_Video_DSP_Development"><span class="tocnumber">3</span> <span class="toctext">MCSDK Video DSP Development</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#Framework_Folders_and_Make_Instructions"><span class="tocnumber">3.1</span> <span class="toctext"><b>Framework Folders and Make Instructions</b></span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#Framework_Folders"><span class="tocnumber">3.1.1</span> <span class="toctext">Framework Folders</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Make_Instructions"><span class="tocnumber">3.1.2</span> <span class="toctext">Make Instructions</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-24"><a href="#Integrating_New_Codec_in_MCSDK_Video_DSP_Build"><span class="tocnumber">3.2</span> <span class="toctext"><b>Integrating New Codec in MCSDK Video DSP Build</b></span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#Codec_Algorithm"><span class="tocnumber">3.2.1</span> <span class="toctext">Codec Algorithm</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Codec_Client_Glue_Code"><span class="tocnumber">3.2.2</span> <span class="toctext">Codec Client Glue Code</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Update_siuVctSupportedCodecs.c"><span class="tocnumber">3.2.3</span> <span class="toctext">Update siuVctSupportedCodecs.c</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#Edit_makefile"><span class="tocnumber">3.2.4</span> <span class="toctext">Edit makefile</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#Update_Linker_Command_File"><span class="tocnumber">3.2.5</span> <span class="toctext">Update Linker Command File</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#Create_Config_Files"><span class="tocnumber">3.2.6</span> <span class="toctext">Create Config Files</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-31"><a href="#Cache_Usage"><span class="tocnumber">3.3</span> <span class="toctext"><b>Cache Usage</b></span></a>
<ul>
<li class="toclevel-3 tocsection-32"><a href="#Cacheability_of_DDR"><span class="tocnumber">3.3.1</span> <span class="toctext">Cacheability of DDR</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="#Cacheability_of_L1P.2C_L1D_and_L2"><span class="tocnumber">3.3.2</span> <span class="toctext">Cacheability of L1P, L1D and L2</span></a></li>
<li class="toclevel-3 tocsection-34"><a href="#Cache_Control_APIs"><span class="tocnumber">3.3.3</span> <span class="toctext">Cache Control APIs</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-35"><a href="#Multi_Core_Video_Interface_APIs"><span class="tocnumber">3.4</span> <span class="toctext"><b>Multi Core Video Interface APIs</b></span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Memory_Layout_for_Multichip_Partitioned_Codec"><span class="tocnumber">3.5</span> <span class="toctext"><b>Memory Layout for Multichip Partitioned Codec</b></span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Multichip_Scheduler_and_State_Machine"><span class="tocnumber">3.6</span> <span class="toctext"><b>Multichip Scheduler and State Machine</b></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-38"><a href="#Integrating_Video_Analytics_Algorithms_in_MCSDK_Video_Framework_.28review.29"><span class="tocnumber">4</span> <span class="toctext">Integrating Video Analytics Algorithms in MCSDK Video Framework (review)</span></a></li>
<li class="toclevel-1 tocsection-39"><a href="#Useful_Resources_and_Links"><span class="tocnumber">5</span> <span class="toctext">Useful Resources and Links</span></a>
<ul>
<li class="toclevel-2 tocsection-40"><a href="#Product_Download_and_Updates"><span class="tocnumber">5.1</span> <span class="toctext">Product Download and Updates</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#MCSDK_Video_Instructions"><span class="tocnumber">5.2</span> <span class="toctext">MCSDK Video Instructions</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#Technical_Support"><span class="tocnumber">5.3</span> <span class="toctext">Technical Support</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>MCSDK Video DSP application builds on BIOS-MCSDK and executes highly compute intensive video processing on TI C66x multi-core DSPs. MCSDK Video 2.x release also provides a host application built on Linux Desktop SDK to allow a user friendly interface to run video demos on a Linux PC. As shown in the figure below, DSP and Host Processor share common header files for message interpretation and communication through host-DSP mailbox.
</p><p><a href="File_MCSDKVideo_HostDSP_Overview.html" class="image" title="MCSDKVideo_HostDSP_Overview.png"><img alt="MCSDKVideo_HostDSP_Overview.png" src="https://processors.wiki.ti.com/images/1/17/MCSDKVideo_HostDSP_Overview.png" width="874" height="485" /></a>
</p><p>Intended audience for this document is the developers who are interested in the design of MCSDK Video host and DSP applications. Specifically, this MCSDK Video Development Guide provides information about
</p>
<ul><li>MCSDK Video Host Application Development</li>
<li>MCSDK Video DSP Development</li></ul>
<p><br />
</p>
<h1><span class="mw-headline" id="MCSDK_Video_Host_Application_Development">MCSDK Video Host Application Development</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=2" title="Edit section: MCSDK Video Host Application Development">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>As MCSDK Video host application is built upon Desktop Linux SDK, it is highly recommended to first go over the <a rel="nofollow" class="external text" href="Desktop-linux-sdk_01.00-2.html">Development Duide for Desktop Linux SDK</a> before continue. Specifically, this section will discuss the following design aspects of MCSDK Video host application.
</p>
<ol><li>Multiple Threads to Support Parallel Operation</li>
<li>Efficient and Fragmentation-Free Memory Management</li>
<li>Control Message Exchange via Pipes and Mailboxes</li>
<li>Scheduler Design Tailoring to Codecs</li>
<li>Operation Details for Threads</li>
<li>Example Memory Usage and Data Flow for H264HP Encoding and JPEG200 Decoding</li></ol>
<p><br />
</p>
<h2><span class="mw-headline" id="Multiple_Threads_to_Support_Parallel_Operation"><b>Multiple Threads to Support Parallel Operation</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=3" title="Edit section: Multiple Threads to Support Parallel Operation">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>MCSDK Video host application is a multi-threaded application so that DSPs run in parallel while host processor prepares subsequent data chunks for further video processing and/or consumes processed video data from the DSPs. In order to use all PCIe lanes concurrently, each device (DSP chip) is supplied with a Tx thread and a Rx thread. The following table lists the threads used in the MCSDK Video host application. For priority of threads, the higher the number, the higher the priority. <br />
</p>
<table style="width: 800px; height: 98px" cellspacing="1" cellpadding="1" width="800" summary="summary" border="1">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Thread</b>
</td>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>Number of Thread</b>
</td>
<td bgcolor="#c0c0c0"><b>Priority</b>
</td></tr>
<tr>
<td>Input thread (Filer Reader)
</td>
<td>Read input data from file into x86 input buffer
</td>
<td>One per application
</td>
<td>1
</td></tr>
<tr>
<td>Output thread (Filer Writer or Display)
</td>
<td>Write output data in x86 output buffer to file or display
</td>
<td>One per application
</td>
<td>4
</td></tr>
<tr>
<td>DeviceIO Tx thread
</td>
<td>Provide input data to DSP and notify DSP
</td>
<td>One per device
</td>
<td>2
</td></tr>
<tr>
<td>DeviceIO Rx thread
</td>
<td>Query DSP and get output data from DSP
</td>
<td>One per device
</td>
<td>3
</td></tr>
<tr>
<td>FrameOverlay thread (review)
</td>
<td>Takes Input frame from Input thread and overlays algorithm metaData (received from Reorder queue) on it.
</td>
<td>One per Channel
</td>
<td>3
</td></tr></tbody></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Efficient_and_Fragmentation-Free_Memory_Management"><b>Efficient and Fragmentation-Free Memory Management</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=4" title="Edit section: Efficient and Fragmentation-Free Memory Management">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Built on Desktop Linux SDK, MCSDK Video host application uses SDK's <i>Buffer Manager</i> and <i>Contiguous Memory Driver</i> components. The <i>Contiguous Memory Driver</i>&#160;is used to obtain physically contiguous memory on the host which can be mapped over the PCIe interface. The <i>Buffer Manager</i>&#160;is used to achieve fragmentation-free memory management for efficient data exchange between host and DSP through EDMA.
</p><p><br />
</p>
<hr />
<h3><span class="mw-headline" id="Memory_Types_and_Mechanisms_for_Data_Exchange">Memory Types and Mechanisms for Data Exchange</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=5" title="Edit section: Memory Types and Mechanisms for Data Exchange">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>While MCSDK Video DSP application conducts highly compute intensive video processing, MCSDK Video host application sends input data to DSPs for processing and/or receives processed data from DSPs for file saving or display. Three types of memory can be involved for such host-DSP data exchange:
</p>
<ol><li>Contiguous x86 memory</li>
<li>C66x DDR memory&#160;</li>
<li>C66x PCIe memory (Contiguous x86 buffers are mapped to this region of DSP memory)&#160;</li></ol>
<p>As in Desktop Linux SDK, the data exchange between host and DSP applications can be achieved in three ways.
</p>
<ol><li>Host processor's data buffer (i.e., x86 memory) is copied into DSP's DDR (i.e., C66x DDR memory) using EDMA. Since DDR memory is only shared between cores on a single DSP, this is beneficial when a buffer is only needed on a single DSP or DSP core..</li>
<li>DSP picks up the data from host memory buffer (x86 memory mapped to C66x PCIe memory) directly as the DSP consumes the data. This is used when a buffer needs to be shared concurrently with multiple DSPs.&#160;</li>
<li>Host processor copies data directly to DSP memory. This method has a much smaller bandwidth than the previous methods since the host processor is responsible for the transfer. This is typically used when a small amount of data needs to be transferred such as configuration buffers.</li></ol>
<p><br />
</p>
<hr />
<h3><span id="Multiple_Types_of_Buffer_Pools_(review)"></span><span class="mw-headline" id="Multiple_Types_of_Buffer_Pools_.28review.29">Multiple Types of Buffer Pools (review)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=6" title="Edit section: Multiple Types of Buffer Pools (review)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>MCSDK Video host application uses <i>Buffer Manager</i> component from Desktop Linux SDK to do fragmentation-free memory allocation. Six types of buffer pools are created and used in MCSDK Video host application. <br />
</p>
<table style="width: 950px; height: 98px" cellspacing="1" cellpadding="1" width="950" summary="summary" border="1">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Buffer Pool</b>
</td>
<td bgcolor="#c0c0c0"><b>Number of Pools</b>
</td>
<td bgcolor="#c0c0c0"><b>Chunk Size</b>
</td>
<td bgcolor="#c0c0c0"><b>Pool Size</b>
</td>
<td bgcolor="#c0c0c0"><b>Allocator Thread</b>
</td>
<td bgcolor="#c0c0c0"><b>Freer Thread</b>
</td></tr>
<tr>
<td>x86 Input Pool
</td>
<td>One per application
</td>
<td>Frame YUV size or <br /> 8MB if PCIe Pool is used
</td>
<td>Chunk Size*(2*NumberofTeams) or <br /> throttled by reserved CMEM size
</td>
<td>File Reader
</td>
<td>DeviceIO Tx or Rx
</td></tr>
<tr>
<td>x86 Output Pool
</td>
<td>One per application
</td>
<td>Frame YUV size or <br /> 8MB if PCIe Pool is used
</td>
<td>Chunk Size*(8*NumberofTeams) or <br /> throttled by reserved CMEM size
</td>
<td>DeviceIO Tx or Rx
</td>
<td>File Writer
</td></tr>
<tr>
<td>C66x DDR Input Pool
</td>
<td>One per device
</td>
<td>Frame YUV size
</td>
<td>16MB for single C6678 EVM <br /> 256MB for Quad/Octal C6678
</td>
<td>DeviceIO TX
</td>
<td>DeviceIO Rx
</td></tr>
<tr>
<td>C66x DDR Output Pool
</td>
<td>One per device
</td>
<td>Frame YUV size
</td>
<td>16MB for single C6678 EVM <br /> 256MB for Quad/Octal C6678
</td>
<td>DeviceIO TX
</td>
<td>DeviceIO Rx
</td></tr>
<tr>
<td>C66x PCIe Input Pool
</td>
<td>One per application
</td>
<td>8MB
</td>
<td>32MB
</td>
<td>DeviceIO Tx
</td>
<td>DeviceIO Rx
</td></tr>
<tr>
<td>C66x PCIe Output Pool
</td>
<td>One per application
</td>
<td>8MB
</td>
<td>16MB
</td>
<td>DeviceIO Tx
</td>
<td>DeviceIO Rx
</td></tr></tbody></table>
<p>[note: not all the buffer pools are used --&gt; need to have specific use cases; need to avoid using DeviceIO "Tx or Rx"] <br />
</p>
<hr />
<h3><span class="mw-headline" id="Frame_Descriptor_to_Construct_Frames_from_x86_Buffer_Pools">Frame Descriptor to Construct Frames from x86 Buffer Pools</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=7" title="Edit section: Frame Descriptor to Construct Frames from x86 Buffer Pools">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In order to use EDMA for efficient data transfer, <i>Contiguous Memory Driver&#160;</i>from Desktop Linux SDK is used for allocating x86 input/output buffers in contiguous physical memory. Due to Linux restriction of not being able to allocate more than 4 MB physical contiguous memory, chunk size of x86 Input/Output pools is set to 4MB. Desktop Linux SDK can overcome this limit by configuraing the bootloader the reserve memory outside of the kernel, but this is unreliable in systems with a small amount of memory. Since the size of a contiguous buffer is constant, and the data unit in MCSDK video is video frames and the size can be large, a frame descriptor is introduced to allocate and group multiple x86 buffers for a single frame.
</p><p>A frame descriptor contains a frame ID, a handle to the buffer pool, and an array of buffer descriptors which specifies the base and length of the buffers from the buffer pool. Using frame descriptor, a frame can be allocated across multiple buffers with arbitrary start and end offsets as shown in the example below. Further these discontinuous 4MB (or less than 4MB) buffers can be mapped to be visible as contiguous buffers in the DSP address space. <br /> <a href="File_FrameBuffer.html" class="image" title="FrameBuffer.png"><img alt="FrameBuffer.png" src="https://processors.wiki.ti.com/images/3/30/FrameBuffer.png" width="536" height="121" /></a> <br />
</p>
<h2><span class="mw-headline" id="Control_Message_Exchange_via_Pipes_and_Mailboxes"><b>Control Message Exchange via Pipes and Mailboxes</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=8" title="Edit section: Control Message Exchange via Pipes and Mailboxes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The four threads of MCSDK Video host application exchange control messages through pipes and <i>mailBox</i> from Desktop Linux SDK to achieve seamless data exchange between the host processor and DSPs. There are two mailboxes for each DSP core, one for storing pending messages from host to DSP and another one for storing DSP to host pending messages.&#160;
</p>
<ol><li>When an input frame is read from file to the input buffer, the Input thread (Filer Reader) sends the frame information to DeviceIO Tx thread via writing to the input pipe.</li>
<li>DeviceIO Tx thread reads from the input pipe, transfers the frame data to DSP,&#160;and then communicates the input frame information to DSPs using mailbox.</li>
<li>DeviceIO Rx thread queries DSPs via mailbox to find a DSP-processed output frame. It transfers the output data to a contiguous x86 buffer and then sends the output frame information to the Output thread by writing to a Reorder Queue. Through the Reorder Queue, the processed frames from DSPs are reordered according to the frame ID, and written to the output pipe in the correct order.</li>
<li>Output thread (Filer Writer or Display) reads from the output pipe, and then save the output to disk or display.</li></ol>
<p><a href="File_VideoHost_Arch1.html" class="image" title="VideoHost_Arch1.PNG"><img alt="VideoHost_Arch1.PNG" src="https://processors.wiki.ti.com/images/f/f8/VideoHost_Arch1.PNG" width="926" height="504" /></a>
</p><p><br />
</p>
<h2><span class="mw-headline" id="Scheduler_Design_Tailoring_to_Codecs"><b>Scheduler Design Tailoring to Codecs</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=9" title="Edit section: Scheduler Design Tailoring to Codecs">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In MCSDK Video application, there is a scheduler which keeps track of certain DSP cores (depending on scheduler topology as described below) and does task dispatch to those cores according to DSPs' task load.
</p><p>Tailoring to specific codecs, the following three scheduler topologies can be supported along with anything in between.
</p>
<ul><li>Scheduler manages all DSP cores and dispatch tasks to all the cores. Example codec is JPEG2000 decoder.</li></ul>
<p><br /> <a href="File_Scheduler_Topology1.html" class="image" title="Scheduler_Topology1.JPG"><img alt="Scheduler_Topology1.JPG" src="https://processors.wiki.ti.com/images/c/c7/Scheduler_Topology1.JPG" width="477" height="302" /></a> <br />
</p>
<ul><li>Scheduler manages one <i>master</i> core in each DSP chip. High level tasks are dispatched by the scheduler, while master core in DSP internally dispatches tasks to slave cores. Example codec is AVCIU encoder.</li></ul>
<p><br /> <a href="File_Scheduler_Topology2.html" class="image" title="Scheduler_Topology2.JPG"><img alt="Scheduler_Topology2.JPG" src="https://processors.wiki.ti.com/images/a/a3/Scheduler_Topology2.JPG" width="499" height="324" /></a> <br />
</p>
<ul><li>Scheduler manages and delegates tasks to a single <i>master</i> DSP core. Master core internally dispatches tasks to slave cores. Example codec is H.264HP encoder.</li></ul>
<p><br /> <a href="File_Scheduler_Topology3.html" class="image" title="Scheduler_Topology3.JPG"><img alt="Scheduler_Topology3.JPG" src="https://processors.wiki.ti.com/images/0/03/Scheduler_Topology3.JPG" width="501" height="319" /></a> <br />
</p><p>Scheduler maintains task loading of its managed DSP cores using the number of queued tasks on these cores. At the initial phase, all the managed cores have zero task queued. When a task is assigned to a core, its task count is incremented by one. When processed output from a core is picked up, its task count is decremented by one.
</p><p>According to the task loading maintained as above, the scheduler in MCSDK Video host application picks up the least busy core for task dispatch starting from the first core.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Operation_Details_for_Threads"><b>Operation Details for Threads</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=10" title="Edit section: Operation Details for Threads">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>With major components described as above for the MCSDK Video host application, this section presents the operation details for the four threads of the video host application. <br />
</p>
<hr />
<h3><span id="Input_Thread_(File_Reader_Thread)"></span><span class="mw-headline" id="Input_Thread_.28File_Reader_Thread.29">Input Thread (File Reader Thread)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=11" title="Edit section: Input Thread (File Reader Thread)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>Calling Sequence of Input Thread</dt></dl>
<ul><li>Allocate x86 input buffer from input buffer pool and place into Frame Descriptor</li>
<li>Process iteration, file, and frame indices and open the correct input file</li>
<li>Read from input file into input buffer</li>
<li>If frame size met, or file ended, call scheduler to get destination node (i.e., DSP core), and send frame descriptor over the input pipe, else continue to allocate new input buffers</li></ul>
<p><br />
</p>
<dl><dt>Configuration of Input Thread</dt></dl>
<ul><li>Pipe descriptor</li>
<li>Buffer pool handle</li>
<li>Number of iterations, files, and frames</li>
<li>Size of frame to read before sending over pipe</li></ul>
<p><br />
</p>
<hr />
<h3><span class="mw-headline" id="DeviceIO_TX_Thread">DeviceIO TX Thread</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=12" title="Edit section: DeviceIO TX Thread">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>Calling Sequence of DeviceIO TX Thread</dt></dl>
<ul><li>Read message from the input pipe (Blocking); Pipe message contains frame descriptor, device ID, node ID, and frame ID.</li>
<li>Look up node in instance</li>
<li>Allocate Input DeviceIO descriptor (=&gt; allocate device memory ), copy in frame descriptor</li>
<li>Allocate Output DeviceIO descriptor (=&gt; allocate device memory )</li>
<li>If output device buffer is in PCIe memory, allocate Output frame descriptor</li>
<li>Provide input frame to DSP (map or DMA), and map output frame if needed.</li>
<li>If input device buffer is not in PCIe memory, free input frame descriptor</li>
<li>Compose mailbox message</li>
<li>Poll for DMA completion. Yield between polls</li>
<li>Send mailbox message to DSP node</li>
<li>If no free buffers, yield, then try again. (Similar to DMA polling)</li></ul>
<p>[note: need to add details for device memory. need to have separate description for mapping and DMA]
</p><p><br />
</p>
<hr />
<h3><span class="mw-headline" id="DeviceIO_RX_Thread">DeviceIO RX Thread</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=13" title="Edit section: DeviceIO RX Thread">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>Calling Sequence of DeviceIO RX Thread</dt></dl>
<ul><li>Query mailboxes to find a node to unload</li>
<li>Read mailbox message</li>
<li>Find Input DeviceIO descriptor, based on freeBufIdD</li>
<li>If input was mapped to PCIe memory, free input frame descriptor buffers</li>
<li>Free Input DeviceIO descriptor and corresponding device buffer</li>
<li>Find Output DeviceIO descriptor based on outBufPtr</li>
<li>If output device buffer is not in PCIe space, allocate output frame descriptor.</li>
<li>Get output frame buffers from device. (Start DMA if needed, nothing if mapped)</li>
<li>Poll for DMA completion. Yield if not.</li>
<li>Call scheduler to unload node.</li>
<li>Place output frame in reorder queue.</li>
<li>Free Output DeviceIO descriptor, and corresponding device buffer.</li></ul>
<p>[note: need to add details for device memory. need to have separate description for mapping and DMA]
</p><p><br />
</p>
<hr />
<h3><span id="FrameOverlay_Thread_(review)"></span><span class="mw-headline" id="FrameOverlay_Thread_.28review.29">FrameOverlay Thread (review)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=14" title="Edit section: FrameOverlay Thread (review)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>Calling Sequence of FrameOverlay Thread</dt></dl>
<ul><li>Get frame descriptor from Input Thread</li>
<li>Get Alg. metaData descriptor from Reorder Queue</li>
<li>Overlays metaData on frame Data and pass modified frame to Output Thread,</li></ul>
<p><br />
</p>
<dl><dt>Configuration of FrameOverlay Thread</dt></dl>
<ul><li>Reorder queue handle</li>
<li>Input thread, Reorder Queue and Output Thread pipe port information.</li>
<li>Algorithm Type and needs custom implementation of frameOverlay logic for any new algorithm.</li></ul>
<p><br />
</p>
<hr />
<h3><span id="Output_Thread_(File_Writer_or_Display_Thread)"></span><span class="mw-headline" id="Output_Thread_.28File_Writer_or_Display_Thread.29">Output Thread (File Writer or Display Thread)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=15" title="Edit section: Output Thread (File Writer or Display Thread)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>Calling Sequence of Output Thread</dt></dl>
<ul><li>Get frame descriptor from Reorder Queue</li>
<li>Process iteration, file, frame, and tile counts to get correct output file</li>
<li>Write frame to file and free frame descriptor buffers, or display frames</li></ul>
<p><br />
</p>
<dl><dt>Configuration of Output Thread</dt></dl>
<ul><li>Reorder queue handle</li>
<li>Number of iterations, files, and frames</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Developing_Video_Demos_on_Quad_C6678_PCIe_card"><b>Developing Video Demos on Quad C6678 PCIe card</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=16" title="Edit section: Developing Video Demos on Quad C6678 PCIe card">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section discusses the memory usage when developing video demos on Quad C6678 PCIe card. It will also go over the data flow for H264HP encoding and JPEG2000 decoding demos.
</p><p><br />
</p>
<hr />
<h3><span class="mw-headline" id="Memory_Usage_on_Quad_C6678_PCIe_card">Memory Usage on Quad C6678 PCIe card</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=17" title="Edit section: Memory Usage on Quad C6678 PCIe card">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Quad C6678 PCIe card contains four C6678 DSP chips. As shown below, each core has its local L1 and L2 memory. Each chip has 4MB of MSMC and 1GB of dedicated DDR memory which is not available to the other chips. Each chip also has a 256 MB memory range which can be mapped to the memory of other devices connected through PCIe. In this demo, all C6678 devices map 128MB (0x60000000 – 0x67FFFFFF) of this memory space to the same global host x86 memory. This provides a global shared memory region which is available to both the host and all C6678 DSPs. <br /> <a href="File_Memory_Overview.html" class="image" title="Memory_Overview.PNG"><img alt="Memory_Overview.PNG" src="https://processors.wiki.ti.com/images/b/b8/Memory_Overview.PNG" width="616" height="344" /></a> <br />
</p><p>Furthermore, the Global Shared Memory is divided into multiple regions to allow data exchange between the x86 host and DSPs and communication between DSPs.
</p>
<ol><li>Shared Memory (0x60000000 – 0x61FFFFFF): this area is used for communication between DSPs. The IVIDMC multichip implementation uses this area for shared memory and software barriers.</li>
<li>Codec Output Scratch: (0x62000000 – 0x62FFFFFF): this area is divided between all cores and is used for the output of the encoding algorithm. Once all cores have finished processing, the master core will accumulate the outputs generated here to be placed in a host supplied buffer.</li>
<li>Host I/O Buffers ( 0x63000000 – 0x66FFFFFF): this area is owned by the host which will divide it into input and output buffers. The host writes data to the input buffer, supplies an input and output buffer pointer to the master core, and will read the output once the processing is complete.</li>
<li>DMA Buffers (0x67000000 – 0x67FFFFFF): this memory region is used by the host when it triggers DMA transfers into the DDR memory on the DSPs.</li></ol>
<p><br /> <a href="File_Memory_Global_Shared1.html" class="image" title="Memory_Global_Shared1.PNG"><img alt="Memory_Global_Shared1.PNG" src="https://processors.wiki.ti.com/images/7/71/Memory_Global_Shared1.PNG" width="681" height="132" /></a> <br />
</p><p><br />
</p>
<hr />
<h3><span class="mw-headline" id="Data_Flow_of_H264HP_Encoding">Data Flow of H264HP Encoding</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=18" title="Edit section: Data Flow of H264HP Encoding">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Data flow of H264HP encoding is described as below. DSP operations are differentiated using the italic text.&#160;
</p>
<ol><li>Host [Input Thread] allocates an input buffer from the Contiguous x86 Input Buffer Pool.</li>
<li>Host [Input Thread] writes input frame to input buffer and send the buffer information over pipe to the DeviceIO Tx Thread.</li>
<li><i>Initially, all slave cores are waiting on a barrier for master core to enter the barrier while master core is polling on mailbox waiting to receive a host message requesting Encode.</i></li>
<li>Host [DeviceIO Tx Thread] allocates output buffers from the output c66 DDR Buffer Pool.</li>
<li>Host [DeviceIO Tx Thread] send message to master core with input and output buffer pointers and an input ID.</li>
<li><i>Master core writes input buffer pointer to Shared Memory region and enters the software barrier, thus releasing the slave cores from the barrier.</i></li>
<li><i>Slave cores acquire input pointer from Shared Memory region.</i></li>
<li><i>All cores exit out of Barrier and process the input and write their output to the Codec Output Scratch region.</i></li>
<li><i>Master core accumulates each core’s output and writes it to the output buffer pointer that was supplied by the host.</i></li>
<li><i>Master core sends a message to the host with output buffer pointer, output ID, and 0 or more input IDs corresponding to input buffers which can be freed.</i></li>
<li>Host [DeviceIO Rx Thread] queries master core's mailbox to get the message for the processed frame.</li>
<li>Host [DeviceIO Rx Thread] frees any input buffers (both x86 and c66 PCIe buffers) as indicated by the message from the master core.</li>
<li>Host [DeviceIO Rx Thread] allocates output x86 buffers. The number of buffers allocated is determined by the size of the output c66 DDR buffers.</li>
<li>Host [DeviceIO Rx Thread] triggers the DMA from the output c66 DDR buffer to the output x86 buffer.</li>
<li>Host [DeviceIO Rx Thread] polls for the DMA transfer to be complete.</li>
<li>Host [DeviceIO Rx Thread] frees the output c66 DDR buffer.</li>
<li>Host [DeviceIO Rx Thread] places output frame into the Reorder Queue.</li>
<li>Host [Output Thread] reads output from output x86 buffer pointer, frees output buffer.</li></ol>
<p><br />
</p>
<hr />
<h3><span class="mw-headline" id="Data_Flow_of_JPEG2000_Decoding">Data Flow of JPEG2000 Decoding</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=19" title="Edit section: Data Flow of JPEG2000 Decoding">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Data flow of JPEG2000 decoding is described as below. DSP operations are differentiated using the italic text. [need to add details] <br />
</p>
<ol><li>Host [Input Thread] allocates an input buffer from the Contiguous x86 Input Buffer Pool, and writes input frame to the input buffer&#160;</li>
<li>Host [Input Thread] gets the destination core and DSP from the Scheduler, and sends the buffer and desitnation core information over pipe to the DeviceIO Tx Thread corresponding to the designated DSP.</li>
<li><i>Initially, all cores are polling on mailbox waiting to receive a host message requesting Decode.</i></li>
<li>Host [DeviceIO Tx Thread] receives the message over pipe and allocates an input and output buffer from the c66 DDR Buffer Pools and triggers a DMA transfer from the input x86 buffer to the input c66 DDR buffer.</li>
<li>Host [DeviceIO Tx Thread] polls for the DMA transfer to be complete.</li>
<li>Host [DeviceIO Tx Thread] frees the input x86 buffer.</li>
<li>Host [DeviceIO Tx Thread] send message to the designated core with input and output buffer pointers and an input ID.</li>
<li><i>Core receives the mailbox message and decodes the input c66 DDR buffer and writes the output to the output c66 DDR buffer.</i></li>
<li><i>Core sends a message to the host with output buffer pointer, output ID, and 0 or more input IDs corresponding to input c66 DDR buffers which can be freed.</i></li>
<li>Host [DeviceIO Rx Thread] queries each core's mailbox to get the message for the processed frame.</li>
<li>Host [DeviceIO Rx Thread] frees the input c66 DDR buffer.</li>
<li>Host [DeviceIO Rx Thread] allocates output x86 buffers. The number of buffers allocated is determined by the size of the output c66 DDR buffers.<br /></li>
<li>Host [DeviceIO Rx Thread] triggers the DMA from the output c66 DDR buffer to the output x86 buffer.&#160;</li>
<li>Host [DeviceIO Rx Thread] polls for the DMA transfer to be complete.</li>
<li>Host [DeviceIO Rx Thread] frees the output c66 DDR buffer.</li>
<li>Host [DeviceIO Rx Thread] places output frame into the Reorder Queue.</li>
<li>Host [Output Thread] reads output from output x86 buffer pointer, frees output buffer</li></ol>
<p><br />
</p>
<h1><span class="mw-headline" id="MCSDK_Video_DSP_Development">MCSDK Video DSP Development</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=20" title="Edit section: MCSDK Video DSP Development">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>MCSDK Video DSP build has been developed to facilitate the development and testing of video, audio, and image Codecs. Standardized XDM compliant wrappers are provided to exercise codec APIs, with various pre-integrated video codecs as the example. Specifically, this section provides information about
</p>
<ul><li>Framework Folders and Make Instructions</li>
<li>Integrating New Codec in MCSDK Video DSP Build</li>
<li>Cache Usage</li>
<li>Multi Core Video Interface APIs</li></ul>
<h2><span class="mw-headline" id="Framework_Folders_and_Make_Instructions"><b>Framework Folders and Make Instructions</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=21" title="Edit section: Framework Folders and Make Instructions">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Framework_Folders">Framework Folders</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=22" title="Edit section: Framework Folders">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following table lists the folders required for building Codec Codec Framework. It also highlights the folders which users expect to change when plugging in a new XDM compliant codec in the framework.
</p>
<table id="codectestfwfolder" style="width: 75%; height: 212px" border="1">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Top Level Folder</b>
</td>
<td bgcolor="#c0c0c0"><b>Brief Description</b>
</td>
<td bgcolor="#c0c0c0"><b>Users Expected to Change?</b>
</td></tr>
<tr>
<td>\dsp
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>
</td>
<td>Build related perl files
</td>
<td>NO
</td></tr>
<tr>
<td>
</td>
<td>Bootloader shared information with the application
</td>
<td>NO
</td></tr>
<tr>
<td>
</td>
<td>Build framework files (ggcfg)
</td>
<td><b>YES</b>
</td></tr>
<tr>
<td>
</td>
<td>Hardware Abstraction Layer
</td>
<td>NO
</td></tr>
<tr>
<td>
</td>
<td>Memory management and utilities
</td>
<td>NO
</td></tr>
<tr>
<td>
</td>
<td>Main Makefile (mkrel)
</td>
<td><b>YES for <i>setupenvMsys.sh</i></b>
</td></tr>
<tr>
<td>
</td>
<td>Network Driver Interface
</td>
<td>NO
</td></tr>
<tr>
<td>
</td>
<td>Codec and Analytics Integration Framework (siu)&#160;
</td>
<td><b>YES</b>
</td></tr>
<tr>
<td>
</td>
<td>Build Files (ggcfg\build\sv04 for codecs and ggcfg\build\sv05 for analytics)
</td>
<td><b>YES</b>
</td></tr>
<tr>
<td>\components
</td>
<td>Video components
</td>
<td>NO
</td></tr>
<tr>
<td>\inc
</td>
<td>Include files to talk to&#160;various components
</td>
<td>NO
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="Make_Instructions">Make Instructions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=23" title="Edit section: Make Instructions">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Before making the Codec Test Application, please refer to <a rel="nofollow" class="external text" href="MCSDK_VIDEO_2-9.html">Getting Started Guide</a> for details on installing the MCSDK Video and its required tools.
</p><p>When it is desired to change one (or more) of the codec or video analytics algorithms or add a new codec or video analyticsalgorithm, the following steps are needed in order to change and rebuild the DSP Applications.
</p>
<ul><li>Make a copy of <i>dsp</i> directory and modify desired files in their home directories and save.</li>
<li>Configure environment: the build directory is dsp\mkrel. Run "\dsp\mkrel\setupenvMsys.sh bypass" to configure the environment. This will check if all the required components and tools are available at the specified locations.</li>
<li>Run dsp/mkrel/makefile to build DSP code: <b>make [sv04 or sv05]</b>.</li>
<li>The build procedure will produce directory: \dsp\mkrel\[sv04 or sv05] with the following files: sv04.out, sv04.map, readme_sv04.txt for sv04 DSP build, and sv05.out, sv05.map, readme_sv05.txt for sv05 DSP build.</li></ul>
<p><br />
<br />
</p>
<table border="1">
<tbody><tr>
<td>
<div class="floatleft"><a href="File_Helpful_tips_image.html" class="image"><img alt="Helpful tips image.jpg" src="https://processors.wiki.ti.com/images/5/5c/Helpful_tips_image.jpg" width="75" height="76" /></a></div> 
<p><span style="color: Red"><b>Useful Tip</b></span>
</p><p>1. If a source debugger requires all source files to be combined into a single directory, "FLAT=YES" may be added in the make command line, which will create the directory mkrel\[sv04 or sv05]\flat containing all source and header files used for the build.
<br />
2. After making the first build, if there is no source file change in \components directory, "RTSCBYPASS=YES" may be added in the make command line, which will bypass compiling the components. If there is no source file change in dsp\ggcfg\build\hdg\[sv04 or sv05]\bios directory, "BIOSCFGPKGBYPASS=YES" may be added in the make command line, which will bypass compiling the BIOS configuration package.
</p>
</td></tr></tbody></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Integrating_New_Codec_in_MCSDK_Video_DSP_Build"><b>Integrating New Codec in MCSDK Video DSP Build</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=24" title="Edit section: Integrating New Codec in MCSDK Video DSP Build">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In MCSDK Video 2.1, all the C6678 codec available at <a rel="nofollow" class="external text" href="http://software-dl.ti.com/dsps/dsps_public_sw/codecs/C6678/index.html">C6678 Codecs</a> have been integrated. In MCSDK Video 2.2, HEVC encoder and HEVC decoder are further integrated. Please follow the following steps to add a new codec.
</p>
<h3><span class="mw-headline" id="Codec_Algorithm">Codec Algorithm</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=25" title="Edit section: Codec Algorithm">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>New Codec can be plug and play in the existing sv04 infrastructure if it is XDM 0.9 or XDM 2.0 compliant encoder or XDM 1.3 compliant decoder. For the product release of MCSDK Video, it further supports XDM 1.0 compliant video encoder and XDM 1.0 compliant video decoder, as well as XDM 1.0 compliant image encoder and XDM 1.0 compliant image decoder. If the codec is not compliant with any of the above XDM versions, XDM wrapper needs to be created using the existing three XDM wrapper as references.
</p><p>Codec algorithm source code can be compiled either via make or CCS to make a library. Once the Codec library with public API files is ready, need to add its environment to "\dsp\mkrel\setupenvMsys.sh" following the example below.
</p><p><code>
</code></p><code><pre># H264BP encoder
</pre></code><code><dl><dd>VIDEO_H264_ENC_VERSION="C66x_h264venc_01_24_00_01_ELF"</dd>
<dd>VIDEO_H264_ENC_RUNPATH="$VIDEOBASE/$VIDEO_H264_ENC_VERSION"</dd>
<dd>make_shortname "VIDEO_H264_ENC_RUNPATH"</dd>
<dd>VIDEO_H264_ENC_SRCPATH="$VIDEO_H264_ENC_RUNPATH"</dd>
<dd>check_exist "VIDEO_H264_ENC_SRCPATH" "/packages/ti/sdo/codecs/h264venc/ih264venc.h"</dd>
<dd>COPY_TOOLS_LIST="$COPY_TOOLS_LIST VIDEO_H264_ENC"</dd>
<dd>...</dd>
<dd>export VIDEO_H264_ENC_DOS="`echo $VIDEO_H264_ENC_RUNPATH | $make_dos_sed_cmd`/packages"</dd></dl></code><code></code><p><code></code>
</p><p>Then, add the new codec path to "FXDCINC" in "\dsp\mkrel\c64x\makedefs.mk", following any of the video codecs as the example from the code below:
</p><p><code>
</code></p><p><code>FXDCINC = $(GGROOT)/mkrel/rtsc;$(TOOLSXDCDOS)/packages;$(BIOS_MCSDK_PDK6678_DOS);$(NWAL_C66X_DOS);$(VIDEO_MPEG4_ENC_DOS);$(VIDEO_MPEG4_DEC_DOS);$(VIDEO_MPEG2_DEC_DOS);$(VIDEO_H264_ENC_DOS);$(VIDEO_H264_DEC_DOS);$(VIDEO_H264HP_DEC_DOS);$(VIDEO_AVCIU_ENC_DOS);$(VIDEO_J2K_ENC_DOS);$(VIDEO_J2K_DEC_DOS);$(DSP_INSTALL_DIR_DOS)
</code></p><p class="mw-empty-elt">
</p>
<h3><span class="mw-headline" id="Codec_Client_Glue_Code">Codec Client Glue Code</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=26" title="Edit section: Codec Client Glue Code">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In order to glue a new codec to the framework, the following files must be written and placed as indicated:
</p>
<ul><li>Decoder: vct&lt;codec&gt;DecClient.c and vct&lt;codec&gt;DecClient.h files in siu\vct\codec\decoder\codec folder</li>
<li>Encoder: vct&lt;codec&gt;EncClient.c and vct&lt;codec&gt;EncClient.h files in siu\vct\codec\encoder\codec folder</li></ul>
<p>JPEG2K decoder and H.264BP encoder client code can be referred to as example. &lt;codec&gt;encAPI and &lt;codec&gt;decAPI for the new codec must be defined according to the corresponding data structures defined in siuVctCodecAPI.h.
</p>
<h3><span class="mw-headline" id="Update_siuVctSupportedCodecs.c">Update siuVctSupportedCodecs.c</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=27" title="Edit section: Update siuVctSupportedCodecs.c">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Edit the file siuVctSupportedCodecs.c. Include the Client Glue code header file vct&lt;codec&gt;EncClient.h or vct&lt;codec&gt;DecClient.h and update the data structure encoderAPI_t or decoderAPI_t with the new API definition.
</p>
<h3><span class="mw-headline" id="Edit_makefile">Edit makefile</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=28" title="Edit section: Edit makefile">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>siu\c64x\make\makefile must be edited to include the new header files and also compile the client glue code. Search for “avciu” in this makefile and make similar changes
</p>
<h3><span class="mw-headline" id="Update_Linker_Command_File">Update Linker Command File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=29" title="Edit section: Update Linker Command File">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>ggcfg\build\hdg\sv04\ggvf0.becmd must be updated to include the new Codec library
</p>
<h3><span class="mw-headline" id="Create_Config_Files">Create Config Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=30" title="Edit section: Create Config Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Create multiClip.cfg and codecParams.cfg for the codec (under siu/vct/testVecs/&lt;codec&gt;/config), and update the codecName in the codecParams.cfg with the string name that is used in the Glue Code. To test the newly added codec, modify siu/vct/testVecs/testVecs.cfg to update the path.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Cache_Usage"><b>Cache Usage</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=31" title="Edit section: Cache Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The following describes the Cache configuration in sv04 build and the APIs available to perform cache operations such as wirteback and invalidate.
</p>
<h3><span class="mw-headline" id="Cacheability_of_DDR">Cacheability of DDR</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=32" title="Edit section: Cacheability of DDR">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Sections of DDR can be made cacheable or non-cacheable, prefetchable or non-prefetchable using the MAR registers and the granularity is 16MB. For the entire DDR of 512 MB on Shannon (0x80000000 – 0x9FFFFFFF), One 16MB DDR section (0x80000000 – 0x80FFFFFF) is configured as non-cacheable and non-prefetchable while all the other DDR sections are cacheable and prefetchable. The only non-cacheable and non-prefetchable DDR section is used for multi-core synchronization buffers for multi-core codecs. The MAR definition can be found from “TMS320C66x DSP CorePac User Guide” (Literature Number: SPRUGW0A). The DDR Cache setting can be changed by editing the file ggcfg\build\hdg\sv04\ggmemdef.bec in the structure vigdkMemoryContext_t.
</p>
<h3><span id="Cacheability_of_L1P,_L1D_and_L2"></span><span class="mw-headline" id="Cacheability_of_L1P.2C_L1D_and_L2">Cacheability of L1P, L1D and L2</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=33" title="Edit section: Cacheability of L1P, L1D and L2">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Cache configuration for L1P, L1D and L2 is done in the file ggcfg\build\hdg\sv04\ gghwcfg.h. Recommended configuration is to use HAL_L1P_CACHE_32K, HAL_L1D_CACHE_32K and HAL_L2_CACHE_64K.
</p>
<h3><span class="mw-headline" id="Cache_Control_APIs">Cache Control APIs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=34" title="Edit section: Cache Control APIs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following functions (defined in dsp\siu\osal\bios6\siuOsalBios6.c) are available to perform various cache operations. They are wrappers calling BIOS 6 Cache APIs.
</p>
<ul><li>void siu_osal_wbinv_cache_all(void);</li>
<li>void siu_osal_wbinv_cache(void *base, tulong length, bool wait);</li>
<li>void siu_osal_inv_cache(void *base, tulong length, bool wait);</li>
<li>void siu_osal_wb_cache(void *base, tulong length, bool wait);</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Multi_Core_Video_Interface_APIs"><b>Multi Core Video Interface APIs</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=35" title="Edit section: Multi Core Video Interface APIs">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>It is possible that a single DSP core (or sometimes even all the DSP cores in a single chip)&#160;may not have enough horse power to achieve real-time encode/decode. For e.g. HD resolution Encoding of H.264 takes up more than one core. HEVC Encoding at HD resolutions with broadcast quality will take up more than one chip. In such situations, we partition the encode/decode to concurrently run on multiple cores/chips. There are multiple ways to partition an algorithm and it depends upon the algorithm design. Typically, it involves either data partition (each core runs same code, but on different data) or function partition (pipeline processing, where core A runs function A, passes the results to core B that runs function B and so on) or a combination of both.&#160;
</p><p>In any of the partitioning techniques, there are a few communication primitives that are necessary for multicore/multichip communication. They are: Barriers (for fork-join operations), Locks (for global semaphores), Map and Sync (for accessing/updating shared physical memories), and Mailboxes (for point to point communication). Depending on the algorithm and partitioning technique, some or all of the above mentioned primitives would be used. The implementation of these primitivies use either shared memory or PCIe, IPC registers etc which are all platform dependent.&#160;Our intent is that the codec be agnostic to the implementation of these primitives and use these in an abstract way. The MCSDK-Video application/framework would hook-up/supply the implementation for these primitives via what we call IVIDMC interface.<span style="line-height: 1.5em;">&#160;In video codec creation phase, the actual implementation of the IVIDMC APIs is passed through codec static parameters as a set of function pointers. Then, video codec is internally using only these APIs to do inter-core/inter-chip sync-up and/or communication.</span>
</p><p>MCSDK Video provides two versions of multi-core video interface (ividmc) APIs: ividmc and ividmc3. ividmc supports multi-core within a single chip, while ividmc3 supports multi-core and multi-chip. In other words, ividmc3 is a superset of ividmc. We are maintaining ividmc for legacy reasons (H264 uses ividmc). HEVC uses ividmc3.&#160;Their corresponding API files 'ividmc.h’ and 'ividmc3.h’ are located in dsp\siu\ividmc folder. The following describes some details of ividmc3 APIs.
</p><p>Overall structure of ividmc3 APIs is as follows: <br />
</p>
<pre>typedef struct IVIDMC3_s {
XDAS_Void *(*keyCreate) (XDAS_UInt8 *name, XDAS_Int32 user_id, IVIDMC3_KEY_SPACE_e key_space,
             XDAS_Int32 num_users, XDAS_Int32 *user_ids, IVIDMC3_KeyCfg_t *cfg);
XDAS_Int32 (*barrWait)(XDAS_Int32 user_id, XDAS_Void *barrHandle);
XDAS_Int32 *(*shmMap) (XDAS_Int32 user_id, XDAS_Void *shmemHandle);
XDAS_Int32 (*shmSync)(XDAS_Int32 user_id, XDAS_Void *shmemHandle, XDAS_Int32 *shmem_base,
          XDAS_Int32 shmem_size, IVIDMC3_SYNC_ATTRIBS shmem_sync_attribs);
XDAS_Int32 (*shmSyncWait)(XDAS_Int32 user_id, XDAS_Void *shmemHandle, XDAS_Int32 *shmem_transid);
XDAS_Int32 (*lockAcquire)  (XDAS_Int32 user_id, XDAS_Void *lockHandle);
XDAS_Int32 (*lockRelease)  (XDAS_Int32 user_id, XDAS_Void *lockHandle);
XDAS_Int32 (*lockCheck)    (XDAS_Int32 user_id, XDAS_Void *lockHandle);
XDAS_Int32 (*mailBoxOpen)(XDAS_Void *mailBoxHandle);
XDAS_Int32 (*mailBoxWrite) (XDAS_Void *mailBoxHandle, XDAS_UInt8 *buf, XDAS_UInt32 size, XDAS_UInt32 trans_id);
XDAS_Int32 (*mailBoxRead) (XDAS_Void *mailBoxHandle, XDAS_UInt8 *buf, XDAS_UInt32 *size, XDAS_UInt32 *trans_id);
XDAS_Int32 (*mailBoxQuery) (XDAS_Void *mailBoxHandle);
XDAS_Int32 num_users;
IVIDMC3_TASK_e task_ID;
XDAS_Int32 user_id;
} IVIDMC3_t
</pre>
<p>Brief description of each item is as below:
</p>
<ul><li>XDAS_Int32 user_id: <br />core ID, including core ID inside the chip and also the chip ID<br /></li>
<li>IVIDMC3_TASK_e task_ID: <br />core task identification, can be global master, chip local master, or slave</li>
<li>num_users: <br />number of cores in the team, i.e., the number of cores running together for processing the same stream</li>
<li>XDAS_Void *(*keyCreate) (XDAS_UInt8 *name, XDAS_Int32 user_id, IVIDMC3_KEY_SPACE_e key_space, XDAS_Int32 num_users, XDAS_Int32 *user_ids, IVIDMC3_KeyCfg_t *cfg):<br />key assignment for Barrier, Shmem, Locks and Mailboxes; Barrier, Shmem and Locks resources are also initialized.</li>
<li>XDAS_Int32 (*barrWait)(XDAS_Int32 user_id, XDAS_Void *barrHandle):<br />function call which will block until all other users have also called it</li>
<li>XDAS_Int32 *(*shmMap) (XDAS_Int32 user_id, XDAS_Void *shmemHandle)<br />dynamically allocates shared memory region identified with handle "shmemHandle"; if region with same "shmemHandle" is already allocated, its base address is provided</li>
<li>XDAS_Int32 (*shmSync)(XDAS_Int32 user_id, XDAS_Void *shmemHandle, XDAS_Int32 *shmem_base, XDAS_Int32 shmem_size, IVIDMC3_SYNC_ATTRIBS shmem_sync_attribs):<br />synchronizes shared memory region</li>
<li>XDAS_Int32 (*shmSyncWait)(XDAS_Int32 user_id, XDAS_Void *shmemHandle, XDAS_Int32 *shmem_transid):<br />waits for synchronization operation to finish</li>
<li>XDAS_Int32 (*lockAcquire) (XDAS_Int32 user_id, XDAS_Void *lockHandle):<br />critical region lock acquire in multi-core environment; if spinlock has been succesfully acquired, this function returns 1; if same spinlock has been already acquired by another participant, this function returns 0</li>
<li>XDAS_Int32 (*lockRelease) (XDAS_Int32 user_id, XDAS_Void *lockHandle):<br />critical region lock release in multi-core environment</li>
<li>XDAS_Int32 (*lockCheck) (XDAS_Int32 user_id, XDAS_Void *lockHandle):<br />critical region lock check to see if any of the users currently have acquired the lock</li>
<li>XDAS_Int32 (*mailBoxOpen)(XDAS_Void *mailBoxHandle):&#160;<br />opens a mailBox; this is a blocking call, it waits untill the mailBox creater is ready</li>
<li>XDAS_Int32 (*mailBoxWrite) (XDAS_Void *mailBoxHandle, XDAS_UInt8 *buf, XDAS_UInt32 size, XDAS_UInt32 trans_id):<br />writes into a mailBox to deliver a message to remote; it is a non blocking call&#160;</li>
<li>XDAS_Int32 (*mailBoxRead) (XDAS_Void *mailBoxHandle, XDAS_UInt8 *buf, XDAS_UInt32 *size, XDAS_UInt32 *trans_id):<br />reads from a mailBox; it is a non blocking call</li>
<li>XDAS_Int32 (*mailBoxQuery) (XDAS_Void *mailBoxHandle):<br />polls mailBoxes for any available messages; it is a non blocking call</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Memory_Layout_for_Multichip_Partitioned_Codec"><b>Memory Layout for Multichip Partitioned Codec</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=36" title="Edit section: Memory Layout for Multichip Partitioned Codec">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section talks about how the data-sharing needs are addressed when a single codec instance is partitioned across multiple chips. It is possible that we can reserve a physically contiguous chunk of X86 memory and map that to be available in the PCIe space for all the participating chips. This definitely makes the design simple. However, there are 3 disadvantages. a) Any core to core communication with in a single chip needs to go via X86 memory, which is expensive. b) Huge demand for x86 memory foot print (it may not be available in all hosts) and c) if only 2 neighboring chips need to communicate with each other, then it is better to map one chip's DDR to the PCIe space of other chip, so at least, one chip can access local DDR.&#160;
</p>
<div class="center"><div class="floatnone"><a href="File_Chip-N-memory.html" class="image" title="Chip-N&#39;s Memory Layout in a Multichip partitioned Codec"><img alt="Chip-N&#39;s Memory Layout in a Multichip partitioned Codec" src="https://processors.wiki.ti.com/images/6/6e/Chip-N-memory.png" width="813" height="429" /></a></div></div><p>HEVC Encoder partitioning scheme requires that the input data be available to all the participating chips. While encoding, only adjacent chips need to communicate with each other. Assuming 4 chips use case, 0 &lt;--&gt; 1, 1&lt;--&gt;2, 2&lt;--&gt;3, and 3&lt;--&gt;0 need to communicate at virtual tile boundaries. The memory map shown in the above picture is designed to meet these requirements. Incoming mailboxes are placed in local DDR, where as the outgoing mailboxes are placed in PCIe space, which is mapped into the DDR of the corresponding chips. Similarly, data exchange regions are setup such that to chip N+1 is in local DDR and to chip N-1 is in PCIe mapped space. All the mailboxes to communicate between cores with in chip N and also the mailboxes to communicate with host are placed in the DDR.&#160;
</p><p>This memory placement accomplishes a) reduced memory foot print on X86 (only truly global data structures are placed on X86 memory) b) DSP to DSP shared space that is local to one of the DSPs which provides faster access for that DSP.&#160;<br />
</p>
<h2><span class="mw-headline" id="Multichip_Scheduler_and_State_Machine"><b>Multichip Scheduler and State Machine</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=37" title="Edit section: Multichip Scheduler and State Machine">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In the preceding couple of sections, we've examined the multicore/multichip communication primitives (IVIDMC interface) and the memory layout. Those two pieces are just the building blocks necessary for the algorithm .This section talks about the Scheduler and State Machine that rides on top of these building blocks. This State Machine is very application specific with insights into all the parallel sections of the algorithm and the data dependencies.&#160;
</p>
<div class="center"><div class="floatnone"><a href="File_Multichip-Scheduler.html" class="image" title="Multichip-Scheduler"><img alt="Multichip-Scheduler" src="https://processors.wiki.ti.com/images/9/97/Multichip-Scheduler.png" width="653" height="419" /></a></div></div><p><br />
</p><p>As shown in the above picture,&#160;One of the cores assumes the responsibility of being a Master (rest of the cores are slave cores). The master would look query the State Machine to identify which tasks have the data dependencies cleared for dispatch and the scheduler would dispatch those tasks via Master --&gt; Slave Mailboxes. The scheduler would also poll the mailboxes from Slave --&gt; Master, pick up the responses for dispatched tasks and update the State Machine.
</p><p><br />
</p>
<h1><span id="Integrating_Video_Analytics_Algorithms_in_MCSDK_Video_Framework_(review)"></span><span class="mw-headline" id="Integrating_Video_Analytics_Algorithms_in_MCSDK_Video_Framework_.28review.29">Integrating Video Analytics Algorithms in MCSDK Video Framework (review)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=38" title="Edit section: Integrating Video Analytics Algorithms in MCSDK Video Framework (review)">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>If you are interested in integrating Video Analytics algorithms in MCSDK Video framework, please visit <a rel="nofollow" class="external text" href="MCSDK_VIDEO_VA_2-3.html">Video Analytics Algorithm Integration Guide</a> for detailed instructions.
</p><p><br />
</p>
<h1><span class="mw-headline" id="Useful_Resources_and_Links">Useful Resources and Links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=39" title="Edit section: Useful Resources and Links">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h3><span class="mw-headline" id="Product_Download_and_Updates">Product Download and Updates</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=40" title="Edit section: Product Download and Updates">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For product download and updates, please visit the links listed in the table below.
</p>
<table style="width: 900px; height: 60px" cellspacing="0" cellpadding="0" width="900" summary="summary" border="1">

<tbody><tr>
<td bgcolor="#c0c0c0">
</td>
<td bgcolor="#c0c0c0"><b>Product Download Link</b>
</td></tr>
<tr>
<td><b>MCSDK Video (2.1 GA) Download</b>
</td>
<td><a rel="nofollow" class="external free" href="http://software-dl.ti.com/sdoemb/sdoemb_public_sw/mcsdk_video/latest/index_FDS.html">http://software-dl.ti.com/sdoemb/sdoemb_public_sw/mcsdk_video/latest/index_FDS.html</a>
</td></tr>
<tr>
<td><b>MCSDK Video (2.2 Alpha) Download</b>
</td>
<td><a rel="nofollow" class="external free" href="http://software-dl.ti.com/sdoemb/sdoemb_public_sw/mcsdk_video/02_02_00_33/index_FDS.html">http://software-dl.ti.com/sdoemb/sdoemb_public_sw/mcsdk_video/02_02_00_33/index_FDS.html</a>
</td></tr>
<tr>
<td><b>BIOS MCSDK Download</b>
</td>
<td><a rel="nofollow" class="external free" href="http://software-dl.ti.com/sdoemb/sdoemb_public_sw/bios_mcsdk/02_01_02_05/index_FDS.html">http://software-dl.ti.com/sdoemb/sdoemb_public_sw/bios_mcsdk/02_01_02_05/index_FDS.html</a>
</td></tr>
<tr>
<td><b>Desktop Linux SDK Download</b>
</td>
<td><a rel="nofollow" class="external free" href="http://software-dl.ti.com/sdoemb/sdoemb_public_sw/desktop_linux_sdk/01_00_00_07/index_FDS.html">http://software-dl.ti.com/sdoemb/sdoemb_public_sw/desktop_linux_sdk/01_00_00_07/index_FDS.html</a>
</td></tr>
<tr>
<td><b>C6678 Codec Download</b>
</td>
<td><a rel="nofollow" class="external free" href="http://software-dl.ti.com/dsps/dsps_public_sw/codecs/C6678/index.html">http://software-dl.ti.com/dsps/dsps_public_sw/codecs/C6678/index.html</a>
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="MCSDK_Video_Instructions">MCSDK Video Instructions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=41" title="Edit section: MCSDK Video Instructions">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Please visit the links below to install MCSDK Video, run the video demos, and get the details on how the MCSDK Video demos are developed.
</p>
<table style="width: 850px; height: 60px" cellspacing="0" cellpadding="0" width="850" summary="summary" border="1">

<tbody><tr>
<td bgcolor="#c0c0c0">
</td>
<td bgcolor="#c0c0c0"><b>Wiki Links</b>
</td></tr>
<tr>
<td><b>Getting Started Guide for PCIe demos</b>
</td>
<td><a rel="nofollow" class="external text" href="MCSDK_VIDEO_2-12.html">MCSDK Video Getting Started for PCIe based Demos</a> <br /><a rel="nofollow" class="external text" href="Desktop-linux-sdk_01.00-3.html">Desktop Linux SDK Getting Started</a>
</td></tr>
<tr>
<td><b>Getting Started Guide for TFTP demos</b>
</td>
<td><a rel="nofollow" class="external text" href="MCSDK_VIDEO_2-13.html">MCSDK Video Getting Started for TFTP based Demos</a>
</td></tr>
<tr>
<td><b>Development Guide</b>
</td>
<td><a rel="nofollow" class="external text" href="MCSDK_VIDEO_2-11.html">MCSDK Video Development Guide</a>
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="Technical_Support">Technical Support</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;section=42" title="Edit section: Technical Support">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For technical discussions and issues, please visit the links listed in the table below.
</p>
<table style="width: 800px; height: 60px" cellspacing="0" cellpadding="0" width="800" summary="summary" border="1">

<tbody><tr>
<td bgcolor="#c0c0c0">
</td>
<td bgcolor="#c0c0c0"><b>Forum/Wiki Link</b>
</td></tr>
<tr>
<td><b>C66x Multicore forum</b>
</td>
<td><a rel="nofollow" class="external free" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/f/639.aspx">http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/f/639.aspx</a>
</td></tr>
<tr>
<td><b>Multimedia Software Codecs forum</b>
</td>
<td><a rel="nofollow" class="external free" href="http://e2e.ti.com/support/embedded/multimedia_software_codecs/default.aspx">http://e2e.ti.com/support/embedded/multimedia_software_codecs/default.aspx</a>
</td></tr>
<tr>
<td><b>TI-RTOS forum</b>
</td>
<td><a rel="nofollow" class="external free" href="http://e2e.ti.com/support/embedded/f/355.aspx">http://e2e.ti.com/support/embedded/f/355.aspx</a>
</td></tr>
<tr>
<td><b>Code Composer Studio forum</b>
</td>
<td><a rel="nofollow" class="external free" href="http://e2e.ti.com/support/development_tools/code_composer_studio/f/81/t/3131.aspx">http://e2e.ti.com/support/development_tools/code_composer_studio/f/81/t/3131.aspx</a>
</td></tr>
<tr>
<td><b>TI C/C++ Compiler forum</b>
</td>
<td><a rel="nofollow" class="external free" href="http://e2e.ti.com/support/development_tools/compiler/f/343/t/34317.aspx">http://e2e.ti.com/support/development_tools/compiler/f/343/t/34317.aspx</a>
</td></tr>
<tr>
<td><b>Embedded Processors wiki</b>
</td>
<td><a href="Main_Page.html" title="Main Page">http://processors.wiki.ti.com</a>
</td></tr></tbody></table>
<p><img alt="Note" src="https://processors.wiki.ti.com/images/b/b0/Light_bulb_icon.png" title="Note" width="18" height="25" /><b>Note:</b> When asking for help in the forum you should tag your posts in the Subject with “MCSDK VIDEO”, the part number (e.g. “C6678”) and additionally the component (e.g. “NWAL”).
</p><p><br /> <br />
</p>
<!-- 
NewPP limit report
Cached time: 20201130223919
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.131 seconds
Real time usage: 0.141 seconds
Preprocessor visited node count: 198/1000000
Preprocessor generated node count: 317/1000000
Post‐expand include size: 1504/2097152 bytes
Template argument size: 1328/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.514      1 -total
 47.04%    1.653      1 Template:UsefulTip
 44.45%    1.562      1 Template:Note
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:33495-0!canonical and timestamp 20201130223919 and revision id 172745
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>MCSDK VIDEO VA 2.x Development Guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>MCSDK VIDEO VA 2.x Development Guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>MCSDK VIDEO VA 2.x Development Guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>MCSDK VIDEO VA 2.x Development Guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>MCSDK VIDEO VA 2.x Development Guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>MCSDK VIDEO VA 2.x Development Guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>MCSDK VIDEO VA 2.x Development Guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>MCSDK VIDEO VA 2.x Development Guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>MCSDK VIDEO VA 2.x Development Guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;oldid=172745">https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;oldid=172745</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=MCSDK+VIDEO+VA+2.x+Development+Guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="MCSDK_VIDEO_VA_2.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="MCSDK_VIDEO_VA_2.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/MCSDK_VIDEO_VA_2.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/MCSDK_VIDEO_VA_2.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;oldid=172745" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=MCSDK_VIDEO_VA_2.x_Development_Guide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 9 April 2014, at 16:05.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.131","walltime":"0.141","ppvisitednodes":{"value":198,"limit":1000000},"ppgeneratednodes":{"value":317,"limit":1000000},"postexpandincludesize":{"value":1504,"limit":2097152},"templateargumentsize":{"value":1328,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    3.514      1 -total"," 47.04%    1.653      1 Template:UsefulTip"," 44.45%    1.562      1 Template:Note"]},"cachereport":{"timestamp":"20201130223919","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":229});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/MCSDK_VIDEO_VA_2.x_Development_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 09:50:02 GMT -->
</html>
