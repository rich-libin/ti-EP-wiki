<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/DaVinci_PSP_3.02_Linux_Installation_User_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:41:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>DaVinci PSP 03.02 Linux Installation User Guide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"DaVinci_PSP_03.02_Linux_Installation_User_Guide","wgTitle":"DaVinci PSP 03.02 Linux Installation User Guide","wgCurRevisionId":67139,"wgRevisionId":67139,"wgArticleId":3841,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["DaVinci Linux"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"DaVinci_PSP_03.02_Linux_Installation_User_Guide","wgRelevantArticleId":3841,"wgRequestId":"d9dfbf1ac4985a339ab2e8bc","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgRedirectedFrom":"DaVinci_PSP_3.02_Linux_Installation_User_Guide","wgInternalRedirectTargetUrl":"/index.php/DaVinci_PSP_03.02_Linux_Installation_User_Guide"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.action.view.redirect","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="canonical" href="DaVinci_PSP_03-2.html"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-DaVinci_PSP_03_02_Linux_Installation_User_Guide rootpage-DaVinci_PSP_03_02_Linux_Installation_User_Guide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">DaVinci PSP 03.02 Linux Installation User Guide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"><span class="mw-redirectedfrom">(Redirected from <a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_3.02_Linux_Installation_User_Guide&amp;redirect=no" class="mw-redirect" title="DaVinci PSP 3.02 Linux Installation User Guide">DaVinci PSP 3.02 Linux Installation User Guide</a>)</span></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><a href="File_TIBanner.html" class="image"><img alt="TIBanner.png" src="https://processors.wiki.ti.com/images/c/cd/TIBanner.png" width="667" height="87" /></a> 
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Document_License"><span class="tocnumber">1</span> <span class="toctext">Document License</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#DaVinci_PSP_Overview"><span class="tocnumber">2</span> <span class="toctext">DaVinci PSP Overview</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Downloading_the_Release"><span class="tocnumber">2.1</span> <span class="toctext">Downloading the Release</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#System_Requirements"><span class="tocnumber">2.2</span> <span class="toctext">System Requirements</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#DaVinci_PSP_3.02_Installation_on_DM6467_and_DM6467T_EVM"><span class="tocnumber">3</span> <span class="toctext">DaVinci PSP 3.02 Installation on DM6467 and DM6467T EVM</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Flashing_DM6467_and_DM6467T_EVM_using_NAND_Writer_utilities_.28CCS_environment.29"><span class="tocnumber">3.1</span> <span class="toctext">Flashing DM6467 and DM6467T EVM using NAND Writer utilities (CCS environment)</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Flashing_DM6467_and_DM6467T_EVM_using_Serial_flash_utilities"><span class="tocnumber">3.2</span> <span class="toctext">Flashing DM6467 and DM6467T EVM using Serial flash utilities</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Migration_to_DaVinci_PSP_3.02"><span class="tocnumber">4</span> <span class="toctext">Migration to DaVinci PSP 3.02</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Baseport_SoC.2C_EVM_support"><span class="tocnumber">4.1</span> <span class="toctext">Baseport SoC, EVM support</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Setting_up_U-Boot_Environment_for_DM6467_EVM"><span class="tocnumber">4.1.1</span> <span class="toctext">Setting up U-Boot Environment for DM6467 EVM</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Setting_up_U-Boot_Environment_for_DM6467T_EVM"><span class="tocnumber">4.1.2</span> <span class="toctext">Setting up U-Boot Environment for DM6467T EVM</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#EDMA"><span class="tocnumber">4.2</span> <span class="toctext">EDMA</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#GPIO"><span class="tocnumber">4.3</span> <span class="toctext">GPIO</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Video_drivers"><span class="tocnumber">4.4</span> <span class="toctext">Video drivers</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Video_capture"><span class="tocnumber">4.4.1</span> <span class="toctext">Video capture</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Video_display"><span class="tocnumber">4.4.2</span> <span class="toctext">Video display</span></a>
<ul>
<li class="toclevel-4 tocsection-17"><a href="#Change_in_Video_display_connector_between_DM6467_EVM_and_DM6467T_EVM"><span class="tocnumber">4.4.2.1</span> <span class="toctext">Change in Video display connector between DM6467 EVM and DM6467T EVM</span></a></li>
<li class="toclevel-4 tocsection-18"><a href="#Change_in_Video_capture_between_DM6467T_EVM_Rev_C_and_earlier_revisions"><span class="tocnumber">4.4.2.2</span> <span class="toctext">Change in Video capture between DM6467T EVM Rev C and earlier revisions</span></a></li>
<li class="toclevel-4 tocsection-19"><a href="#Change_from_LSP_2.00"><span class="tocnumber">4.4.2.3</span> <span class="toctext">Change from LSP 2.00</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-20"><a href="#VDCE"><span class="tocnumber">4.4.3</span> <span class="toctext">VDCE</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href="#PCI_Host_Driver"><span class="tocnumber">4.5</span> <span class="toctext">PCI Host Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#PCI_Host_Driver_Known_Issues"><span class="tocnumber">4.5.1</span> <span class="toctext">PCI Host Driver Known Issues</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-23"><a href="#PCI_Boot"><span class="tocnumber">4.6</span> <span class="toctext">PCI Boot</span></a>
<ul>
<li class="toclevel-3 tocsection-24"><a href="#U-Boot_known_issues_with_PCI_Boot"><span class="tocnumber">4.6.1</span> <span class="toctext">U-Boot known issues with PCI Boot</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-25"><a href="#CIR_Driver"><span class="tocnumber">4.7</span> <span class="toctext">CIR Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="#Programming_the_universal_remote_control"><span class="tocnumber">4.7.1</span> <span class="toctext">Programming the universal remote control</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Sample_code_for_CIR_driver"><span class="tocnumber">4.7.2</span> <span class="toctext">Sample code for CIR driver</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-28"><a href="#Audio_Driver"><span class="tocnumber">4.8</span> <span class="toctext">Audio Driver</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Document_License">Document License</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=1" title="Edit section: Document License">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This work is licensed under the Creative Commons Attribution-Share Alike 3.0 United States License. To view a copy of this license, visit <a rel="nofollow" class="external free" href="http://creativecommons.org/licenses/by-sa/3.0/us/">http://creativecommons.org/licenses/by-sa/3.0/us/</a> or send a letter to Creative Commons, 171 Second Street, Suite 300, San Francisco, California, 94105, USA.
</p>
<h1><span class="mw-headline" id="DaVinci_PSP_Overview">DaVinci PSP Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=2" title="Edit section: DaVinci PSP Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This is the installation guide for DaVinci PSP 3.02 - open source community based PSP release. DaVinci PSP 3.02 release supports DaVinci DM6467 and DM6467T SoC and the EVM. The PSP release includes following components:
</p>
<ul><li>DaVinci Linux Kernel version 2.6.31-rc7 with the support for DM6467 and DM6467T device (baseport and device drivers)</li>
<li>Arago filesystem version 2009.05. More information on Arago file system available at the <a rel="nofollow" class="external text" href="http://www.arago-project.org/">Arago website</a></li>
<li>Secondary bootloader - U-Boot 2009.08-rc0 with the support for DM6467 device</li>
<li>Primary bootloader - User Boot Loader (UBL) for NAND boot mode</li>
<li>Serial flash utilities and CCS based NAND Writer utilities</li>
<li>The Pre-built binaries for Kernel, Filesystem and U-Boot are compiled using CodeSourcery GNU Toolchain for ARM Processors: <a rel="nofollow" class="external text" href="http://www.codesourcery.com/sgpp/lite/arm/portal/release313">2007q3-51 version</a></li>
<li>The Pre-built binaries for UBL and NAND Writer utilities are compiled using Code Composer Studio (CCS) 3.3.38 installed on Windows XP with Service Pack 2</li>
<li>The Pre-built binary for Serial flash utility is compiled using CodeSourcery GNU Toolchain and <a rel="nofollow" class="external text" href="http://www.mono-project.com/Downloads">Mono Framwork</a></li></ul>
<h2><span class="mw-headline" id="Downloading_the_Release">Downloading the Release</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=3" title="Edit section: Downloading the Release">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Please refer to the DaVinci PSP 3.02 Beta Release at  <a href="DaVinci_PSP_03-15.html" class="mw-redirect" title="DaVinci PSP 03.02 Beta Release Notes">DaVinci PSP 03.02 Beta Release Notes</a>
</p>
<h2><span class="mw-headline" id="System_Requirements">System Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=4" title="Edit section: System Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Building and running all of the PSP components requires both a Windows XP and a Linux machine. 
</p><p>The Windows XP (with Service Pack 2) machine is required for running CCS 3.3.38. CCS is required for building the UBL and NAND Writer utilities. NAND Writer should be executed in CCS environment to program UBL and U-Boot binaries on to the NAND device on the EVM.
</p><p>Linux host is required for compiling U-Boot, Linux kernel and filesystem in the Arago Build environment. Linux host can also be used to host the TFTP server (for downloading images) and NFS server (for the root filesystem).
</p>
<h1><span class="mw-headline" id="DaVinci_PSP_3.02_Installation_on_DM6467_and_DM6467T_EVM">DaVinci PSP 3.02 Installation on DM6467 and DM6467T EVM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=5" title="Edit section: DaVinci PSP 3.02 Installation on DM6467 and DM6467T EVM">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span id="Flashing_DM6467_and_DM6467T_EVM_using_NAND_Writer_utilities_(CCS_environment)"></span><span class="mw-headline" id="Flashing_DM6467_and_DM6467T_EVM_using_NAND_Writer_utilities_.28CCS_environment.29">Flashing DM6467 and DM6467T EVM using NAND Writer utilities (CCS environment)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=6" title="Edit section: Flashing DM6467 and DM6467T EVM using NAND Writer utilities (CCS environment)">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>For flashing the DaVinci DM6467 and DM6467T EVM using NAND Writer utilities, refer to the instructions provided <a href="DM6467_EVM_Installation.html#Flashing_UBL_to_NAND" title="DM6467 EVM Installation">here</a>. The pre-built binaries for NAND Writer, UBL and U-Boot can be downloaded from the link specified in the release notes.
</p>
<h2><span class="mw-headline" id="Flashing_DM6467_and_DM6467T_EVM_using_Serial_flash_utilities">Flashing DM6467 and DM6467T EVM using Serial flash utilities</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=7" title="Edit section: Flashing DM6467 and DM6467T EVM using Serial flash utilities">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>For flashing the DaVinci DM6467 and DM6467T EVM using Serial Flash utilities, refer to the instructions provided <a href="Serial_Boot_and_Flash_Loading_Utility.html" title="Serial Boot and Flash Loading Utility">here</a>. The pre-built binaries for Serial Flash, UBL and U-Boot can be downloaded from the link specified in the release notes.
</p>
<h1><span class="mw-headline" id="Migration_to_DaVinci_PSP_3.02">Migration to DaVinci PSP 3.02</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=8" title="Edit section: Migration to DaVinci PSP 3.02">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This section provides details on the migration path for customers using Montavista Professional Edition 5.0 based LSP releases (LSP 2.00 is the latest supporting DaVinci DM6467 device).
</p><p>Montavista Pro 5.0 based LSP 2.00 release used the kernel version 2.6.18. DaVinci PSP 3.02 is the first step to get closer to the Open Source Kernel version (kernel.org). DaVinci PSP 3.02 release uses 2.6.31-rc5 Kernel.
</p><p>There are generic changes in the core part of the kernel in 2.6.31-rc5, compared to 2.6.18. The baseport (architecture) for DaVinci SoC's have been re-arranged after reviewing the architecture with ARM sub-system maintainers. Other changes are mainly in the sub-system specific core code (e.g. V4L2, USB, MMC/SD, ALSA/Sound). For e.g. V4L2 sub-system introduced the framework called sub-device model to be used as an interface between Capture driver and the decoder drivers. Details on the DaVinci specific device drivers are given below.
</p>
<h2><span id="Baseport_SoC,_EVM_support"></span><span class="mw-headline" id="Baseport_SoC.2C_EVM_support">Baseport SoC, EVM support</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=9" title="Edit section: Baseport SoC, EVM support">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>DaVinci PSP 3.02 release re-arranged the DaVinci architecture (arch/arm/mach-davinci) to clearly separate SoC specific and EVM/Board specific details, with the goal to re-use the common drivers across multiple SoCs. The baseport has a better pinmux, interrupt and EDMA event mux capabilities and better clock structures. The kernel also brings in stricter adherence to clock framework and modules for which there are no requests to enable the clocks will be kept disabled. So, modules like HDVICP which were being left enabled in MontaVista based kernels will not be enabled in this kernel. The header files have also been re-arranged and moved to arch/arm/mach-davinci/include/mach folder (used to be in include/asm-arm/arch-davinci folder).
</p>
<h3><span class="mw-headline" id="Setting_up_U-Boot_Environment_for_DM6467_EVM">Setting up U-Boot Environment for DM6467 EVM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=10" title="Edit section: Setting up U-Boot Environment for DM6467 EVM">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>By default U-Boot assumes 33MHz reference clock so the binary can be directly used on DM6467T EVM. While on existing DM6467 EVMs, an environment variable 'clkref' needs to be set as these boards have different clock input. Thus, on existing DM6467 EVMs clkref should be set to 27MHz by using following command sequence: 
</p>
<pre> setenv clkref 27000000
 saveenv
 reset 
</pre>
<p><br />
Note that the 'reset' is required to ensure that U-Boot uses new clock reference value (saved to persistent storage using 'saveenv').
</p><p>Note: clkref value setting is required to display correct ARM and DSP frequency. This will not affect any performance except showing wrong ARM and DSP frequencies in u-boot.
</p>
<h3><span class="mw-headline" id="Setting_up_U-Boot_Environment_for_DM6467T_EVM">Setting up U-Boot Environment for DM6467T EVM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=11" title="Edit section: Setting up U-Boot Environment for DM6467T EVM">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>By default U-Boot assumes 33MHz reference clock so the binary can be directly used on DM6467T EVM.
</p>
<h2><span class="mw-headline" id="EDMA">EDMA</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=12" title="Edit section: EDMA">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>DaVinci PSP 3.02 release re-designed the EDMA driver (set of kernel APIs for use by other device drivers) by cleaning up unused structures and APIs and also renaming almost all APIs.
</p>
<ul><li>davinci_request_dma changed to edma_alloc_channel. The new API does not require dev_name, channel and tcc to be passed. The allocated channel number is returned back to the caller. TCC and PaRAM allocation is handled by other APIs.</li>
<li>davinci_set_dma_src_params changed to edma_set_src; davinci_set_dma_sest_params changed to edma_set_dest</li>
<li>davinci_set_dma_src_index changed to edma_set_src_index; davinci_set_dma_dest_index changed to edma_set_dest_index</li>
<li>davinci_set_dma_transfer_params changed to edma_set_transfer_params</li>
<li>davinci_get_dma_params has been changed to edma_read_slot. davinci_set_dma_params has been changed to edma_write_slot. The argument should be "struct edmacc_param" (changed from struct paramentry_descriptor). TCC can be set using edma_write_slot and setting the TCC in the edma_param structure. Currently one-to-one mapping (of TCC to the channel) is allowed in the EDMA in the driver.</li>
<li>davinci_start_dma changed to edma_start; davinci_stop_dma changed to edma_stop</li>
<li>davinci_dma_link_lch changed to edma_link</li>
<li>New APIs added to allocate/free PaRAM entries - edma_alloc_slot and edma_free_slot. If PaRAM allocation API is not called the driver assumes one-to-one mapping of PaRAM slots</li>
<li>For davinci_free_dma, the new EDMA driver expects to call edma_clean_channel, edma_free_slot and then edma_free_channel</li></ul>
<h2><span class="mw-headline" id="GPIO">GPIO</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=13" title="Edit section: GPIO">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>GPIO driver has been rewritten to use the GPIO core infrastructure from the kernel. However there are no major changes to the APIs (back-end communication with the interrupts are handled with GPIO core).
</p>
<ul><li>Need to call gpio_request() to start using a GPIO (this was not required earlier, we could directly call gpio_direction_xxx and gpio_write APIs)</li>
<li>Provision to pass falling edge or rising edge information with the request_irq API. The IORESOURCE_IRQ_LOWEDGE and/or IORESOURCE_IRQ_HIGHEDGE can be passed for the "flags" argument.</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Video_drivers">Video drivers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=14" title="Edit section: Video drivers">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Video_capture">Video capture</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=15" title="Edit section: Video capture">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The video capture driver supports capture from TVP5146 and TVP7002. The vpif capture driver (aka vpif capture) is ported based on the v4l2 sub device framework. So both TVP514x (to support TVP5146) and TVP7002 drivers are ported to this framework. The bridge device - sub device bus parameters such as interface type, hd, vd polarity etc are defined in the board specific file for respective evms (example, board-dm6467-evm.c) and allows for easy customization. For vpif capture driver, the platform data structure defines the vpif configuration for the bridge driver as well sub devices and is used by the bridge driver to set the same in the bridge and sub devices (through platform_data).
</p><p>The vpif capture supports both MMAP and USERPTR IO. For high resolution frame buffer usage (beyond NTSC/PAL resolution) USERPTR (Both mmap-ed user address and virtual address pointers supported) IO is recommended since MMAP buffer allocation fails due to fragmentation.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Video_display">Video display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=16" title="Edit section: Video display">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Video Port Interface (VPIF) module is used to receive and transmit video data on DM6467. VPIF module has to input channels to receive video data and two output channels to output video data. Both input and output channels have same architecture. This write up focuses on the Output Channels
</p><p>The VPIF Output Interface consists of following interfaces
</p><p>-         2 channels of SD output in BT656 format
</p><p>-         1 Channel of HD output in REC1120 format
</p><p><br /> 
</p><p>DM6467T uses following video encoders for different kinds of displays
</p><p>-         ADV7343 for SD, ED and HD display on Composite, S-Video and Component outputs
</p><p>-         THS8200 for SD, ED and HD display on Component output.
</p><p>Note:  1, Only one of the video encoder can be available at any point of time.
</p><p>2, Support for ED and some HD modes are yet to be added for both THS8200  and ADV7343 drivers.
</p><p>The vpif display driver (aka vpif display) is ported based on the v4l2 sub device framework. So both ADV7343 and THS8200 drivers are ported to this framework. The bridge device - sub device bus parameters such as interface type, hd, vd polarity etc are defined in the board specific file for respective evms (example, board-dm6467-evm.c) and allows for easy customization. For vpif display driver, the platform data structure defines the vpif configuration for the bridge driver as well sub devices and is used by the bridge driver to set the same in the bridge and sub devices (through platform_data). 
</p><p><br />
</p>
<h4><span class="mw-headline" id="Change_in_Video_display_connector_between_DM6467_EVM_and_DM6467T_EVM">Change in Video display connector between DM6467 EVM and DM6467T EVM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=17" title="Edit section: Change in Video display connector between DM6467 EVM and DM6467T EVM">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Placement of J11 (Y) has changed between DM6467 EVM and DM6467T EVM (Revisions A and B).
</p><p>On DM6467 EVM, order is J10,J11,J12 and in DM6467T, order is J10,J12,J11.
</p>
<h4><span class="mw-headline" id="Change_in_Video_capture_between_DM6467T_EVM_Rev_C_and_earlier_revisions">Change in Video capture between DM6467T EVM Rev C and earlier revisions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=18" title="Edit section: Change in Video capture between DM6467T EVM Rev C and earlier revisions">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>If you are using DM6467T revisions A and B, the Linux kernel configuration should set <tt>CONFIG_VIDEO_THS7353_LUMA_CHANNEL</tt> to <tt>3</tt>.
</p><p>If you are using DM6467T revisions C and above, the Linux kernel configuration should set <tt>CONFIG_VIDEO_THS7353_LUMA_CHANNEL</tt> to <tt>2</tt>.
</p>
<h4><span class="mw-headline" id="Change_from_LSP_2.00">Change from LSP 2.00</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=19" title="Edit section: Change from LSP 2.00">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>1. For both DM6467T and DM6467 EVM, clock source for display is derived from on board PLL supported through CDCE949.
</p><p>2. THS8200 encoder support is added that supports 1080p60 display
</p><p>3. ADV7343 will be supported through daughter card interface in DM6467T boards
</p>
<table class="package" border="1">

<tbody><tr>
<th align="left">Features</th>
<th align="left">LSP</th>
<th align="left">GIT
</th></tr>
<tr>
<td>Pixel Format</td>
<td>Supports V4L2_PIX_FMT_YUV422UVP pixel format</td>
<td>Supports  V4L2_PIX_FMT_NV16 pixel format
</td></tr>
<tr>
<td>Standard Selection</td>
<td>Output is selected using /sys/class/davinci_display/ch0/mode sysfs entry</td>
<td>Standard is selected using VIDIOC_S_STD and VIDIOC_G_STD ioctls
</td></tr>
<tr>
<td>Control Configuration</td>
<td>Controls are configured using /sys/class/davinci_display/ch0/brightness sysfs entry</td>
<td>There is no support for configuring controls
</td></tr>
<tr>
<td>Sliced VBI services</td>
<td>Closed Caption, CGMS and WSS sliced VBI services are supported using VIDIOC_S_FMT ioctls</td>
<td>Sliced VBI services are not supported
</td></tr>
<tr>
<td>Device specific parameters</td>
<td>Encoder and VPIF specific parameters are configured using VPIF_CMD_S_ENCODER_PARAMS/ VIDIOC_S_VPIF_PARAMS ioctls</td>
<td>Device specific parameters are not supported
</td></tr>
<tr>
<td>Boot time parameters</td>
<td>Supported boot time parameters are default output, default mode, number of buffers and buffer size.</td>
<td>Only number of buffers and buffer size as boot time parameters are supported
</td></tr>
<tr>
<td>Memory Allocation</td>
<td>Memory will be allocated using __get_free_pages Linux Kernel API</td>
<td>Memory is allocated using dma_alloc_coherent Linux Kernel API. This is because driver is using videobuf-config layer for the buffer management. Also there is not boottime allocation of memory. Memory will be allocated when application call VIDIOC_REQBUFS ioctl and them mmap system call.
</td></tr>


</tbody></table>
<h3><span class="mw-headline" id="VDCE">VDCE</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=20" title="Edit section: VDCE">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Video Data Conversion Engine module in DM6467 processes Video data. This module has several capabilities that not only includes pure video data processing, but also functions that are required for the video codec.
VDCE module is capable of DownScaling, Edge Padding, Chroma Conversion, Bitmap Blending and Range mapping. VDCE driver supports above features through a character driver interface.
</p><p>Change from LSP 2.00
</p><p>Application interface header file of the VDCE driver was moved from include/asm/arch folder to arch/arm/mach-davinci/include/mach folder.
</p><p><br />
</p>
<h2><span class="mw-headline" id="PCI_Host_Driver">PCI Host Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=21" title="Edit section: PCI Host Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>PCI Host Driver gives a standard Linux interface for interfacing slave devices over PCI bus. PCI 
Driver has been validated against ethernet interface and DM6467 EVM.
</p>
<h3><span class="mw-headline" id="PCI_Host_Driver_Known_Issues">PCI Host Driver Known Issues</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=22" title="Edit section: PCI Host Driver Known Issues">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issues preceded with [HW] are h/w specific known issues/limitations.
</p>
<ul><li>Currently PCI Host doesn't advertise 66MHZ Capability on DM4667T even though the device supports 66MHz PCI operation.</li></ul>
<p>	Note:	This should not impact 66MHz operation since the hardware would
	still work at 66MHz on 66MHz PCI Bus. Only the advertised capability
	will be wrong.
</p>
<ul><li>Linux (with PCI Host support included) hangs on DM6467 EVM (both 1GHz and 594MHz) on reset from CCS. Boots fine across power cycles. This issue is particularly observed when booting kernel with PCI Host support on a standalone EVM.</li></ul>
<p>	Workaround:	Power cycle the EVM (i.e., PCI Backplane in case connected
			to PCI setup) and reconnect CCS and boot the board.
</p>
<ul><li>DM6467/T EVMs switch to PCI mode by default and thus won't boot (from NAND) as EMIFA is disabled and needs CCS to carry out booting the DM6467/T PCI Host.</li></ul>
<ul><li>DM6467/T PCI Host on default EVMs cannot receive PCI interrupts from targets connected over the bus (INTA to INTD).</li></ul>
<p>	Workaround:	Connect INTA-D lines from PCI targets directly to
			available GPIO interrupt pins on DM6467/T PCI Host and
			add interrupt hooking code in DM6467/T PCI Host
			controller driver as applicable. In this case, ensure that GPIO bank 0 interrupt, pin direction (in) and trigger (rising edge), pin muxing (e.g., disable AUDCLK0 if using GPIO3) is configured in board specific file <i>before</i> any PCI target driver supposed to use GPIO interrupts is loaded. Refer <a href="DM6467_PCI_Host_Interrupts.html" class="mw-redirect" title="DM6467 PCI Host Interrupts">DM6467_PCI_Host_Interrupts</a>.
</p>
<ul><li>PCI_RST is not generated over the PCI bus when DM6467/T PCI Host is reset without power cycling the backplane (e.g., typing 'reboot' from Linux on PCI Host or reset using CCS).</li></ul>
<p>	Workaround:	1) Disconnect and connect the expansion cable connected
			to backplane and Power cycle OR
			2) Use h/w workaround and program CPLD as described @
			<a href="Pinmux_Switching_from_NAND_to_PCI.html" title="Pinmux Switching from NAND to PCI">Pinmux_Switching_from_NAND_to_PCI</a>
</p>
<h2><span class="mw-headline" id="PCI_Boot">PCI Boot</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=23" title="Edit section: PCI Boot">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Please refer <a rel="nofollow" class="external text" href="http://arago-project.org/git/people/?p=murali/linux-davinci-examples.git;a=tree;f=pci;h=9bcc48ce142736c7d779c3b3b077754e033a8f32;hb=HEAD">here</a> for Host side sample application for PCI boot mode. This sample application demonstrates booting of DM6467 over PCI. This sample application can be compiled and run from a DM6467 EVM that acts as PCI Host.
</p><p>The primary purpose of the PCI-Boot driver is to boot custom binaries on DM6467 device, over the PCI interface. The current release package demonstrates the use case scenario of booting Linux on DM6467 device over the PCI interface. The PCI boot driver provides the memory map functionality to allow zero copy of binary images on DM6467 memory. The driver also provides five IOCTL capabilities to the user application. These IOCTL calls are explained below.
</p><p>1.	DM646X_PCI_RUN_TCM_IMG - This IOCTL is invoked to indicate to the RBL that the UBL/TCM program image has been copied to the TCM memory. This is achieved by specifying the start address of UBL/TCM program and setting of the BC flag. This IOCTL transfers the control to UBL/TCM program.
</p><p>2.	DM646X_PCI_BOOT_IMAGE – This IOCTL is invoked to specify the start address of the U-Boot or secondary boot-loader to the UBL. This is achieved by writing the start address to the last location of TCM memory and setting of the BC flag. This IOCTL transfers the control to the secondary boot-loader like U-Boot or any custom image.
</p><p>3.	DM646X_PCI_REMAP_BAR – This IOCTL allows the remapping of BAR registers to any alternative memory locations on DM6467. This operation is transparent to the memory mapping on the Host machine. Thus no remapping is required to be done on the Host application. 
</p><p>This IOCTL allows copying of large sized binary images to DDR2 memory by remapping of BAR and partial image copying to consecutive BAR mapped regions.
</p><p>4.	DM646X_PCI_GEN_INTRPT – This IOCTL is invoked to generate a software interrupt on the DM6467 device. The current implementation raises this interrupt using software interrupt line 0.
</p><p>5.	DM646X_PCI_EDMA_XFER – This IOCTL provides a convenient approach to use the DM6467 EDMA support to transfer data between the Host machine and the DM6467 device. The IOCTL provides a flag to indicate the direction of transfer.
</p><p>1.5.	Operation Sequence
The sequence of events followed to achieve the booting is explained below in detail.
</p><p>1.	Firstly, it is required for the host driver to map the DM6467 internal memory onto the PCI shared bus. To do this it must configure the DM6467 as a PCI device and read the BAR regions exposed by the DM6467 device to gain access on the host side to the memory regions of the DM6467.
</p><p>2.	Once this is achieved, the host application copies the UBL onto the DM6467 TCM. The host driver transfers the control to the start point of the UBL binary and waits for the boot complete flag to be reset by the DM6467 device.
</p><p>3.	The UBL then initializes the DM6467 hardware and initializes the DDR2 RAM for access over the PCI interface. The UBL resets the boot complete flag in the system registers to indicate to the host that the DDR2 initialization has been completed and can now be accessed over the PCI interface. Once it has done this, the UBL once again waits for the boot complete flag to be set by the host machine. The host is expected to set the BC bit as an indication of the copy of U-boot being made available in the specified location.
</p><p>4.	The host machine continues the boot process by copying four images on the shared DDR2 memory using memory mapping (zero copy). The Linux built image, the initrd ram-disk image and the boot-script image containing the kernel parameters are copied on into different locations on the shared memory. Once these three images are copied, it completes the activity by copying the U-boot image on another location and setting the boot complete flag. As soon as the UBL detects the BC flag being set, it jumps the control to the start of U-boot boot loader.
</p><p>5.	The U-boot boot loader now boots as usual from the DDR2 memory. The U-boot is built specifically for PCI booting such that its auto-booting command directly reads boot-script image to locate the Linux image and the RAM-disk images in DDR2 and boots the Linux. The boot-script image also provides the kernel arguments to U-Boot providing information about the file system.
</p><p>The following table provides a sample memory configuration of locations used for UBL, U-boot image, RAM-disk image, boot-script and the Linux built image.
</p><p>|Image ||	Location	|| Limit (Length)
|-
|UBL	||TCM	|| 0x8000 (32KB)
|-
|U-Boot ||	0x81080000 to 0x81FFFFFF ||
|-
|Boot-Script Image ||0x82080000	to 0x820FFFFF ||
|-
|Linux Image	|| 0x82100000 to 0x827FFFFF|| 
|-
|RAM-Disk Image	|| 0x82800000	|| As required
-|
</p>
<h3><span class="mw-headline" id="U-Boot_known_issues_with_PCI_Boot">U-Boot known issues with PCI Boot</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=24" title="Edit section: U-Boot known issues with PCI Boot">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>U-Boot gives following warning when running on EVM (unmodified) put in</li></ul>
<p>	PCI slot:
</p><p>	*** Warning - bad CRC, using default environment
</p><p>	This is expected, since NAND is not accessible in this case as on board
	CPLD switches MUX to PCI and U-Boot can't read environment stored in
	NAND.
</p><p>	Workaround:	Load U-Boot script @0x82080000 with commands to be
			executed on each boot.
</p>
<ul><li>U-Boot displays incorrect frequencies for ARM and DDR on 1GHz EVM. This</li></ul>
<p>	is obvious as U-Boot doesn;t have persistent stoarage for 'clkref' value
	as always default (27MHz) is assumed for calculations.
</p>
<ul><li>Sometimes it was observed that U-Boot would fail to read Ethernet MAC</li></ul>
<p>	Address from EEPROM and show error like "EEPROM @ 0x50 read FAILED!!!".
	Subsequent network commands (such as 'dhcp') print error "*** ERROR:
	`ethaddr' not set" and ethernet doesn't work.
</p><p>	Workaround:	Set MAC address manually. For example:
			setenv ethaddr 00:0e:99:02:52:03
</p><p>			Other option is to try after hard-resetting the board.
</p>
<h2><span class="mw-headline" id="CIR_Driver">CIR Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=25" title="Edit section: CIR Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>There are three UART instances in Davinci-HD: UART0, UART1, and UART2 which have UART modem, IrDA, and CIR functionalities. UART2 is designated as the CIR module on Davinci-HD EVM.
This module supports consumer infrared (CIR) communications. The CIR logic is to transmit and receive data packets according to the user-definable frame structure and packet content.
CIR functions include consumer Infrared remote control mode with programmable data encoding. In consumer infrared mode, the infrared operation is designed to function as a programmable (universal) remote control. The CIR logic is designed to transmit and receive data packets according to the user definable frame structure and packet content.
</p><p>Though the CIR module supports both transmit and receive, the driver will support only receive.
There are two distinct methods of encoding for remote control applications. The first uses time extended bit forms i.e. a variable pulse distance (or duration) whereby the difference between a logic one and logic zero is the length of the pulse width (Eg: SIRC Bit Encoding); and the second is the use of a bi-phase where the encoding of the logic zero and one is in the change of signal level from 1 ≥ 0 or 0 ≥ 1 respectively (Eg: RC-5 Bit Encoding). 
</p><p>The CIR driver supports only RC-5 encoding.
</p>
<h3><span class="mw-headline" id="Programming_the_universal_remote_control">Programming the universal remote control</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=26" title="Edit section: Programming the universal remote control">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Follow the following steps to program the Philips universal remote to emit the codes for a Philips TV.
</p>
<ol><li>Press and hold the CODE SEARCH button until the red indicator stays on, then release the CODE SEARCH button.</li>
<li>Press and release the TV mode button. The red indicator blinks, and then stays lit.</li>
<li>Enter the 4 digit code, 0020. After the valid code entry, the red indicator turns off. For an invalid code, the red indicator flashes.</li>
<li>Now the remote controller is programmed to give out RC-5 code for Philips TV.</li></ol>
<h3><span class="mw-headline" id="Sample_code_for_CIR_driver">Sample code for CIR driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=27" title="Edit section: Sample code for CIR driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The driver can be tested using the application provided <a rel="nofollow" class="external text" href="http://arago-project.org/git/people/?p=murali/linux-davinci-examples.git;a=tree;f=cir;h=b2d6c702d6ce590c45ab38f9a58e5fe096d53167;hb=HEAD">here</a>
</p><p>Run this application and press keys 0-9 to test IR remote.
</p>
<h2><span class="mw-headline" id="Audio_Driver">Audio Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit&amp;section=28" title="Edit section: Audio Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The amixer control for volume control across all outputs (master volume control) is managed through 'PCM Playback Volume' amixer control PSP 3.x
</p><p>In LSP 2.x the master volume control is:
</p>
<pre><b>target$</b> amixer sget Master Volume Playback
Simple mixer control 'Master',0
  Capabilities: pvolume
  Playback channels: Front Left - Front Right
  Limits: Playback 0 - 127
  Mono:
  Front Left: Playback 126 [99%]
  Front Right: Playback 126 [99%]
</pre>
<p>In PSP 3.x the amixer master volume control is:
</p>
<pre><b>target$</b> amixer sget PCM Volume Playback
Simple mixer control 'PCM',0
  Capabilities: pvolume
  Playback channels: Front Left - Front Right
  Limits: Playback 0 - 127
  Mono:
  Front Left: Playback 80 [63%] [-23.50dB]
  Front Right: Playback 80 [63%] [-23.50dB]
</pre>
<!-- 
NewPP limit report
Cached time: 20201201034706
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.067 seconds
Real time usage: 0.069 seconds
Preprocessor visited node count: 111/1000000
Preprocessor generated node count: 116/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:3841-0!canonical and timestamp 20201201034706 and revision id 67139
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>DaVinci PSP 3.02 Linux Installation User Guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>DaVinci PSP 3.02 Linux Installation User Guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>DaVinci PSP 3.02 Linux Installation User Guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>DaVinci PSP 3.02 Linux Installation User Guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>DaVinci PSP 3.02 Linux Installation User Guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>DaVinci PSP 3.02 Linux Installation User Guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>DaVinci PSP 3.02 Linux Installation User Guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>DaVinci PSP 3.02 Linux Installation User Guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>DaVinci PSP 3.02 Linux Installation User Guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;oldid=67139">https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;oldid=67139</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_DaVinci_Linux.html" title="Category:DaVinci Linux">DaVinci Linux</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=DaVinci+PSP+03.02+Linux+Installation+User+Guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="DaVinci_PSP_03-2.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk"><span><a href="Talk_DaVinci_PSP_03.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="DaVinci_PSP_03-2.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/DaVinci_PSP_03-2.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/DaVinci_PSP_03-2.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;oldid=67139" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=DaVinci_PSP_03.02_Linux_Installation_User_Guide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 30 June 2011, at 23:04.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.067","walltime":"0.069","ppvisitednodes":{"value":111,"limit":1000000},"ppgeneratednodes":{"value":116,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201201034706","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":227});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/DaVinci_PSP_3.02_Linux_Installation_User_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:41:49 GMT -->
</html>
