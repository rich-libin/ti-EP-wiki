<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Pipeline_Stall_Analysis by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:07:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Pipeline Stall Analysis - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Pipeline_Stall_Analysis","wgTitle":"Pipeline Stall Analysis","wgCurRevisionId":29395,"wgRevisionId":29395,"wgArticleId":4723,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["TraceScripts"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Pipeline_Stall_Analysis","wgRelevantArticleId":4723,"wgRequestId":"b1b91fd03f0bd755aefe2bf8","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pipeline_Stall_Analysis rootpage-Pipeline_Stall_Analysis skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Pipeline Stall Analysis</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Pipeline_Stall_Analysis"><span class="tocnumber">1</span> <span class="toctext">Pipeline Stall Analysis</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Overview"><span class="tocnumber">1.1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Methodology"><span class="tocnumber">1.2</span> <span class="toctext">Methodology</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Limitations"><span class="tocnumber">1.2.1</span> <span class="toctext">Limitations</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#Capturing_Pipeline_Stall_Analysis_Data"><span class="tocnumber">1.3</span> <span class="toctext">Capturing Pipeline Stall Analysis Data</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Processing_Pipeline_Stall_Analysis_Data"><span class="tocnumber">1.4</span> <span class="toctext">Processing Pipeline Stall Analysis Data</span></a>
<ul>
<li class="toclevel-3"><a href="#Generating_the_func_info_file"><span class="tocnumber">1.4.1</span> <span class="toctext">Generating the func_info file</span></a>
<ul>
<li class="toclevel-4 tocsection-7"><a href="#Decoder_Prerequisites"><span class="tocnumber">1.4.1.1</span> <span class="toctext">Decoder Prerequisites</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="#Command_Line"><span class="tocnumber">1.4.1.2</span> <span class="toctext">Command Line</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-9"><a href="#Sample_Results_Data"><span class="tocnumber">1.4.2</span> <span class="toctext">Sample Results Data</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Trace_Script_Download"><span class="tocnumber">1.5</span> <span class="toctext">Trace Script Download</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Trace_Script_Frequently_Asked_Questions"><span class="tocnumber">2</span> <span class="toctext">Trace Script Frequently Asked Questions</span></a>
<ul>
<li class="toclevel-2"><a href="#Generic_Scripting_FAQS"><span class="tocnumber">2.1</span> <span class="toctext">Generic Scripting FAQS</span></a></li>
<li class="toclevel-2"><a href="#Pipeline_Stall_Analysis_Specific_FAQS"><span class="tocnumber">2.2</span> <span class="toctext">Pipeline Stall Analysis Specific FAQS</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Pipeline_Stall_Analysis">Pipeline Stall Analysis</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=edit&amp;section=1" title="Edit section: Pipeline Stall Analysis">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Overview">Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=edit&amp;section=2" title="Edit section: Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Pipeline Stall Analysis is a method of using XDS560 Trace to detect Program Address in an application that are repeatedly susceptible to pipeline stalls.  This type of analysis provides only indications of where the stalls are occurring.  Additional steps need to be taken to diagnose the root cause of the stall.  
</p>
<h2><span class="mw-headline" id="Methodology">Methodology</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=edit&amp;section=3" title="Edit section: Methodology">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Pipeline Stall Analysis data is captured with a simple PC/Timing Trace Data Capture.  The captured data is then analyzed to find all Program Addresses in the execution trace where a stall was encountered, and report how many times each PC was executed when a stall occurred, what the average number of stall cycles were when a stall occurred, and what the maximum number of stall cycles was for any given single execution of an address.  
</p>
<table border="1">
<tbody><tr>
<td>
<div class="floatleft"><a href="File_Helpful_tips_image.html" class="image"><img alt="Helpful tips image.jpg" src="https://processors.wiki.ti.com/images/5/5c/Helpful_tips_image.jpg" width="75" height="76" /></a></div> 
<p><span style="color: Red"><b>Useful Tip</b></span>
</p><p>When tracing in this manner, we are not using any type of stall signals to detect a pipeline stall.  Trace knows how many cycles every instruction will take to execute under ideal conditions.  When it sees an instruction execute in more than the expected number of cycles, it reports those extra cycles as a Pipeline Stall.  However, Trace has no concept of what might have caused that stall, so it is up to the developer to do more research in order to try and eliminate the stall.
</p>
</td></tr></tbody></table>
<p>The goal here is to identify locations that get executed many times AND have a high average number of stall cycles.  We then want to further analyze those locations and see if we can reduce or eliminate the stalls at those locations.  In this manner, we get the largest performance increase for our effort if we eliminate these types of stalls.  
</p><p>The types of stalls that will be detected here typically have a root cause related to either code/data placement or instruction ordering.  Stalls that are identified in this manner are tightly correlated to the program address where they are located.  This could potentially be dues to a cache conflict if an instruction that shares the same cache line always gets called shortly before this instruction.  This could potentially be a case of poor instruction scheduling causing contention for a resource (typically, the compiler should avoid these cases.  It might also point to a case where large amounts of data that exceed the size of the data cache are accessed in a ping-pong fashion.
</p><p><br />
</p>
<table border="1">
<tbody><tr>
<td>
<div class="floatleft"><a href="File_Light_bulb_icon.html" class="image"><img alt="Light bulb icon.png" src="https://processors.wiki.ti.com/images/b/b0/Light_bulb_icon.png" width="75" height="106" /></a></div> 
<p><b><a href="https://processors.wiki.ti.com/index.php?title=Example&amp;action=edit&amp;redlink=1" class="new" title="Example (page does not exist)">Example</a></b>
</p><p>Consider an application with a function foo() that always calls another function bar().  If foo() and bar() happen to get linked at two locations in external memory that share the same cache lines, this can have a disastrous effect on the performance of an application.  When foo is executed the first time, it is fetched from external memory and stored into cache.  As it executes, it needs to call bar(), so bar() is fetched from external memory into cache, inadvertently evicting foo in the process.  The execution of foo() never sees the benefits of cache, because whenever it gets called it is assuredly not already in cache because it was evicted by bar during it's previous call.  
</p><p>The solution in this case would be to group foo() and bar() together in an output section so that they are linked close enough together that they won't share the same cache line.  The Pipeline Stall Analysis scenario will give a quick indication that this type of phenomenon is occurring.
</p>
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="Limitations">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=edit&amp;section=4" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>The script does not analyze any instructions that do not have stalls associated with them.  So, the instruction at location 0x80000000 might get executed 1000 times in the trace stream, but if on one of those executions there is a pipeline stall of 20 cycles, and on the other 999 there are no stalls, the script will report that address as having an average stall of 20 cycles.  In actuality, this represents an <i>average</i> stall of .02 cycles per execution.  This script focuses on determining the addresses where the most cycles are lost throughout the entire application.</li></ul>
<h2><span class="mw-headline" id="Capturing_Pipeline_Stall_Analysis_Data">Capturing Pipeline Stall Analysis Data</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=edit&amp;section=5" title="Edit section: Capturing Pipeline Stall Analysis Data">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="floatright"><a href="File_Pipeline_stall_analysis_config.html" class="image" title="Configuring Pipeline Stall Analysis from the Breakpoint Manager"><img alt="Configuring Pipeline Stall Analysis from the Breakpoint Manager" src="https://processors.wiki.ti.com/images/4/49/Pipeline_stall_analysis_config.png" width="345" height="430" class="thumbborder" /></a></div>
<p>Configure trace in the Trace Control menu as desired.  Typically, "Stop on Buffer Full" mode is used with Pipeline Stall Analysis, but it can also be used with "Circular Buffer" mode.  If using an XDS560T, configure the desired trace buffer size.  A larger buffer will capture much more data, but the data will take a longer time to process.  A smaller buffer won't get nearly as much of the application, but will be post processed very quickly. 
</p><p>The Unified Breakpoint Manager (UBM) Plugin in Code Composer Studio can be easily configured to capture Pipeline Stall Analysis data  
</p>
<ul><li>From the Breakpoint window, create a new Trace job.</li>
<li>Edit the properties of the job, and select Trace Type-&gt;Standard, Actions-&gt;User Script, and Script Type-&gt;Pipeline Stall Analysis as shown in the image.</li>
<li>In the "PC to Start Profile" enter the PC where you want Trace to start capturing data.  You can use a symbolic address here also, so if you want to start at the symbol "main", just enter <b>main</b>.</li>
<li>Click OK to save the configuration and ensure that the job is enabled in the breakpoint window.</li>
<li>Run the application.  You should see trace data being captured in the Trace Display Window.</li></ul>
<h2><span class="mw-headline" id="Processing_Pipeline_Stall_Analysis_Data">Processing Pipeline Stall Analysis Data</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=edit&amp;section=6" title="Edit section: Processing Pipeline Stall Analysis Data">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>We will use the Stand Alone trace decoder to get the trace data for our script.  The Stand Alone decoder is shipped with CCSv4 and is located at the following location &lt;CCS4_INSTALL_DIR&gt;\ccsv4\emulation\analysis\bin\td.exe. It can be called from the command line.  Use the command td.exe -help to get details on the switches to be passed to the stand alone decoder.  CCSv4 will create a file called XDS560_RecTraceData.bin in the &lt;CCS4_Install_Dir&gt;\ccsv4\emulation\analysis\bin\logs directory automatically whenever trace is captured.  This is a copy of the raw data trace file.  We will pass this file to the trace decoder to be processed.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Generating_the_func_info_file">Generating the func_info file</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Statistical_Profiling&amp;action=edit&amp;section=T-8" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The first step in processing the trace data is to create a func_info.csv file from your .out file using the utility ofd6x.exe.  This is a utility that is shipped with the code generation tools.  The file that we need to generate will contain a list of all of the functions and filenames, along with the start, end, and length of each function.  The utility ofd.exe is also shipped with the trace script package.  It is located in the utils directory.  Create the func_info file with the following command line
</p>
<pre>ofd6x --func_info &lt;.out file name&gt; &gt; &lt;.csv file name&gt;
</pre>
<p>The &lt;.out file name&gt; parameter specifies the location and name of the .out file. The &lt;csv file name&gt; specifies the name of the file to be generated.  You can choose whatever name you wish, but it is recommended to use the .csv extension.  This file only needs to be regenerated when the .out file changes.  One option is to have CCS execute this command as a post-build step every time you build your application so you will always have an up to date func_info file.
</p><p><br />
</p>
<h4><span class="mw-headline" id="Decoder_Prerequisites">Decoder Prerequisites</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=edit&amp;section=7" title="Edit section: Decoder Prerequisites">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In order for the Pipeline Stall Analysis application to be able to process the data, the following is required of the output of td.exe.
</p>
<ul><li>The following fields must be included in the output (Default is All fields, which is fine)
<ul><li>Program Address</li>
<li>Cycles</li>
<li>Trace Status</li></ul></li>
<li>The timestamp must be in <b>Absolute</b> mode (-timestamp abs <i><b>NOT THE DEFAULT</b></i>)</li>
<li>The format must be in CSV_NO_TPOS_QUOTE form (-format CSV_NO_TPOS_QUOTE  <b>This is the default</b>)</li></ul>
<h4><span class="mw-headline" id="Command_Line">Command Line</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=edit&amp;section=8" title="Edit section: Command Line">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>One of the following commands can be used to process the trace data.  Note that full or relative paths to each file supplied must be provided if all files are not in the current directory.
</p><p>td.exe -bin XDS560_RecTraceData.bin -app &lt;out file&gt; &lt;trace_decoder_options&gt; | trace_pipeline_stall_analysis.exe -f &lt;.csv file name&gt; [-p &lt;pipeline stall threshold&gt;] [--noheader]
</p><p>or 
</p><p>td.exe -bin XDS560_RecTraceData.bin -app &lt;out file&gt; &lt;trace_decoder_options&gt; | perl trace_pipeline_stall_analysis.pl -f &lt;.csv file name&gt; [-p &lt;pipeline stall threshold&gt;] [--noheader]
</p><p><br />
Specifying the pipeline stall threshold is optional, but this will filter the data significantly.  Without it, there will be an entry in the output for every instruction that ever exhibits even a single stall.  Using this threshold value will limit the output to instructions that have an <i>average</i> stall count greater than or equal to the threshold.  
</p>
<h3><span class="mw-headline" id="Sample_Results_Data">Sample Results Data</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=edit&amp;section=9" title="Edit section: Sample Results Data">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The results data is output through stdout in comma separated value form.   A header line is prepended to the output, detailing the contents of each field.  It can be supressed by using the --no_header option with the script.
</p>
<pre>PC,Access Count,Average Stall Cycles,Maximum Stall Cycles,Function Name,File
--,------------,--------------------,--------------------,-------------,----
0x800000c0,1,6,6,"ENC_cheInit","ENC_che.c"
0x800005bc,1,6,6,"SCH_init","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_init.c"
0x800005ec,1,6,6,"SCH_hwiInit","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_init.c"
0x800005f4,1,6,6,"SCH_hwiInit","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_init.c"
0x8000076c,1,6,6,"SCH_timerInit","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_timer.c"
0x80000cb4,1,6,6,"IRE_init","IRE_ire.c"
0x80000d20,1,5,5,"IRE_init","IRE_ire.c"
0x80000d50,1,5,5,"IRE_init","IRE_ire.c"
0x80001064,1,5,5,"DEC_vcpInit","DEC_VCP.c"
0x80001442,1,6,6,"DEC_vcpInit","DEC_VCP.c"
0x80001ad0,1,5,5,"DEC_vcpInit","DEC_VCP.c"
0x80001d56,1,5,5,"DEC_vcpInit","DEC_VCP.c"
0x80001e2c,1,5,5,"DEC_vcpInit","DEC_VCP.c"
0x80001fda,1,5,5,"DEC_vcpInit","DEC_VCP.c"
0x8000232a,5,6,6,"COM_spoolInit","COM_spool.c"
0x008563c0,8,6,6,"PDTCH_convenc3h","SIG_convEncPDTCH3h.c"
0x00862180,8,6,6,"ENC_PDTCH_mcs8","ENC_PDTCH_mcs8.c"
0x008621cc,8,6,6,"ENC_PDTCH_mcs8","ENC_PDTCH_mcs8.c"
0x0087c90e,8,4,4,"SCH_blockFill","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_blocks.c"
0x0087caac,8,4,6,"SCH_blockFill","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_blocks.c"
0x0087d070,8,4,6,"SCH_blockGenerate","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_blocks.c"
0x0087e5ae,1,6,6,"edmaInit","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/test/tools/edmaIsr.c"
0x0088036c,6,6,6,"TSK_create","src/tsk/tsk_crea.c"
0x00880a7a,1,5,5,"MEM_define","src/mem/mem_defi.c"
0x008824f4,1,5,5,"TSK_exit","src/tsk/tsk_exit.c"
0x00882a38,1,6,6,"TSK_startup","src/tsk/tsk_stup.c"
0x00884868,12,6,6,"COM_byte2bit","COM_c6x.c"
0x008889d4,1,6,6,"SCH_schedulerTsk","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_scheduler.c"
0x008889f0,1,6,6,"SCH_schedulerTsk","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_scheduler.c"
0x00888ba0,4,6,6,"SCH_schedulerTsk","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_scheduler.c"
0x00888bf6,4,4,6,"SCH_schedulerTsk","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_scheduler.c"
0x00889094,1,6,6,"SCH_schedulerTsk","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_scheduler.c"
0x0088942c,4,6,6,"SCH_schedulerTsk","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_scheduler.c"
0x0088a050,1,6,6,"COM_taskBenchUpdate","COM_bench_tsk.c"
0x0088cf40,7,5,5,"CACHE_waitInternal","csl_cacheWait.c"
0x0088d090,7,6,6,"CACHE_waitInternal","csl_cacheWait.c"
0x0088daac,1,6,6,"testSchTsk","../main.c"
0x0088daba,1,6,6,"testSchTsk","../main.c"
0x0088dad8,1,6,6,"testSchTsk","../main.c"
0x0088db04,1,6,6,"testSchTsk","../main.c"
0x0088db8e,1,6,6,"testSchTsk","../main.c"
0x0088dba8,1,6,6,"testSchTsk","../main.c"
0x0088e894,7,4,4,"CACHE_invAllL1p","csl_cacheL1.c"
0x0089baa8,1,6,6,"RTDX_Buffer_ReadCB","src/buffer/buffer2.c"
0x0089ee20,6,6,6,"SCH_msLoop","C:/test/ExamplePackages/demos/event_trace/EA_c6488_tracews/Source/sch/src/SCH_msLoop.c"
</pre>
<p>This data shows the set of instructions that have an average stall cycle of 4 cycles or greater.
</p><p>The results can be piped to a file or to another script for further processing.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Trace_Script_Download">Trace Script Download</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Category:TraceScripts&amp;action=edit&amp;section=T-2" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The script package can be downloaded at the following location
<a rel="nofollow" class="external free" href="https://www-a.ti.com/downloads/sds_support/applications_packages/trace_csv_scripts/index.htm">https://www-a.ti.com/downloads/sds_support/applications_packages/trace_csv_scripts/index.htm</a>
</p><p>Note that in order to use the stand alone trace decoder, you must have version 3.0.0 of the scripting package or later.
</p><p><br />
</p><p><br />
</p>
<h1><span class="mw-headline" id="Trace_Script_Frequently_Asked_Questions">Trace Script Frequently Asked Questions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TraceScriptFAQS&amp;action=edit&amp;section=T-1" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Generic_Scripting_FAQS">Generic Scripting FAQS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TraceScriptFAQS&amp;action=edit&amp;section=T-2" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>Q: Why do I sometimes see "UNKNOWN", "UNKNOWN" in the output for functions/filenames
<ul><li>A: The function/filename symbols are determined from the output of the ofd6x.exe (Object File Dump utility), which generates a list of functions and filenames from the .out file, along with their staring and ending addresses.  If "UNKNOWN" values are showing in the output, it's because trace captured program execution that had a program address outside the ranges specified by the OFD utility.  Common causes might be code that has been dynamically loaded/allocated which wouldn't have associated information in the .out file.  You can usually determine the exact cause by looking in the file generated by ofd6x.exe and the .map file and determining why the offending program address is not defined.</li></ul></li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Pipeline_Stall_Analysis_Specific_FAQS">Pipeline Stall Analysis Specific FAQS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TraceScriptFAQS&amp;action=edit&amp;section=T-9" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>

<!-- 
NewPP limit report
Cached time: 20201130205926
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.065 seconds
Real time usage: 0.070 seconds
Preprocessor visited node count: 194/1000000
Preprocessor generated node count: 500/1000000
Post‐expand include size: 4525/2097152 bytes
Template argument size: 1942/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 3499/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.287      1 -total
 54.64%    1.796      1 Template:UsefulTip
 41.87%    1.376      1 Template:Example
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:4723-0!canonical and timestamp 20201130205926 and revision id 29395
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Pipeline Stall Analysis</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Pipeline Stall Analysis</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>Pipeline Stall Analysis</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>Pipeline Stall Analysis</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>Pipeline Stall Analysis</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Pipeline Stall Analysis</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Pipeline Stall Analysis</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>Pipeline Stall Analysis</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>Pipeline Stall Analysis</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;oldid=29395">https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;oldid=29395</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_TraceScripts.html" title="Category:TraceScripts">TraceScripts</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Pipeline+Stall+Analysis" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Pipeline_Stall_Analysis.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:Pipeline_Stall_Analysis&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Pipeline_Stall_Analysis.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Pipeline_Stall_Analysis.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Pipeline_Stall_Analysis.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;oldid=29395" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Pipeline_Stall_Analysis&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 6 May 2010, at 15:51.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.065","walltime":"0.070","ppvisitednodes":{"value":194,"limit":1000000},"ppgeneratednodes":{"value":500,"limit":1000000},"postexpandincludesize":{"value":4525,"limit":2097152},"templateargumentsize":{"value":1942,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":3499,"limit":5000000},"timingprofile":["100.00%    3.287      1 -total"," 54.64%    1.796      1 Template:UsefulTip"," 41.87%    1.376      1 Template:Example"]},"cachereport":{"timestamp":"20201130205926","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":223});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Pipeline_Stall_Analysis by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:07:41 GMT -->
</html>
