<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Template:Glsdk_soc_performance_monitoring_tools by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 13:42:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Template:Glsdk soc performance monitoring tools - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"Template","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":10,"wgPageName":"Template:Glsdk_soc_performance_monitoring_tools","wgTitle":"Glsdk soc performance monitoring tools","wgCurRevisionId":236064,"wgRevisionId":236064,"wgArticleId":42583,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Template:Glsdk_soc_performance_monitoring_tools","wgRelevantArticleId":42583,"wgRequestId":"eb8299097dfd31a893ff8d06","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-10 ns-subject page-Template_Glsdk_soc_performance_monitoring_tools rootpage-Template_Glsdk_soc_performance_monitoring_tools skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Template:Glsdk soc performance monitoring tools</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#SOC_Performance_monitoring_tools"><span class="tocnumber">1</span> <span class="toctext">SOC Performance monitoring tools</span></a>
<ul>
<li class="toclevel-2 tocsection-1"><a href="#Introduction"><span class="tocnumber">1.1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-2 tocsection-2"><a href="#Getting_started"><span class="tocnumber">1.2</span> <span class="toctext">Getting started</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Quick_guide_to_available_plugins"><span class="tocnumber">1.3</span> <span class="toctext">Quick guide to available plugins</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Temperature_data"><span class="tocnumber">1.3.1</span> <span class="toctext">Temperature data</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Voltage_data"><span class="tocnumber">1.3.2</span> <span class="toctext">Voltage data</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Frequency_data"><span class="tocnumber">1.3.3</span> <span class="toctext">Frequency data</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#CPU_Load_information"><span class="tocnumber">1.3.4</span> <span class="toctext">CPU Load information</span></a>
<ul>
<li class="toclevel-4 tocsection-8"><a href="#Measuring_the_MPU_load"><span class="tocnumber">1.3.4.1</span> <span class="toctext">Measuring the MPU load</span></a></li>
<li class="toclevel-4 tocsection-9"><a href="#Measuring_the_GPU_load"><span class="tocnumber">1.3.4.2</span> <span class="toctext">Measuring the GPU load</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-11"><a href="#Boot_time_measurement"><span class="tocnumber">1.3.5</span> <span class="toctext">Boot time measurement</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Order_of_execution"><span class="tocnumber">1.4</span> <span class="toctext">Order of execution</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Config_file_format"><span class="tocnumber">1.5</span> <span class="toctext">Config file format</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#GLOBAL_section:"><span class="tocnumber">1.5.1</span> <span class="toctext">GLOBAL section:</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#TABLE_section:"><span class="tocnumber">1.5.2</span> <span class="toctext">TABLE section:</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#BAR_GRAPH_section:"><span class="tocnumber">1.5.3</span> <span class="toctext">BAR GRAPH section:</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Commands:"><span class="tocnumber">1.6</span> <span class="toctext">Commands:</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="#TABLE_command"><span class="tocnumber">1.6.1</span> <span class="toctext">TABLE command</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#CPULOAD_command"><span class="tocnumber">1.6.2</span> <span class="toctext">CPULOAD command</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href="#Executing_in_debug_mode"><span class="tocnumber">1.7</span> <span class="toctext">Executing in debug mode</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Build_instructions"><span class="tocnumber">1.8</span> <span class="toctext">Build instructions</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Configuration_of_the_soc-ddr-bw-visualizer"><span class="tocnumber">1.9</span> <span class="toctext">Configuration of the soc-ddr-bw-visualizer</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="SOC_Performance_monitoring_tools">SOC Performance monitoring tools</span></h1>
<p><span style="color:red"> <b>NOTE!</b> </span> Support for SoC performance monitoring tool is available only upto K4.4 releases. Check the release notes to see if this feature is available on the Processor SDK Linux Automotive release you are using.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<hr />
<p>The SOC Performance monitoring tools are a set of tools that are included in the default filesystem that allow the user to visualize various SOC parameters real-time on the screen.<br />
Currently, there are two tools and a suite of scripts and utilities to use them.
</p>
<ol><li>soc-performance-monitor</li>
<li>soc-ddr-bw-visualize</li></ol>
<p>Both these applications are Wayland applications and need to be invoked after running Weston. <br />
</p><p>These tools bring in the capability to visualize the following:
</p>
<ol><li>DDR BW Utilization
<ol><li>Overall DDR BW Usage</li>
<li>Split of the traffic between the two EMIF's</li>
<li>A real time "top" like functionality that depicts the list of "Top 6" initiators generating the traffic.</li></ol></li>
<li>Voltage of the various rails</li>
<li>Frequency of the various cores</li>
<li>Temperature (read from on die temperature sensors)</li>
<li>CPU Load information of the various processor cores including the GPU and DSP.</li>
<li>Boot time results (requires rebuild of u-boot and kernel), refer instructions below.</li>
<li>Power plot (Will be available soon. Note that this requires board modification on the EVM)</li></ol>
<div class="floatnone"><a href="File_Updated_screen_shot_of_soc_performance_monitoring_tools.html" class="image" title="SOC_PERF_Screenshot"><img alt="SOC_PERF_Screenshot" src="https://processors.wiki.ti.com/images/1/16/Updated_screen_shot_of_soc_performance_monitoring_tools.png" width="750" height="420" /></a></div>
<p><br />
</p>
<h2><span class="mw-headline" id="Getting_started">Getting started</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=2" title="Edit section: Getting started">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<hr />
<ul><li>Prepare the card with root filesystem provided with the installer.</li>
<li>Boot up</li>
<li>Start weston <br /></li></ul>
<pre>target #  /etc/init.d/weston start
</pre>
<ul><li>Copy the required scripts into a temporary folder (this is to allow you to experiment with the settings later)</li></ul>
<pre>target # mkdir temp
target # cd temp
target # cp /etc/glsdkstatcoll/* .
target # cp /etc/visualization_scripts/* .
</pre>
<ul><li>You should see the following file in the directory after the above operation.</li></ul>
<pre>target # ls -al
drwxr-xr-x    2 root     root          4096 Mar 22 18:01 .
drwxr-xr-x    3 root     root          4096 Mar 22 18:01 ..
-rw-r--r--    1 root     root           114 Mar 22 18:01 config.ini
-rw-r--r--    1 root     root           265 Mar 22 18:01 dummy_boot_time_results.sh
-rw-r--r--    1 root     root           419 Mar 22 18:01 dummy_cpu_load.sh
-rw-r--r--    1 root     root           899 Mar 22 18:01 getFrequency.sh
-rw-r--r--    1 root     root          2293 Mar 22 18:01 getTemp.sh
-rw-r--r--    1 root     root           371 Mar 22 18:01 getVoltage.sh
-rw-r--r--    1 root     root           254 Mar 22 18:01 initiators.cfg
-rw-r--r--    1 root     root           143 Mar 22 18:01 list-boot-times.sh
-rw-r--r--    1 root     root           367 Mar 22 18:01 send_boot_times_to_monitor.sh
-rw-r--r--    1 root     root           496 Mar 22 18:01 soc_performance_monitor.cfg
-rw-r--r--    1 root     root           133 Mar 22 18:01 start_visualization_test.sh
</pre>
<ul><li>Running the soc-performance-monitor, this tool has two pre-requisites.</li></ul>
<ol><li>The name of the fifo configured in the file soc_performance_monitor.cfg needs to be created</li>
<li>The file soc_performance_monitor.cfg should be present in the current directory. This should be done in the above steps.</li></ol>
<ul><li>Creating the fifo (mentioned in the soc_performance_monitor.cfg)</li></ul>
<pre>target # mkfifo /tmp/socfifo
</pre>
<ul><li>Run the tool for various performance metrics</li></ul>
<pre>target # soc-performance-monitor &amp;
</pre>
<ul><li>Run the tool for DDR BW Visualization</li></ul>
<pre>target # mkfifo /tmp/statcollfifo
target # soc-ddr-bw-visualizer &amp;
</pre>
<p>The following sections will talk about the how to populate the data into tools and further controls that are possible.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Quick_guide_to_available_plugins">Quick guide to available plugins</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=3" title="Edit section: Quick guide to available plugins">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Plugins are the entities (scripts/native binaries) that can be used to send commands to the SOC Performance Monitoring tools. <br />
</p><p>The main intent of this is to separate the visualization engine from the data collection part and allow full configuration of the application.
</p><p>When the application (soc-performance-monitor) is invoked, it starts up with the default data which is set to zero. To populate the real values, the user can use the scripts provided in the prebuilt filesystem.
</p>
<h3><span class="mw-headline" id="Temperature_data">Temperature data</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=4" title="Edit section: Temperature data">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The temperature data is read from the on-die temperature registers and sent to the visualization tool.
The file system comes with a script that does this functionality.
</p>
<pre>target # sh getTemp.sh
</pre>
<p>Invoking the above command will populate the temperature table with the current temperature.
</p>
<h3><span class="mw-headline" id="Voltage_data">Voltage data</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=5" title="Edit section: Voltage data">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The voltage data is read from the omapconf utility and then parsing out the required information to be later sent to the visualization tool.
The file system comes with a script that does this functionality.
</p>
<pre>target # sh getVoltage.sh
</pre>
<p>Invoking the above command will populate the Temperature table with the configured voltage for the various rails.
</p>
<h3><span class="mw-headline" id="Frequency_data">Frequency data</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=6" title="Edit section: Frequency data">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The frequency data is read from the omapconf utility and then parsing out the required information to be later sent to the visualization tool.
The file system comes with a script that does this functionality.
</p>
<pre>target # sh getFrequency.sh
</pre>
<p>Invoking the above command will populate the Frequency table with the configured frequency for the various cores.
</p>
<h3><span class="mw-headline" id="CPU_Load_information">CPU Load information</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=7" title="Edit section: CPU Load information">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The CPU load information need individual plugin modules for each of the cores. This is envisioned to be different for different systems.
The default filesystem contains the plugins required for reading the MPU(A15) and the GPU(SGX544 MP2). 
Other plugins for measuring the loads for the IPU1, IPU2, DSP1 and DSP2 will be available at a later time.
</p>
<h4><span class="mw-headline" id="Measuring_the_MPU_load">Measuring the MPU load</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=8" title="Edit section: Measuring the MPU load">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The filesystem is populated with a binary which is called "mpuload" that reads the /proc/stat interface and derives the load.
The user can run the utility in the background with the 
</p>
<pre>target # mpuload FIFO <time>

Example usage:

target # mpuload /tmp/socfifo 1000 &amp;
</time></pre>
<p>After running this binary the MPU load in the Bar Graph of the CPU load will be updated dynamically at an interval of 1 second.
</p>
<h4><span class="mw-headline" id="Measuring_the_GPU_load">Measuring the GPU load</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=9" title="Edit section: Measuring the GPU load">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The filesystem is populated with a binary called as "pvrscope" that reads the SGX registers via a library called libPVRScopeDeveloper.a
This utility invokes the APIs provided by IMG as part of the Imagination PowerVR SDK and then populates the required FIFO.
</p><p>Usage instructions:
</p>
<pre>target # pvrscope &lt;option&gt; &lt;time_seconds&gt;

options: 
          -f    write into the FIFO (/tmp/socfifo)
          -c    output to console

time:
          1-n   specified in seconds
          0     run forever
</pre>
<p>After running this utility, the GPU load in the BAR Graph of the CPU load area will be updated at an interval of 1 second.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Boot_time_measurement">Boot time measurement</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=11" title="Edit section: Boot time measurement">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This feature will be provided at future release.
</p>
<h2><span class="mw-headline" id="Order_of_execution">Order of execution</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=12" title="Edit section: Order of execution">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The performance visualization tools have to be executed in the following order.
</p>
<ul><li>Launch weston</li>
<li>Create required FIFOs</li>
<li>Configure the .cfg file to suit the required settings</li>
<li>Run the soc-performance-monitor and/or soc-ddr-bw-visualizer</li>
<li>Run the plugins to populate data</li></ul>
<h2><span class="mw-headline" id="Config_file_format">Config file format</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=13" title="Edit section: Config file format">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<hr />
<p>The config file has the following format. <br /> 
There are 3 different kinds of sections that can be defined, please refer to the particular section for more details. <br />
</p><p>The generic format is:
</p>
<pre>[SECTION_NAME]
VALUE_1
VALUE_2
..
..
VALUE_N
SPECIAL VALUE
&lt;blank line&gt;
</pre>
<p>Types of sections
</p>
<ol><li>GLOBAL</li>
<li>TABLE</li>
<li>BAR GRAPH</li></ol>
<h3><span class="mw-headline" id="GLOBAL_section:">GLOBAL section:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=14" title="Edit section: GLOBAL section:">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The SECTION_NAME is specified as GLOBAL followed by a sequence of key value pairs.
</p>
<pre>[GLOBAL]
KEY_1=VALUE_1
KEY_2=VALUE_2
..
..
KEY_n=VALUE_n
&lt;blank&gt;
</pre>
<p><b>Global configurations</b>
</p><p>The list of recognized global values are:
</p>
<ul><li>REFRESH_TIME_USECS</li>
<li>FIFO</li>
<li>MAX_HEIGHT</li>
<li>MAX_WIDTH</li>
<li>X_POS</li>
<li>Y_POS</li></ul>
<p><b>REFRESH_TIME_USECS:</b>
</p>
<ul><li>This will dictate the interval at which the utility is going to run.</li>
<li>The value is specified in micro seconds</li>
<li>This value decides a major trade-off, lower rate will increase the CPU load and GPU load.</li>
<li>The ideal value is about 100000 usecs</li></ul>
<p><b>FIFO:</b>
</p>
<ul><li>The value of this field is the named pipe or fifo that can be used to communicate with the application.</li>
<li>User would need to create a fifo (application will prompt if it doesn't exist)</li></ul>
<p><b>MAX_HEIGHT, MAX_WIDTH:</b>
</p>
<ul><li>The width and height of the application.</li>
<li>This can be adjusted based on the number of tables and bar graph entities.</li></ul>
<p><b>X_POS, Y_POS:</b>
</p>
<ul><li>Decide the starting offset of the application.</li>
<li>Note that there are commands to move the application (Refer commands section).</li></ul>
<h3><span class="mw-headline" id="TABLE_section:">TABLE section:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=15" title="Edit section: TABLE section:">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The section name can be one of the following:
</p>
<ul><li>BOOT_TIME</li>
<li>TEMPERATURE</li>
<li>VOLTAGE</li>
<li>FREQUENCY</li></ul>
<pre>[TABLE_NAME]
 VALUE_1
 VALUE_2
 ..
 ..
 VALUE_N
TITLE="TABLE TITLE",UNIT="unit to be displayed"
&lt;blank line&gt;
</pre>
<p>NOTE: The TITLE=list is a list of comma separated values and TITLE and UNIT are the only supported values.
</p>
<h3><span class="mw-headline" id="BAR_GRAPH_section:">BAR GRAPH section:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=16" title="Edit section: BAR GRAPH section:">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section is the simplest section and does not allow much configuration other than the names and the title. <br />
It follows the following format:
</p>
<pre>[GRAPH_NAME]
 VALUE_1
 VALUE_2
 ..
 ..
 VALUE_N
 TITLE OF THE GRAPH
 &lt;blank line&gt;
</pre>
<h2><span class="mw-headline" id="Commands:">Commands:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=17" title="Edit section: Commands:">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<hr />
<p>The <b>FIFO</b> can be used to communicate with the soc-performance-monitor application and pass data from the command line or from other applications. <br />
There are a few commands that have been implemented to aid in modifying the running application via the FIFO.
</p><p>The commands in general have the following format:
</p>
<pre>"INSTRUCTION: DATA_1 ... DATA_N"
</pre>
<p>and they can be sent to the soc-performance-monitor by simply doing an echo:
</p>
<pre>echo "INSTRUCTION: DATA_1 ... DATA_N" &gt; FIFO
</pre>
<p>The currently supported list of supported commands are:
</p>
<ol><li>TABLE</li>
<li>CPULOAD</li></ol>
<p><b>NOTE: To execute a sequence of commands in a sequence, it is advised that a delay of REFRESH_TIME_USECS be inserted between two commands.</b> 
</p><p><br />
</p>
<h3><span class="mw-headline" id="TABLE_command">TABLE command</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=19" title="Edit section: TABLE command">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The format of the TABLE command is:
</p>
<pre>"TABLE: ROW_NAME value unit"
</pre>
<p>When this command is issued, the tool will find a table entry with the ROW_NAME in Column 0 and then update the Column 1 of the table with "value unit" <br />
If the ROW_NAME is not found, then this command will have no effect.
Please note that this brings in a restriction that all the tables rows will need to have a unique name. In order to ensure this, the soc_performance_monitor.cfg file will have to be reviewed to ensure unique names.
</p><p>Example: To update the FREQUENCY table for MPU, the user can send the following command:
</p>
<pre>echo "TABLE: FREQ_MPU 1500 MHz" &gt; /tmp/socfifo
</pre>
<h3><span class="mw-headline" id="CPULOAD_command">CPULOAD command</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=20" title="Edit section: CPULOAD command">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The format of the CPULOAD command is:
</p>
<pre>"CPULOAD: CORE_NAME value" &gt; FIFO

 CORE_NAME has to be one of the names specified in the soc_performance_monitor.cfg.
 value is in the range 0 to 100
</pre>
<p>Usually, the CPULOAD command is invoked through an application monitors the load of a specific core. <br />
In each system, the mechanism to retrieve the CPULOAD of a particular core can vary and it is for this reason that several plugins have been provided and serve as an example for further extension.
</p><p>Example: To update the CPULOAD table for GPU, the user can send the following command:
</p>
<pre>echo "CPULOAD: GPU 87" &gt; /tmp/socfifo
</pre>
<h2><span class="mw-headline" id="Executing_in_debug_mode">Executing in debug mode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=21" title="Edit section: Executing in debug mode">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To launch the application in debug mode for very verbose data on the internal working of the tool, launch the tool with the following option:
</p>
<pre># soc-performance-monitor 1
</pre>
<h2><span class="mw-headline" id="Build_instructions">Build instructions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=22" title="Edit section: Build instructions">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The full source of the tool is available and the required recipes have been updated as part of the recipes and upstreamed to meta-arago. <br />
Essentially, if the user builds the Yocto filesystem as documented in the SDG, the tool will get recompiled as part of it.
</p><p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Configuration_of_the_soc-ddr-bw-visualizer">Configuration of the soc-ddr-bw-visualizer</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;section=23" title="Edit section: Configuration of the soc-ddr-bw-visualizer">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Refer to <a href="#Using_the_statistics_collector_.28bandwidth_application.29">#Using_the_statistics_collector_.28bandwidth_application.29</a>
</p>
<ul><li>The total time that the tool runs is configured using config.ini.</li>
<li>To allow finer granularity of control to choose the initiators of interest, the user will have to modify the initiators.cfg.</li></ul>
<p>The tool will have to relaunched for the new settings to take effect.
</p>
<!-- 
NewPP limit report
Cached time: 20201201114321
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.059 seconds
Real time usage: 0.061 seconds
Preprocessor visited node count: 138/1000000
Preprocessor generated node count: 502/1000000
Post‐expand include size: 192/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:42583-0!canonical and timestamp 20201201114321 and revision id 236064
 -->
</div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;oldid=236064">https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;oldid=236064</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Template%3AGlsdk+soc+performance+monitoring+tools" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-template" class="selected"><span><a href="Template_Glsdk_soc_performance_monitoring_tools.html" title="View the template [c]" accesskey="c">Template</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Template_talk:Glsdk_soc_performance_monitoring_tools&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Template_Glsdk_soc_performance_monitoring_tools.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Template_Glsdk_soc_performance_monitoring_tools.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Template_Glsdk_soc_performance_monitoring_tools.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;oldid=236064" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_soc_performance_monitoring_tools&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 31 December 2018, at 07:18.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.059","walltime":"0.061","ppvisitednodes":{"value":138,"limit":1000000},"ppgeneratednodes":{"value":502,"limit":1000000},"postexpandincludesize":{"value":192,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201201114321","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":261});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Template:Glsdk_soc_performance_monitoring_tools by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 13:42:59 GMT -->
</html>
