<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Example_GStreamer_Pipelines by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:25:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Example GStreamer Pipelines - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Example_GStreamer_Pipelines","wgTitle":"Example GStreamer Pipelines","wgCurRevisionId":97791,"wgRevisionId":97791,"wgArticleId":3447,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["DMAI GStreamer Plug-In","Gstreamer","DaVinci Algorithms","DaVinci Linux"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Example_GStreamer_Pipelines","wgRelevantArticleId":3447,"wgRequestId":"5eb1f68ea888062623de1781","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Example_GStreamer_Pipelines rootpage-Example_GStreamer_Pipelines skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Example GStreamer Pipelines</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Purpose"><span class="tocnumber">1</span> <span class="toctext">Purpose</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Testing"><span class="tocnumber">2</span> <span class="toctext">Testing</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Media_files"><span class="tocnumber">3</span> <span class="toctext">Media files</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Creating_an_AVI_file"><span class="tocnumber">3.1</span> <span class="toctext">Creating an AVI file</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Supported_Platforms"><span class="tocnumber">4</span> <span class="toctext">Supported Platforms</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#DM355"><span class="tocnumber">5</span> <span class="toctext">DM355</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Environment_Requirements"><span class="tocnumber">5.1</span> <span class="toctext">Environment Requirements</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Loopback:_Video"><span class="tocnumber">5.2</span> <span class="toctext">Loopback: Video</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Loopback:_Audio"><span class="tocnumber">5.3</span> <span class="toctext">Loopback: Audio</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Loopback:_Audio_.2B_Video"><span class="tocnumber">5.4</span> <span class="toctext">Loopback: Audio + Video</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Decode_Video_Files"><span class="tocnumber">5.5</span> <span class="toctext">Decode Video Files</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Decode_Audio_Files"><span class="tocnumber">5.6</span> <span class="toctext">Decode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Decode_.AVI_Files"><span class="tocnumber">5.7</span> <span class="toctext">Decode .AVI Files</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Encode_Video_Files"><span class="tocnumber">5.8</span> <span class="toctext">Encode Video Files</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Encode_Audio_Files"><span class="tocnumber">5.9</span> <span class="toctext">Encode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Image_Encode"><span class="tocnumber">5.10</span> <span class="toctext">Image Encode</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Image_Decode"><span class="tocnumber">5.11</span> <span class="toctext">Image Decode</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Resize"><span class="tocnumber">5.12</span> <span class="toctext">Resize</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Network_Streaming"><span class="tocnumber">5.13</span> <span class="toctext">Network Streaming</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#DM357"><span class="tocnumber">6</span> <span class="toctext">DM357</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#Environment_Requirements_2"><span class="tocnumber">6.1</span> <span class="toctext">Environment Requirements</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Loopback:_Video_2"><span class="tocnumber">6.2</span> <span class="toctext">Loopback: Video</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Loopback:_Audio_2"><span class="tocnumber">6.3</span> <span class="toctext">Loopback: Audio</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Loopback:_Audio_.2B_Video_2"><span class="tocnumber">6.4</span> <span class="toctext">Loopback: Audio + Video</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Decode_Video_Files_2"><span class="tocnumber">6.5</span> <span class="toctext">Decode Video Files</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Decode_Audio_Files_2"><span class="tocnumber">6.6</span> <span class="toctext">Decode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Decode_.MP4_Files"><span class="tocnumber">6.7</span> <span class="toctext">Decode .MP4 Files</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Decode_.AVI_Files_2"><span class="tocnumber">6.8</span> <span class="toctext">Decode .AVI Files</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Encode_Video_Files_2"><span class="tocnumber">6.9</span> <span class="toctext">Encode Video Files</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Encode_Video_in_Container"><span class="tocnumber">6.10</span> <span class="toctext">Encode Video in Container</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Image_Encode_2"><span class="tocnumber">6.11</span> <span class="toctext">Image Encode</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Image_Decode_2"><span class="tocnumber">6.12</span> <span class="toctext">Image Decode</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Resize_2"><span class="tocnumber">6.13</span> <span class="toctext">Resize</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Network_Streaming_2"><span class="tocnumber">6.14</span> <span class="toctext">Network Streaming</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-35"><a href="#DM644x"><span class="tocnumber">7</span> <span class="toctext">DM644x</span></a>
<ul>
<li class="toclevel-2 tocsection-36"><a href="#Environment_Requirements_3"><span class="tocnumber">7.1</span> <span class="toctext">Environment Requirements</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Loopback:_Video_3"><span class="tocnumber">7.2</span> <span class="toctext">Loopback: Video</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Loopback:_Audio_3"><span class="tocnumber">7.3</span> <span class="toctext">Loopback: Audio</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#Loopback:_Audio_.2B_Video_3"><span class="tocnumber">7.4</span> <span class="toctext">Loopback: Audio + Video</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#Decode_Video_Files_3"><span class="tocnumber">7.5</span> <span class="toctext">Decode Video Files</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#Decode_Audio_Files_3"><span class="tocnumber">7.6</span> <span class="toctext">Decode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#Decode_.MP4_Files_2"><span class="tocnumber">7.7</span> <span class="toctext">Decode .MP4 Files</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#Decode_.AVI_Files_3"><span class="tocnumber">7.8</span> <span class="toctext">Decode .AVI Files</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#Decode_.TS_Files"><span class="tocnumber">7.9</span> <span class="toctext">Decode .TS Files</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="#Encode_Video_Files_3"><span class="tocnumber">7.10</span> <span class="toctext">Encode Video Files</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#Encode_Video_in_Container_2"><span class="tocnumber">7.11</span> <span class="toctext">Encode Video in Container</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#Resize_3"><span class="tocnumber">7.12</span> <span class="toctext">Resize</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#Network_Streaming_3"><span class="tocnumber">7.13</span> <span class="toctext">Network Streaming</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-49"><a href="#DM365"><span class="tocnumber">8</span> <span class="toctext">DM365</span></a>
<ul>
<li class="toclevel-2 tocsection-50"><a href="#Environment_Requirements_4"><span class="tocnumber">8.1</span> <span class="toctext">Environment Requirements</span></a></li>
<li class="toclevel-2 tocsection-51"><a href="#Loopback:_Video_4"><span class="tocnumber">8.2</span> <span class="toctext">Loopback: Video</span></a></li>
<li class="toclevel-2 tocsection-52"><a href="#Loopback:_Audio_4"><span class="tocnumber">8.3</span> <span class="toctext">Loopback: Audio</span></a></li>
<li class="toclevel-2 tocsection-53"><a href="#Loopback:_Audio_.2B_Video_4"><span class="tocnumber">8.4</span> <span class="toctext">Loopback: Audio + Video</span></a></li>
<li class="toclevel-2 tocsection-54"><a href="#Decode_Video_Files_4"><span class="tocnumber">8.5</span> <span class="toctext">Decode Video Files</span></a></li>
<li class="toclevel-2 tocsection-55"><a href="#Decode_Audio_Files_4"><span class="tocnumber">8.6</span> <span class="toctext">Decode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-56"><a href="#Decode_Container_Files"><span class="tocnumber">8.7</span> <span class="toctext">Decode Container Files</span></a></li>
<li class="toclevel-2 tocsection-57"><a href="#Encode_Video_Files_4"><span class="tocnumber">8.8</span> <span class="toctext">Encode Video Files</span></a></li>
<li class="toclevel-2 tocsection-58"><a href="#Encode_Audio_Files_2"><span class="tocnumber">8.9</span> <span class="toctext">Encode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-59"><a href="#Encode_Video_in_Container_3"><span class="tocnumber">8.10</span> <span class="toctext">Encode Video in Container</span></a></li>
<li class="toclevel-2 tocsection-60"><a href="#Image_Encode_3"><span class="tocnumber">8.11</span> <span class="toctext">Image Encode</span></a></li>
<li class="toclevel-2 tocsection-61"><a href="#Image_Decode_3"><span class="tocnumber">8.12</span> <span class="toctext">Image Decode</span></a></li>
<li class="toclevel-2 tocsection-62"><a href="#Resize_4"><span class="tocnumber">8.13</span> <span class="toctext">Resize</span></a></li>
<li class="toclevel-2 tocsection-63"><a href="#Network_Streaming_4"><span class="tocnumber">8.14</span> <span class="toctext">Network Streaming</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-64"><a href="#DM6467"><span class="tocnumber">9</span> <span class="toctext">DM6467</span></a>
<ul>
<li class="toclevel-2 tocsection-65"><a href="#Environment_Requirements_5"><span class="tocnumber">9.1</span> <span class="toctext">Environment Requirements</span></a></li>
<li class="toclevel-2 tocsection-66"><a href="#Loopback:_Video_5"><span class="tocnumber">9.2</span> <span class="toctext">Loopback: Video</span></a></li>
<li class="toclevel-2 tocsection-67"><a href="#Loopback:_Audio_5"><span class="tocnumber">9.3</span> <span class="toctext">Loopback: Audio</span></a></li>
<li class="toclevel-2 tocsection-68"><a href="#Loopback:_Audio_.2B_Video_5"><span class="tocnumber">9.4</span> <span class="toctext">Loopback: Audio + Video</span></a></li>
<li class="toclevel-2 tocsection-69"><a href="#Decode_Video_Files_5"><span class="tocnumber">9.5</span> <span class="toctext">Decode Video Files</span></a></li>
<li class="toclevel-2 tocsection-70"><a href="#Decode_Audio_Files_5"><span class="tocnumber">9.6</span> <span class="toctext">Decode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-71"><a href="#Decode_.MP4_Files_3"><span class="tocnumber">9.7</span> <span class="toctext">Decode .MP4 Files</span></a></li>
<li class="toclevel-2 tocsection-72"><a href="#Decode_.AVI_Files_4"><span class="tocnumber">9.8</span> <span class="toctext">Decode .AVI Files</span></a></li>
<li class="toclevel-2 tocsection-73"><a href="#Decode_.TS_Files_2"><span class="tocnumber">9.9</span> <span class="toctext">Decode .TS Files</span></a></li>
<li class="toclevel-2 tocsection-74"><a href="#Encode_Video_Files_5"><span class="tocnumber">9.10</span> <span class="toctext">Encode Video Files</span></a></li>
<li class="toclevel-2 tocsection-75"><a href="#Encode_Video_in_Container_4"><span class="tocnumber">9.11</span> <span class="toctext">Encode Video in Container</span></a></li>
<li class="toclevel-2 tocsection-76"><a href="#Encode_Audio_Files_3"><span class="tocnumber">9.12</span> <span class="toctext">Encode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-77"><a href="#Resize_5"><span class="tocnumber">9.13</span> <span class="toctext">Resize</span></a></li>
<li class="toclevel-2 tocsection-78"><a href="#Network_Streaming_5"><span class="tocnumber">9.14</span> <span class="toctext">Network Streaming</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-79"><a href="#DM6467T"><span class="tocnumber">10</span> <span class="toctext">DM6467T</span></a>
<ul>
<li class="toclevel-2 tocsection-80"><a href="#Environment_Requirements_6"><span class="tocnumber">10.1</span> <span class="toctext">Environment Requirements</span></a></li>
<li class="toclevel-2 tocsection-81"><a href="#Loopback:_Video_6"><span class="tocnumber">10.2</span> <span class="toctext">Loopback: Video</span></a></li>
<li class="toclevel-2 tocsection-82"><a href="#Loopback:_Audio_6"><span class="tocnumber">10.3</span> <span class="toctext">Loopback: Audio</span></a></li>
<li class="toclevel-2 tocsection-83"><a href="#Loopback:_Audio_.2B_Video_6"><span class="tocnumber">10.4</span> <span class="toctext">Loopback: Audio + Video</span></a></li>
<li class="toclevel-2 tocsection-84"><a href="#Decode_Video_Files_6"><span class="tocnumber">10.5</span> <span class="toctext">Decode Video Files</span></a></li>
<li class="toclevel-2 tocsection-85"><a href="#Decode_Audio_Files_6"><span class="tocnumber">10.6</span> <span class="toctext">Decode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-86"><a href="#Decode_Container_Files_2"><span class="tocnumber">10.7</span> <span class="toctext">Decode Container Files</span></a></li>
<li class="toclevel-2 tocsection-87"><a href="#Encode_Video_Files_6"><span class="tocnumber">10.8</span> <span class="toctext">Encode Video Files</span></a></li>
<li class="toclevel-2 tocsection-88"><a href="#Encode_Video_in_Container_5"><span class="tocnumber">10.9</span> <span class="toctext">Encode Video in Container</span></a></li>
<li class="toclevel-2 tocsection-89"><a href="#Encode_Audio_Files_4"><span class="tocnumber">10.10</span> <span class="toctext">Encode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-90"><a href="#Resize_6"><span class="tocnumber">10.11</span> <span class="toctext">Resize</span></a></li>
<li class="toclevel-2 tocsection-91"><a href="#Network_Streaming_6"><span class="tocnumber">10.12</span> <span class="toctext">Network Streaming</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-92"><a href="#OMAP35x"><span class="tocnumber">11</span> <span class="toctext">OMAP35x</span></a>
<ul>
<li class="toclevel-2 tocsection-93"><a href="#Environment_Requirements_7"><span class="tocnumber">11.1</span> <span class="toctext">Environment Requirements</span></a></li>
<li class="toclevel-2 tocsection-94"><a href="#Loopback:_Video_7"><span class="tocnumber">11.2</span> <span class="toctext">Loopback: Video</span></a></li>
<li class="toclevel-2 tocsection-95"><a href="#Loopback:_Audio_7"><span class="tocnumber">11.3</span> <span class="toctext">Loopback: Audio</span></a></li>
<li class="toclevel-2 tocsection-96"><a href="#Loopback:_Audio.2BVideo"><span class="tocnumber">11.4</span> <span class="toctext">Loopback: Audio+Video</span></a></li>
<li class="toclevel-2 tocsection-97"><a href="#Decode_Video_files_7"><span class="tocnumber">11.5</span> <span class="toctext">Decode Video files</span></a></li>
<li class="toclevel-2 tocsection-98"><a href="#Decode_Audio_Files_7"><span class="tocnumber">11.6</span> <span class="toctext">Decode Audio Files</span></a></li>
<li class="toclevel-2 tocsection-99"><a href="#Decode_.MP4_Files_4"><span class="tocnumber">11.7</span> <span class="toctext">Decode .MP4 Files</span></a></li>
<li class="toclevel-2 tocsection-100"><a href="#Decode_.AVI_Files_5"><span class="tocnumber">11.8</span> <span class="toctext">Decode .AVI Files</span></a></li>
<li class="toclevel-2 tocsection-101"><a href="#Decode_.TS_Files_3"><span class="tocnumber">11.9</span> <span class="toctext">Decode .TS Files</span></a></li>
<li class="toclevel-2 tocsection-102"><a href="#Encode_Video_Files_7"><span class="tocnumber">11.10</span> <span class="toctext">Encode Video Files</span></a></li>
<li class="toclevel-2 tocsection-103"><a href="#Encode_Video_in_Container_6"><span class="tocnumber">11.11</span> <span class="toctext">Encode Video in Container</span></a></li>
<li class="toclevel-2 tocsection-104"><a href="#Image_Encode_4"><span class="tocnumber">11.12</span> <span class="toctext">Image Encode</span></a></li>
<li class="toclevel-2 tocsection-105"><a href="#Image_Decode_4"><span class="tocnumber">11.13</span> <span class="toctext">Image Decode</span></a></li>
<li class="toclevel-2 tocsection-106"><a href="#Resize_7"><span class="tocnumber">11.14</span> <span class="toctext">Resize</span></a></li>
<li class="toclevel-2 tocsection-107"><a href="#Network_Streaming_7"><span class="tocnumber">11.15</span> <span class="toctext">Network Streaming</span></a>
<ul>
<li class="toclevel-3 tocsection-108"><a href="#Audio_RTP_Streaming"><span class="tocnumber">11.15.1</span> <span class="toctext">Audio RTP Streaming</span></a></li>
<li class="toclevel-3 tocsection-109"><a href="#H.264_RTP_Streaming"><span class="tocnumber">11.15.2</span> <span class="toctext">H.264 RTP Streaming</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-110"><a href="#All"><span class="tocnumber">12</span> <span class="toctext">All</span></a>
<ul>
<li class="toclevel-2 tocsection-111"><a href="#Debugging"><span class="tocnumber">12.1</span> <span class="toctext">Debugging</span></a>
<ul>
<li class="toclevel-3 tocsection-112"><a href="#Verbose_output"><span class="tocnumber">12.1.1</span> <span class="toctext">Verbose output</span></a></li>
<li class="toclevel-3 tocsection-113"><a href="#Element_debug_output"><span class="tocnumber">12.1.2</span> <span class="toctext">Element debug output</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-114"><a href="#Audio_pipelines"><span class="tocnumber">12.2</span> <span class="toctext">Audio pipelines</span></a>
<ul>
<li class="toclevel-3 tocsection-115"><a href="#Controlling_the_sample_rate_and_bit_depth"><span class="tocnumber">12.2.1</span> <span class="toctext">Controlling the sample rate and bit depth</span></a></li>
<li class="toclevel-3 tocsection-116"><a href="#Generic_network_audio_streaming_example"><span class="tocnumber">12.2.2</span> <span class="toctext">Generic network audio streaming example</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Purpose">Purpose</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=1" title="Edit section: Purpose">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This page provides example pipelines that can be copied to the command line to demonstrate various GStreamer operations. Some of the pipelines may need modification for things such as file names, ip addresses, etc. 
</p><p>It is our hope that people using this page will add new interesting pipelines that they themselves are using. For example, on DM6467 if you are decoding a 1080 video and outputing to component please include your pipeline for others to use as a reference. 
</p><p>Refer to <a href="GStreamer.html" title="GStreamer">this Gstreamer article</a> for more information on downloading and building TI Gstreamer elements. The project is hosted at <a rel="nofollow" class="external free" href="http://gstreamer.ti.com/">http://gstreamer.ti.com</a>. If you are interested in understanding the design details then watch video presentation <a rel="nofollow" class="external free" href="http://software-dl.ti.com/sdo/sdo_apps_public_sw/GStreamer_On_TI/FLV1/GStreamer_On_TI.htm">http://software-dl.ti.com/sdo/sdo_apps_public_sw/GStreamer_On_TI/FLV1/GStreamer_On_TI.htm</a> 
</p>
<h2><span class="mw-headline" id="Testing">Testing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=2" title="Edit section: Testing">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Currently these pipelines have not undergone any extensive testing. If you find an error in a pipeline please correct it. 
</p>
<h2><span class="mw-headline" id="Media_files">Media files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=3" title="Edit section: Media files">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>You should be able to use any audio and video media file that conforms to the appropriate standard. 
</p>
<h3><span class="mw-headline" id="Creating_an_AVI_file">Creating an AVI file</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=4" title="Edit section: Creating an AVI file">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following <tt>ffmpeg</tt> command takes a .mov file (say from the Apple movie trailers site) and make an AVI file. Run the command on your host computer. 
</p>
<pre>ffmpeg -i tropic_thunder-tlr1a_720p.mov -r 60 -b 6000000 -vcodec mpeg2video -ab 48000000 -acodec libmp3lame -s 1280x544 tropic.avi
</pre> 
<h2><span class="mw-headline" id="Supported_Platforms">Supported Platforms</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=5" title="Edit section: Supported Platforms">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Following are a list of supported platforms, with links that jump directly to pipeline examples for each platform. 
</p>
<ul><li><a href="#DM355">DM355</a></li>
<li><a href="#DM357">DM357</a></li>
<li><a href="#DM644x">DM644x</a></li>
<li><a href="#DM365">DM365</a></li>
<li><a href="#DM6467">DM6467</a></li>
<li><a href="#DM6467T">DM6467T</a></li>
<li><a href="#OMAP35x">OMAP35x</a></li>
<li><a href="#All">All (commonly requested examples)</a></li></ul>
<h2><span class="mw-headline" id="DM355">DM355</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=6" title="Edit section: DM355">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section covers pipelines for common use cases for the DM355 processor. 
</p>
<h3><span class="mw-headline" id="Environment_Requirements">Environment Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=7" title="Edit section: Environment Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Before executing the pipeline you need to set couple of environment variables, load kernel modules and activate video planes as follows:
</p>
<blockquote>
<table style="color:lightgreen; background-color:black;" cellpadding="5" cellspacing="0" border="2">
<tbody><tr>
<td>
<p><tt>
cd  /opt/gstreamer_demo/dm355/<br />
./loadmodules.sh<br />
export GST_REGISTRY=/tmp/gst_registry.bin<br />
export LD_LIBRARY_PATH=/opt/gstreamer/lib<br />
export GST_PLUGIN_PATH=/opt/gstreamer/lib/gstreamer-0.10<br />
export PATH=/opt/gstreamer/bin:$PATH<br />
cat /dev/zero &gt; /dev/fb2 2&gt; /dev/null<br />
</tt>
</p>
</td></tr></tbody></table>
</blockquote>
<p><i>The above command assumes that gstreamer is installed in /opt/gstreamer directory.</i>
</p><p><br />
</p>
<h3><span class="mw-headline" id="Loopback:_Video">Loopback: Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=8" title="Edit section: Loopback: Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>v4l2src (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite contiguousInputFrame=TRUE sync=false
</pre> 
<p><b>videotestsrc (generated video test-bars):</b> 
</p>
<pre>gst-launch -v videotestsrc&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite accelFrameCopy=FALSE sync=false
</pre> 
<h3><span class="mw-headline" id="Loopback:_Audio">Loopback: Audio</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=9" title="Edit section: Loopback: Audio">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span id="Loopback:_Audio_+_Video"></span><span class="mw-headline" id="Loopback:_Audio_.2B_Video">Loopback: Audio + Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=10" title="Edit section: Loopback: Audio + Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span class="mw-headline" id="Decode_Video_Files">Decode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=11" title="Edit section: Decode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>NTSC:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.m4v&#160;! TIViddec2 codecName=mpeg4dec engineName=codecServer&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<p><b>PAL:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.m4v&#160;! TIViddec2 codecName=mpeg4dec engineName=codecServer&#160;! TIDmaiVideoSink videoStd=D1_PAL videoOutput=composite sync=false
</pre> 
<h3><span class="mw-headline" id="Decode_Audio_Files">Decode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=12" title="Edit section: Decode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="color: red">This platform does not have an accelerated audio decoder element.  You can use the ARM based audio decoders "mad", "ffdec_mp3" or <a rel="nofollow" class="external text" href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-bad-plugins/html/gst-plugins-bad-plugins-plugin-faad.html">"faad"</a></span> 
</p><p>MP3 pipelines: 
</p>
<pre>gst-launch filesrc location=sample.mp3&#160;! mad&#160;! alsasink
gst-launch filesrc location=sample.mp3&#160;! mp3parse&#160;! ffdec_mp3&#160;! alsasink
</pre> 
<p>AAC pipeline: 
</p>
<pre>gst-launch filesrc location=sample.aac&#160;! faad&#160;! alsasink
</pre> 
<h3><span class="mw-headline" id="Decode_.AVI_Files">Decode .AVI Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=13" title="Edit section: Decode .AVI Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have an AVI file with MPEG-4 Video and MP1L2 or MP3 Audio. Note that not all MPEG-4 video streams can be played using the DM355 MPEG-4 decoder -- make sure the MPEG-4 stream was encoded with the DM355 MPEG-4 encoder or another compatible encoder. 
</p>
<pre>gst-launch -v filesrc location=sample.avi&#160;! avidemux name=demux demux.audio_00&#160;! queue max-size-buffers=8000 max-size-time=0 max-size-bytes=0&#160;! mad&#160;! alsasink demux.video_00&#160;! queue&#160;! TIViddec2&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite
</pre> 
<h3><span class="mw-headline" id="Encode_Video_Files">Encode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=14" title="Edit section: Encode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>videotestsrc (generated video test-bars):</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! TIVidenc1 codecName=mpeg4enc engineName=codecServer&#160;! filesink location=output.m4v
</pre> 
<p><b>v4l2src (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000&#160;! TIVidenc1 codecName=mpeg4enc engineName=codecServer contiguousInputFrame=TRUE&#160;! filesink location=output.m4v
</pre> 
<h3><span class="mw-headline" id="Encode_Audio_Files">Encode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=15" title="Edit section: Encode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="color: red">This platform does not have an accelerated audio encoder element.  You can use the ARM based audio encoders "lame" or <a rel="nofollow" class="external text" href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-bad-plugins/html/gst-plugins-bad-plugins-plugin-faac.html">"faac"</a></span> 
</p><p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span class="mw-headline" id="Image_Encode">Image Encode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=16" title="Edit section: Image Encode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline that converts a UYVY image into JPEG format. 
</p>
<pre>gst-launch -v filesrc location=sample.yuv&#160;! TIImgenc1 resolution=720x480 iColorSpace=UYVY oColorSpace=YUV420P qValue=75&#160;! filesink location=output.jpg
</pre> 
<h3><span class="mw-headline" id="Image_Decode">Image Decode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=17" title="Edit section: Image Decode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline that converts a JPEG image into UYVY format. 
</p>
<pre>gst-launch -v filesrc location=sample.jpg&#160;! TIImgdec1 resolution=720x480&#160;! filesink location=sample.yuv
</pre> 
<h3><span class="mw-headline" id="Resize">Resize</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=18" title="Edit section: Resize">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline capturing from v4l2src and resizing to CIF. 
</p>
<pre>gst-launch v4l2src always-copy=FALSE&#160;! TIVidResize contiguousInputFrame=TRUE&#160;! 'video/x-raw-yuv,width=352,height=288'&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<h3><span class="mw-headline" id="Network_Streaming">Network Streaming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=19" title="Edit section: Network Streaming">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section gives example where EVM acts as streaming server, which captures, encodes and transmit via udp. Host PC can be used as client to decode. 
</p><p><b>MPEG-4 Encode/Stream/Decode:</b><br /> A simple RTP server to encode and transmit MPEG-4 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE&#160;! TIVidenc1 codecName=mpeg4enc engineName=encode contiguousInputFrame=TRUE&#160;! rtpmp4vpay pt=96&#160;! udpsink host=&lt;HOST IP ADDRESS&gt; port=5000
</pre> 
<p>When the pipeline starts to run, you'll see something that looks like this: 
</p>
<pre>/GstPipeline:pipeline0/GstUDPSink:udpsink0.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)MP4V-ES, profile-level-id=(string)1, config=(string)000001010000012000845d4c28b421e0a21f, payload=(int)96, ssrc=(guint)3412089386, clock-base=(guint)945410414, seqnum-base=(guint)27711
</pre> 
<p><b>Make a note of caps="application/x-rtp, media=(string)video ................" string and pass this string in client below </b> 
</p><p>A simple RTP client to decode MPEG-4 and display on HOST machine 
</p>
<pre>gst-launch -v udpsrc port=5000 caps="&lt;PASS_CAPS_FROM_SERVER&gt;"&#160;! rtpmp4vdepay&#160;! ffdec_mpeg4&#160;! xvimagesink
</pre> 
<p><b>For sending and receiving MPEG-4 with DM355 EVM you can use these 2 pipelines&#160;:</b> 
</p><p>RTP server side&#160;: 
</p>
<pre>gst-launch -v videotestsrc&#160;!  TIVidenc1 codecName=mpeg4enc engineName=encode &#160;! rtpmp4vpay send-config=true&#160;! udpsink host=&lt;HOST IP ADDRESS&gt; port=5000
</pre> 
<p>Don't forget to set the "send-config" property to true 
</p><p><br /> 
</p><p>RTP client side&#160;: 
</p>
<pre>gst-launch -v  udpsrc port=5000 caps="application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)MP4V-ES, profile-level-id=(string)1, config=(string)000001010000012000845d4c285020f0a21f, payload=(int)96, ssrc=(guint)3319524202, clock-base=(guint)4012564513, seqnum-base=(guint)25833"&#160;! rtpmp4vdepay &#160;! TIViddec2 codecName=mpeg4dec engineName=decode&#160;! TIDmaiVideoSink videoStd=D1_PAL videoOutput=composite sync=false
</pre> 
<p>Note that client should be started before server 
</p>
<h2><span class="mw-headline" id="DM357">DM357</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=20" title="Edit section: DM357">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section covers pipelines for common use cases for the DM357 processor. 
</p>
<h3><span class="mw-headline" id="Environment_Requirements_2">Environment Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=21" title="Edit section: Environment Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Before executing the pipeline you need to set couple of environment variables, load kernel modules and activate video planes as follows:
</p>
<blockquote>
<table style="color:lightgreen; background-color:black;" cellpadding="5" cellspacing="0" border="2">
<tbody><tr>
<td>
<p><tt>
cd  /opt/gstreamer_demo/dm357/<br />
./loadmodules.sh<br />
export GST_REGISTRY=/tmp/gst_registry.bin<br />
export LD_LIBRARY_PATH=/opt/gstreamer/lib<br />
export GST_PLUGIN_PATH=/opt/gstreamer/lib/gstreamer-0.10<br />
export PATH=/opt/gstreamer/bin:$PATH<br />
cat /dev/zero &gt; /dev/fb2 2&gt; /dev/null<br />
</tt>
</p>
</td></tr></tbody></table>
</blockquote>
<p><i>The above command assumes that gstreamer is installed in /opt/gstreamer directory.</i>
</p><p><br />
<b>Notes on DM357 Performance:</b> There is a known issue on DM357 where there are intermittent freezes in video and audio playback in some cases. If you experience this, nicing your gst-launch command to 15 as follows may resolve the issue: 
</p>
<pre>nice -n 15 gst-launch .... (rest of gst-launch command)
</pre> 
<h3><span class="mw-headline" id="Loopback:_Video_2">Loopback: Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=22" title="Edit section: Loopback: Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>v4l2src (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite contiguousInputFrame=TRUE sync=false
</pre> 
<p><b>videotestsrc (generated video test-bars):</b> 
</p>
<pre>gst-launch -v videotestsrc&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite accelFrameCopy=FALSE sync=false
</pre> 
<h3><span class="mw-headline" id="Loopback:_Audio_2">Loopback: Audio</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=23" title="Edit section: Loopback: Audio">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span id="Loopback:_Audio_+_Video_2"></span><span class="mw-headline" id="Loopback:_Audio_.2B_Video_2">Loopback: Audio + Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=24" title="Edit section: Loopback: Audio + Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span class="mw-headline" id="Decode_Video_Files_2">Decode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=25" title="Edit section: Decode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>H.264/NTSC:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.264&#160;! TIViddec codecName=h264dec engineName=hmjcp&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<p><b>MPEG-4/NTSC:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.m4v&#160;! TIViddec codecName=mpeg4dec engineName=hmjcp&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<h3><span class="mw-headline" id="Decode_Audio_Files_2">Decode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=26" title="Edit section: Decode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="color: red">This platform does not have an accelerated audio decoder element.  You can use the ARM based audio decoders "mad" or <a rel="nofollow" class="external text" href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-bad-plugins/html/gst-plugins-bad-plugins-plugin-faad.html">"faac"</a></span> 
</p><p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span class="mw-headline" id="Decode_.MP4_Files">Decode .MP4 Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=27" title="Edit section: Decode .MP4 Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span class="mw-headline" id="Decode_.AVI_Files_2">Decode .AVI Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=28" title="Edit section: Decode .AVI Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have an AVI file with MPEG-2 or MPEG-4 Video and MP1L2 or MP3 Audio. 
</p>
<pre>gst-launch -v filesrc location=sample.avi&#160;! avidemux name=demux demux.audio_00&#160;! queue max-size-buffers=8000 max-size-time=0 max-size-bytes=0&#160;! mad&#160;! alsasink demux.video_00&#160;! queue&#160;! TIViddec&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite
</pre> 
<h3><span class="mw-headline" id="Encode_Video_Files_2">Encode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=29" title="Edit section: Encode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>H.264/v4l2src (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000&#160;! TIVidenc codecName=h264enc engineName=hmjcp contiguousInputFrame=TRUE&#160;! filesink location=sample.264
</pre> 
<p><b>MPEG-4/v4l2src (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000&#160;! TIVidenc codecName=mpeg4enc engineName=hmjcp contiguousInputFrame=TRUE&#160;! filesink location=sample.m4v
</pre> 
<p><b>H.264/videotestsrc (generated video test-bars):</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! TIVidenc codecName=h264enc engineName=hmjcp&#160;! filesink location=sample.264
</pre> 
<p><b>MPEG-4/videotestsrc (generated video test-bars):</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! TIVidenc codecName=mpeg4enc engineName=hmjcp&#160;! filesink location=sample.m4v
</pre> 
<h3><span class="mw-headline" id="Encode_Video_in_Container">Encode Video in Container</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=30" title="Edit section: Encode Video in Container">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Encode H.264 in quicktime container (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000&#160;! TIVidenc codecName=h264enc engineName=hmjcp contiguousInputFrame=TRUE byteStream=FALSE&#160;! qtmux&#160;! filesink location=sample.mp4
</pre> <pre>gst-launch -v videotestsrc num-buffers=2000&#160;! TIVidenc codecName=h264enc engineName=hmjcp byteStream=FALSE&#160;! qtmux&#160;! filesink location=sample.mp4
</pre> 
<p><br /> 
</p>
<h3><span class="mw-headline" id="Image_Encode_2">Image Encode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=31" title="Edit section: Image Encode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline that converts a YUV422P image into JPEG format. 
</p>
<pre>gst-launch filesrc location=sample.yuv&#160;! TIImgenc resolution=720x480 iColorSpace=UYVY oColorSpace=YUV422P qValue=75&#160;! filesink location=sample.jpg
</pre> 
<h3><span class="mw-headline" id="Image_Decode_2">Image Decode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=32" title="Edit section: Image Decode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline that converts a JPEG image into UYVY format. 
</p>
<pre>gst-launch filesrc location=sample.jpg&#160;! TIImgdec resolution=720x480&#160;! filesink location=sample.yuv
</pre> 
<h3><span class="mw-headline" id="Resize_2">Resize</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=33" title="Edit section: Resize">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline capturing from v4l2src and resizing to CIF. 
</p>
<pre>gst-launch v4l2src always-copy=FALSE&#160;! TIVidResize contiguousInputFrame=TRUE&#160;! 'video/x-raw-yuv,width=352,height=288'&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite accelFrameCopy=FALSE sync=false
</pre> 
<h3><span class="mw-headline" id="Network_Streaming_2">Network Streaming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=34" title="Edit section: Network Streaming">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section gives example where EVM acts as streaming server, which captures, encodes and transmit via udp. Host PC can be used as client to decode. 
</p><p><b>H.264 Encode/Stream/Decode:</b><br /> A simple RTP server to be run on EVM. 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE&#160;! TIVidenc codecName=h264enc engineName=hmjcp contiguousInputFrame=TRUE&#160;! rtph264pay pt=96&#160;! udpsink host=&lt;HOST_PC_IP&gt; port=5000
</pre> 
<p>When the pipeline starts to run, you'll see something that looks like this: 
</p>
<pre>/GstPipeline:pipeline0/GstRtpH264Pay:rtph264pay0.GstPad:src: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264, profile-level-id=(string)42801e, sprop-parameter-sets=(string)\"Z0KAHtoC0PRA\\,aM48gA\\=\\=\", payload=(int)96, ssrc=(guint)895989858, clock-base=(guint)3971488929, seqnum-base=(guint)34821
</pre> 
<p><b>Make a note of caps="application/x-rtp, media=(string)video ................" string and pass this string in client below </b> 
</p><p>A simple RTP client to be run on Host PC (Linux). 
</p>
<pre>gst-launch -v udpsrc port=5000 caps="&lt;CAPS_FROM_SERVER&gt;"&#160;! rtph264depay&#160;! ffdec_h264&#160;! xvimagesink
</pre> 
<h2><span class="mw-headline" id="DM644x">DM644x</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=35" title="Edit section: DM644x">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section covers pipelines for common use cases for the DM644x processor. 
</p>
<h3><span class="mw-headline" id="Environment_Requirements_3">Environment Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=36" title="Edit section: Environment Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Before executing the pipeline you need to set couple of environment variables, load kernel modules and activate video planes as follows:
</p>
<blockquote>
<table style="color:lightgreen; background-color:black;" cellpadding="5" cellspacing="0" border="2">
<tbody><tr>
<td>
<p><tt>
cd  /opt/gstreamer_demo/dm6446/<br />
./loadmodules.sh<br />
export GST_REGISTRY=/tmp/gst_registry.bin<br />
export LD_LIBRARY_PATH=/opt/gstreamer/lib<br />
export GST_PLUGIN_PATH=/opt/gstreamer/lib/gstreamer-0.10<br />
export PATH=/opt/gstreamer/bin:$PATH<br />
cat /dev/zero &gt; /dev/fb2 2&gt; /dev/null<br />
</tt>
</p>
</td></tr></tbody></table>
</blockquote>
<p><i>The above command assumes that gstreamer is installed in /opt/gstreamer directory.</i>
</p><p><br />
</p>
<h3><span class="mw-headline" id="Loopback:_Video_3">Loopback: Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=37" title="Edit section: Loopback: Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>v4l2src (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite contiguousInputFrame=TRUE sync=false
</pre> 
<p><b>videotestsrc (generated video test-bars):</b> 
</p>
<pre>gst-launch -v videotestsrc&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite accelFrameCopy=FALSE sync=false
</pre> 
<h3><span class="mw-headline" id="Loopback:_Audio_3">Loopback: Audio</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=38" title="Edit section: Loopback: Audio">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span id="Loopback:_Audio_+_Video_3"></span><span class="mw-headline" id="Loopback:_Audio_.2B_Video_3">Loopback: Audio + Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=39" title="Edit section: Loopback: Audio + Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span class="mw-headline" id="Decode_Video_Files_3">Decode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=40" title="Edit section: Decode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>H.264/NTSC:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.264&#160;! TIViddec2 codecName=h264dec engineName=decode&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<p><b>MPEG-2/NTSC:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.m2v&#160;! TIViddec2 codecName=mpeg2dec engineName=decode&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<p><b>MPEG-4/NTSC:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.m4v&#160;! TIViddec2 codecName=mpeg4dec engineName=decode&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<h3><span class="mw-headline" id="Decode_Audio_Files_3">Decode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=41" title="Edit section: Decode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>AAC:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.aac&#160;! TIAuddec1 codecName=aachedec engineName=decode&#160;! alsasink sync=false
</pre> 
<h3><span class="mw-headline" id="Decode_.MP4_Files_2">Decode .MP4 Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=42" title="Edit section: Decode .MP4 Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have an .MP4 file with H.264 Video and AAC Audio. 
</p>
<pre>gst-launch -v filesrc location=sample.mp4&#160;! qtdemux name=demux demux.audio_00&#160;! queue max-size-buffers=8000 max-size-time=0 max-size-bytes=0&#160;! TIAuddec1&#160;! alsasink demux.video_00&#160;!   queue&#160;! TIViddec2&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite
</pre> 
<h3><span class="mw-headline" id="Decode_.AVI_Files_3">Decode .AVI Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=43" title="Edit section: Decode .AVI Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have an .AVI file with MPEG-2 or MPEG-4 Video and MP1L2 or MP3 Audio. 
</p>
<pre>gst-launch -v filesrc location=sample.avi&#160;! avidemux name=demux demux.audio_00&#160;! queue max-size-buffers=1200 max-size-time=0 max-size-bytes=0&#160;! mad&#160;! alsasink demux.video_00&#160;! queue&#160;! TIViddec2&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite
</pre> 
<h3><span class="mw-headline" id="Decode_.TS_Files">Decode .TS Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=44" title="Edit section: Decode .TS Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have an transport stream file with H.264 Video and MP1L2 or MP3 Audio. 
</p>
<pre>gst-launch filesrc location=sample.ts&#160;! typefind&#160;! mpegtsdemux name=demux demux.&#160;! queue max-size-buffers=1200 max-size-time=0 max-size-bytes=0&#160;! typefind&#160;! mad&#160;! alsasink demux.&#160;! typefind&#160;! TIViddec2&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=COMPOSITE
</pre> 
<h3><span class="mw-headline" id="Encode_Video_Files_3">Encode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=45" title="Edit section: Encode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>H.264/v4l2src (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000&#160;! TIVidenc1 codecName=h264enc engineName=encode contiguousInputFrame=TRUE&#160;! filesink location=sample.264
</pre> 
<p><b>MPEG-4/v4l2src (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000&#160;! TIVidenc1 codecName=mpeg4enc engineName=encode contiguousInputFrame=TRUE&#160;! filesink location=sample.m4v
</pre> 
<p><b>H.264/videotestsrc (generated video test-bars):</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! TIVidenc1 codecName=h264enc engineName=encode&#160;! filesink location=sample.264
</pre> 
<p><b>MPEG-4/videotestsrc (generated video test-bars):</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! TIVidenc1 codecName=mpeg4enc engineName=encode&#160;! filesink location=sample.m4v
</pre> 
<h3><span class="mw-headline" id="Encode_Video_in_Container_2">Encode Video in Container</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=46" title="Edit section: Encode Video in Container">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Encode H.264 in quicktime container (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000&#160;! TIVidenc1 codecName=h264enc engineName=encode contiguousInputFrame=TRUE byteStream=FALSE&#160;! qtmux&#160;! filesink location=sample.mp4
</pre> <pre>gst-launch -v videotestsrc num-buffers=2000&#160;! TIVidenc1 codecName=h264enc engineName=encode byteStream=FALSE&#160;! qtmux&#160;! filesink location=sample.mp4
</pre> 
<p><br /> 
</p>
<h3><span class="mw-headline" id="Resize_3">Resize</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=47" title="Edit section: Resize">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline capturing from v4l2src and resizing to CIF. 
</p>
<pre>gst-launch v4l2src always-copy=FALSE&#160;! TIVidResize contiguousInputFrame=TRUE&#160;! 'video/x-raw-yuv,width=352,height=288'&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false accelFrameCopy=FALSE
</pre> 
<h3><span class="mw-headline" id="Network_Streaming_3">Network Streaming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=48" title="Edit section: Network Streaming">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section gives example where EVM acts as streaming server, which captures, encodes and transmit via udp. Host PC can be used as client to decode. 
</p><p><b>H.264 Encode/Stream/Decode:</b><br /> A simple RTP server to be run on EVM. 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE&#160;! TIVidenc1 codecName=h264enc engineName=encode contiguousInputFrame=TRUE&#160;! rtph264pay pt=96&#160;! udpsink host=&lt;HOST_PC_IP&gt; port=5000
</pre> 
<p>When the pipeline starts to run, you'll see something that looks like this: 
</p>
<pre> /GstPipeline:pipeline0/GstRtpH264Pay:rtph264pay0.GstPad:src: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264, profile-level-id=(string)42801e, sprop-parameter-sets=(string)\"Z0KAHtoC0PRA\\,aM48gA\\=\\=\", payload=(int)96, ssrc=(guint)895989858, clock-base=(guint)3971488929, seqnum-base=(guint)34821
</pre> 
<p><b>Make a note of caps="application/x-rtp, media=(string)video ................" string and pass this string in client below </b> 
</p><p>A simple RTP client to be run on Host PC (Linux). 
</p>
<pre>gst-launch -v udpsrc port=5000 caps="&lt;PASS_CAPS_FROM_SERVER&gt;"&#160;! rtph264depay&#160;! ffdec_h264&#160;! xvimagesink
</pre> 
<p><b>MPEG-4 Encode/Stream/Decode:</b><br /> A simple RTP server to encode and transmit MPEG-4 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE&#160;! TIVidenc1 codecName=mpeg4enc engineName=encode contiguousInputFrame=TRUE&#160;! rtpmp4vpay pt=96&#160;! udpsink host=128.247.105.80 port=5000
</pre> 
<p>When the pipeline starts to run, you'll see something that looks like this: 
</p>
<pre> /GstPipeline:pipeline0/GstUDPSink:udpsink0.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)MP4V-ES, profile-level-id=(string)5, config=(string)000001b005000001b509000001000000012000847a9828b421e0a31f, payload=(int)96, ssrc=(guint)302303174, clock-base=(guint)347576712, seqnum-base=(guint)48616
</pre> 
<p><b>Make a note of caps="application/x-rtp, media=(string)video ................" string and pass this string in client below </b> 
</p><p>A simple RTP client to decodes MPEG-4 and display on HOST machine 
</p>
<pre>gst-launch -v udpsrc port=5000 caps="&lt;PASS_CAPS_FROM_SERVER&gt;"&#160;! rtpmp4vdepay&#160;! ffdec_mpeg4&#160;! xvimagesink
</pre> 
<p><b>MPEG-4 Receive/Decode/Display:</b><br /> 
</p><p>This section gives example where EVM acts as RTP client, which receives encoded stream via udp then decodes and display output. Host PC can be used as server to transmit encoded stream. 
</p><p>A simple RTP server which encodes and transmits MPEG-4 on DM6446 EVM. 
</p>
<pre>gst-launch-0.10  videotestsrc &#160;! 'video/x-raw-yuv,width=720,height=480'&#160;! ffenc_mpeg4&#160;! rtpmp4vpay&#160;! udpsink host=&lt;EVM_IP_ADDR&gt; port=5000  -v
</pre> 
<p><b>Make a note of caps="application/x-rtp, media=(string)video ................" string and pass this string in client below </b> 
</p><p>A simple RTP client to receive and decode the MPEG-4 encoded stream. 
</p>
<pre>gst-launch -v udpsrc port=5000 caps="&lt;CAPS_FROM_SERVER&gt;"&#160;! rtpmp4vdepay &#160;! TIViddec2&#160;!  TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<h2><span class="mw-headline" id="DM365">DM365</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=49" title="Edit section: DM365">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section covers pipelines for common use cases for the DM365 processor. 
</p>
<h3><span class="mw-headline" id="Environment_Requirements_4">Environment Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=50" title="Edit section: Environment Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Before executing the pipeline you need to set couple of environment variables, load kernel modules and activate video planes as follows:
</p>
<blockquote>
<table style="color:lightgreen; background-color:black;" cellpadding="5" cellspacing="0" border="2">
<tbody><tr>
<td>
<p><tt>
cd  /opt/gstreamer_demo/dm365/<br />
./loadmodules.sh<br />
export GST_REGISTRY=/tmp/gst_registry.bin<br />
export LD_LIBRARY_PATH=/opt/gstreamer/lib<br />
export GST_PLUGIN_PATH=/opt/gstreamer/lib/gstreamer-0.10<br />
export PATH=/opt/gstreamer/bin:$PATH<br />
cat /dev/zero &gt; /dev/fb2 2&gt; /dev/null<br />
</tt>
</p>
</td></tr></tbody></table>
</blockquote>
<p><i>The above command assumes that gstreamer is installed in /opt/gstreamer directory.</i>
</p><p><br />
Please see some special notes while playing 720P clip <a rel="nofollow" class="external text" href="https://gstreamer.ti.com/gf/project/gstreamer_ti/wiki/?pagename=NotesOnDM365Performance">here</a> 
</p>
<h3><span class="mw-headline" id="Loopback:_Video_4">Loopback: Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=51" title="Edit section: Loopback: Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Generated_D1, composte out (videotestsrc):</b> 
</p>
<pre>gst-launch -v videotestsrc&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite accelFrameCopy=FALSE sync=false
</pre> 
<p><b>Generated_720p60, component out (videotestsrc):</b> 
</p>
<pre>gst-launch -v videotestsrc&#160;!video/x-raw-yuv,width=1280,height=720&#160;! TIDmaiVideoSink videoStd=720P_60 videoOutput=component accelFrameCopy=FALSE sync=false </pre> 
<p><b>Capture_D1 (v4l2src):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE input-src=composite&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite contiguousInputFrame=TRUE sync=false
</pre> 
<p><b>Capture_720P (v4l2src):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE &#160;! TIDmaiVideoSink videoStd=720P_60 videoOutput=component contiguousInputFrame=TRUE sync=false
</pre>
<h3><span class="mw-headline" id="Loopback:_Audio_4">Loopback: Audio</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=52" title="Edit section: Loopback: Audio">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Generated audio tone (audiotestsrc):</b> 
</p>
<pre>gst-launch audiotestsrc num-buffers=1000&#160;! alsasink
</pre> 
<p><b>Captured audio (alsasrc):</b> 
</p>
<pre>gst-launch -v alsasrc&#160;! alsasink sync=false
</pre> 
<h3><span id="Loopback:_Audio_+_Video_4"></span><span class="mw-headline" id="Loopback:_Audio_.2B_Video_4">Loopback: Audio + Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=53" title="Edit section: Loopback: Audio + Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span class="mw-headline" id="Decode_Video_Files_4">Decode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=54" title="Edit section: Decode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>MPEG-4 -&gt; NTSC_D1:</b> 
</p>
<pre>gst-launch -v filesrc location=sample_ntsc_D1.mpeg4&#160;!  TIViddec2 engineName=codecServer codecName=mpeg4dec&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=COMPOSITE sync=FALSE
</pre> 
<p><b>MPEG-4 -&gt; PAL_D1:</b> 
</p>
<pre>gst-launch -v filesrc location=sample_pal_D1.mpeg4&#160;!  TIViddec2 engineName=codecServer codecName=mpeg4dec&#160;! TIDmaiVideoSink videoStd=D1_PAL videoOutput=COMPOSITE sync=FALSE
</pre> 
<p><b>MPEG-4 -&gt; NTSC_720P:</b> 
</p>
<pre>gst-launch -v filesrc location=sample_720p.mpeg4&#160;! TIViddec2 codecName=mpeg4dec engineName=codecServer&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;!TIDmaiVideoSink videoStd=720P_60 videoOutput=COMPONENT sync=FALSE hideOSD=TRUE
</pre> 
<p><br /> <b>H.264 -&gt; NTSC_D1:</b> 
</p>
<pre>gst-launch -v filesrc location=sample_D1.264&#160;! TIViddec2 engineName=codecServer codecName=h264dec&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=COMPOSITE sync=FALSE
</pre> 
<p><b>H.264 -&gt; NTSC_720P:</b> 
</p>
<pre>gst-launch -v filesrc location=sample_720P.264&#160;! TIViddec2 codecName=h264dec engineName=codecServer&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=720P_60 videoOutput=component sync=false hideOSD=TRUE
</pre> 
<p><br /> <b>MPEG-2 -&gt; NTSC_D1:</b> 
</p>
<pre>gst-launch filesrc location=sample_D1.m2v&#160;! TIViddec2 engineName=codecServer codecName=mpeg2dec&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=COMPOSITE sync=FALSE
</pre> 
<p><b>MPEG-2 -&gt; NTSC_720P:</b> 
</p>
<pre>gst-launch filesrc location=sample_720p.m2v&#160;! TIViddec2 engineName=codecServer codecName=mpeg2dec&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=720P_60 videoOutput=component sync=false hideOSD=TRUE
</pre> 
<h3><span class="mw-headline" id="Decode_Audio_Files_4">Decode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=55" title="Edit section: Decode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>AAC:</b><br /> 
</p>
<pre>gst-launch -v filesrc location=sample.aac&#160;! TIAuddec1 codecName=aacdec engineName=codecServer&#160;! alsasink sync=false
</pre> 
<h3><span class="mw-headline" id="Decode_Container_Files">Decode Container Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=56" title="Edit section: Decode Container Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>AVI (MPEG-4 / MP3):</b><br /> 
</p>
<pre>gst-launch filesrc location=sample.avi&#160;! avidemux name=demux demux.audio_00&#160;! queue max-size-buffers=1200 max-size-time=0 max-size-bytes=0&#160;! mad&#160;! alsasink demux.video_00&#160;! TIViddec2 engineName=codecServer codecName=mpeg4dec&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=COMPOSITE sync=FALSE
</pre> 
<h3><span class="mw-headline" id="Encode_Video_Files_4">Encode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=57" title="Edit section: Encode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Generated_D1 (videotestsrc) -&gt; MPEG-4:</b><br /> 
</p>
<pre>gst-launch videotestsrc num-buffers=1000&#160;! video/x-raw-yuv, format=(fourcc)NV12&#160;! TIVidenc1 codecName=mpeg4enc engineName=codecServer&#160;! filesink location=output_gen_D1.m4v
</pre> 
<p><b>YUV_D1 -&gt; MPEG-4:</b><br /> 
</p>
<pre>gst-launch filesrc location=sample_nv12.yuv&#160;! video/x-raw-yuv, format=(fourcc)NV12, width=320, height=240, framerate=(fraction)30/1&#160;! TIVidenc1 codecName=mpeg4enc engineName=codecServer&#160;! filesink location=output_yuv_D1.m4v
</pre> 
<p><b>Captured_D1 (v4l2src) -&gt; MPEG-4:</b><br /> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=800 input-src=composite&#160;! video/x-raw-yuv,format=(fourcc)NV12,width=720,height=480&#160;! TIVidenc1 codecName=mpeg4enc engineName=codecServer&#160;! filesink location=output_cap_D1.m4v
</pre> 
<p><b>Captured_720P (v4l2src) -&gt; MPEG-4:</b><br /> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=800 input-src=COMPONENT&#160;! video/x-raw-yuv,format=(fourcc)NV12,width=1280,height=720&#160;! TIVidenc1 codecName=mpeg4enc engineName=codecServer contiguousInputFrame=TRUE&#160;! filesink location=output_cap_720P.m4v
</pre> 
<p><br /> <b>Generated_D1 (videotestsrc) -&gt; H.264:</b><br /> 
</p>
<pre>gst-launch videotestsrc num-buffers=1000&#160;! video/x-raw-yuv, format=(fourcc)NV12&#160;! TIVidenc1 codecName=h264enc engineName=codecServer&#160;! filesink location=output_gen_D1.264
</pre> 
<p><b>YUV_D1 -&gt; H.264:</b><br /> 
</p>
<pre>gst-launch filesrc location=sample_nv12.yuv&#160;! video/x-raw-yuv, format=(fourcc)NV12, width=320, height=240, framerate=(fraction)30/1&#160;! TIVidenc1 codecName=h264enc engineName=codecServer&#160;! filesink location=output_yuv_D1.264
</pre> 
<p><b>Captured_D1 (v4l2src) -&gt; H.264:</b><br /> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=800 input-src=composite&#160;! video/x-raw-yuv,format=(fourcc)NV12,width=720,height=480&#160;! TIVidenc1 codecName=h264enc engineName=codecServer&#160;! filesink location=output_cap_D1.264
</pre> 
<p><b>Captured_720P (v4l2src) -&gt; H.264:</b><br /> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=800 input-src=COMPONENT&#160;! video/x-raw-yuv,format=(fourcc)NV12,width=1280,height=720&#160;! TIVidenc1 codecName=h264enc engineName=codecServer contiguousInputFrame=TRUE&#160;! filesink location=output_cap_720P.264
</pre> 
<p><br /> <b>Generated_D1 (videotestsrc) -&gt; MPEG-2:</b><br /> 
</p>
<pre>gst-launch videotestsrc num-buffers=1000&#160;! video/x-raw-yuv, format=(fourcc)NV12&#160;! TIVidenc1 codecName=mpeg2enc engineName=codecServer&#160;! filesink location=output_gen_D1.m2v
</pre> 
<p><b>YUV_D1 -&gt; MPEG-2:</b><br /> 
</p>
<pre>gst-launch filesrc location=sample_nv12.yuv&#160;! video/x-raw-yuv, format=(fourcc)NV12, width=320, height=240, framerate=(fraction)30/1&#160;! TIVidenc1 codecName=mpeg2enc engineName=codecServer&#160;! filesink location=output_yuv_D1.m2v
</pre> 
<p><b>Captured_D1 (v4l2src) -&gt; MPEG-2:</b><br /> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=800 input-src=composite&#160;! video/x-raw-yuv,format=(fourcc)NV12,width=720,height=480&#160;! TIVidenc1 codecName=mpeg2enc engineName=codecServer&#160;! filesink location=output_cap_D1.m2v
</pre> 
<p><b>Captured_720P (v4l2src) -&gt; MPEG-2:</b><br /> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=800 input-src=COMPONENT&#160;! video/x-raw-yuv,format=(fourcc)NV12,width=1280,height=720&#160;! TIVidenc1 codecName=mpeg2enc engineName=codecServer contiguousInputFrame=TRUE&#160;! filesink location=output_cap_720P.m2v
</pre> 
<h3><span class="mw-headline" id="Encode_Audio_Files_2">Encode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=58" title="Edit section: Encode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Captured (alsasrc) -&gt; AAC:</b> 
</p>
<pre>gst-launch -v alsasrc num-buffers=1000&#160;! TIAudenc1 codecName=aaclcenc engineName=codecServer&#160;! filesink location=output.aac
</pre> 
<p><b>Captured (alsasrc) -&gt; AAC + PlayBack:</b> 
</p>
<pre>gst-launch -v alsasrc num-buffers=1000&#160;! audio/x-raw-int, endianness=1234, signed=true, width=16, depth=16, rate=44100, channels=2&#160;! tee name=t&#160;! queue&#160;! TIAudenc1 bitrate=64000 engineName=codecServer codecName=aaclcenc&#160;! filesink location=output.aac t.&#160;! queue&#160;! alsasink sync=false
</pre> 
<p><b>PCM File -&gt; AAC + PlayBack:</b> 
</p>
<pre>gst-launch filesrc location=sample.pcm&#160;! audio/x-raw-int, endianness=1234, signed=true, width=16, depth=16, rate=44100, channels=2&#160;! tee name=t&#160;! queue&#160;! TIAudenc1 bitrate=64000 engineName=codecServer codecName=aaclcenc&#160;! filesink location=output.aac t.&#160;! queue&#160;! alsasink sync=false
</pre> 
<h3><span class="mw-headline" id="Encode_Video_in_Container_3">Encode Video in Container</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=59" title="Edit section: Encode Video in Container">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Generated_D1 (videotestsrc) -&gt; H.264 -&gt; Quicktime container:</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! 'video/x-raw-yuv,format=(fourcc)NV12'&#160;! TIVidenc1 codecName=h264enc engineName=codecServer byteStream=FALSE&#160;! qtmux&#160;! filesink location=output_gen_.mp4
</pre> 
<p><b>Captured_D1 (v4l2src) -&gt; H.264 -&gt; Quicktime container:</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000 input-src=composite&#160;! video/x-raw-yuv,format=(fourcc)NV12,width=720,height=480&#160;! TIVidenc1 codecName=h264enc engineName=codecServer byteStream=FALSE&#160;! qtmux&#160;! filesink location=output_cap_.mp4
</pre> 
<h3><span class="mw-headline" id="Image_Encode_3">Image Encode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=60" title="Edit section: Image Encode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>UYVY -&gt; JPEG:</b> 
</p>
<pre>gst-launch filesrc location=sample_720x480.yuv&#160;! TIImgenc1 resolution=720x480 iColorSpace=UYVY oColorSpace=YUV420P qValue=75 engineName=codecServer&#160;! filesink location=output.jpg
</pre> 
<h3><span class="mw-headline" id="Image_Decode_3">Image Decode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=61" title="Edit section: Image Decode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>JPEG -&gt; UYVY:</b> 
</p>
<pre>gst-launch filesrc location=sample_720x480.jpg&#160;! TIImgdec1 resolution=720x480 engineName=codecServer&#160;! filesink location=output.yuv
</pre> 
<h3><span class="mw-headline" id="Resize_4">Resize</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=62" title="Edit section: Resize">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Generated_CIF (videotestsrc) -&gt; D1:</b> 
</p>
<pre>gst-launch videotestsrc&#160;! video/x-raw-yuv, width=352, height=288, framerate=(fraction)30/1&#160;! TIVidResize&#160;! video/x-raw-yuv,width=640,height=480, framerate=(fraction)30/1&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=COMPOSITE sync=false
</pre> 
<p><b>Captured_D1 (v4l2src) -&gt; CIF:</b> 
</p>
<pre>gst-launch v4l2src always-copy=FALSE input-src=composite&#160;! TIVidResize contiguousInputFrame=TRUE&#160;! 'video/x-raw-yuv,width=352,height=288'&#160;!  TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<p><i><b>Note: To use the resize element as shown above, the IPIPE module must be configured in single-shot modeby setting "dm365_imp.oper_mode=1" in the kernel bootargs.</b></i> 
</p>
<h3><span class="mw-headline" id="Network_Streaming_4">Network Streaming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=63" title="Edit section: Network Streaming">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section gives example where EVM acts as streaming server, which captures, encodes and transmit via udp. Host PC can be used as client to decode. 
</p><p><b>MPEG-4 Encode/Stream/Decode:</b><br /> A simple RTP server to encode and transmit MPEG-4 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE&#160;! TIVidenc1 codecName=mpeg4enc engineName=encode contiguousInputFrame=TRUE&#160;! rtpmp4vpay pt=96&#160;! udpsink host=&lt;HOST_PC_IP&gt; port=5000
</pre> 
<p>When the pipeline starts to run, you'll see something that looks like this: 
</p>
<pre> /GstPipeline:pipeline0/GstUDPSink:udpsink0.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)MP4V-ES, profile-level-id=(string)1,
 config=(string)000001010000012000845d4c28b42240a21f, payload=(int)96, ssrc=(guint)543171998, clock-base=(guint)1153531416, seqnum-base=(guint)45441
</pre> 
<p><b>Make a note of caps="application/x-rtp, media=(string)video ................" string and pass this string in client below </b> 
</p><p>A simple RTP client to decodes MPEG-4 and display on HOST machine 
</p>
<pre>gst-launch-0.10 -v udpsrc port=5000 caps="&lt;CAP_FROM_SERVER&gt;"&#160;! rtpmp4vdepay&#160;! ffdec_mpeg4&#160;! xvimagesink
</pre> 
<p><br /> <b>H.264 Receive/Decode/Display:</b><br /> 
</p><p>This section gives example where EVM acts as RTP client, which receives encoded stream via udp then decodes and display output. Host PC can be used as server to transmit encoded stream. 
</p><p>A simple RTP client to recieve and decode the H.264 encoded stream. 
</p>
<pre>gst-launch -v udpsrc port=5000&#160;! 'application/x-rtp, media=video, payload=96, clock-rate=90000, encoding-name=H264'&#160;! rtph264depay &#160;! TIViddec2&#160;!  TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<p>A simple RTP server which encodes and transmits H.264 to the DM365 EVM (<b>Note</b>: this is a command for a host Linux PC). 
</p>
<pre>gst-launch-0.10 -vvv videotestsrc&#160;! x264enc byte-stream=true bitrate=300&#160;! rtph264pay&#160;! udpsink port=5000 host=&lt;EVM_IP_ADDR&gt; sync=false
</pre> 
<p><b>Note: first run the client then server</b> 
</p>
<h2><span class="mw-headline" id="DM6467">DM6467</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=64" title="Edit section: DM6467">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section covers pipelines for common use cases for the DM6467 processor. 
</p>
<h3><span class="mw-headline" id="Environment_Requirements_5">Environment Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=65" title="Edit section: Environment Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Before executing the pipeline you need to set couple of environment variables, load kernel modules and activate video planes as follows:
</p>
<blockquote>
<table style="color:lightgreen; background-color:black;" cellpadding="5" cellspacing="0" border="2">
<tbody><tr>
<td>
<p><tt>
cd  /opt/gstreamer_demo/dm6467/<br />
./loadmodules.sh<br />
export GST_REGISTRY=/tmp/gst_registry.bin<br />
export LD_LIBRARY_PATH=/opt/gstreamer/lib<br />
export GST_PLUGIN_PATH=/opt/gstreamer/lib/gstreamer-0.10<br />
export PATH=/opt/gstreamer/bin:$PATH<br />
</tt></p><p class="mw-empty-elt">
</p>
</td></tr></tbody></table>
</blockquote>
<p><i>The above command assumes that gstreamer is installed in /opt/gstreamer directory.</i>
</p><p><br />
</p>
<h3><span class="mw-headline" id="Loopback:_Video_5">Loopback: Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=66" title="Edit section: Loopback: Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>v4l2src (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE &#160;! TIDmaiVideoSink videoStd=720P_60 videoOutput=component contiguousInputFrame=TRUE sync=false
</pre> 
<p><b>videotestsrc (generated video test-bars):</b><br /> <span style="color: red">TIDmaiVideoSink does not support videotestsrc for DM6467.</span> 
</p>
<h3><span class="mw-headline" id="Loopback:_Audio_5">Loopback: Audio</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=67" title="Edit section: Loopback: Audio">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>alsasrc (Capture):</b> 
</p>
<pre>gst-launch alsasrc&#160;! alsasink
</pre> 
<p><b>audiotestsrc (generated audio tone):</b> 
</p>
<pre>gst-launch audiotestsrc num-buffers=1000&#160;! alsasink
</pre> 
<h3><span id="Loopback:_Audio_+_Video_5"></span><span class="mw-headline" id="Loopback:_Audio_.2B_Video_5">Loopback: Audio + Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=68" title="Edit section: Loopback: Audio + Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span class="mw-headline" id="Decode_Video_Files_5">Decode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=69" title="Edit section: Decode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>H.264/1080i30:</b> 
</p>
<pre>gst-launch filesrc use-mmap=true blocksize=40960 location=sample.264&#160;! queue max-size-buffers=0 max-size-time=0 max-size-bytes=2097152&#160;! TIViddec2 genTimeStamps=FALSE engineName=decode codecName=h264dec&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=1080I_30
</pre> 
<p><b>MPEG-2/1080i30:</b> 
</p>
<pre>gst-launch filesrc use-mmap=true blocksize=40960 location=sample.m2v&#160;! queue max-size-buffers=0 max-size-time=0 max-size-bytes=2097152&#160;! TIViddec2 genTimeStamps=FALSE engineName=decode codecName=mpeg2dec&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=1080I_30
</pre> 
<h3><span class="mw-headline" id="Decode_Audio_Files_5">Decode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=70" title="Edit section: Decode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>AAC:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.aac&#160;! TIAuddec1 codecName=aachedec engineName=decode&#160;! alsasink sync=false
</pre> 
<h3><span class="mw-headline" id="Decode_.MP4_Files_3">Decode .MP4 Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=71" title="Edit section: Decode .MP4 Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have an .MP4 file with H.264 Video and AAC Audio. 
</p>
<pre>gst-launch -v filesrc location=sample.mp4&#160;! qtdemux name=demux demux.audio_00&#160;! queue max-size-buffers=8000 max-size-time=0 max-size-bytes=0&#160;! TIAuddec1&#160;! alsasink demux.video_00&#160;! queue&#160;! TIViddec2&#160;! TIDmaiVideoSink videoStd=1080P_30
</pre> 
<h3><span class="mw-headline" id="Decode_.AVI_Files_4">Decode .AVI Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=72" title="Edit section: Decode .AVI Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have an .AVI file with MPEG-2 Video and MP1L2 or MP3 Audio. 
</p>
<pre>gst-launch -v filesrc location=sample.avi&#160;! avidemux name=demux demux.audio_00&#160;! queue max-size-buffers=8000 max-size-time=0 max-size-bytes=0&#160;! mad&#160;! alsasink demux.video_00&#160;! queue&#160;! TIViddec2&#160;! TIDmaiVideoSink videoStd=1080P_30
</pre> 
<h3><span class="mw-headline" id="Decode_.TS_Files_2">Decode .TS Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=73" title="Edit section: Decode .TS Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have an transport stream file with H.264 Video and MP1L2 or MP3 Audio. 
</p>
<pre>gst-launch -v filesrc location=sample.ts&#160;! typefind&#160;! mpegtsdemux name=demux demux.&#160;! audio/mpeg&#160;! queue max-size-buffers=1200 max-size-time=0 max-size-bytes=0&#160;! typefind&#160;! mad&#160;! alsasink demux.&#160;! video/x-h264&#160;! typefind&#160;! TIViddec2&#160;! TIDmaiVideoSink videoStd=1080P_30
</pre> 
<h3><span class="mw-headline" id="Encode_Video_Files_5">Encode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=74" title="Edit section: Encode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>H.264/v4l2src (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000&#160;! TIVidenc1 codecName=h264enc engineName=encode contiguousInputFrame=TRUE&#160;! filesink location=sample.264
</pre> 
<p><b>H.264/videotestsrc (generated video test-bars):</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! 'video/x-raw-yuv,format=(fourcc)NV12'&#160;! TIVidenc1 codecName=h264enc engineName=encode&#160;! filesink location=sample.264
</pre> 
<h3><span class="mw-headline" id="Encode_Video_in_Container_4">Encode Video in Container</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=75" title="Edit section: Encode Video in Container">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Encode H.264 in quicktime container (Capture):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000&#160;! TIVidenc1 codecName=h264enc engineName=encode contiguousInputFrame=TRUE byteStream=FALSE&#160;! qtmux&#160;! filesink location=sample.mp4
</pre> <pre>gst-launch -v videotestsrc num-buffers=2000&#160;! 'video/x-raw-yuv,format=(fourcc)NV12'&#160;! TIVidenc1 codecName=h264enc engineName=encode byteStream=FALSE&#160;! qtmux&#160;! filesink location=sample.mp4
</pre> 
<h3><span class="mw-headline" id="Encode_Audio_Files_3">Encode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=76" title="Edit section: Encode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>AAC/alsasrc (Capture):</b> 
</p>
<pre>gst-launch -v alsasrc&#160;! TIAudenc1 codecName=aacheenc engineName=encode&#160;! filesink location=sample.aac
</pre> 
<p><b>AAC/alsasrc (Capture+Playback):</b> This pipeline encodes 2000 buffers of audio data before exiting. 
</p>
<pre>gst-launch -v alsasrc num-buffers=2000&#160;! audio/x-raw-int, endianness=1234, signed=true, width=16, depth=16, rate=44100, channels=2&#160;! tee name=t&#160;! queue&#160;! TIAudenc1 bitrate=64000 engineName=encode codecName=aacheenc&#160;! filesink location=sample.aac t.&#160;! queue&#160;! alsasink sync=false
</pre> 
<p><b>AAC/filesrc (PCM input file):</b> This pipeline encodes 2000 buffers of audio data before exiting. You will need to create a PCM file. You can do so by decoding an audio file and sending the output to the filesink. 
</p>
<pre>gst-launch filesrc location=sample.pcm&#160;! audio/x-raw-int, endianness=1234, signed=true, width=16, depth=16, rate=44100, channels=2&#160;! tee name=t&#160;! queue&#160;! TIAudenc1 bitrate=64000 engineName=encode codecName=aacheenc&#160;! filesink location=sample.aac t.&#160;! queue&#160;! alsasink sync=false
</pre> 
<h3><span class="mw-headline" id="Resize_5">Resize</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=77" title="Edit section: Resize">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline capturing from v4l2src and resizing to CIF. 
</p>
<pre>gst-launch v4l2src always-copy=FALSE&#160;! TIVidResize contiguousInputFrame=TRUE&#160;! 'video/x-raw-yuv,width=352,height=288,format=(fourcc)Y8C8'&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=composite sync=false
</pre> 
<h3><span class="mw-headline" id="Network_Streaming_5">Network Streaming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=78" title="Edit section: Network Streaming">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section gives example where EVM acts as streaming server, which captures, encodes and transmit via udp. Host PC can be used as client to decode. 
</p><p><b>H.264 Encode/Stream/Decode:</b><br /> A simple RTP server to be run on EVM. 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE&#160;! TIVidenc1 codecName=h264enc engineName=encode contiguousInputFrame=TRUE&#160;! rtph264pay pt=96&#160;! udpsink host=&lt;HOST_PC_IP&gt; port=5000
</pre> 
<p>When the pipeline starts to run, you'll see something that looks like this: 
</p>
<pre> /GstPipeline:pipeline0/GstUDPSink:udpsink0.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264, profile-level-id=(string)42801f, sprop-parameter-sets=(string)\"Z0KAH/QFoeiA\\,aN48gA\\=\\=\", payload=(int)96, ssrc=(guint)521259813, clock-base=(guint)1231006457, seqnum-base=(guint)2761
</pre> 
<p><b>Make a note of caps="application/x-rtp, media=(string)video ................" string and pass this string in client below </b> 
</p><p>A simple RTP client to be run on Host PC (Linux). 
</p>
<pre>gst-launch-0.10 -v udpsrc port=5000 caps="&lt;CAP_FROM_SERVER&gt;"&#160;! rtph264depay&#160;! ffdec_h264&#160;! xvimagesink
</pre> 
<h2><span class="mw-headline" id="DM6467T">DM6467T</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=79" title="Edit section: DM6467T">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section covers pipelines for common use cases for the DM6467T processor. 
</p>
<h3><span class="mw-headline" id="Environment_Requirements_6">Environment Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=80" title="Edit section: Environment Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Before executing the pipeline you need to set couple of environment variables, load kernel modules and activate video planes as follows:
</p>
<blockquote>
<table style="color:lightgreen; background-color:black;" cellpadding="5" cellspacing="0" border="2">
<tbody><tr>
<td>
<p><tt>
cd  /opt/gstreamer_demo/dm6467/<br />
./loadmodules.sh<br />
export GST_REGISTRY=/tmp/gst_registry.bin<br />
export LD_LIBRARY_PATH=/opt/gstreamer/lib<br />
export GST_PLUGIN_PATH=/opt/gstreamer/lib/gstreamer-0.10<br />
export PATH=/opt/gstreamer/bin:$PATH<br />
</tt></p><p class="mw-empty-elt">
</p>
</td></tr></tbody></table>
</blockquote>
<p><i>The above command assumes that gstreamer is installed in /opt/gstreamer directory.</i>
</p><p><br />
</p>
<h3><span class="mw-headline" id="Loopback:_Video_6">Loopback: Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=81" title="Edit section: Loopback: Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Generated (videotestsrc):</b><br /> <span style="color: red">TIDmaiVideoSink does not support videotestsrc for DM6467T.</span> 
</p><p><b>Capture_720P (v4l2src):</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE &#160;! TIDmaiVideoSink videoStd=720P_60 videoOutput=component contiguousInputFrame=TRUE sync=false
</pre> 
<h3><span class="mw-headline" id="Loopback:_Audio_6">Loopback: Audio</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=82" title="Edit section: Loopback: Audio">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Generated audio tone (audiotestsrc):</b> 
</p>
<pre>gst-launch audiotestsrc num-buffers=1000&#160;! alsasink
</pre> 
<p><b>Captured audio (alsasrc):</b> 
</p>
<pre>gst-launch -v alsasrc&#160;! alsasink sync=FALSE
</pre> 
<h3><span id="Loopback:_Audio_+_Video_6"></span><span class="mw-headline" id="Loopback:_Audio_.2B_Video_6">Loopback: Audio + Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=83" title="Edit section: Loopback: Audio + Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span class="mw-headline" id="Decode_Video_Files_6">Decode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=84" title="Edit section: Decode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>H.264 -&gt; NTSC_D1:</b> 
</p>
<pre>gst-launch -v filesrc location=sample_D1.264&#160;! TIViddec2 engineName=codecServer codecName=h264dec&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=COMPONENT sync=FALSE
</pre> 
<p><b>H.264 -&gt; NTSC_720P:</b> 
</p>
<pre>gst-launch -v filesrc location=sample_720P.264&#160;! TIViddec2 codecName=h264dec engineName=codecServer&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=720P_60 videoOutput=component sync=false hideOSD=TRUE
</pre> 
<p><b>H.264 -&gt; NTSC_1080I30:</b> 
</p>
<pre>gst-launch -v filesrc use-mmap=true blocksize=40960 location=sample_1080i_30.264&#160;! queue max-size-buffers=0 max-size-time=0 max-size-bytes=2097152&#160;! TIViddec2 genTimeStamps=FALSE engineName=codecServer codecName=h264dec&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=1080I_30
</pre> 
<p><b>H.264 -&gt; NTSC_1080P60:</b> 
</p>
<pre>gst-launch -v filesrc use-mmap=true blocksize=40960 location=sample_1080p_60.264&#160;! queue max-size-buffers=0 max-size-time=0 max-size-bytes=2097152&#160;! video/x-h264, framerate=60/1, width=1920, height=1080&#160;! TIViddec2 genTimeStamps=FALSE codecName=h2641080p60vdec&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=1080P_60 sync=false
</pre> 
<p><br /> <b>MPEG-2 -&gt; NTSC_D1:</b> 
</p>
<pre>gst-launch filesrc location=sample_D1.m2v&#160;! TIViddec2 engineName=codecServer codecName=mpeg2dec&#160;! TIDmaiVideoSink videoStd=D1_NTSC videoOutput=COMPONENT sync=FALSE
</pre> 
<p><b>MPEG-2 -&gt; NTSC_720P:</b> 
</p>
<pre>gst-launch filesrc location=sample_720p.m2v&#160;! TIViddec2 engineName=codecServer codecName=mpeg2dec&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=720P_60 videoOutput=component sync=false hideOSD=TRUE
</pre> 
<p><b>MPEG-2 -&gt; NTSC_1080I30:</b> 
</p>
<pre>gst-launch filesrc use-mmap=true blocksize=40960 location=sample_1080i_30.m2v&#160;! queue max-size-buffers=0 max-size-time=0 max-size-bytes=2097152&#160;! TIViddec2 genTimeStamps=FALSE engineName=codecServer codecName=mpeg2dec&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=1080I_30
</pre> 
<h3><span class="mw-headline" id="Decode_Audio_Files_6">Decode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=85" title="Edit section: Decode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>AAC:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.aac&#160;! TIAuddec1 codecName=aachedec engineName=codecServer&#160;! alsasink sync=false
</pre> 
<h3><span class="mw-headline" id="Decode_Container_Files_2">Decode Container Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=86" title="Edit section: Decode Container Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>AVI (MPEG-2 / MP3) -&gt; NTSC_1080I30:</b><br /> 
</p>
<pre>gst-launch -v filesrc location=sample_1080i.avi&#160;! avidemux name=demux demux.audio_00&#160;! queue max-size-buffers=8000 max-size-time=0 max-size-bytes=0&#160;! mad&#160;! alsasink demux.video_00&#160;! queue&#160;! TIViddec2&#160;! TIDmaiVideoSink videoStd=1080I_30
</pre> 
<p><b>MP4 (H.264 / AAC) -&gt; NTSC_1080I30:</b><br /> 
</p>
<pre>gst-launch -v filesrc location=sample_1080i.mp4&#160;! qtdemux name=demux demux.audio_00&#160;! queue max-size-buffers=8000 max-size-time=0 max-size-bytes=0&#160;! TIAuddec1&#160;! alsasink demux.video_00&#160;! queue&#160;! TIViddec2&#160;! TIDmaiVideoSink videoStd=1080I_30
</pre> 
<p><b>TS (H.264 / MP3) -&gt; NTSC_1080I30:</b><br /> 
</p>
<pre>gst-launch -v filesrc location=sample_1080i.ts&#160;! typefind&#160;! mpegtsdemux name=demux demux.&#160;! audio/mpeg&#160;! queue max-size-buffers=1200 max-size-time=0 max-size-bytes=0&#160;! typefind&#160;! mad&#160;! alsasink demux.&#160;! video/x-h264&#160;! typefind&#160;! TIViddec2 TIDmaiVideoSink videoStd=1080I_30
</pre> 
<h3><span class="mw-headline" id="Encode_Video_Files_6">Encode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=87" title="Edit section: Encode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Generated_D1 (videotestsrc) -&gt; H.264:</b><br /> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=1000&#160;! video/x-raw-yuv,format=(fourcc)NV12&#160;! TIVidenc1 codecName=h264enc engineName=codecServer&#160;! filesink location=output_gen_D1.264
</pre> 
<p><b>Captured_720P (v4l2src) -&gt; H.264:</b><br /> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=1000&#160;! TIVidenc1 codecName=h264enc engineName=codecServer contiguousInputFrame=TRUE&#160;! filesink location=output_cap_720p.264
</pre> 
<h3><span class="mw-headline" id="Encode_Video_in_Container_5">Encode Video in Container</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=88" title="Edit section: Encode Video in Container">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Generated_D1 (videotestsrc) -&gt; H.264 -&gt; Quicktime container:</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! 'video/x-raw-yuv,format=(fourcc)NV12'&#160;! TIVidenc1 codecName=h264enc engineName=codecServer byteStream=FALSE&#160;!  qtmux&#160;! filesink location=output_gen_.mp4
</pre> 
<p><b>Captured_720P (v4l2src) -&gt; H.264 -&gt; Quicktime container:</b> 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE num-buffers=2000&#160;! TIVidenc1 codecName=h264enc engineName=codecServer&#160;! qtmux&#160;! filesink location=output_cap_.mp4
</pre> 
<h3><span class="mw-headline" id="Encode_Audio_Files_4">Encode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=89" title="Edit section: Encode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="color: red">There's no AAC encoder included in DVSDK 3.10 due to licensing restrictions.</span> 
</p>
<h3><span class="mw-headline" id="Resize_6">Resize</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=90" title="Edit section: Resize">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Captured_D1 (v4l2src) -&gt; CIF:</b> 
</p>
<pre>gst-launch v4l2src always-copy=FALSE&#160;! TIVidResize contiguousInputFrame=TRUE&#160;! video/x-raw-yuv,width=352,height=288,format=(fourcc)Y8C8&#160;! TIDmaiVideoSink
</pre> 
<h3><span class="mw-headline" id="Network_Streaming_6">Network Streaming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=91" title="Edit section: Network Streaming">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section gives example where EVM acts as streaming server, which captures, encodes and transmit via udp. Host PC can be used as client to decode. 
</p><p><b>H.264 Encode/Stream/Decode:</b><br /> A simple RTP server to be run on EVM. 
</p>
<pre>gst-launch -v v4l2src always-copy=FALSE&#160;! TIVidenc1 codecName=h264enc engineName=encode contiguousInputFrame=TRUE&#160;! rtph264pay pt=96&#160;! udpsink host=&lt;HOST_PC_IP&gt; port=5000
</pre> 
<p>When the pipeline starts to run, you'll see something that looks like this: 
</p>
<pre> /GstPipeline:pipeline0/GstUDPSink:udpsink0.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264, profile-level-id=(string)42801f, sprop-parameter-sets=(string)\"Z0KAH/QFoeiA\\,aN48gA\\=\\=\", payload=(int)96, ssrc=(guint)521259813, clock-base=(guint)1231006457, seqnum-base=(guint)2761
</pre> 
<p><b>Make a note of caps="application/x-rtp, media=(string)video ................" string and pass this string in client below </b> 
</p><p>A simple RTP client to be run on Host PC (Linux). 
</p>
<pre>gst-launch-0.10 -v udpsrc port=5000 caps="&lt;CAP_FROM_SERVER&gt;"&#160;! rtph264depay&#160;! ffdec_h264&#160;! xvimagesink
</pre> 
<h2><span class="mw-headline" id="OMAP35x">OMAP35x</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=92" title="Edit section: OMAP35x">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section covers pipelines for common use cases for the OMAP3530 processor. 
</p>
<h3><span class="mw-headline" id="Environment_Requirements_7">Environment Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=93" title="Edit section: Environment Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Before executing the pipeline you need to set couple of environment variables, load kernel modules and activate video planes as follows:
</p>
<blockquote>
<table style="color:lightgreen; background-color:black;" cellpadding="5" cellspacing="0" border="2">
<tbody><tr>
<td>
<p><tt>
cd  /opt/gstreamer_demo/omap3530/<br />
./loadmodules.sh<br />
export GST_REGISTRY=/tmp/gst_registry.bin<br />
export LD_LIBRARY_PATH=/opt/gstreamer/lib<br />
export GST_PLUGIN_PATH=/opt/gstreamer/lib/gstreamer-0.10<br />
export PATH=/opt/gstreamer/bin:$PATH<br />
cat /dev/zero &gt; /dev/fb2 2&gt; /dev/null<br />
</tt>
</p>
</td></tr></tbody></table>
</blockquote>
<p><i>The above command assumes that gstreamer is installed in /opt/gstreamer directory.</i>
</p><p><br />
<span style="color: blue"><b> If you are using Angstrom distribution on beagleboard then you  can use "omapdmaifbsink" instead of "TIDmaiVideoSink" to display the video inside the X windowing system. </b> </span> 
</p>
<h3><span class="mw-headline" id="Loopback:_Video_7">Loopback: Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=94" title="Edit section: Loopback: Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>gst-launch -v videotestsrc&#160;! TIDmaiVideoSink videoStd=VGA videoOutput=LCD accelFrameCopy=FALSE sync=false
</pre> 
<h3><span class="mw-headline" id="Loopback:_Audio_7">Loopback: Audio</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=95" title="Edit section: Loopback: Audio">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>gst-launch audiotestsrc freq=1000 num-buffers=100&#160;! alsasink
</pre> 
<p>If you want to route audio in to audio out (your very own P.A. system), try: 
</p>
<pre>gst-launch alsasrc num-buffers=1000&#160;! alsasink
</pre> 
<p>If you get a <i>Could not open audio device for recording.</i> error, likely your ALSA configuration is incorrect. I fixed it with 
</p>
<pre>mv /etc/asound.conf /etc/asound.conf.orig
</pre> 
<p>to move the ALSA configuration file out of the way. 
</p>
<h3><span id="Loopback:_Audio+Video"></span><span class="mw-headline" id="Loopback:_Audio.2BVideo">Loopback: Audio+Video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=96" title="Edit section: Loopback: Audio+Video">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No pipelines here yet. Please feel free to add your own. 
</p>
<h3><span class="mw-headline" id="Decode_Video_files_7">Decode Video files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=97" title="Edit section: Decode Video files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>H.264/VGA:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.264&#160;! TIViddec2 codecName=h264dec engineName=codecServer&#160;! TIDmaiVideoSink videoStd=VGA videoOutput=LCD sync=false
</pre> 
<p><b>MPEG-4/VGA:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.m4v&#160;! TIViddec2 codecName=mpeg4dec engineName=codecServer&#160;! TIDmaiVideoSink videoStd=VGA videoOutput=LCD sync=false
</pre> 
<p><b>MPEG-2/VGA:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.m2v&#160;! TIViddec2 codecName=mpeg2dec engineName=codecServer&#160;! TIDmaiVideoSink videoStd=VGA videoOutput=LCD sync=false
</pre> 
<h3><span class="mw-headline" id="Decode_Audio_Files_7">Decode Audio Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=98" title="Edit section: Decode Audio Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>AAC:</b> 
</p>
<pre>gst-launch -v filesrc location=sample.aac&#160;! TIAuddec1 codecName=aachedec engineName=codecServer&#160;! alsasink sync=false
</pre> 
<h3><span class="mw-headline" id="Decode_.MP4_Files_4">Decode .MP4 Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=99" title="Edit section: Decode .MP4 Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have a VGA .MP4 file with H.264 Video and AAC Audio. 
</p>
<pre>gst-launch -v filesrc location=sample.mp4&#160;! qtdemux name=demux demux.audio_00&#160;! queue max-size-buffers=8000 max-size-time=0 max-size-bytes=0&#160;! TIAuddec1&#160;! alsasink demux.video_00&#160;! queue&#160;! TIViddec2&#160;! TIDmaiVideoSink videoStd=VGA videoOutput=LCD
</pre> 
<h3><span class="mw-headline" id="Decode_.AVI_Files_5">Decode .AVI Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=100" title="Edit section: Decode .AVI Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have VGA .AVI file with MPEG-2 or MPEG-4 Video and MP1L2 or MP3 Audio. 
</p>
<pre>gst-launch -v filesrc location=sample.avi&#160;! avidemux name=demux demux.audio_00&#160;! queue max-size-buffers=1200 max-size-time=0 max-size-bytes=0&#160;! mad&#160;! alsasink demux.video_00&#160;! queue&#160;!  TIViddec2&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=VGA videoOutput=LCD
</pre> 
<h3><span class="mw-headline" id="Decode_.TS_Files_3">Decode .TS Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=101" title="Edit section: Decode .TS Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following pipeline assumes you have VGA .TS file with H.264 Video and MP1L2 or MP3 Audio. 
</p>
<pre>gst-launch filesrc location=sample.ts&#160;! typefind&#160;! mpegtsdemux name=demux demux.&#160;! queue max-size-buffers=1200 max-size-time=0 max-size-bytes=0&#160;! typefind&#160;! mad&#160;! alsasink demux.&#160;! typefind&#160;! TIViddec2&#160;! queue max-size-buffers=2 max-size-time=0 max-size-bytes=0&#160;! TIDmaiVideoSink videoStd=VGA videoOutput=LCD
</pre> 
<h3><span class="mw-headline" id="Encode_Video_Files_7">Encode Video Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=102" title="Edit section: Encode Video Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>H.264/QVGA:</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! TIVidenc1 codecName=h264enc engineName=codecServer&#160;! filesink location=sample.264
</pre> 
<p><b>MPEG-4/QVGA:</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! TIVidenc1 codecName=mpeg4enc engineName=codecServer&#160;! filesink location=sample.m4v
</pre> 
<h3><span class="mw-headline" id="Encode_Video_in_Container_6">Encode Video in Container</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=103" title="Edit section: Encode Video in Container">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Encode H.264 in quicktime container (Capture):</b> 
</p>
<pre>gst-launch -v videotestsrc num-buffers=2000&#160;! TIVidenc1 codecName=h264enc engineName=codecServer byteStream=FALSE&#160;! qtmux&#160;! filesink location=sample.mp4
</pre> 
<p><br /> 
</p>
<h3><span class="mw-headline" id="Image_Encode_4">Image Encode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=104" title="Edit section: Image Encode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline to encode YUV420P image 
</p>
<pre>gst-launch filesrc location=sample.yuv&#160;! TIImgenc1 resolution=720x480 iColorSpace=UYVY oColorSpace=YUV420P qValue=75&#160;! filesink location=sample.jpeg
</pre> 
<h3><span class="mw-headline" id="Image_Decode_4">Image Decode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=105" title="Edit section: Image Decode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline that converts a JPEG image into UYVY format. 
</p>
<pre>gst-launch filesrc location=sample.jpeg&#160;! TIImgdec1 codecName=jpegdec engineName=codecServer &#160;! filesink location=sample.uyvy
</pre> 
<h3><span class="mw-headline" id="Resize_7">Resize</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=106" title="Edit section: Resize">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple pipeline receiving CIF from videotestsrc and resizing to VGA. 
</p>
<pre>gst-launch videotestsrc&#160;! 'video/x-raw-yuv,width=352,height=288'&#160;! TIVidResize&#160;! 'video/x-raw-yuv,width=640,height=480'&#160;! TIDmaiVideoSink videoStd=VGA videoOutput=LCD sync=false
</pre> 
<h3><span class="mw-headline" id="Network_Streaming_7">Network Streaming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=107" title="Edit section: Network Streaming">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Audio_RTP_Streaming">Audio RTP Streaming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=108" title="Edit section: Audio RTP Streaming">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Although these examples are using a target device and a host PC, you could use two target devices as well. 
</p><p>Case 1: sending audio from target (BeagleBoard in my case) to Ubuntu host: 
</p><p>On target: 
</p>
<pre>gst-launch audiotestsrc freq=1000&#160;! mulawenc&#160;! rtppcmupay&#160;! udpsink host=&lt;HOST_PC_IP&gt; port=5555
</pre> 
<p>On host: 
</p>
<pre>gst-launch udpsrc port=5555 caps="application/x-rtp"&#160;! queue&#160;! rtppcmudepay&#160;! mulawdec&#160;! audioconvert&#160;! alsasink
</pre> 
<p>The above example experienced dropped audio, please update pipeline when you get it working properly. 
</p><p><br /> Case 2: sending audio from Ubuntu host to target (BeagleBoard) 
</p><p>On host: 
</p>
<pre>gst-launch audiotestsrc freq=1000&#160;! mulawenc&#160;! rtppcmupay&#160;! udpsink host=&lt;TARGET_PC_IP&gt;  port=5555
</pre> 
<p>On target 
</p>
<pre>gst-launch udpsrc port=5555 caps="application/x-rtp"&#160;! queue&#160;! rtppcmudepay&#160;! mulawdec&#160;! audioconvert&#160;! alsasink
</pre> 
<p><br /> 
</p>
<h4><span class="mw-headline" id="H.264_RTP_Streaming">H.264 RTP Streaming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=109" title="Edit section: H.264 RTP Streaming">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>This section gives example where EVM acts as streaming server, which captures, encodes and transmit via udp. Host PC can be used as client to decode. 
</p><p><b>H.264 Encode/Stream/Decode </b> A simple RTP server to encode and transmit H.264. 
</p>
<pre>gst-launch -v videotestsrc&#160;! TIVidenc1 codecName=h264enc engineName=codecServer&#160;! rtph264pay pt=96&#160;! udpsink host=&lt;HOST_PC_IP&gt; port=5000
</pre> 
<p>When the pipeline starts to run, you'll see something that looks like this: 
</p>
<pre> /GstPipeline:pipeline0/GstUDPSink:udpsink0.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264, profile-level-id=(string)42801e, sprop-parameter-sets=(string)\"Z0KAHukCg+QgAAB9AAAdTACA\\,aM48gA\\=\\=\", payload=(int)96, ssrc=(guint)3417130276, clock-base=(guint)2297521617, seqnum-base=(guint)48503
</pre> 
<p><b>Make a note of caps="application/x-rtp, media=(string)video ................" string and pass this string in client below </b> 
</p><p>A simple RTP client to decodes H.264 and display on HOST machine 
</p>
<pre>gst-launch -v udpsrc port=5000 caps="&lt;CAPS_FROM_SERVER&gt;"&#160;! rtph264depay&#160;! ffdec_h264&#160;! xvimagesink
</pre> 
<p><br /> <b>MPEG-4 Receive/Decode/Display:</b><br /> 
</p><p>This section gives example where EVM acts as RTP client, which receives encoded stream via udp then decodes and display output. Host PC can be used as server to transmit encoded stream. 
</p><p>A simple RTP server which encodes and transmits MPEG-4 on OMAP3530 EVM. 
</p>
<pre>gst-launch-0.10  videotestsrc &#160;! 'video/x-raw-yuv,width=640,height=480'&#160;! ffenc_mpeg4&#160;! rtpmp4vpay&#160;! udpsink host=&lt;EVM_IP_ADDR&gt; port=5000  -v
</pre> 
<p><b>Make a note of caps="application/x-rtp, media=(string)video ................" string and pass this string in client below </b> 
</p><p>A simple RTP client to receive and decode the MPEG-4 encoded stream. 
</p>
<pre>gst-launch -v udpsrc port=5000 caps="&lt;CAPS_FROM_SERVER&gt;"&#160;! rtpmp4vdepay &#160;! TIViddec2&#160;!  TIDmaiVideoSink videoStd=VGA videoOutput=LCD sync=false
</pre> 
<h2><span class="mw-headline" id="All">All</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=110" title="Edit section: All">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section covers pipelines that should work for all processors. These pipelines should work on any other platform too (such as your desktop Linux machine). They are included because we have been asked for these examples previously. 
</p>
<h3><span class="mw-headline" id="Debugging">Debugging</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=111" title="Edit section: Debugging">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li><a rel="nofollow" class="external text" href="http://gstreamer.freedesktop.org/data/doc/gstreamer/devel/manual/html/section-checklist-debug.html">General GStreamer debugging information</a></li></ul>
<h4><span class="mw-headline" id="Verbose_output">Verbose output</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=112" title="Edit section: Verbose output">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>If you want to see what capabilities are being used or are expected, add <tt>-v</tt>. 
</p>
<pre>gst-launch -v alsasrc&#160;! alsasink
</pre> 
<h4><span class="mw-headline" id="Element_debug_output">Element debug output</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=113" title="Edit section: Element debug output">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>To enable debug output for a specific element: 
</p>
<pre>gst-launch --gst-debug=audiotestsrc:4   audiotestsrc&#160;! alsasink
</pre> 
<p>Adjust the element name and debug level until you get the data you are looking for. 
</p><p>To enable debug output for a more than one element: 
</p>
<pre>gst-launch --gst-debug=audio*:3  audiotestsrc&#160;! audioconvert&#160;! alsasink
</pre> 
<p>or for all elements 
</p>
<pre>gst-launch --gst-debug=*:3  alsasrc&#160;! alsasink
</pre> 
<p>You can see the list of element names that support debug output using 
</p>
<pre>gst-launch --gst-debug-help
</pre> 
<h3><span class="mw-headline" id="Audio_pipelines">Audio pipelines</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=114" title="Edit section: Audio pipelines">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Controlling_the_sample_rate_and_bit_depth">Controlling the sample rate and bit depth</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=115" title="Edit section: Controlling the sample rate and bit depth">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Find the default audio capabilities: 
</p>
<pre>gst-launch -v alsasrc&#160;! alsasink
</pre> 
<p>The output will be similar to 
</p>
<pre>caps = audio/x-raw-int, endianness=(int)1234, signed=(boolean)true, width=(int)32, depth=(int)32, rate=(int)44100, channels=(int)2
</pre> 
<p>Using that pattern (minus the data type indication, which is not needed with gst-launch): 
</p>
<pre>gst-launch -v alsasrc&#160;! audio/x-raw-int, endianness=1234, signed=true, width=32, depth=32, rate=44100, channels=2&#160;! alsasink
</pre> 
<p>Adjust the capabilities as needed. 
</p>
<h4><span class="mw-headline" id="Generic_network_audio_streaming_example">Generic network audio streaming example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit&amp;section=116" title="Edit section: Generic network audio streaming example">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>These pipelines do not depend on the TI DMAI GSteamer plug-in. 
</p><p>Sender (host): 
</p>
<pre>TARGET_IP=10.111.0.194
gst-launch audiotestsrc freq=1000&#160;! mulawenc&#160;! rtppcmupay&#160;! queue&#160;! udpsink host=$TARGET_IP port=5555
</pre> 
<p>Receiver (target): 
</p>
<pre>gst-launch udpsrc port=5555 caps="application/x-rtp"&#160;! queue&#160;! rtppcmudepay&#160;!  mulawdec &#160;! alsasink
</pre>

<!-- 
NewPP limit report
Cached time: 20201130172253
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.141 seconds
Real time usage: 0.143 seconds
Preprocessor visited node count: 2143/1000000
Preprocessor generated node count: 4319/1000000
Post‐expand include size: 4577/2097152 bytes
Template argument size: 81/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 35659/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   13.433      1 -total
 19.39%    2.604      7 Template:Ti_gst_env
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:3447-0!canonical and timestamp 20201130172253 and revision id 97791
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Example GStreamer Pipelines</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Example GStreamer Pipelines</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>Example GStreamer Pipelines</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>Example GStreamer Pipelines</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>Example GStreamer Pipelines</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Example GStreamer Pipelines</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Example GStreamer Pipelines</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>Example GStreamer Pipelines</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>Example GStreamer Pipelines</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;oldid=97791">https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;oldid=97791</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_DMAI_GStreamer_Plug-In.html" title="Category:DMAI GStreamer Plug-In">DMAI GStreamer Plug-In</a></li><li><a href="Category_Gstreamer.html" title="Category:Gstreamer">Gstreamer</a></li><li><a href="Category_DaVinci_Algorithms.html" title="Category:DaVinci Algorithms">DaVinci Algorithms</a></li><li><a href="Category_DaVinci_Linux.html" title="Category:DaVinci Linux">DaVinci Linux</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Example+GStreamer+Pipelines" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Example_GStreamer_Pipelines.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:Example_GStreamer_Pipelines&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Example_GStreamer_Pipelines.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Example_GStreamer_Pipelines.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Example_GStreamer_Pipelines.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;oldid=97791" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Example_GStreamer_Pipelines&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 21 February 2012, at 09:59.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.141","walltime":"0.143","ppvisitednodes":{"value":2143,"limit":1000000},"ppgeneratednodes":{"value":4319,"limit":1000000},"postexpandincludesize":{"value":4577,"limit":2097152},"templateargumentsize":{"value":81,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":35659,"limit":5000000},"timingprofile":["100.00%   13.433      1 -total"," 19.39%    2.604      7 Template:Ti_gst_env"]},"cachereport":{"timestamp":"20201130172253","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":233});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Example_GStreamer_Pipelines by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:25:57 GMT -->
</html>
