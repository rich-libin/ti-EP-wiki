<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:01:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>TI811X PSP VIDEO CAPTURE Driver User Guide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide","wgTitle":"TI811X PSP VIDEO CAPTURE Driver User Guide","wgCurRevisionId":182486,"wgRevisionId":182486,"wgArticleId":17611,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["DM816x","C6A816x","AM389x","DM814x","C6A814x","AM387x","DaVinci Linux","C6-Integra","Linux","PSP"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide","wgRelevantArticleId":17611,"wgRequestId":"5ba02937e32226f60d0ccdcb","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide rootpage-TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">TI811X PSP VIDEO CAPTURE Driver User Guide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div style="width:800px; text-align:justify;"> 
<div style="display:block; clear: both; margin: 10px 0px; padding: 0px; background-color: #ee1d23; text-align:right;"><a href="File_TIBanner.html" class="image"><img alt="TIBanner.png" src="https://processors.wiki.ti.com/images/c/cd/TIBanner.png" width="667" height="87" /></a></div>
<div style="display:block; margin: 5px 0px; padding: 2px 5px; font-size:1.5em; font-weight:bold; text-align:left;">TI811X PSP VIDEO CAPTURE Driver User Guide</div>
<div style="display:block; margin: 5px 0px; padding: 2px; color: #666666; font-size:1.0em; font-weight:bold; text-align:right;">Linux PSP</div> 
<p><b>Video Capture Driver</b>
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Read_This_First"><span class="tocnumber">1</span> <span class="toctext"><b>Read This First </b></span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installation_Guide"><span class="tocnumber">2</span> <span class="toctext"><b>Installation Guide</b></span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Preliminary_Work"><span class="tocnumber">2.1</span> <span class="toctext"><b>Preliminary Work</b></span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Build_V4L2_capture_driver"><span class="tocnumber">2.2</span> <span class="toctext"><b>Build V4L2 capture driver </b></span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Prerequisites"><span class="tocnumber">2.3</span> <span class="toctext"><b>Prerequisites </b></span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Load_V4L2_capture_and_dependent_modules"><span class="tocnumber">2.4</span> <span class="toctext"><b>Load V4L2 capture and dependent modules</b></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Introduction"><span class="tocnumber">3</span> <span class="toctext"><b>Introduction</b></span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#References"><span class="tocnumber">3.1</span> <span class="toctext"><b>References</b></span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Acronyms_.26_Definitions"><span class="tocnumber">3.2</span> <span class="toctext"><b>Acronyms &amp; Definitions</b></span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Hardware_Overview"><span class="tocnumber">3.3</span> <span class="toctext"><b>Hardware Overview</b></span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Software_overview"><span class="tocnumber">3.4</span> <span class="toctext"><b>Software overview</b></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Features"><span class="tocnumber">4</span> <span class="toctext"><b>Features</b></span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Architecture"><span class="tocnumber">5</span> <span class="toctext"><b>Architecture</b></span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Driver_Architecture"><span class="tocnumber">5.1</span> <span class="toctext"><b>Driver Architecture</b></span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Software_Design_Interfaces"><span class="tocnumber">5.2</span> <span class="toctext"><b>Software Design Interfaces</b></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Usage"><span class="tocnumber">6</span> <span class="toctext"><b>Usage</b></span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#Command_Line_arguments"><span class="tocnumber">6.1</span> <span class="toctext"><b>Command Line arguments</b></span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Opening_and_Closing_of_Driver"><span class="tocnumber">6.2</span> <span class="toctext"><b>Opening and Closing of Driver</b></span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Setting_input"><span class="tocnumber">6.3</span> <span class="toctext"><b>Setting input</b></span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Querying_DV_preset"><span class="tocnumber">6.4</span> <span class="toctext"><b>Querying DV preset</b></span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Setting_DV_Preset"><span class="tocnumber">6.5</span> <span class="toctext"><b>Setting DV Preset</b></span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Cropping"><span class="tocnumber">6.6</span> <span class="toctext"><b>Cropping</b></span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Scaling"><span class="tocnumber">6.7</span> <span class="toctext"><b> Scaling </b></span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Buffer_Format"><span class="tocnumber">6.8</span> <span class="toctext"><b>Buffer Format</b></span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Buffer_Management"><span class="tocnumber">6.9</span> <span class="toctext"><b>Buffer Management</b></span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Streaming"><span class="tocnumber">6.10</span> <span class="toctext"><b>Streaming</b></span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#V4L2_Capture_Driver_Interface"><span class="tocnumber">6.11</span> <span class="toctext"><b>V4L2 Capture Driver Interface</b></span></a>
<ul>
<li class="toclevel-3 tocsection-28"><a href="#Application_Interface"><span class="tocnumber">6.11.1</span> <span class="toctext"><b>Application Interface</b></span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#Supported_Standard_IOCTLs"><span class="tocnumber">6.11.2</span> <span class="toctext"><b>Supported Standard IOCTLs</b></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-30"><a href="#Sample_Application_Flow"><span class="tocnumber">7</span> <span class="toctext"><b>Sample Application Flow</b></span></a></li>
<li class="toclevel-1 tocsection-31"><a href="#Sample_Applications"><span class="tocnumber">8</span> <span class="toctext"><b>Sample Applications</b></span></a>
<ul>
<li class="toclevel-2 tocsection-32"><a href="#Read_This_First_2"><span class="tocnumber">8.1</span> <span class="toctext"><b>Read This First </b></span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#saLoopBack"><span class="tocnumber">8.2</span> <span class="toctext"><b>saLoopBack</b></span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#saLoopBackFbdev"><span class="tocnumber">8.3</span> <span class="toctext"><b>saLoopBackFbdev</b></span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#saLoopBackScale"><span class="tocnumber">8.4</span> <span class="toctext"><b>saLoopBackScale</b></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-36"><a href="#Technical_Support_and_Product_Updates_.3D"><span class="tocnumber">9</span> <span class="toctext">Technical Support and Product Updates  =</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Read_This_First"><b>Read This First </b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=1" title="Edit section: Read This First">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div style="padding: 5px; background: none repeat scroll 0% 0% rgb(238, 238, 238); color: rgb(255, 0, 0);">
<ul><li>V4L2 capture is not supported for J5-Eco, V4l2 frame work doesnt dupport multi channel, on JAMR2.1</li></ul>
<p>daughter card there is only TVP5158 decoder, which is multichannel.
</p>
<ul><li>The build procedures are changed as below:</li></ul>
<pre>   $make ARCH=arm CROSS_COMPILE=PATH_TO_TOOLCHAIN/bin/arm-none-linux-gnueabi- ti811X_evm_defconfig
   $make ARCH=arm CROSS_COMPILE=PATH_TO_TOOLCHAIN/bin/arm-none-linux-gnueabi- uImage
   $make ARCH=arm CROSS_COMPILE=PATH_TO_TOOLCHAIN/bin/arm-none-linux-gnueabi- modules
</pre>
<ul><li>Bootargs parameter is required to use notify driver in kernel. This address is valid for DM816X/AM389X platforms.</li></ul>
<pre> $ notifyk.vpssm3_sva=0x9f900000
</pre>
<p><br />
</p>
<ul><li>M3 firmware loader program is changed from procmgrapp to slaveloader</li></ul>
<pre> $ ./slaveloader startup VPSS-M3 ti811x_hdvpss.xem3
</pre>
<p><br />
</p>
<ul><li>V4L2 capture nodes are /dev/video0, /dev/video4, /dev/video5 and /dev/video6.</li>
<li>Above nodes are created only when ti81xxvo.ko is loaded followed by ti81xxvin.ko</li>
<li>V4L2 capture streaming is supported only on /dev/video0 node with TVP7002 as decoder.</li></ul>
</div>
<h1><span class="mw-headline" id="Installation_Guide"><b>Installation Guide</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=2" title="Edit section: Installation Guide">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This is the TI81XX Linux VPSS(VPSS capture) Driver user installation guide. This documents the steps to get the VPSS Driver worked up on TI81XX based EVM(Simulator is not tested). This driver has the following dependencies outside of Kernel.
</p>
<ul><li>TI81XX PSP 04.07.00.02 release</li>
<li>Syslink_2.20.00.14 release (slaveloader)</li>
<li>HDVPSS 01.00.01.44 release</li></ul>
<p><b>Note:</b> Only the above mentioned version of the components are verified and tested.
</p>
<h2><span class="mw-headline" id="Preliminary_Work"><b>Preliminary Work</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=3" title="Edit section: Preliminary Work">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>Build the Linux Uboot and Kernel following the installation guide of TI811x PSP 04.07.00.02 release.</li></ul>
<ul><li>M3 BIOS VPSS Firmware(ti811x_hdvpss.xem3) is loaded by the slaveloader, which is the user space program from syslink and is part of PSP release package.</li></ul>
<h2><span class="mw-headline" id="Build_V4L2_capture_driver"><b>Build V4L2 capture driver </b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=4" title="Edit section: Build V4L2 capture driver">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Though build dependency over syslink has been removed, VPSS driver still relies on the slaveloader to load M3 firmware, V4L2 Capture Driver supports dynamic build only. The pre-build uImage inside of PSP release package supports the pre-built V4L2 capture module.
<br />
</p><p><b>NOTE:</b>
</p>
<ol><li>Applications are not required to rebuild the uImage or V4L2 capture module unless V4L2 drivers are changed.</li></ol>
<pre>$ make ARCH=arm CROSS_COMPILE=PATH_TO_TOOLCHAIN/bin/arm-none-linux-gnueabi- ti811x_evm_defconfig
$ make ARCH=arm CROSS_COMPILE=PATH_TO_TOOLCHAIN/bin/arm-none-linux-gnueabi- uImage
$ make ARCH=arm CROSS_COMPILE=PATH_TO_TOOLCHAIN/bin/arm-none-linux-gnueabi- menuconfig
</pre>
<ul><li>Enable V4L2 Capture Driver in Menuconfig</li></ul>
<p>Select Device Drivers from the main menu.
</p>
<pre>...
    ...
    Kernel Features  ---&gt;
    Boot options  ---&gt;
    CPU Power Management  ---&gt;
    Floating point emulation  ---&gt;
    Userspace binary formats  ---&gt;
    Power management options  ---&gt;
[*] Networking support  ---&gt;
"   Device Drivers  ---&gt;"
    ...
    ...
</pre>
<p><br />
Select Multimedia support from the menu.
</p>
<pre>    ...
    ...
    Sonics Silicon Backplane  ---&gt;
    Multifunction device drivers  ---&gt;
[*] Voltage and Current Regulator Support  ---&gt;
"&lt;*&gt; Multimedia support  ---&gt;"
    Graphics support  ---&gt;
&lt;*&gt; Sound card support  ---&gt;
[*] HID Devices  ---&gt;
[*] USB support  ---&gt;
    ...
    ...
</pre>
<p><br />
Select Video For Linux from the menu.
</p>
<pre>    ...
    ...
    *** Multimedia core support ***
[ ]   Media Controller API (EXPERIMENTAL)
"&lt;*&gt;   Video For Linux"
[*]     Enable Video For Linux API 1 (DEPRECATED)
&lt; &gt;   DVB for Linux
    ...
    ...
</pre>
<p><br />
Select Video capture adapters from the same menu. Press &lt;ENTER&gt; to enter the corresponding sub-menu.
</p>
<pre>    ...
    ...
[ ]   Customize analog and hybrid tuner modules to build  ---&gt;
"[*]   Video capture adapters  ---&gt;"
[ ]   Memory-to-memory multimedia devices  ---&gt;
[ ]   Radio Adapters  ---&gt;
    ...
    ...
</pre>
<p><br />
Select TI81XX V4L2-Capture driver
</p>
<pre>[ ]   Autoselect pertinent encoders/decoders and other helper chi
      Encoders/decoders and other helper chips  ---&gt;
&lt;&gt;   TI81XX V4L2-Capture driver
"&lt;M&gt;   TI81XX V4L2-Capture driver"
&lt; &gt;   CPiA2 Video For Linux
&lt; &gt;   Philips SAA7134 support
</pre>
<ul><li>Build module for the drivers</li></ul>
<pre>$ make ARCH=arm CROSS_COMPILE=PATH_TO_TOOLCHAIN/bin/arm-none-linux-gnueabi- modules
</pre>
<ul><li>ti81xxvin.ko(VPSS V4L2 capture driver) is generated under drivers/media/video/ti81xx</li></ul>
<h2><span class="mw-headline" id="Prerequisites"><b>Prerequisites </b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=5" title="Edit section: Prerequisites">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>V4L2 capture driver requires following modules to be loaded for its functioning.
</p>
<ol><li>syslink kernel driver module, referred as "syslink.ko"</li>
<li>loader user space program, referred as "slaveloader"</li>
<li>M3 BIOS Firmware binary, referred as "ti811x_hdvpss.xem3"</li>
<li>VPSS kernel driver module, referred as "vpss.ko"</li>
<li>TVP7002 decoder kernel module referred to as "tvp7002.ko"</li>
<li>V4L2 capture kernel module, referred as "ti81xxvin.ko"</li></ol>
<h2><span class="mw-headline" id="Load_V4L2_capture_and_dependent_modules"><b>Load V4L2 capture and dependent modules</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=6" title="Edit section: Load V4L2 capture and dependent modules">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><b>Load Syslink Module</b></li></ul>
<p><br />
</p>
<pre>$ insmod syslink.ko
</pre>
<ul><li><b>Load VPSS M3 Firmware</b></li></ul>
<p><br />
</p>
<pre>$ ./slaveloader startup VPSS-M3 ti811x_hdvpss.xem3
</pre>
<ul><li><b>Load VPSS Module</b></li></ul>
<p><br />
</p>
<pre> $ insmod vpss.ko
</pre>
<ul><li><b>Load TVP7002 kernel module</b></li></ul>
<p><br />
</p>
<pre>$ insmod tvp7002.ko
</pre>
<ul><li><b>Load V4L2 Capture Module</b></li></ul>
<p><br />
</p>
<pre>$ insmod ti81xxvin.ko
</pre>
<p>Note: Some of the above modules are common between V4L2 capture, V4L2 display and FBDEV modules. These modules need to be loaded only once. tvp7002.ko must be loaded before ti81xxvin.ko.
</p>
<h1><span class="mw-headline" id="Introduction"><b>Introduction</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=7" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Video Processing Sub-System hardware integrates theee graphics pipeline, five video pipelines, two capture ports and 4 video compositors. Video compositors are connected to four VENCs to support various output format and mode.
</p><p><br />The primary functionality of the VPSS driver is to provide interfaces to user level applications and management of Video Processing Sub-System hardware. Interfaces and features of the fbdev and v4l2 display driver are covered in video driver user guide. This document covers the software architecture, interfaces and features provided by the V4L2 capture driver.
</p>
<h2><span class="mw-headline" id="References"><b>References</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=8" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ol><li>Video for Linux Two Home Page [<a rel="nofollow" class="external text" href="http://linux.bytesex.org/v4l2/">http://linux.bytesex.org/v4l2/</a>]</li>
<li>Video for Linux Two API Specification [[<a rel="nofollow" class="external text" href="http://v4l2spec.bytesex.org/v4l2spec/v4l2.pdf">http://v4l2spec.bytesex.org/v4l2spec/v4l2.pdf</a>]</li></ol>
<h2><span id="Acronyms_&amp;_Definitions"></span><span class="mw-headline" id="Acronyms_.26_Definitions"><b>Acronyms &amp; Definitions</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=9" title="Edit section: Acronyms &amp; Definitions">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<table border="1" cellspacing="0" cellpadding="5" width="40%">

<tbody><tr>
<th align="left">Acronym
</th>
<th align="left">Definition
</th></tr>
<tr>
<td>V4L2
</td>
<td>Video for Linux Two
</td></tr>
<tr>
<td>VPSS
</td>
<td>Vidoe Processing SubSystem
</td></tr>
<tr>
<td>HDMI
</td>
<td>Hight Definition Multimedia Interface
</td></tr>
<tr>
<td>NTSC
</td>
<td>National Television System Committee
</td></tr>
<tr>
<td>PAL
</td>
<td>Phase Alternating Line
</td></tr>
<tr>
<td>SD
</td>
<td>Standard Definition
</td></tr>
<tr>
<td>SDK
</td>
<td>Software Development Kit
</td></tr>
<tr>
<td>VIP
</td>
<td>Video Input Port
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Hardware_Overview"><b>Hardware Overview</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=10" title="Edit section: Hardware Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The video processing subsystem provides the functions to
display a video frame from the memory frame buffer to
external display device, such as LCD,TV;
or capture a video frame from external camera to memory.
The video processing subsystem integrates the
following main elements
</p><p><br />
</p>
<ul><li>Graphics processing modules</li>
<li>Video Capture processing modules</li>
<li>Video display processing modules</li>
<li>Video Compositor modules</li></ul>
<h2><span class="mw-headline" id="Software_overview"><b>Software overview</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=11" title="Edit section: Software overview">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>V4L2 capture driver provides the application interface for the video capture processing modules of the VPSS. It allows the external decoders to be interfaced to VIP capture port of the VPSS through standard V4L2 sub device driver model. Current driver supports VIP 0 instance with TVP7002 decoder (This decoder is not present on TI811x board, JAMR2.1). It is possible to support other decoders on VIP 0 instance by adding the sub-device driver for required decoder(TI811x has TVP5158) and passing the board specific data through board file. Please refer to the application note on how to add different decoders to the V4L2 capture driver.
</p>
<h1><span class="mw-headline" id="Features"><b>Features</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=12" title="Edit section: Features">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>V4L2 capture driver supports following features.
</p>
<ul><li>Supports VIP0 instance of the VPSS.</li>
<li>Supports TVP7002 standard Linux sub device driver.</li>
<li>Supports YUV422 interleaved, YUV422 semiplanar, YUV420 semiplanar and RGB888 color formats to memory.</li>
<li>Supports scaling and cropping for YUV formats (downscaling and progressive inputs only)</li>
<li>Supports 1080P60, 1080P30, 1080I60 and 720P60 input resolutions.</li>
<li>Supports user pointer buffer mechanism of the V4L2 driver interface.</li></ul>
<h1><span class="mw-headline" id="Architecture"><b>Architecture</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=13" title="Edit section: Architecture">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This chapter describes the Driver Architecture and Design concepts
</p>
<h2><span class="mw-headline" id="Driver_Architecture"><b>Driver Architecture</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=14" title="Edit section: Driver Architecture">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>TI81XX Video Processing hardware integrates three graphics pipeline, five video
pipelines, 2 capture ports and 4 video compositors. Video compositors are connected
to four VENCs to support various output format and mode.
</p><p><br />The primary functionality of the VPSS driver is to provide interfaces to
user level applications and management to video processing subsystem hardware.
</p><p><br />This includes, but is not limited to:
</p>
<ul><li>GUI rendering through graphics pipelines.</li>
<li>Video rendering through video pipelines.</li>
<li>Connecting each of three graphics pipelines to four compositors so the display layer is presented on the selected output path.</li>
<li>Connecting each of three video pipelines to four compositors so the display layer is presented on the selected output path.</li>
<li>Image/Video processing( alpha blending, colorkeying, cropping )</li></ul>
<p><br />
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:787px;"><a href="File_Vpss_linux_sw_arch_3.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/d/d4/Vpss_linux_sw_arch_3.png" width="785" height="642" class="thumbimage" /></a>  <div class="thumbcaption">Video Processing Subsystem Architecture</div></div></div></div>
<p><br />
</p>
<h2><span class="mw-headline" id="Software_Design_Interfaces"><b>Software Design Interfaces</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=15" title="Edit section: Software Design Interfaces">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Above figure (Video Processing Subsystem Architecture) shows the major components that makes up the VPSS
software sub-system
<br />
</p>
<ul><li><b>M3 VPSS Firmware</b></li></ul>
<p>This is a firmware running over processor Cotex M3 controlling the Video Processing subsystem hardware.
<br />
</p>
<ul><li><b>Syslink Library</b></li></ul>
<p>This is a funcional layer controlling the inter-processor communction between Cotex A8 and Cotex M3.
<br />
</p>
<ul><li><b>VPSS FVID2 Library</b></li></ul>
<p>This is a HAL/functional layer controlling the Firmware running over the M3. It exposes the number of APIs controlling the video compositors, VENCs, graphics/video pipelines to the user interface drivers like V4L2 and FBDEV. It translates the V4L2/Fbdev data structures and ioctl to FVID2 data structures and command, and call the Linux Syslink IPC notify function to pass FVID2 data structures and commands to Firmware running over the M3 processor.
<br />
</p>
<ul><li><b>Video Applications &amp; V4L2 subsystem</b></li></ul>
<p>Video applications (camera, camcorder, image viewer, etc.) use the standard V4L2 APIs to render static images and video to the video layers, or capture/preview camera images.
<br />
</p>
<h1><span class="mw-headline" id="Usage"><b>Usage</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=16" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Command_Line_arguments"><b>Command Line arguments</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=17" title="Edit section: Command Line arguments">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>V4L2 capture driver supports enabling debug option.  Argument are only  specified at the time of inserting the driver since V4L2 capture driver only supports dynamic build.
</p><p><br />
Below is the list of arguments which V4L2 driver supports -
</p>
<table border="1" cellspacing="0" cellpadding="&quot;5&quot;&quot;">
<caption><b>V4L2 Driver Command Line Arguments</b>
</caption>
<tbody><tr>
<th align="left">Argument
</th>
<th align="left">Description
</th></tr>
<tr>
<td>debug
</td>
<td>Enable debug messaging
</td></tr></tbody></table>
<p><br />
Insert the dynamically built module with following parameters:
Following example shows how to enable debug of V4L2:
</p>
<pre>$ insmod ti81xxvin.ko debug=1
</pre>
<h2><span class="mw-headline" id="Opening_and_Closing_of_Driver"><b>Opening and Closing of Driver</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=18" title="Edit section: Opening and Closing of Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Driver exposes four nodes corresponding to one VIP port. There are 2 instances of the VIP capture in VPSS. Each of the VIP instance can act as a single 16/24 bit port or two 8-bit ports. So overall 4 8-bit capture, or two 16 bit capture or one 16 bit and one 24 bit capture can be supported by VIP capture instances. As maximum of 4 videos can be captured, total four driver nodes are exposed to application. Based  on the interface, all 4 nodes or less than that can be opened by application.
<br />
</p>
<pre>/* Open a video capture logical channel in blocking mode */
fd = open ("/dev/video0", O_RDWR);
if (fd == -1) {
    perror("Failed to open display device\n");
    return -1;
}
/* Closing of channel */
close (fd);
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Setting_input"><b>Setting input</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=19" title="Edit section: Setting input">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>V4L2 architecture supports number of decoders through standard V4L2 subdevice model. Number of different decoders can be supported for same V4L2 capture driver based on different boards. Different decoder supports different type of inputs like S-Video, Composite, Component, DVI, HDMI etc. Application can select one of the input from number of supported inputs. Following ioctl allows application to select specific input from supported inputs. V4L2 capture driver sets the input in the connected decoder as V4L2 capture driver is independent of the inputs.
</p>
<pre>int input_index = 0;
ioctl(fd, VIDIOC_S_INPUT, &amp;input_index);
if (ret) {
         printf("%s: Setting Input failed\n", APP_NAME);
         printf("Return Value =&#160;%d\n", ret);
         exit(2);
}
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Querying_DV_preset"><b>Querying DV preset</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=20" title="Edit section: Querying DV preset">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>DV preset is Digital video presets. It represents the current video resolution detected by the decoder. Once the input is connected to decoder, it can detect the resolution like 1080P60, 720P60 etc based on clock and control signals. This IOCTL allows application to detect the incoming video resolution.  Again querying of the video resolution is a decoder feature and not of the V4L2 capture driver.
</p>
<pre>struct v4l2_dv_preset dv_preset;
dv_preset.preset = -1;
if (ioctl(fd, VIDIOC_QUERY_DV_PRESET, &amp;dv_preset)) {
        printf("Querying DV Preset failed\n");
        exit(2);
}
switch (dv_preset.preset) {
case V4L2_DV_720P60:
        printf("%s:\n Mode set is 720P60\n", APP_NAME);
        break;
case V4L2_DV_1080I60:
        printf("%s:\n Mode set is 1080I60\n", APP_NAME);
        break;
case V4L2_DV_1080P60:
        printf("%s:\n Mode set is 1080P60\n", APP_NAME);
        break;
case V4L2_DV_1080P30:
        printf("%s:\n Mode set is 1080P30\n", APP_NAME);
        break;
default:
       printf("%s:\n Failed to query preset\n", APP_NAME);
}
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Setting_DV_Preset"><b>Setting DV Preset</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=21" title="Edit section: Setting DV Preset">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>After querying for preset application to set the same preset. This is to ensure that all the registers of the decoder are set properly according the preset queried. This is a feature of decoder and not V4L2 capture driver. V4L2 capture driver simply passes the call to the respective V4L2 subdevices (decoders)driver. Following is the example code for setting up the dv preset.
</p>
<pre>struct v4l2_dv_preset dv_preset;
dv_preset.preset = -1;
if (ioctl(fd, VIDIOC_QUERY_DV_PRESET, &amp;dv_preset)) {
        printf("Querying DV Preset failed\n");
        exit(2);
}
if (ioctl(capt.fd, VIDIOC_S_DV_PRESET, &amp;capt.dv_preset)) {
        printf("Setting DV Preset failed\n");
        exit(2);
}
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Cropping"><b>Cropping</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=22" title="Edit section: Cropping">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The V4L2 Driver allows an application to define a rectangular portion of the image to be cropped via the VIDIOC_S_CROP Ioctl with the V4L2_BUF_TYPE_VIDEO_CAPTURE buffer type. When application calls VIDIOC_S_FMT ioctl, driver sets default cropping rectangle that is the largest rectangle no larger than the image size. All cropping dimensions are rounded down to even numbers. Cropping is done by the scalar module included with VIP capture instance.
</p><p>Following example shows how to change crop size.
</p>
<pre>struct v4l2_crop crop;
crop.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
crop.c.left = 0;
crop.c.top = 0;
crop.c.width = 320;
crop.c.height = 320;
ret = ioctl(fd, VIDIOC_S_CROP, &amp;crop);
if (ret &lt; 0) {
    perror("VIDIOC_S_CROP\n");
    close(fd);
    exit(0);
}
/* Image cropping rectangle is now changed */
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Scaling"><b> Scaling </b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=23" title="Edit section: Scaling">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>V4L2 capture driver supports scaling of the captured image. Only downscaling is supported on the captured image. Scaling dimensions are rounded to even numbers. Image can be scaled upto 1/8x in horizontal direction and vertical directions.
</p><p>Following example show how to scale the input image.
</p>
<pre>

capt.fmt_win.type = V4L2_BUF_TYPE_VIDEO_OVERLAY;
capt.fmt_win.fmt.win.w.left = 0;
capt.fmt_win.fmt.win.w.top = 0;
capt.fmt_win.fmt.win.w.width = 720;
capt.fmt_win.fmt.win.w.height = 480;

if (ioctl(capt.fd, VIDIOC_S_FMT, &amp;capt.fmt_win)) {
        printf("Setting window failed\n");
        exit(2);
}

</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Buffer_Format"><b>Buffer Format</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=24" title="Edit section: Buffer Format">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Buffer format describes various buffer parameters like pixel format, memory organization for each color component and for interlaced capture memory organization for each field. It also describes the size and pitch of the buffer. V4L2 capture driver and hardware supports following buffer formats:  V4L2_PIX_FMT_YUYV (YUV422 interleaved), V4L2_PIX_FMT_NV12 (YUV420 semi-planar), V4L2_PIX_FMT_NV16 (YUV422 semi-planar)and V4L2_PIX_FMT_RGB24 (RGB888 packed).
Buffer format can be changed using VIDIOC_S_FMT ioctl with type as V4L2_BUF_TYPE_VIDEO_CAPTURE.
</p><p><br />
</p>
<pre>/* Get the default format */
fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
if (ioctl(fd, VIDIOC_G_FMT, &amp;fmt)) {
        printf("Getting format failed");
        exit(2);
}
/* Change required parameters and set the format */
fmt.fmt.pix.width = 1920;
fmt.fmt.pix.height = 1080;
fmt.fmt.pix.bytesperline = fmt.fmt.pix.width * 2u;
fmt.fmt.pix.sizeimage = fmt.fmt.pix.bytesperline * fmt.fmt.pix.height;
fmt.fmt.pix.colorspace = V4L2_COLORSPACE_REC709;

fmt.fmt.pix.field = V4L2_FIELD_ANY;
fmt.fmt.pix.pixelformat = V4L2_PIX_FMT_YUYV;

fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
if (ioctl(fd, VIDIOC_S_FMT, &amp;fmt)) {
        printf("Setting format failed\n");
        exit(2);
}
</pre>
<p><br />
</p><p><b>Buffer Formats</b>
</p>
<ul><li>YUYV422 Interleaved Format</li></ul>
<p>YUYV422 is expected to be packed with Y0 in the lowest byte followed by U(Cb) followed by Y1 finally V(Cr) in the upper most byte.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:492px;"><a href="File_Yuyv.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/7/74/Yuyv.png" width="490" height="268" class="thumbimage" /></a>  <div class="thumbcaption">YUYV422 Interleaved Data Memory Organization</div></div></div></div>
<ul><li>YUV422 Semi-planar Format</li></ul>
<p>Y and UV are stored separately. UV is expected to be packed with U(Cb) in the lower byte and V(Cr) in the upper byte.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:492px;"><a href="File_Yuv422sp.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/e/eb/Yuv422sp.png" width="490" height="240" class="thumbimage" /></a>  <div class="thumbcaption">YUV422 semi-planar Data Memory Organization</div></div></div></div>
<ul><li>YUV420 Semi-planar Format</li></ul>
<p>Y and UV are stored separately. UV is expected to be packed with U(Cb) in the lower byte and V(Cr) in the upper byte.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:492px;"><a href="File_Yuv420sp.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/9/95/Yuv420sp.png" width="490" height="231" class="thumbimage" /></a>  <div class="thumbcaption">YUV420 semi-planar Data Memory Organization</div></div></div></div>
<ul><li>RGB24 Format</li></ul>
<p>Red, Blue and Green components needs to be packed in memory.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:752px;"><a href="File_Rgb888.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/5/56/Rgb888.png" width="750" height="86" class="thumbimage" /></a>  <div class="thumbcaption">RGB888 Data Memory Organization</div></div></div></div>
<h2><span class="mw-headline" id="Buffer_Management"><b>Buffer Management</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=25" title="Edit section: Buffer Management">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>User pointer buffer are supported by driver. Memory mapped buffers are not supported by driver because its almost impossible to get HD size buffer from the kernel. Minimum number of buffers application should allocate and prime for no frame drops is 4. Frame drops will be observed if application primes less than 4 buffers.
</p><p><br />
The main steps that the application must perform for buffer allocation are:
<br />
</p>
<ul><li><b>Allocating V4L2 buffer descriptor Memory</b></li></ul>
<p>&lt;syntaxhighlight lang='c'&gt;VIDIOC_REQBUFS&lt;/syntaxhighlight&gt;
</p><p>This is a necessary ioctl for streaming IO. It has to be called for both drivers buffer mode and user buffer mode. Using this ioctl, driver will identify whether driver buffer mode or user buffer mode will be used.
</p><p>It takes a pointer to instance of the &lt;syntaxhighlight lang='c'&gt;v4l2_requestbuffers&lt;/syntaxhighlight&gt; structure as an argument.
</p><p>User can specify the buffer type (V4L2_BUF_TYPE_VIDEO_OUTPUT), number of buffers, and memory type (V4L2_MEMORY_MMAP, V4L2_MEMORY_USERPTR)at the time of buffer allocation. In case of driver buffer mode, this ioctl also returns the actual number of buffers allocated in count member of v4l2_requestbuffer structure.
</p><p><br />
</p>
<pre>/* structure to store buffer request parameters */
struct v4l2_requestbuffers reqbuf;
reqbuf.count = numbuffers;
reqbuf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
reqbuf.memory = V4L2_MEMORY_USERPTR;
ret = ioctl(fd , VIDIOC_REQBUFS, &amp;reqbuf);
if(ret &lt; 0) {
    printf("cannot allocate memory\n");
    close(fd);
    return -1;
}
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Streaming"><b>Streaming</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=26" title="Edit section: Streaming">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>V4L2 driver supports the streaming of the buffer. To do streaming minimum of fourbuffers should be requested by the application by using VIDIOC_REQBUFS ioctl. V4L2 capture driver support user pointer buffers only. Mmapped buffers are not supported.
</p><p><br />
</p>
<pre>        /* Request buffers. We are operating in userPtr mode */
        capt.reqbuf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
        capt.reqbuf.count = MAX_BUFFER;
        capt.reqbuf.memory = V4L2_MEMORY_USERPTR;
        ret = ioctl(capt.fd, VIDIOC_REQBUFS, &amp;capt.reqbuf);
        if (ret&lt;0) {
                printf("Could not allocate the buffers\n");
                return -1;
        }

        /* Prime buffers */
        int ret, i;
        for (i = 0; i &lt; (MAX_BUFFER; i++) {
                capt.buf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
                capt.buf.memory = V4L2_MEMORY_USERPTR;
                capt.buf.index = i;
                capt.buf.m.userptr = (unsigned long)buffer_addr[capt.buf.index];
                capt.buf.length = capt.fmt.fmt.pix.sizeimage;
                ret = ioctl(capt.fd, VIDIOC_QBUF, &amp;capt.buf);
                if (ret &lt; 0) {
                        perror("VIDIOC_QBUF\n");
                        return -1;
                }
        }
        /* Start streaming */
        int a = V4L2_BUF_TYPE_VIDEO_CAPTURE, ret;
        ret = ioctl(capt.fd, VIDIOC_STREAMON, &amp;a);
        if (ret &lt; 0) {
                perror("VIDIOC_STREAMON\n");
                return -1;
        }
        /* Start the loop of capture */
        for (i = 0; i &lt; MAXLOOPCOUNT; i++) {
        /* Dequeue the captured buffer */
                ret = ioctl(capt.fd, VIDIOC_DQBUF, &amp;capt.buf);
                if (ret &lt; 0) {
                        perror("VIDIOC_DQBUF\n");
                        return -1;
                }
                /* Process the buffer here */


                /* Queue the buffer after processing is done */
                ret = ioctl(capt.fd, VIDIOC_QBUF, &amp;capt.buf);
                if (ret &lt; 0) {
                         perror("VIDIOC_QBUF\n");
                         return -1;
                }
        }
        /* Stop streaming */
        int a = V4L2_BUF_TYPE_VIDEO_CAPTURE, ret;
        ret = ioctl(capt.fd, VIDIOC_STREAMOFF, &amp;a);
        if (ret &lt; 0) {
                perror("VIDIOC_STREAMOFF\n");
                return -1;
        }

</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="V4L2_Capture_Driver_Interface"><b>V4L2 Capture Driver Interface</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=27" title="Edit section: V4L2 Capture Driver Interface">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Application_Interface"><b>Application Interface</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=28" title="Edit section: Application Interface">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>open()</b>
<br />
To open a video device
</p><p><br />
<b>close()</b>
<br />
To close a video device
</p><p><br />
<b>ioctl()</b>
<br />
To send ioctl commands to the display driver.
</p><p><br />
<b>mmap()</b>
<br />
To memory map a driver allocated buffer to user space
</p>
<h3><span class="mw-headline" id="Supported_Standard_IOCTLs"><b>Supported Standard IOCTLs</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=29" title="Edit section: Supported Standard IOCTLs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section describes the standard V4L2 IOCTLs supported by the Capture Driver.
<br />
<b>NOTE:</b> Standard IOCTLs that are not listed here are not supported. The Display Driver handles the unsupported ones by returning EINVALerror code.
</p><p><br />
<i><b>VIDIOC_QUERYCAP</b></i>
<br />
This is used to query the driver's capability. The video driver fills a v4l2_capability struct indicating the driver is capable of output and streaming.
</p><p><br />
<i><b>VIDIOC_ENUM_FMT</b></i>
<br />
This is used to enumerate the image formats that are supported by the driver. The driver fills a v4l2_fmtdesc struct.
</p><p><br />
<i><b>VIDIOC_G_FMT</b></i>
<br />
This is used to get the current image format or display window depending on the buffer type. The driver fills the information to a <i>v4l2_format</i> struct. It also used to get the scaling ratio with v4l2_buf_type as V4L2_BUF_TYPE_VIDEO_OVERLAY
</p><p><br />
<i><b>VIDIOC_TRY_FMT</b></i>
<br />
This is used to validate a new image format or a new display window depending on the buffer type. The driver may change the passed values if they are not supported. Application should check what is granted.
</p><p><br />
<i><b>VIDIOC_S_FMT</b></i>
<br />
This is used to set a new image format or a new display window depending on the buffer type. The driver may change the passed values if they are not supported. Application should check what is granted if <i>VIDIOC_TRY_FMT</i> is not used first. It is also used to set the scaling parameters with v4l2_buf_type as V4L2_BUF_TYPE_VIDEO_OVERLAY
</p><p><br />
<i><b>VIDIOC_CROPCAP</b></i>
<br />
This is used to get the default cropping rectangle based on the current image size and the current display panel size. The driver fills a <i>v4l2_cropcap</i> struct.
</p><p><br />
<i><b>VIDIOC_G_CROP</b></i>
<br />
This is used to get the current cropping rectangle. The driver fills a <i>v4l2_crop</i> struct.
</p><p><br />
<i><b>VIDIOC_S_CROP</b></i>
<br />
This is used to set a new cropping rectangle. The driver fills a <i>v4l2_crop</i> struct. Application should check what is granted.
</p><p><br />
<i><b>VIDIOC_REQBUFS</b></i>
<br />
This is used to request a number of buffers that can later be memory mapped. The driver fills a <i>v4l2_request</i> buffers struct. Application should check how many buffers are granted.
</p><p><br />
<i><b>VIDIOC_QUERYBUF</b></i>
<br />
This is used to get a buffer's information so mmap can be called for that buffer. The driver fills a <i>v4l2_buffer</i> struct.
</p><p><br />
<i><b>VIDIOC_QBUF</b></i>
<br />
This is used to queue a buffer by passing a <i>v4l2_buffer</i> struct associated to that buffer.
</p><p><br />
<i><b>VIDIOC_DQBUF</b></i>
<br />
This is used to dequeue a buffer by passing a <i>v4l2_buffer</i> struct associated to that buffer.
</p><p><br />
<i><b>VIDIOC_STREAMON</b></i>
<br />
This is used to turn on streaming. After that, any <i>VIDIOC_QBUF</i> results in an image being rendered.
</p><p><br />
<i><b>VIDIOC_STREAMOFF</b></i>
<br />
This is used to turn off streaming.
<br />
</p><p><br />
<i><b>VIDIOC_ENUMINPUT</b></i>
<br />
This is used to enumerate number of inputs supported by various decoders.
<br />
</p><p><br />
<i><b>VIDIOC_S_INPUT</b></i>
<br />
This is used to set one of inputs, from the number of inputs supported by decoders
<br />
</p><p><br />
<i><b>VIDIOC_G_INPUT</b></i>
<br />
This is used to get the currently set input
<br />
</p><p><br />
<i><b>VIDIOC_QUERY_DV_PRESET</b></i>
<br />
This is used to detect the preset. Decoders can generally detect the incoming digital video preset. This is used to detect it and configure the master driver according to detected preset.
<br />
</p><p><br />
<i><b>VIDIOC_G_DV_PRESET</b></i>
<br />
This is used to get the current preset.
<br />
</p><p><br />
<i><b>VIDIOC_S_DV_PRESET</b></i>
<br />
This is used to set the preset. After querying the preset, application needs to set the queried preset
<br />
</p><p><br />
<i><b>VIDIOC_ENUM_DV_PRESETS</b></i>
<br />
This is used to enumerate all the DV presets supported by decoder
<br />
</p>
<h1><span class="mw-headline" id="Sample_Application_Flow"><b>Sample Application Flow</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=30" title="Edit section: Sample Application Flow">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This chapter describes the application flow using the V4l2 driver.
</p><p><br />
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:246px;"><a href="File_V4L2_Capture_flowchart.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/e/e0/V4L2_Capture_flowchart.png" width="244" height="1333" class="thumbimage" /></a>  <div class="thumbcaption">Application for v4l2 driver</div></div></div></div>
<h1><span class="mw-headline" id="Sample_Applications"><b>Sample Applications</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=31" title="Edit section: Sample Applications">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Sample applications are provided with the PSP package to demonstrate various feature of the driver like scaling, cropping, different formats etc.
</p>
<h2><span class="mw-headline" id="Read_This_First_2"><b>Read This First </b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=32" title="Edit section: Read This First">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="padding: 5px; background: none repeat scroll 0% 0% rgb(238, 238, 238); color: rgb(255, 0, 0);">
<p>All the sample applications of V4L2 capture driver uses FBDEV buffer as the user pointer buffers. FBDEV needs to be loaded with following arguments to make all sample applications work successfully <i><b>insmod ti81xxfb.ko vram=0:40M,1:1M,2:1M</b></i>. This is to ensure that fbdev has enough memory for using it with V4L2 capture driver. ti81xxvo.ko must loaded before ti81xxvin.ko, which is to ensure that /dev/video1-3 are created for display function. Capture source must be connected to the component input of IO EXPANSION board before run the sample application, otherwise the sample application reports error.
</p>
</div>
<p>Following is the list of applications for the V4L2 capture driver.
</p>
<ul><li>saLoopBack</li>
<li>saLoopBackFbdev</li>
<li>saLoopBackScale</li></ul>
<h2><span class="mw-headline" id="saLoopBack"><b>saLoopBack</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=33" title="Edit section: saLoopBack">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This application demonstrates simple loop back from capture to display. Application takes input through TVP7002 decoder on VPSS VIP port. Capture buffers are displayed using V4L2 display driver. Sample application uses user pointer buffer mechanism for both capture and display driver. User pointer buffers are taken from FBDEV driver. V4L2 capture driver outputs YUV422 (y and cbcr interleaved) data to memory and display driver displays the same format from memory. Capture driver detects the incoming resolution, configures capture and display driver for same resolution. For e.g. For 1080P60 input resolution, Application sets the buffer size to 1920*1080*2 for both display and capture. Application changes the display resolution to 1080P60 on display using the sysfs entry.
</p>
<h2><span class="mw-headline" id="saLoopBackFbdev"><b>saLoopBackFbdev</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=34" title="Edit section: saLoopBackFbdev">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This application demonstrates simple loop back from capture to fbdev display driver. Application takes input through TVP7002 decoder on VPSS VIP port. Captured buffers are displayed using FBDEV driver. Sample application uses user pointer buffer mechanism for capture driver, and mmapped buffers for fbdev. FBDEV buffers are used as userpointer buffer for V4L2 capture. Capture driver takes YUV422 as input, converts it to RGB888 using color space converter of VIP port. Capture driver detects incoming resolution and configures capture and display driver for same resolution. For e.g. for 720P60 input resolution, Application sets the buffer size to 1280*720*3 for capture, and set the fbdev driver for RGB888 display. Application changes the display resolution to 720P60 using the sysfs entry.
</p>
<h2><span class="mw-headline" id="saLoopBackScale"><b>saLoopBackScale</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=35" title="Edit section: saLoopBackScale">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This application demonstrates the scaling and cropping feature of the V4L2 capture driver. Application takes the input through TVP7002 decoder on VPSS VIP port. Capture buffers are displayed using V4L2 display driver. Sample application uses user pointer buffer mechanism for both capture and display drivers. Capture driver crops the image to the same original input resolution. It then scales it to VGA(640X480) resolution and displays it through display driver.
</p><p><br />
</p>
<h1><span id="Technical_Support_and_Product_Updates_="></span><span class="mw-headline" id="Technical_Support_and_Product_Updates_.3D">Technical Support and Product Updates  =</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;section=36" title="Edit section: Technical Support and Product Updates =">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>For further information or to report any problems, contact <a rel="nofollow" class="external free" href="http://community.ti.com/">http://community.ti.com</a> or <a rel="nofollow" class="external free" href="http://support.ti.com/">http://support.ti.com</a>.
</p><p>OMAP Linux Mailing List: <a rel="nofollow" class="external free" href="http://vger.kernel.org/vger-lists.html#linux-omap">http://vger.kernel.org/vger-lists.html#linux-omap</a>
</p></div>
<!-- 
NewPP limit report
Cached time: 20201130041535
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.094 seconds
Real time usage: 0.100 seconds
Preprocessor visited node count: 315/1000000
Preprocessor generated node count: 556/1000000
Post‐expand include size: 502/2097152 bytes
Template argument size: 51/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 6973/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.745      1 -total
 51.69%    1.419      1 Template:SpArticleStart
 43.20%    1.186      1 Template:SpLicenseCC-SA
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:17611-0!canonical and timestamp 20201130041535 and revision id 182486
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>TI811X PSP VIDEO CAPTURE Driver User Guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>TI811X PSP VIDEO CAPTURE Driver User Guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>TI811X PSP VIDEO CAPTURE Driver User Guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>TI811X PSP VIDEO CAPTURE Driver User Guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>TI811X PSP VIDEO CAPTURE Driver User Guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>TI811X PSP VIDEO CAPTURE Driver User Guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>TI811X PSP VIDEO CAPTURE Driver User Guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>TI811X PSP VIDEO CAPTURE Driver User Guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>TI811X PSP VIDEO CAPTURE Driver User Guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;oldid=182486">https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;oldid=182486</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_DM816x.html" title="Category:DM816x">DM816x</a></li><li><a href="Category_C6A816x.html" title="Category:C6A816x">C6A816x</a></li><li><a href="Category_AM389x.html" title="Category:AM389x">AM389x</a></li><li><a href="Category_DM814x.html" title="Category:DM814x">DM814x</a></li><li><a href="https://processors.wiki.ti.com/index.php?title=Category:C6A814x&amp;action=edit&amp;redlink=1" class="new" title="Category:C6A814x (page does not exist)">C6A814x</a></li><li><a href="Category_AM387x.html" title="Category:AM387x">AM387x</a></li><li><a href="Category_DaVinci_Linux.html" title="Category:DaVinci Linux">DaVinci Linux</a></li><li><a href="Category_C6-Integra.html" title="Category:C6-Integra">C6-Integra</a></li><li><a href="Category_Linux.html" title="Category:Linux">Linux</a></li><li><a href="Category_PSP.html" title="Category:PSP">PSP</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=TI811X+PSP+VIDEO+CAPTURE+Driver+User+Guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;oldid=182486" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 28 July 2014, at 05:05.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.094","walltime":"0.100","ppvisitednodes":{"value":315,"limit":1000000},"ppgeneratednodes":{"value":556,"limit":1000000},"postexpandincludesize":{"value":502,"limit":2097152},"templateargumentsize":{"value":51,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":6973,"limit":5000000},"timingprofile":["100.00%    2.745      1 -total"," 51.69%    1.419      1 Template:SpArticleStart"," 43.20%    1.186      1 Template:SpLicenseCC-SA"]},"cachereport":{"timestamp":"20201130041535","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":235});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/TI811X_PSP_VIDEO_CAPTURE_Driver_User_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:01:06 GMT -->
</html>
