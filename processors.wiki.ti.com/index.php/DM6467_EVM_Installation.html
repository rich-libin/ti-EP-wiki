<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/DM6467_EVM_Installation by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 07:59:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>DM6467 EVM Installation - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"DM6467_EVM_Installation","wgTitle":"DM6467 EVM Installation","wgCurRevisionId":35342,"wgRevisionId":35342,"wgArticleId":3876,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"DM6467_EVM_Installation","wgRelevantArticleId":3876,"wgRequestId":"a6ca7597fe4232ba642d70c8","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-DM6467_EVM_Installation rootpage-DM6467_EVM_Installation skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">DM6467 EVM Installation</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p>Build Instructions 
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#UBL"><span class="tocnumber">1</span> <span class="toctext">UBL</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Getting_the_Source"><span class="tocnumber">1.1</span> <span class="toctext">Getting the Source</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Prerequisites"><span class="tocnumber">1.2</span> <span class="toctext">Prerequisites</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Steps_for_Building_UBL"><span class="tocnumber">1.3</span> <span class="toctext">Steps for Building UBL</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#U-Boot"><span class="tocnumber">2</span> <span class="toctext">U-Boot</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Getting_the_Source_2"><span class="tocnumber">2.1</span> <span class="toctext">Getting the Source</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Prerequisites_For_Build"><span class="tocnumber">2.2</span> <span class="toctext">Prerequisites For Build</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Building_U-Boot"><span class="tocnumber">2.3</span> <span class="toctext">Building U-Boot</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Flashing_UBL_and.2For_U-Boot"><span class="tocnumber">3</span> <span class="toctext">Flashing UBL and/or U-Boot</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Flashing_UBL_to_I2C_EEPROM"><span class="tocnumber">3.1</span> <span class="toctext">Flashing UBL to I2C EEPROM</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Flashing_UBL_to_SPI_EEPROM"><span class="tocnumber">3.2</span> <span class="toctext">Flashing UBL to SPI EEPROM</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Flashing_UBL_to_NAND"><span class="tocnumber">3.3</span> <span class="toctext">Flashing UBL to NAND</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Flashing_U-Boot"><span class="tocnumber">3.4</span> <span class="toctext">Flashing U-Boot</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Flashing_UBL_and_U-Boot_to_NAND_using_Serial_Flasher"><span class="tocnumber">3.5</span> <span class="toctext">Flashing UBL and U-Boot to NAND using Serial Flasher</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Writing_Kernel_and_Filesystem_Image_to_NAND_Flash"><span class="tocnumber">3.6</span> <span class="toctext">Writing Kernel and Filesystem Image to NAND Flash</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Setting_U-Boot_Environment_Variables"><span class="tocnumber">4</span> <span class="toctext">Setting U-Boot Environment Variables</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#Running_Kernel"><span class="tocnumber">5</span> <span class="toctext">Running Kernel</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="UBL">UBL</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=1" title="Edit section: UBL">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Getting_the_Source">Getting the Source</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=2" title="Edit section: Getting the Source">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>  * Download the 'flash_utils.tar.gz' archive from <a rel="nofollow" class="external text" href="http://arago-project.org/files/releases/davinci-psp_3.x.0.0-r37/sources/flash-utils-dm646x.tar.gz">here</a>.
  * Extract the archive. UBL source is present inside 'flash_utils' directory. 
  * The directories of particular interest are: 'src' - source code, 'include' - include files and 'build' - 
    contains CCS project and configuration files.
</pre>
<h3><span class="mw-headline" id="Prerequisites">Prerequisites</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=3" title="Edit section: Prerequisites">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>  * Windows XP host with CCS v 3.3 installed
  * Perl is also required for building UBL binary (recommended version 5.10).
</pre>
<h3><span class="mw-headline" id="Steps_for_Building_UBL">Steps for Building UBL</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=4" title="Edit section: Steps for Building UBL">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>  * Open the UBL project in CCS by clicking 'Project-&gt;Open' in CCS and selecting the project file 'ubldavinci.pjt' 
    inside 'build' directory.
  * By default, the UBL build is configured for DM6467 @ 594MHz. To build UBL for DM6467T (alpha EVM), open 
    file 'ublconfig.cfg' present inside 'build' directory and uncomment the line "#-d UBL_CONFIG_1GHZ" by removing '#' at the 
    beginning of the line. Save the file and build the project by clicking 'F7' key in CCS. Assuming UBL project is selected 
    in project window, this will build UBL 'out' file and copy it to tools/util/Image directory.
  * Open "Command Prompt" and navigate to directory 'tools/util'
  * Type 'makeublrom.bat' and press 'ENTER' which will create 'ublDaVinci.bin'
  * To create AIS file, use command 'makeUBLbin.exe ublDaVinci.bin'
  * The binaries will be created in tools/util directory.
</pre>
<h2><span class="mw-headline" id="U-Boot">U-Boot</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=5" title="Edit section: U-Boot">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Getting_the_Source_2">Getting the Source</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=6" title="Edit section: Getting the Source">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>  * Download the tarball from <a rel="nofollow" class="external text" href="http://arago-project.org/files/releases/davinci-psp_3.2.0.0-beta/sources/">u-boot-git-snapshot.tar.gz</a>
</pre>
<h3><span class="mw-headline" id="Prerequisites_For_Build">Prerequisites For Build</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=7" title="Edit section: Prerequisites For Build">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>  * A Linux Host machine with Sourcery GNU Toolchain for ARM installed and added in path is required for building the U-Boot. 
    Note that the builds are tested with 2008-Q3 version of toolchain.
  * CROSS_COMPILE variable should be set to point to toolchain. For example, on bash use 
    "export CROSS_COMPILE=arm-none-linux-gnueabi-" to use Sourcery toolchain.
</pre>
<h3><span class="mw-headline" id="Building_U-Boot">Building U-Boot</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=8" title="Edit section: Building U-Boot">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>  * Extract the tarball u-boot-git-snapshot.tar.gz on Linux Host.
  * Execute following commands in U-Boot root directory:
  * make davinci_dm6467_evm_config
  * make
  * The above steps will build 'u-boot' ELF file and 'u-boot.bin' binary file in U-Boot root directory.
  * 'mkimage' file will also be built in the ./tools directory. This executable will be required to build kernel uImage.
</pre>
<p><br /> 
</p>
<h2><span id="Flashing_UBL_and/or_U-Boot"></span><span class="mw-headline" id="Flashing_UBL_and.2For_U-Boot">Flashing UBL and/or U-Boot</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=9" title="Edit section: Flashing UBL and/or U-Boot">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre>       Note that the binaries and GEL files referred in descriptions below can be found inside respective sub-directory of
       DM6467 or DM6467T under board_utilities directory (eg., board_utilities/dm6467-evm folder in release path 
       for DM6467).
</pre>
<h3><span class="mw-headline" id="Flashing_UBL_to_I2C_EEPROM">Flashing UBL to I2C EEPROM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=10" title="Edit section: Flashing UBL to I2C EEPROM">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>  1 Open CCS and connect to target using ARM gel file for the target.  
  2 Change SW3 to UART boot mode (BM [0-3:0001). Refer EVM technical reference for more details.
  3 Using CCS, File-&gt;Load-&gt;i2c_eeprom_writer.out and run (F5)
  4 Enter path for UBL binary in the dialog box
  5 I2C EEPROM write will take around 20 seconds to complete writing. <code>"All tests passed and files match"</code> message 
    will be displayed in the CCS output window.
</pre>
<h3><span class="mw-headline" id="Flashing_UBL_to_SPI_EEPROM">Flashing UBL to SPI EEPROM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=11" title="Edit section: Flashing UBL to SPI EEPROM">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>  1 Open CCS and connect to target. ARM gel file can be found in the <a rel="nofollow" class="external text" href="http://arago-project.org/files/releases/davinci-psp_3.2.0.0-beta/board-utilities/ccs/">here</a>
2 Change SW3 to UART boot mode (BM [0-3:0001).
3 Using CCS, File-&gt;Load-&gt;spi_eeprom_writer.out and run (F5)
4 Enter path for  UBL binary in the dialog box
5 SPI EEPROM write will take around 20 seconds to complete writing. <code>"All tests passed and files match"</code> message 
    will be displayed in the CCS output window.
</pre>
<h3><span class="mw-headline" id="Flashing_UBL_to_NAND">Flashing UBL to NAND</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=12" title="Edit section: Flashing UBL to NAND">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>  1 Open CCS and connect to target. ARM gel file can be found <a rel="nofollow" class="external text" href="http://arago-project.org/files/releases/davinci-psp_3.2.0.0-beta/board-utilities/ccs/">here</a>
2 Change SW3 to UART boot mode (BM [0-3]:0001).
3 Using CCS, File-&gt;Load-&gt;nand_flash_writer.out and run (F5)
4 In the dialog box; enter the path of the UBL binary.
5 In the dialog box asking for offset, enter 1
6 Specify 'y' for global erase
7 Wait until the flash writer completes writing ubl is written to NAND.
</pre>
<h3><span class="mw-headline" id="Flashing_U-Boot">Flashing U-Boot</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=13" title="Edit section: Flashing U-Boot">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>  1 Open CCS and connect to target. ARM gel file can be found <a rel="nofollow" class="external text" href="http://arago-project.org/files/releases/davinci-psp_3.2.0.0-beta/board-utilities/ccs/">here</a>
2 Change SW3 to UART boot mode (BM [0-3]:0001).
3 Using CCS, File-&gt;Load-&gt;nand_flash_writer.out and run (F5)
4 In the dialog box; enter the path of the u-boot.bin file.
5 In the dialog box asking for offset, enter 6
6 Specify 'n' for global erase
7 Specify 81080000 for the Application Entry Point
8 Specify 81080000 for the Application Load Address 
9 Wait until the flash writer completes writing u-boot to NAND.
</pre>
<h3><span class="mw-headline" id="Flashing_UBL_and_U-Boot_to_NAND_using_Serial_Flasher">Flashing UBL and U-Boot to NAND using Serial Flasher</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=14" title="Edit section: Flashing UBL and U-Boot to NAND using Serial Flasher">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Alternately, both UBL and U-Boot can be flashed to NAND by using "Serial Flasher Utility" and use NAND Boot option as described below. 
</p>
<pre>  1 Install .NET Framework 2.0 or later on Windows XP.
  2 Download sfh_DM646x.exe, davinciUBLais.bin and u-boot.bin to a local folder, let's say "C:\tmp".
  3 Open Command Prompt and change working directory to above directory.
  4 Set SW3 switch settings on DM6467T EVM to UART Boot Mode and connect the serial port of board to Windows Host (we assume 
    the board is connected to COM1). The SW3[4:1] positions for this mode are [ON OFF OFF OFF]. Refer EVM technical reference 
    for more details. 
  5 Type following command at command prompt:<i>sfh_DM646x.exe -p COM1 -nandflash  -UBLStartAddr 0x20 davinciUBLais.bin u-boot.bin</i>
6 Following message should be displayed <i>Waiting for the DM646x...</i>
7 Now power on the board.
8 The Serial Flasher application should establish UART communication with EVM and download and flash UBL and U-Boot to NAND 
  flash.
9 Once done, power off the board and set SW3 setings to NAND Boot Mode. The SW3[4:1] positions for this mode are [OFF ON ON 
  ON].
10 Connect serial terminal client (e.g., TeraTerm) to COM1 and power on the board
</pre>
<p>Serial Flasher can also be built from source downloaded from <a rel="nofollow" class="external text" href="http://sourceforge.net/projects/dvflashutils/files/">SourceForge</a>. Refer <a href="Serial_Boot_and_Flash_Loading_Utility.html" title="Serial Boot and Flash Loading Utility">Serial Flash</a> for more information. 
</p>
<h3><span class="mw-headline" id="Writing_Kernel_and_Filesystem_Image_to_NAND_Flash">Writing Kernel and Filesystem Image to NAND Flash</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=15" title="Edit section: Writing Kernel and Filesystem Image to NAND Flash">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section describes steps to write kernel and ramdisk images to NAND flash. It is assumed that pre-built kernel image and ramdisk are available on a TFTP server to be downloaded on DM6467/T EVM running U-Boot. 
</p><p>Also, we assume following NAND partition layout when writing the images: 
</p>
<pre>    0x000000160000-0x000000560000&#160;: "kernel"
    0x000000560000-0x000008000000&#160;: "filesystem"</pre>
<p>Note that, this layout can be changed as per the need but it is advised to ensure minimum size requirements for bootloader, kernel etc. are met as well as the partition layout assumed in U-Boot and Kernel are consistent.<br /> 
</p>
<ul><li>Specify the TFTP server IP address to U-Boot</li></ul>
<pre>    DM6467 EVM &gt; setenv serverip &lt;tftp-server-ip-address&gt;</pre>
<ul><li>Load the kernel uImage in RAM downloading over TFTP. The example below assumes the kernel image name as 'uImage'</li></ul>
<pre>    DM6467 EVM &gt; setenv bootfile &lt;kernel-uImage-name&gt;
    DM6467 EVM &gt; dhcp
    Using DaVinci EMAC device
    TFTP from server &lt;tftp-server-ip-address; our IP address is &lt;dhcp-provided-ip-address&gt;
    Filename uImage.
    Load address: 0x80700000
    Loading: #################################################################
             #################################################################
             #########
    done
    Bytes transferred = 2031796 (1f00b4 hex)</pre>
<dl><dd>The above command sequence will load the kernel image at RAM location starting from 0x80700000. Note the downloaded kernel image size (0x1f00b4 bytes in above example).</dd></dl>
<ul><li>Before we proceed to write kernel image to NAND, we need to round up the number of bytes to be written to kernel partition to the multiple of page size. In our example, we consider the page size as 2048 bytes as found on NAND flash on DM6467/T EVM. You may need to use different values depending upon the different NAND flash device used.</li></ul>
<pre>    Kernel Image Size           = 0x1f00b4
    Rounded to Page Size (0x800)= 0x1f0800</pre>
<dl><dd>Alternately, you can also round the file size to block size, e.g, 128K (0x20000) for EVM.</dd></dl>
<ul><li>Erase the kernel partition using rounded size. For our example, we assume the kernel partition as shown in the beginning of this section.</li></ul>
<pre>    DM6467 EVM &gt; nand erase 160000 1f0800
    NAND erase: device 0 offset 0x160000, size 0x1f0800
    Erasing at 0x1f0800 -- 5505024% complete.
    OK</pre>
<ul><li>Write the kernel image to NAND kernel partition.</li></ul>
<pre>    DM6467 EVM &gt; nand write 80700000 160000 1f0800
    NAND write: device 0 offset 0x160000, size 0x1f0800
    2033664 bytes written: OK</pre>
<ul><li>Download the ramdisk image in RAM. If you use dhcp, you will need to temporarily modify 'bootfile' environment variable to specify ramdisk image name on server. This is because the 'dhcp' command tries to download the image with name indicated by 'bootfile'.</li></ul>
<pre>    DM6467 EVM &gt; setenv bootfile &lt;ramdisk-image-name&gt;
    DM6467 EVM &gt; dhcp
    Using DaVinci EMAC device
    TFTP from server &lt;tftp-server-ip-address; our IP address is &lt;dhcp-provided-ip-address&gt;
    Filename '&lt;ramdisk-image-name&gt;'.
    Load address: 0x80700000
    Loading: #################################################################
            &#160;:
             ####################################################
    done
    Bytes transferred = 4576007 (45d307 hex)
    DM6467 EVM &gt; setenv bootfile &lt;kernel-uImage-name&gt;</pre>
<ul><li>Round the size to page size:</li></ul>
<pre>    Ramdisk Size                = 0x45d307
    Rounded to Page Size (0x800)= 0x45d800</pre> 
<ul><li>Erase the ramdisk partition using rounded size and write the image. In our example, we assume the filesystem partition as shown at the beginning of this section.</li></ul>
<pre>    DM6467 EVM &gt; nand erase 560000 45D800
    NAND erase: device 0 offset 0x560000, size 0x45d800
    Erasing at 0x45d800 -- 10092544% complete.
    OK
    DM6467 EVM &gt; nand write 80700000 560000 45D800
    NAND write: device 0 offset 0x560000, size 0x45d800
    4577280 bytes written: OK</pre>
<dl><dd>Note that in case you face issues reading the ramdisk during booting from NAND, you can erase complete NAND partition (0x560000 till end in our example) and re-write the ramdisk to NAND.</dd></dl>
<ul><li>In addition, you will need to set 'bootcmd' and 'bootargs' variables to autoboot from NAND.</li></ul>
<pre>    DM6467 EVM &gt; setenv bootcmd 'nand read 81100000 560000 500000; nboot 80700000 0 160000; bootm'
    DM6467 EVM &gt; setenv bootargs 'console=ttyS0,115200n8 root=/dev/ram rw initrd=0x81100000,16M mem=120M'
    DM6467 EVM &gt; saveenv
    DM6467 EVM &gt; boot</pre>
<dl><dd>In our example, we have read only 5MB for ramdisk from NAND, this can be changed as per actual maximum supported ramdisk image size.</dd></dl>
<h2><span class="mw-headline" id="Setting_U-Boot_Environment_Variables">Setting U-Boot Environment Variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=16" title="Edit section: Setting U-Boot Environment Variables">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>U-Boot command line parameters 
</p>
<pre>  For using RAMDISK, set 'bootargs' as below form U-Boot prompt (replace size and location as appropriate)

</pre>
<p><i>setenv bootargs 'console=ttyS0,115200n8 root=/dev/ram rw initrd=0x81100000,16M mem=120M'</i> * For using NFS, set 'bootargs' as below form U-Boot prompt (replace nfs server/path as applicable)<br /> <i>setenv bootargs 'console=ttyS0,115200n8 noinitrd rw root=/dev/nfs nfsroot=&lt;</i>pathtoaragofilesystem<i>&gt; *</i> (rw,insecure,sync,no_root_squash),nolock mem=120M ip=dhcp Setup Parameters for Auto Booting over Ethernet 
</p>
<pre>  Set following variables to be able to automatically download and boot kernel image with NFS filesystem mentioned above. 
</pre>
<p>Note that in case using ramdisk image, it needs to be loaded in RAM (at location specified in 'bootargs') either after downloading it over network or copying it from NAND. 
</p>
<pre>     setenv ipaddr &lt;static-ip-address&gt;
     setenv serverip &lt;server-ip-address&gt;
     setenv bootfile &lt;kernel-uImage&gt;
     setenv loadaddr 0x80700000
     setenv bootcmd 'tftp; bootm'
     saveenv
  In addition, you may need to set 'gatewayip' if required. Instead of static IP address, 'dhcp' command can be used to get IP address dynamically.
  Alternately, kernel (and filesystem) can be written to NAND and can be used for subsequent boot.
</pre>
<h2><span class="mw-headline" id="Running_Kernel">Running Kernel</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit&amp;section=17" title="Edit section: Running Kernel">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Once above settings are done, type 'boot' at U-Boot prompt and it will boot the kernel. On subsequent reboots, U-Boot will automatically download and boot kernel
</p>
<!-- 
NewPP limit report
Cached time: 20201130091424
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.035 seconds
Real time usage: 0.036 seconds
Preprocessor visited node count: 157/1000000
Preprocessor generated node count: 272/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 2356/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:3876-0!canonical and timestamp 20201130091424 and revision id 35342
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>DM6467 EVM Installation</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>DM6467 EVM Installation</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>DM6467 EVM Installation</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>DM6467 EVM Installation</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>DM6467 EVM Installation</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>DM6467 EVM Installation</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>DM6467 EVM Installation</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>DM6467 EVM Installation</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>DM6467 EVM Installation</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;oldid=35342">https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;oldid=35342</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=DM6467+EVM+Installation" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="DM6467_EVM_Installation.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:DM6467_EVM_Installation&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="DM6467_EVM_Installation.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/DM6467_EVM_Installation.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/DM6467_EVM_Installation.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;oldid=35342" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=DM6467_EVM_Installation&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 5 July 2010, at 22:55.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.035","walltime":"0.036","ppvisitednodes":{"value":157,"limit":1000000},"ppgeneratednodes":{"value":272,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":2356,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130091424","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":220});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/DM6467_EVM_Installation by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 07:59:45 GMT -->
</html>
