<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 05:10:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts","wgTitle":"OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts","wgCurRevisionId":112695,"wgRevisionId":112695,"wgArticleId":9985,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Wireless Connectivity"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts","wgRelevantArticleId":9985,"wgRequestId":"39ebb2ce2ad9fc5266caa09a","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts rootpage-OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Access_Point_Configuration_scripts_using_.22Host_APD.22_commands"><span class="tocnumber">1</span> <span class="toctext">Access Point Configuration scripts using "Host APD" commands</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Hardware_setting"><span class="tocnumber">2</span> <span class="toctext">Hardware setting</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Access_point_settings"><span class="tocnumber">3</span> <span class="toctext">Access point settings</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Access_Point_configuration_-_Band_support"><span class="tocnumber">3.1</span> <span class="toctext">Access Point configuration - Band support</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Step_1_-_Configuring_hostapd.conf"><span class="tocnumber">3.1.1</span> <span class="toctext">Step 1 - Configuring hostapd.conf</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="#Access_Point_configuration_-_Non_Secured_network"><span class="tocnumber">3.2</span> <span class="toctext">Access Point configuration - Non Secured network</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Access_Point_configuration_-_Secured_network_.28WEP-40.29"><span class="tocnumber">3.3</span> <span class="toctext">Access Point configuration - Secured network (WEP-40)</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Access_Point_configuration_-_Secured_network_.28WEP-128.29"><span class="tocnumber">3.4</span> <span class="toctext">Access Point configuration - Secured network (WEP-128)</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Secured_network_.28WPA.29"><span class="tocnumber">3.5</span> <span class="toctext">Secured network (WPA)</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Access_Point_configuration_-_Secured_network_.28WPA2.29"><span class="tocnumber">3.6</span> <span class="toctext">Access Point configuration - Secured network (WPA2)</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Access_Point_configuration_-_Secured_network_.28any_WPA.29"><span class="tocnumber">3.7</span> <span class="toctext">Access Point configuration - Secured network (any WPA)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#How_to_set_the_DHCP_server_on_the_AP"><span class="tocnumber">4</span> <span class="toctext">How to set the DHCP server on the AP</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#How_to_run_The_EVM_in_Access_Point_mode"><span class="tocnumber">5</span> <span class="toctext">How to run The EVM in Access Point mode</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#How_to_Exit_from_Access_Point_mode"><span class="tocnumber">6</span> <span class="toctext">How to Exit from Access Point mode</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#External_links"><span class="tocnumber">7</span> <span class="toctext">External links</span></a></li>
</ul>
</div>

<h2><span id="Access_Point_Configuration_scripts_using_&quot;Host_APD&quot;_commands"></span><span class="mw-headline" id="Access_Point_Configuration_scripts_using_.22Host_APD.22_commands">Access Point Configuration scripts using "Host APD" commands</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=1" title="Edit section: Access Point Configuration scripts using &quot;Host APD&quot; commands">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The following section provides information how to configure the EVM to work in Access point, how to set the AP to work with arbitrary Security mode also adding the DHCP server and NAT (Network Address Translation) capability in order to have an Access Point that can function as a WLAN router.
<br />
In that release we don’t have a GUI capability to configure the AP to any mode of operation therefore all the setting will be done using Terminal that is connected over the serial port to the EVM.
<br />
The following items will be covered:
</p>
<ol><li>Access Point configuration - Non Secured network</li>
<li>Access Point configuration - Secured network (WEP-40)</li>
<li>Access Point configuration - Secured network (WEP-128)</li>
<li>Access Point configuration - Secured network (WPA)</li>
<li>Access Point configuration - Secured network (WPA2)</li>
<li>Access Point configuration - Secured network (any WPA)</li>
<li>How to set the DHCP server on the AP</li>
<li>How to run The EVM in Access Point mode</li>
<li>How to Exit from Access Point mode</li></ol>
<p><br />
</p>
<h2><span class="mw-headline" id="Hardware_setting">Hardware setting</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=2" title="Edit section: Hardware setting">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><br />
<br />
<a href="File_Soft_AP_demo.html" class="image"><img alt="Soft AP demo.jpg" src="https://processors.wiki.ti.com/images/2/2f/Soft_AP_demo.jpg" width="640" height="364" /></a>
<br />
</p>
<h2><span class="mw-headline" id="Access_point_settings">Access point settings</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=3" title="Edit section: Access point settings">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The hostapd.conf file (located in folder /etc) defines the Soft AP settings.<br /> 
<br />
Note: most common fields are:
</p>
<ol><li>“ssid” field, modify according to the requested SSID WiFi network, generated by the AP.</li>
<li>"channel" field, defines the channel that the AP will work on</li>
<li>"hw_mode" field, in case it is "g" then the AP works in 802.11g band</li>
<li>"beacon_int" field, is the Beacon interval</li>
<li>"dtim_period" field, is the DTIM period</li></ol>
<p>for more detailed information on hostapd.conf, use the following link: &lt;<a rel="nofollow" class="external text" href="http://hostap.epitest.fi/gitweb/gitweb.cgi?p=hostap.git;a=blob_plain;f=hostapd/hostapd.conf">hostapd.conf information</a>&gt; 
<br />
</p>
<h3><span class="mw-headline" id="Access_Point_configuration_-_Band_support">Access Point configuration - Band support</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=4" title="Edit section: Access Point configuration - Band support">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ol><li>hw_mode=g - to support bg band</li>
<li>hw_mode=b - to support b only band</li>
<li>ieee80211n=1 - to support 802.11n band</li></ol>
<p><br />
Following are the main definitions that should be edited in that file
</p>
<h4><span class="mw-headline" id="Step_1_-_Configuring_hostapd.conf">Step 1 - Configuring hostapd.conf</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=5" title="Edit section: Step 1 - Configuring hostapd.conf">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>First, we will back up the existing hostapd.conf file by invoking:
</p>
<pre>mv /etc/hostapd.conf /etc/hostapd.conf.bak</pre>
<p>The editing above can be done by <i>vi</i> editor as follows:
</p>
<ol><li><pre>vi /etc/hostapd.conf</pre></li>
<li>The editor will be opened. Type the character 'i' to switch to editing mode.</li>
<li>Copy and paste the above content into the editor.</li>
<li>Hit 'esc' button to stop editing.</li>
<li>Type the sequence ":wq" in order to save and quit.</li></ol>
<p><br />
Create a new hostapd.conf with the following content:
</p>
<h3><span class="mw-headline" id="Access_Point_configuration_-_Non_Secured_network">Access Point configuration - Non Secured network</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=6" title="Edit section: Access Point configuration - Non Secured network">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>interface=wlan0
driver=nl80211
channel=1
hw_mode=g
preamble=1
dtim_period=2
beacon_int=100
logger_syslog=-1
logger_syslog_level=2
logger_stdout=-1
logger_stdout_level=2
dump_file=/tmp/hostapd.dump
ctrl_interface=/var/run/hostapd
ctrl_interface_group=0
supported_rates=60 90 120 180 240 360 480 540
basic_rates=60 90 120 180 240
ssid=MAC_AP
max_num_sta=5
macaddr_acl=0
auth_algs=3
ieee80211d=0
uapsd_advertisement_enabled=1
wep_rekey_period=0
own_ip_addr=127.0.0.1
wpa_group_rekey=0
wpa_strict_rekey=0
wpa_gmk_rekey=0
wpa_ptk_rekey=0
#ap_table_max_size=255
#ap_table_expiration_time=60
eap_server=1
disassoc_low_ack=1
ap_max_inactivity=4294967295
</pre>
<h3><span id="Access_Point_configuration_-_Secured_network_(WEP-40)"></span><span class="mw-headline" id="Access_Point_configuration_-_Secured_network_.28WEP-40.29">Access Point configuration - Secured network (WEP-40)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=7" title="Edit section: Access Point configuration - Secured network (WEP-40)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>interface=wlan0
driver=nl80211
channel=1
hw_mode=g
preamble=1
dtim_period=2
beacon_int=100
logger_syslog=-1
logger_syslog_level=2
logger_stdout=-1
logger_stdout_level=2
dump_file=/tmp/hostapd.dump
ctrl_interface=/var/run/hostapd
ctrl_interface_group=0
ssid=zoomtest
max_num_sta=5
macaddr_acl=0
auth_algs=1
wep_default_key=0
wep_key0=1234567890
eapol_key_index_workaround=0
eap_server=0
own_ip_addr=127.0.0.1
</pre>
<p><br />
</p>
<h3><span id="Access_Point_configuration_-_Secured_network_(WEP-128)"></span><span class="mw-headline" id="Access_Point_configuration_-_Secured_network_.28WEP-128.29">Access Point configuration - Secured network (WEP-128)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=8" title="Edit section: Access Point configuration - Secured network (WEP-128)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>interface=wlan0
driver=nl80211
channel=1
hw_mode=g
preamble=1
dtim_period=2
beacon_int=100
logger_syslog=-1
logger_syslog_level=2
logger_stdout=-1
logger_stdout_level=2
dump_file=/tmp/hostapd.dump
ctrl_interface=/var/run/hostapd
ctrl_interface_group=0
ssid=zoomtest
max_num_sta=5
macaddr_acl=0
auth_algs=1
wep_default_key=2
wep_key0=1234567890
wep_key1=1234567890
wep_key2=CcCcCcCcCcCcCcCcCcCcCcCcCc
wep_key3=1234567890
wme_enabled=0
eapol_key_index_workaround=0
eap_server=0
own_ip_addr=127.0.0.1
</pre>
<p><br />
</p>
<h3><span id="Secured_network_(WPA)"></span><span class="mw-headline" id="Secured_network_.28WPA.29">Secured network (WPA)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=9" title="Edit section: Secured network (WPA)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>interface=wlan0
driver=nl80211
channel=1
hw_mode=g
preamble=1
dtim_period=2
beacon_int=100
logger_syslog=-1
logger_syslog_level=2
logger_stdout=-1
logger_stdout_level=2
dump_file=/tmp/hostapd.dump
ctrl_interface=/var/run/hostapd
ctrl_interface_group=0
ssid=zoomtest
max_num_sta=5
macaddr_acl=0
auth_algs=1
wme_enabled=0
eapol_key_index_workaround=0
eap_server=0
own_ip_addr=127.0.0.1
wpa=1
wpa_passphrase=12345678
wpa_key_mgmt=WPA-PSK
wpa_pairwise=TKIP
</pre>
<p><br />
</p>
<h3><span id="Access_Point_configuration_-_Secured_network_(WPA2)"></span><span class="mw-headline" id="Access_Point_configuration_-_Secured_network_.28WPA2.29">Access Point configuration - Secured network (WPA2)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=10" title="Edit section: Access Point configuration - Secured network (WPA2)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>interface=wlan0
driver=nl80211
channel=1
hw_mode=g
preamble=1
dtim_period=2
beacon_int=100
logger_syslog=-1
logger_syslog_level=2
logger_stdout=-1
logger_stdout_level=2
dump_file=/tmp/hostapd.dump
ctrl_interface=/var/run/hostapd
ctrl_interface_group=0
ssid=zoomtest
max_num_sta=5
macaddr_acl=0
auth_algs=1
wme_enabled=0
eapol_key_index_workaround=0
eap_server=0
own_ip_addr=127.0.0.1
wpa=2
wpa_passphrase=12345678
wpa_key_mgmt=WPA-PSK
wpa_pairwise=CCMP
</pre>
<p><br />
</p>
<h3><span id="Access_Point_configuration_-_Secured_network_(any_WPA)"></span><span class="mw-headline" id="Access_Point_configuration_-_Secured_network_.28any_WPA.29">Access Point configuration - Secured network (any WPA)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=11" title="Edit section: Access Point configuration - Secured network (any WPA)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>interface=wlan0
driver=nl80211
channel=1
hw_mode=g
preamble=1
dtim_period=2
beacon_int=100
logger_syslog=-1
logger_syslog_level=2
logger_stdout=-1
logger_stdout_level=2
dump_file=/tmp/hostapd.dump
ctrl_interface=/var/run/hostapd
ctrl_interface_group=0
ssid=zoomtest
max_num_sta=5
macaddr_acl=0
auth_algs=1
wme_enabled=0
eapol_key_index_workaround=0
eap_server=0
own_ip_addr=127.0.0.1
wpa=3
wpa_passphrase=12345678
wpa_key_mgmt=WPA-PSK
wpa_pairwise=CCMP TKIP
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="How_to_set_the_DHCP_server_on_the_AP">How to set the DHCP server on the AP</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=12" title="Edit section: How to set the DHCP server on the AP">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The file /etc/udhcpd.conf contains configuration information specific to the udhcp server.<br />
Following are the main parameters:
</p>
<ul><li>"start" field - The  starting address of the IP lease block; default value: 192.168.0.20.</li>
<li>"end" field - The ending address of the IP lease block; default value: 192.168.0.254.</li>
<li>"interface" field - The udhcp server should listen on INTERFACE. The default is eth0, and we will modify it to wlan0.</li>
<li>"dns" fiels - The list of DNS servers; In this example, the public google DNS servers were used.</li>
<li>"subnet" field - The subnet mask</li>
<li>"router" field - The list of routers; In this example, the SoftAP WLAN IP address is used.</li>
<li>"lease" field - The lease time in seconds; In this example: 10 days.</li></ul>
<p><br />
For the following demo, create the udhcpd.conf file with the content below, store it in /etc folder, and modify some basic fields according to the expected DHCP behavior (such as “start”, “end” address etc.).
</p>
<pre># Sample udhcpd configuration file (/etc/udhcpd.conf)
# The start and end of the IP lease block
start 		192.168.0.20	#default: 192.168.0.20
end		192.168.0.254	#default: 192.168.0.254
# The interface that udhcpd will use
interface   wlan0		#default: eth0
#Examles
opt	dns	8.8.8.8  8.8.4.4 # public google dns servers
option	subnet	255.255.255.0
opt	router	192.168.0.1
option	lease	864000		# 10 days of seconds
</pre>
<p><br />
Press the following to get a sample of <a href="https://processors.wiki.ti.com/images/0/07/Udhcpd.zip" class="internal" title="Udhcpd.zip">&lt;udhcpd.conf file&gt;</a>, unzip the file to get the udhcpd.conf file
</p><p>First, we will back up the existing udhcpd.conf file by invoking:
</p>
<pre>mv /etc/udhcpd.conf /etc/udhcpd.conf.bak</pre>
<p>and then edit the file by
</p>
<pre>vi /etc/udhcpd.conf</pre>
<p>Create a new udhcpd.conf with the following content:
</p>
<h2><span class="mw-headline" id="How_to_run_The_EVM_in_Access_Point_mode">How to run The EVM in Access Point mode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=13" title="Edit section: How to run The EVM in Access Point mode">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Note: The wlan0 port IP address that is defined as "ifconfig wlan0 192.168.0.1" below, should be the same IP address as defined in the “router” field in the /etc/udhcpc.conf file
<br />
in order to run the Soft AP, run the following:
</p>
<pre>echo 1 &gt; /proc/sys/net/ipv4/ip_forward
ifconfig wlan0 192.168.0.1
hostapd -B /etc/hostapd.conf -P /var/run/hostapd.pid
udhcpd /etc/udhcpd.conf
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
</pre>
<p><br />
<br />
</p>
<h2><span class="mw-headline" id="How_to_Exit_from_Access_Point_mode">How to Exit from Access Point mode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=14" title="Edit section: How to Exit from Access Point mode">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>follows the next commands in order to exit from Access Point mode and return to WLAN Station mode:
first need to kill both the hostapd and the udhcpd, for that use ps command to verify what is the Process ID of hostapd and udhcpd
</p>
<pre>root@am37x-evm:/etc# ps
  PID USER       VSZ STAT COMMAND
 2702 root      4904 S    hostapd -B /etc/hostapd.conf -P /var/run/hostapd.pid
 2704 root      2936 S    udhcpd /etc/udhcpd.conf
 2714 root      3128 R    ps
</pre>
<p>once we have the Process ID, we can kiil it
</p>
<pre>kill -9 2702
kill -9 2704
echo 0 &gt; /proc/sys/net/ipv4/ip_forward
iptables -F
ifconfig wlan0 down
iwconfig wlan0 mode managed
ifconfig wlan0 up
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;section=15" title="Edit section: External links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>For more information on Soft AP (hostapd) configuration please use the following link <a rel="nofollow" class="external text" href="http://wireless.kernel.org/en/users/Documentation/hostapd">&lt;wl12xx hostapd configuration &gt;</a></li></ul>
<p><br />
<a href="File_HomepageIcon.html" class="image"><img alt="HomepageIcon.jpg" src="https://processors.wiki.ti.com/images/5/52/HomepageIcon.jpg" width="45" height="45" /></a><b><a href="WL127x_Getting_Started_Guide.html" class="mw-redirect" title="Open Source Wireless Connectivity Guide">HOME</a></b>
<br />
</p>
<!-- 
NewPP limit report
Cached time: 20201130031851
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.053 seconds
Real time usage: 0.056 seconds
Preprocessor visited node count: 184/1000000
Preprocessor generated node count: 344/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4171/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:9985-0!canonical and timestamp 20201130031851 and revision id 112695
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>OMAP Wireless Connectivity NLCP WLAN AP Configuration Scripts</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;oldid=112695">https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;oldid=112695</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_Wireless_Connectivity.html" title="Category:Wireless Connectivity">Wireless Connectivity</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=OMAP+Wireless+Connectivity+NLCP+WLAN+AP+Configuration+Scripts" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;oldid=112695" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 12 July 2012, at 07:24.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.053","walltime":"0.056","ppvisitednodes":{"value":184,"limit":1000000},"ppgeneratednodes":{"value":344,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":4171,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130031851","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":228});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/OMAP_Wireless_Connectivity_NLCP_WLAN_AP_Configuration_Scripts by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 05:10:32 GMT -->
</html>
