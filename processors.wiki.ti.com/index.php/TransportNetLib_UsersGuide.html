<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/TransportNetLib_UsersGuide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 12:37:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>TransportNetLib UsersGuide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"TransportNetLib_UsersGuide","wgTitle":"TransportNetLib UsersGuide","wgCurRevisionId":198640,"wgRevisionId":198640,"wgArticleId":30166,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"TransportNetLib_UsersGuide","wgRelevantArticleId":30166,"wgRequestId":"7fa790b7f467f36e45fbac62","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-TransportNetLib_UsersGuide rootpage-TransportNetLib_UsersGuide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">TransportNetLib UsersGuide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Scope"><span class="tocnumber">1</span> <span class="toctext">Scope</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#References"><span class="tocnumber">2</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Definitions"><span class="tocnumber">3</span> <span class="toctext">Definitions</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Overview"><span class="tocnumber">4</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Data_Path_Example"><span class="tocnumber">4.1</span> <span class="toctext">Data Path Example</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Packet_Receive_at_Host"><span class="tocnumber">4.1.1</span> <span class="toctext">Packet Receive at Host</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Packet_Transmit_to_Network"><span class="tocnumber">4.1.2</span> <span class="toctext">Packet Transmit to Network</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Module_Details"><span class="tocnumber">5</span> <span class="toctext">Module Details</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#NETAPI"><span class="tocnumber">5.1</span> <span class="toctext">NETAPI</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#NETAPI_CFG:_Configuration_APIs"><span class="tocnumber">5.1.1</span> <span class="toctext">NETAPI CFG: Configuration APIs</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#NETAPI-CFG-SECURITY"><span class="tocnumber">5.1.2</span> <span class="toctext">NETAPI-CFG-SECURITY</span></a>
<ul>
<li class="toclevel-4 tocsection-12"><a href="#INFLOW_MODE:"><span class="tocnumber">5.1.2.1</span> <span class="toctext">INFLOW MODE:</span></a></li>
<li class="toclevel-4 tocsection-13"><a href="#SIDEBAND_MODE:"><span class="tocnumber">5.1.2.2</span> <span class="toctext">SIDEBAND MODE:</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-14"><a href="#NETAPI-_PKTIO"><span class="tocnumber">5.1.3</span> <span class="toctext">NETAPI- PKTIO</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#NETAPI_SCHEDULER_APIs"><span class="tocnumber">5.1.4</span> <span class="toctext">NETAPI SCHEDULER APIs</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#PKTLIB"><span class="tocnumber">5.2</span> <span class="toctext">PKTLIB</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#NWAL"><span class="tocnumber">5.3</span> <span class="toctext">NWAL</span></a>
<ul>
<li class="toclevel-3 tocsection-18"><a href="#IPSec_Manager"><span class="tocnumber">5.3.1</span> <span class="toctext">IPSec Manager</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19"><a href="#HPLIB_.28High_Performance_Library.29"><span class="tocnumber">5.4</span> <span class="toctext">HPLIB (High Performance Library)</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#HPLIB-SYNC_APIs"><span class="tocnumber">5.4.1</span> <span class="toctext">HPLIB-SYNC APIs</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#HPLIB_CACHE_APIs"><span class="tocnumber">5.4.2</span> <span class="toctext">HPLIB CACHE APIs</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#HPLIB-_Virtual_Memory_APIs"><span class="tocnumber">5.4.3</span> <span class="toctext">HPLIB- Virtual Memory APIs</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#HPLIB-_Utility_APIs"><span class="tocnumber">5.4.4</span> <span class="toctext">HPLIB- Utility APIs</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#HPLIB-_OSAL_APIs"><span class="tocnumber">5.4.5</span> <span class="toctext">HPLIB- OSAL APIs</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#HPLIB-Shared_Memory_APIs"><span class="tocnumber">5.4.6</span> <span class="toctext">HPLIB-Shared Memory APIs</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#HPLIB_Kernel_Module"><span class="tocnumber">5.4.7</span> <span class="toctext">HPLIB Kernel Module</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-27"><a href="#Additional_Data_path_Scenarios"><span class="tocnumber">5.5</span> <span class="toctext">Additional Data path Scenarios</span></a>
<ul>
<li class="toclevel-3 tocsection-28"><a href="#IPSEC_Operations"><span class="tocnumber">5.5.1</span> <span class="toctext">IPSEC Operations</span></a>
<ul>
<li class="toclevel-4 tocsection-29"><a href="#Side_Band_Data_Operations"><span class="tocnumber">5.5.1.1</span> <span class="toctext">Side Band Data Operations</span></a>
<ul>
<li class="toclevel-5 tocsection-30"><a href="#Packet_Receive_.28Decryption.29"><span class="tocnumber">5.5.1.1.1</span> <span class="toctext">Packet Receive (Decryption)</span></a></li>
<li class="toclevel-5 tocsection-31"><a href="#Sideband_Packet_Transmit_.28Encryption.29"><span class="tocnumber">5.5.1.1.2</span> <span class="toctext">Sideband Packet Transmit (Encryption)</span></a></li>
</ul>
</li>
<li class="toclevel-4 tocsection-32"><a href="#In_band_Data_Operations"><span class="tocnumber">5.5.1.2</span> <span class="toctext">In band Data Operations</span></a>
<ul>
<li class="toclevel-5 tocsection-33"><a href="#Packet_Receive_.28Decryption.29_2"><span class="tocnumber">5.5.1.2.1</span> <span class="toctext">Packet Receive (Decryption)</span></a></li>
<li class="toclevel-5 tocsection-34"><a href="#Packet_Transmit_.28Encryption.29"><span class="tocnumber">5.5.1.2.2</span> <span class="toctext">Packet Transmit (Encryption)</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-35"><a href="#TransportNetLib_Package"><span class="tocnumber">6</span> <span class="toctext">TransportNetLib Package</span></a>
<ul>
<li class="toclevel-2 tocsection-36"><a href="#Build_Environment-Prerequite"><span class="tocnumber">6.1</span> <span class="toctext">Build Environment-Prerequite</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Building_TransportNetLib_Binaries"><span class="tocnumber">6.2</span> <span class="toctext">Building TransportNetLib Binaries</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Building_HPLIB_Kernel_Module"><span class="tocnumber">6.3</span> <span class="toctext">Building HPLIB Kernel Module</span></a>
<ul>
<li class="toclevel-3 tocsection-39"><a href="#Prerequisite_for_this_step:"><span class="tocnumber">6.3.1</span> <span class="toctext">Prerequisite for this step:</span></a></li>
<li class="toclevel-3 tocsection-40"><a href="#Steps_To_Build_HPLIB_KERNEL_MODULE_.28hplibmod.ko.29:"><span class="tocnumber">6.3.2</span> <span class="toctext">Steps To Build HPLIB KERNEL MODULE (hplibmod.ko):</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-41"><a href="#Build_IPSECMGR_KERNEL_MODULE_.28ipsecmgr_mod.ko.29:"><span class="tocnumber">6.4</span> <span class="toctext">Build IPSECMGR KERNEL MODULE (ipsecmgr_mod.ko):</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-42"><a href="#Low_OverHead_Linux"><span class="tocnumber">7</span> <span class="toctext">Low OverHead Linux</span></a></li>
<li class="toclevel-1 tocsection-43"><a href="#TransportNetLib_Test_Users_Guide"><span class="tocnumber">8</span> <span class="toctext">TransportNetLib Test Users Guide</span></a></li>
<li class="toclevel-1 tocsection-44"><a href="#TransportNetLib_Sample_Applications"><span class="tocnumber">9</span> <span class="toctext">TransportNetLib Sample Applications</span></a>
<ul>
<li class="toclevel-2 tocsection-45"><a href="#ipsecmgr_daemon"><span class="tocnumber">9.1</span> <span class="toctext">ipsecmgr_daemon</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#ipsecmgr_cmd_shell"><span class="tocnumber">9.2</span> <span class="toctext">ipsecmgr_cmd_shell</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#setup"><span class="tocnumber">9.3</span> <span class="toctext">setup</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Scope">Scope</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=1" title="Edit section: Scope">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>TransportNetLib provides software API to utilize Network Coprocessor (NETCP) hardware accelerator functionality offered by Keystone devices. Purpose of this document is to introduce system level details and is intended for software application developers using the TransportNetLib software package. The document includes brief overview of APIs exposed by each module for illustration purpose and is subjected to modifications. Refer latest software release package to get more comprehensive details for APIs.
</p><p><br />
</p><p>Brief overview of peripheral capability is included in the document. In order to get additional details for the device and peripherals refer <a rel="nofollow" class="external text" href="http://www.ti.com/multicore">URL</a> and reference documentation.
</p><p><br />
</p>
<h1><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=2" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<table border="1" style="width: 100%; height: 212px">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>No</b>
</td>
<td bgcolor="#c0c0c0"><b>Referenced Document</b>
</td>
<td bgcolor="#c0c0c0"><b>Control Number</b>
</td>
<td bgcolor="#c0c0c0"><b>Description</b>
</td></tr>
<tr>
<td><center><b>REF: 1</b></center>
</td>
<td>LLD Documentation
</td>
<td>Revision A
</td>
<td><i><a rel="nofollow" class="external free" href="LLD_User_Gude.html">http://processors.wiki.ti.com/index.php/LLD_User_Gude</a></i>
</td></tr>
<tr>
<td><center><b>REF: 2</b></center>
</td>
<td>SPRUGZ6
</td>
<td>November 2010
</td>
<td><a rel="nofollow" class="external text" href="http://www.ti.com/lit/sprugz6">KeyStone Architecture Network Coprocessor (NETCP) User Guide</a>
</td></tr>
<tr>
<td><center><b>REF: 3</b></center>
</td>
<td>SPRUGR9
</td>
<td>April 2011
</td>
<td><a rel="nofollow" class="external text" href="http://www.ti.com/lit/sprugr9">KeyStone Architecture Multicore Navigator User Guide</a>
</td></tr>
<tr>
<td><center><b>REF: 4</b></center>
</td>
<td>SPRUGV9
</td>
<td>November 2010
</td>
<td><a rel="nofollow" class="external text" href="http://www.ti.com/lit/sprugv9">KeyStone Architecture Gigabit Ethernet(GbE) Switch Subsystem</a>
</td></tr>
<tr>
<td><center><b>REF: 5</b></center>
</td>
<td>SPRUGV4
</td>
<td>March 2011
</td>
<td><a rel="nofollow" class="external text" href="http://www.ti.com/lit/sprugv4">KeyStone Architecture Power Sleep Controller (PSC)</a>.
</td></tr>
<tr>
<td><center><b>REF: 6</b></center>
</td>
<td>SPRUGY6
</td>
<td>May 2011
</td>
<td><a rel="nofollow" class="external text" href="http://www.ti.com/lit/sprugy6">KeyStone Architecture Security Accelerator (SA)</a>.
</td></tr>
<tr>
<td><center><b>REF: 7</b></center>
</td>
<td>SPRUGS4
</td>
<td>Nov 2010
</td>
<td><a rel="nofollow" class="external text" href="http://www.ti.com/lit/sprugs4">KeyStone Architecture Packet Accelerator (PA)</a>
</td></tr>
<tr>
<td><center><b>REF: 8</b></center>
</td>
<td>NETCP Developer Guide
</td>
<td>July 2011
</td>
<td>NETCP developer guide available under:                           <i>pdk_xx/docs/</i>
<p>NETCPDeveloperGuide_xx.pd f<i></i>
</p>
</td></tr></tbody></table>
<h1><span class="mw-headline" id="Definitions">Definitions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=3" title="Edit section: Definitions">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Acronym</b>
</td>
<td bgcolor="#c0c0c0"><b>Meaning</b>
</td></tr>
<tr>
<td>AES
</td>
<td>Advanced Encryption Standard
</td></tr>
<tr>
<td>API
</td>
<td>Application Programming Interface
</td></tr>
<tr>
<td>BIOSMCSDK
</td>
<td>SYS/BIOS Multicore Software Development Kit
</td></tr>
<tr>
<td>CPPI
</td>
<td>Communications port program ming interface (Multicore Navigator)
</td></tr>
<tr>
<td>EMAC
</td>
<td>Ethernet Media Access Controller Sub module
</td></tr>
<tr>
<td>ESP
</td>
<td>Encapsulating Security Payload
</td></tr>
<tr>
<td>GbE
</td>
<td>Gigabit Ethernet
</td></tr>
<tr>
<td>GTP-U
</td>
<td>GPRS Tunneling Protocol
</td></tr>
<tr>
<td>HPLIB
</td>
<td>High Peformance Library
</td></tr>
<tr>
<td>IP
</td>
<td>Internet Protocol
</td></tr>
<tr>
<td>IPSec
</td>
<td>Internet Protocol security
</td></tr>
<tr>
<td>IPSec Mgr
</td>
<td>Internet Protocol Security Manager
</td></tr>
<tr>
<td>L2
</td>
<td>Layer -2: MAC
</td></tr>
<tr>
<td>L3
</td>
<td>Layer 3: IP
</td></tr>
<tr>
<td>L4
</td>
<td>Layer 4: TCP/UDP
</td></tr>
<tr>
<td>L5
</td>
<td>Layer 5: GTP-U
</td></tr>
<tr>
<td>LLD
</td>
<td>Low Level Driver
</td></tr>
<tr>
<td>MAC
</td>
<td>Media Access Control
</td></tr>
<tr>
<td>NETAPI
</td>
<td>Network API
</td></tr>
<tr>
<td>NETCP
</td>
<td>Network Coprocessor
</td></tr>
<tr>
<td>NWAL
</td>
<td>Network Adaptation Layer for NETCP Peripheral
</td></tr>
<tr>
<td>OSAL
</td>
<td>Operating System Abstraction Layer
</td></tr>
<tr>
<td>PA
</td>
<td>Packet Accelerator
</td></tr>
<tr>
<td>PALLD
</td>
<td>Packet Accelerator Low Level Driver
</td></tr>
<tr>
<td>PDK
</td>
<td>Platform Development Kit
</td></tr>
<tr>
<td>PDSP
</td>
<td>Packed data structure processor
</td></tr>
<tr>
<td>PKTDMA
</td>
<td>Packet DMA
</td></tr>
<tr>
<td>PKTIO
</td>
<td>Packet Input Output
</td></tr>
<tr>
<td>PKTLIB
</td>
<td>Packet Library
</td></tr>
<tr>
<td>PSC
</td>
<td>Power Sleep Controller
</td></tr>
<tr>
<td>QMSS
</td>
<td>Queue Manager Subsystem
</td></tr>
<tr>
<td>QoS
</td>
<td>Quality of Service
</td></tr>
<tr>
<td>SA
</td>
<td>Security Accelerator
</td></tr>
<tr>
<td>SALLD
</td>
<td>Security Accelerator Low Level Driver
</td></tr>
<tr>
<td>SGMII
</td>
<td>Serial Gigabit Media Independent Interface
</td></tr>
<tr>
<td>TCP
</td>
<td>Transmission Control Packet
</td></tr>
<tr>
<td>UDP
</td>
<td>User Datagram Protocol
</td></tr></tbody></table>
<center><b>Table 1: Definitions</b></center>
<h1><span class="mw-headline" id="Overview">Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=4" title="Edit section: Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Application view of hardware accelerator based solution available for keystone devices in order to offload Ethernet data path traffic can be broadly classified under two categories:
</p>
<ul><li><b>Hardware</b>: NETCP peripheral supports multiple hardware offload operations including:
<ul><li>Packet Accelerator to perform:
<ul><li>Packet header classification such as header matching</li>
<li>Packet modification operations such as checksum generation</li></ul></li>
<li>Security Accelerator to perform crypto operation including encrypt ,decrypt and authentication of data packets</li>
<li>Packet DMA (PKTDMA) controller in NETCP peripheral enables transfers of data and control packets between NETCP and host. Individual packets to NETCP contain data in containers called descriptors which can be moved between hardware queues. A subset of hardware queues are dedicated to NETCP peripheral. PKTDMA flows can be configured by the host to specify the buffers and descriptors for the packets forwarded by NETCP peripheral.</li>
<li>Queue Manager Subsystem (QMSS)</li></ul></li></ul>
<p> controls behavior of hardware queues and enables routing of descriptors. Both PKTDMA and QMSS are central part of the Multicore Navigator functionality available in keystone devices.  Refer [ REF: 2 &amp; REF: 3] for additional details regarding NETCP peripheral and Multicore Navigator.
</p>
<ul><li><b>Software:</b> Delivered as Transport Net Library in MCSDK includes
<ul><li>NETAPI: Data Path configuration, Packet Send/Receive APIs</li>
<li>HPLIB (High Performance Lib): Low Overhead user mode library optimized for fast path applications.</li>
<li>Packet Heap Management Lib</li></ul></li></ul>
<p><br />
<br />
</p>
<hr />
<p><font size="2"> <img alt="Note" src="https://processors.wiki.ti.com/images/b/b0/Light_bulb_icon.png" title="Note" width="18" height="25" /><b>Note:</b>  The transport library is currently restricted to use in one user space process only.  That process may be multi-threaded and the library is optimized for the low overhead Linux use case, where the worker threads are each dedicated to their own fast path core. This is not a requirement, however, for the library;  it can be used in cases where the worker threads all run on one core or where they can run on all cores.</font>
</p>
<hr />
<p><br />
</p><p><br />
</p><p>Figure 1 provides an overview of the software modules included in TransportNetLib package. TransportNetLib software available in MCSDK provides highly optimized platform abstraction to application leveraging various hardware offload features supported by NETCP peripheral. Software enables easier integration to customer application and fast path stacks. Table 2 provides brief overview of different modules.
</p><p><br />
</p>
<center><a href="File_TNL_figure1.html" class="image" title="TNL_figure1.jpg"><img alt="TNL_figure1.jpg" src="https://processors.wiki.ti.com/images/7/7f/TNL_figure1.jpg" width="628" height="448" /></a></center>
<center><b>Figure 1: NETCP Software Overview for ARM Linux Fast Path use case</b></center>
<p><br />
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Functionality</b>
</td>
<td bgcolor="#c0c0c0"><b>Sofware Module</b>
</td></tr>
<tr>
<td>Data Path Configuration and Packet Send/Receive APIs
</td>
<td><center>NETAPI</center>
</td></tr>
<tr>
<td>Low over head user mode library optimized for Fast Path Application.
</td>
<td><center>HPLIB</center>
</td></tr>
<tr>
<td>Packet Heap Management Library.
</td>
<td><center>PKTLIB</center>
</td></tr>
<tr>
<td>Interface for offloading IPSec security policy and associated security association from Linux Kernel
</td>
<td><center>IPSec Mgr</center>
</td></tr>
<tr>
<td>Network monitoring on behalf of fast path application for any configuration updates
</td>
<td><center>NetMgr</center>
</td></tr>
<tr>
<td>Network Adaptation Layer interfacing to NETCP
</td>
<td><center>NWAL</center>
</td></tr>
<tr>
<td>Low level NETCP drivers
</td>
<td><center>PDK</center>
</td></tr>
<tr>
<td>
</td></tr></tbody></table>
<center><b>Table 2: TransportNetLib Software Module</b></center>
<p><br />
</p>
<h2><span class="mw-headline" id="Data_Path_Example">Data Path Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=5" title="Edit section: Data Path Example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Packet_Receive_at_Host">Packet Receive at Host</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=6" title="Edit section: Packet Receive at Host">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For the ingress traffic from network to host, NETCP allows classification lookup offload and policy checks before packets are redirected to application. Figure 2 provides an overview of NETCP offload functionality for packets received from network.
</p>
<center><a href="File_TNL_figure2.html" class="image" title="TNL_figure2.jpg"><img alt="TNL_figure2.jpg" src="https://processors.wiki.ti.com/images/0/01/TNL_figure2.jpg" width="676" height="468" /></a></center>
<center><b>Figure 2: NETCP Hardware Classification Offload while receiving packets</b></center>
<p><br />
</p>
<h3><span class="mw-headline" id="Packet_Transmit_to_Network">Packet Transmit to Network</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=7" title="Edit section: Packet Transmit to Network">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>NETCP allows offload for many processor intensive operation e.g.: checksum computation and crypto being offloaded to the hardware minimizing cycles consumed by software. In addition it allows flexible redirection of packets out of a specific Gigabit Ethernet port. Figure 3 illustrates detailed steps involved in the packet transmission path while enabling the offload functionality. Additional steps from application would only require preparation of command label which is attached to the packet during transmission.
</p><p><br />
</p>
<center><a href="File_TNL_figure3.html" class="image" title="TNL_figure3.jpg"><img alt="TNL_figure3.jpg" src="https://processors.wiki.ti.com/images/6/68/TNL_figure3.jpg" width="646" height="412" /></a></center>
<center><b>Figure 3: NETCP Hardware Offload while transmitting packets</b></center>
<h1><span class="mw-headline" id="Module_Details">Module Details</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=8" title="Edit section: Module Details">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>The section includes more detailed description of various modules included in TransportNetLib.
</p>
<h2><span class="mw-headline" id="NETAPI">NETAPI</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=9" title="Edit section: NETAPI">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>NETAPI provides user space interface to device transport resources.
</p>
<ul><li>NETAPI&#160;: Common subsystem level APIs</li>
<li>NETAPI-CFG&#160;: Data path configuration</li>
<li>NETAPI-SECURITY: Security association configuration</li>
<li>NETAPI- PKT IO&#160;: Packet send/receive APIs</li>
<li>NETAPI-Scheduler: Optional Scheduler APIs</li></ul>
<p><br />
</p><p>Common subsystem functionality includes:
</p>
<ul><li>Initialization of resources for: PKTIO, PKTLIB, NWAL &amp; Multi-core Navigator</li>
<li>Initialization of PKTLIB heaps and PKTDMA resources for packets between NETCP and host.</li></ul>
<p>Refer [ REF: 3 &amp; REF: 8] for additional details regarding various PKTDMA resources
</p>
<ul><li>Creation of default classification rules at  NETCP</li>
<li>Interface for&#160;:
<ul><li>Polling NETCP configuration responses</li>
<li>Maintenance of PKTLIB heaps created by NETAPI and application</li></ul></li></ul>
<p><br />
</p><p>Brief API overview:
</p><p><br />
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>Initialize global system level resource.
</td>
<td><i>netapi_init</i>
</td></tr>
<tr>
<td>Returns version of NETAPI module
</td>
<td><i>netapi_getVersion</i>
</td></tr>
<tr>
<td>De-allocates all global system level resources
</td>
<td><i>netapi_shutdown</i>
</td></tr>
<tr>
<td>Retrieve PKTLIB interface table. To be used for heaps created by application which will be managed by NETAPI.
</td>
<td><i>netapi_getPktlibIfTable</i>
</td></tr>
<tr>
<td>Returns the amount of free memory available for additional PKTLIB Heap buffers
</td>
<td><i>netapi_getBufMemRemainder</i>
</td></tr>
<tr>
<td>Returns the amount of free memory available for allocating additional PKTLIB heap descriptors
</td>
<td><i>netapi_getDescRemainder</i>
</td></tr>
<tr>
<td>Get the default NETCP flow that is used for receiving packets
</td>
<td><i>netapi_getDefaultFlow</i>
</td></tr>
<tr>
<td>Retrieve default NETCP route (flow + destination PKTIO  channel)
</td>
<td><i>netapi_getDefaultRoute</i>
</td></tr>
<tr>
<td>API is used to set a piece of application-provided opaque data in netapi instance.
</td>
<td><i>netapi_setCookie</i>
</td></tr>
<tr>
<td>API is used to return a piece of application-provided opaque data that has been stored in the netapi instance.
</td>
<td><i>netapi_getCookie</i>
</td></tr>
<tr>
<td>API to poll for NETCP configuration response messages
</td>
<td><i>netapi_netcpPoll</i>
</td></tr>
<tr>
<td>Poll for the maintenance of PKTLIB heaps maintained by NETAPI
</td>
<td><i>netapi_pollHeapGarbage</i>
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="NETAPI_CFG:_Configuration_APIs">NETAPI CFG: Configuration APIs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=10" title="Edit section: NETAPI CFG: Configuration APIs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Configuration support includes:
</p>
<ul><li>Setting up classification of packets inside of NETCP based on MAC address or VLAN L2 header fields</li>
<li>Setting up classification based on L3 header fields: IP address, protocol, type of service</li>
<li>Setting up classification based on Level 4 ports or L5 GTP-U tunnel ID.</li></ul>
<p><br />
</p><p>The configuration APIs are used to insert and remove classification rules in the NETCP hardware lookup engines.   Additionally API defines configuration for route specifying how a packet that matches the rule (but no further rule) need to be processed.  The route defines which buffer pool(s) to use for packet storage and which PKTIO channel (queue) to route the packet to.  For L4 rules, a drop action can also be specified.
</p><p><br />
</p><p>Each configuration API returns a handle, <i>Application Id (APPID),</i> for further reference to corresponding NETCP rule.  <i>APPID</i> value is also registered with NETCP during configuration and will be available in metadata of the packet from NETCP which is forwarded to the application. Application can use the same <i>APPID</i> for future actions including deletion/un-configuration of the NETCP rule.
</p><p><br />
</p><p>Brief API overview:
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>Inserts a MAC interface rule in the NETCP hardware lookup engines for packet classification through first level lookup.
</td>
<td><i>netapi_netcpCfgCreateMacInterface</i>
</td></tr>
<tr>
<td>Deletes a MAC interface rule from NETCP hardware lookup engines.
</td>
<td><i>netapi_netcpCfgDelMac </i>
</td></tr>
<tr>
<td>Inserts an IP address rule associated with a MAC interface along with optional IP qualifiers in the NETCP hardware lookup engine.
</td>
<td><i>netapi_netcpCfgAddIp </i>
</td></tr>
<tr>
<td>Deletes an IP rule from NETCP hardware lookup engines, detaches it from MAC interface.
</td>
<td><i>netcp_cfgDelIp</i>
</td></tr>
<tr>
<td>Inserts a classifier rule in the NETCP hardware lookup engines which can be used to route a particular packet flow to a specific PKTIO channel.
</td>
<td><i>netapi_netcpCfgAddClass</i>
</td></tr>
<tr>
<td>Deletes a classifier rule from NETCP hardware lookup engines
</td>
<td><i>netapi_netcpCfgDelClass</i>
</td></tr>
<tr>
<td>Request statistics from NETCP
</td>
<td><i>netapi_netcpCfgReqStats </i>
</td></tr>
<tr>
<td>Inserts a flow rule in the NETCP hardware lookup engines
</td>
<td><i>netapi_netcpCfgAddFlow</i>
</td></tr>
<tr>
<td>Deletes a flow rule from NETCP hardware lookup engines
</td>
<td><i>netcp_cfgDelFlow</i>
</td></tr>
<tr>
<td>Configures NETCP with global rules for exception packet handling.
</td>
<td><i>netapi_netcpCfgExceptions</i>
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="NETAPI-CFG-SECURITY">NETAPI-CFG-SECURITY</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=11" title="Edit section: NETAPI-CFG-SECURITY">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Functionality includes:
</p>
<ul><li>Unidirectional IPSec Security Context creation and deletion</li>
<li>Receive IPSec Security Policy creation and deletion</li>
<li>Support for Sideband Encryption/Decryption offload to NETCP</li></ul>
<p><br />
</p><p>The NETAPI Security APIs comprises two functional areas:
</p>
<ul><li>Configuration</li>
<li>Data Operations</li></ul>
<p><br />
</p><p>Configuration APIs are used to setup the IPSec SAs. SAs are IPSec security contexts defining uni-directional secure path (tunnel or transport).In addition the security policy API allows configuration to enable policy check for incoming packet at NETCP.  Security policy is a rule that states that the inner IP (tunnel) or outer IP (transport) destination address should have been received via the associated SA and is applicable only for inflow mode.  Data operation APIs are available for send and receive operation on IPSec packets.
</p><p><br />
</p><p>NETAPI security APIs supports two modes for each SA: inflow and sideband.  The mode of the SA is determined through the SA setup API.
</p>
<h6><span class="mw-headline" id="INFLOW_MODE:">INFLOW MODE:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=12" title="Edit section: INFLOW MODE:">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>In this mode, the NETCP is setup to do IPSec processing as packets are received or transmitted.  On receive, NETCP hardware will classify the packet as IPSec, use the source/destination/SPI to determine the SA context and send the packet to the crypto engine for processing.  It will also perform a replay window check and will check packet against any receive policies that have been configured.  The packet (assuming successful authentication and replay check) will be then delivered to the host in the normal manner (i.e., via a PKTIO channel).  The <i>APPID</i> in the packet will indicate if IPSec has been performed or if an IPSec policy check was matched.
</p>
<h6><span class="mw-headline" id="SIDEBAND_MODE:">SIDEBAND MODE:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=13" title="Edit section: SIDEBAND MODE:">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>This is the traditional security co-processor mode of operation. In this mode, for receive, IPSec packets will be delivered to the host in the normal manner (via PKTIO ) with an <i>AppId</i> matching an IP configuration, or even just matching a MAC interface in the case that the IP has not been configured into NETCP.  In either case, host software must determine the SA for the packet and then return the packet to NETCP for crypto.  The packet is sent to crypto via a special PKTIO channel that is used for crypto sideband "put" operations (<i>NETCP_SB_TX</i>).  After crypto has been performed, the packet is returned to host via a second special PKTIO channel that is used to report crypto results (<i>NETCP_SB_RX</i>).
</p><p><br />
</p><p>For sideband encryption, the procedure is similar: the plain text packet is sent to crypto via the PKTIO<i>: NETCP_SB_TX</i> channel and the encrypted packet is return via the PKTIO<i>: NETCP_SB_RX</i> channel.
</p><p><br />
</p><p><br />
</p><p><br />
</p><p>Brief API overview:
</p><p><br />
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>Add an SA as either inflow or sideband mode. SAs are attached to MAC interfaces.
</td>
<td><i>netapi_secAddSA</i>
</td></tr>
<tr>
<td>Delete an SA
</td>
<td><i>netapi_secDelSA</i>
</td></tr>
<tr>
<td>Add a receive security policy to an SA.
</td>
<td><i>netapi_secAddRxPolicy(</i>
</td></tr>
<tr>
<td>Delete a security policy.
</td>
<td><i>netapi_secDelRxPolicy</i>
</td></tr>
<tr>
<td>Retrieve SA statistics via NWAL
</td>
<td><i>netapi_getSaStats</i>
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="NETAPI-_PKTIO">NETAPI- PKTIO</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=14" title="Edit section: NETAPI- PKTIO">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>PKTIO provides a channel interface for transmission and/or reception of packets between host and remote endpoints. Functionality includes:
</p>
<ul><li>Transmit or Receive packets to and from NETCP
<ul><li>Transmit or Receive of packets to Ethernet</li>
<li>Transmit or Receive of packets to Crypto subsystem</li></ul></li>
<li>Creation of channel for Inter Process Communication (IPC) between multiple fast path cores or between fast path and slow path cores</li>
<li>Multiple packets send/receive</li>
<li>Poll for any pending data for a single or multiple PKTIO channels</li>
<li>NETCP offload capability supported by NWAL</li>
<li>Meta data information in the receive path from NWAL</li></ul>
<p><br />
</p><p>Brief API overview:
</p><p><br />
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>Assigns global resources to a NETAPI PKTIO Channel. Channel can be used either to communicate with the NETCP or for IPC
</td>
<td><i>netapi_pktioCreate</i>
</td></tr>
<tr>
<td>Opens a PKTIO  Channel for use
</td>
<td><i>netapi_pktioOpen</i>
</td></tr>
<tr>
<td>Closes a PKTIO  Channel
</td>
<td><i>netapi_pktioClose</i>
</td></tr>
<tr>
<td>Send packet/payload through PKTIO channel.
</td>
<td><i>netapi_pktioSend </i>
</td></tr>
<tr>
<td>Send multiple packet through a PKTIO  channel
</td>
<td><i>netapi_pktioSendMulti</i>
</td></tr>
<tr>
<td>Poll a PKTIO  channel for received packets
</td>
<td><i>netapi_pktioPoll</i>
</td></tr>
<tr>
<td>Poll all PKTIO  channels attached to an NETAPI instance for received packets
</td>
<td><i>netapi_pktioPollAll</i>
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="NETAPI_SCHEDULER_APIs">NETAPI SCHEDULER APIs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=15" title="Edit section: NETAPI SCHEDULER APIs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>NETAPI provides a set of OPTIONAL scheduler APIs which application can use to poll for control message/events and data packets. If these APIs are used, then a scheduler instance is required for each thread (ideally one thread per core but this can be also used with multiple threads per core). If not used, then application can invoke individual library poll routine directly from their main processing loop. The scheduler interface allows for configuration to callback functions to perform periodic housekeeping functions based on number of poll cycles.
</p><p><br />
</p><p>Brief API overview:
</p><p><br />
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>API to open a scheduling context
</td>
<td><i>netapi_schedOpen</i>
</td></tr>
<tr>
<td>API for main entry point to scheduler
</td>
<td><i>netapi_schedRun</i>
</td></tr>
<tr>
<td>API to close a scheduling context
</td>
<td><i>netapi_schedClose</i>
</td></tr>
<tr>
<td>API to get scheduling context statistics
</td>
<td><i>netapi_schedGetStats</i>
</td></tr>
<tr>
<td>API to get the NETAPI handle from scheduling context
</td>
<td><i>netapi_schedGetHandle</i>
</td></tr></tbody></table>
<h2><span class="mw-headline" id="PKTLIB">PKTLIB</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=16" title="Edit section: PKTLIB">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Module expands underlying CPPI hardware descriptors for optimal usage at application layer. Functionalities include:
</p>
<ul><li>Zero copy operations for:
<ul><li>Packet split/merge operations</li>
<li>Cloning operations</li>
<li>Headroom/Tail room addition through merge operation</li></ul></li>
<li>Allocations of packet buffer and descriptors during startup time</li>
<li>Allows packet allocation by HW at Rx CPPI DMA</li>
<li>Efficient recycling of data buffers including the case of buffers being referenced by multiple CPPI descriptors</li></ul>
<p><br />
</p><p>In order to allow efficient zero copy operations the module introduces concept of zero buffer descriptors (BLD).
</p><p><br />
</p>
<center><a href="File_TNL_figure4.html" class="image" title="TNL_figure4.jpg"><img alt="TNL_figure4.jpg" src="https://processors.wiki.ti.com/images/0/07/TNL_figure4.jpg" width="568" height="216" /></a></center>
<center><b>Figure 4: Packet Split Operation</b></center>
<p>In the example referred under Figure 4 for the split operation, module expects a packet descriptor (PD: TiPkt) with buffer and linked buffer descriptors (BD) in addition to a Buffer Less Descriptor (BLD). At the end of the split, module returns pointer to two separate Packet descriptors to the application which is split based on the size configured by application.
</p><p><br />
</p>
<center><a href="File_TNL_figure5.html" class="image" title="TNL_figure5.jpg"><img alt="TNL_figure5.jpg" src="https://processors.wiki.ti.com/images/9/99/TNL_figure5.jpg" width="535" height="230" /></a></center>
<center><b>Figure 5: Packet Merge Operation</b></center>
<p><br />
</p><p>In the example referred under Figure 5 for the merge operation, module expects two separate Packet Descriptors. At the end of the merge operation a single packet descriptor is returned back which merges both packet descriptors.
</p><p><br />
</p><p><br />
</p>
<center></center>
<p>Brief API overview:
</p><p><br />
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>Create a packet Heap. Each heap has a specific set of properties and can be  used by applications to have buffers &amp; descriptors residing in different  memory regions with different properties etc.
</td>
<td><i>Pktlib_createHeap</i>
</td></tr>
<tr>
<td>Initialize packet library module for shared memory heap
</td>
<td><i>Pktlib_sharedHeapInit</i>
</td></tr>
<tr>
<td>Lookup of a packet heap with the name provided as input
</td>
<td><i>Pktlib_findHeapByName</i>
</td></tr>
<tr>
<td>Get statistics for the heap
</td>
<td><i>Pktlib_getHeapStats</i>
</td></tr>
<tr>
<td>Allocate a packet from the packet Heap
</td>
<td><i>Pktlib_allocPacket</i>
</td></tr>
<tr>
<td>Free the packet back to heap
</td>
<td><i>Pktlib_freePacket</i>
</td></tr>
<tr>
<td>Merge two packets and output will be one merged packet
</td>
<td><i>Pktlib_packetMerge</i>
</td></tr>
<tr>
<td>Clone a packet
</td>
<td><i>Pktlib_clonePacket</i>
</td></tr>
<tr>
<td>Split the packet at a specific payload boundary. Output will be two packets
</td>
<td><i>Pktlib_splitPacket</i>
</td></tr>
<tr>
<td>Garbage collector for a specific heap
</td>
<td><i>Pktlib_garbageCollection</i>
</td></tr></tbody></table>
<p><br />
</p>
<h2><span class="mw-headline" id="NWAL">NWAL</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=17" title="Edit section: NWAL">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Module provides network adaptation layer, and abstracts NETCP access to all upper software layers in TransportNetLib package.
</p><p><br />
Functionalities include:
</p>
<ul><li>Initialization of&#160;:
<ul><li>NETCP low level driver resources</li>
<li>Packet DMA related resources associated to NETCP</li></ul></li>
<li>Supports both blocking and non blocking configuration to NETCP. In the case of blocking request, status is returned back in API call context. In the case of non blocking mode, application can invoke separate poll routine to retrieve the status of configuration request to NETCP.</li>
<li>Classification of incoming packets based on L2/MAC header fields</li>
<li>Classification of incoming packets based on L3/IPv4/IPv6  header fields</li>
<li>Routing of packets to host based on L4: UDP/TCP/GTP-U</li>
<li>Unidirectional IPSec SA creation and deletion.</li>
<li>In band offload of IPSec encryption/decryption for the outgoing packets</li>
<li>Access to SA data mode acceleration for the data plane applications. Refer release documentation for list of  supported symmetric key and hash algorithms</li>
<li>Supports offload of following features to NETCP Hardware during transmission of packets:
<ul><li>IPv4 checksum/L4:TCP/UDP checksum/IPSec Encryption</li>
<li>Redirection of packets through a specific MAC port</li>
<li>Software Insertion of L2/L3/L4 header</li></ul></li>
<li>Upon reception of packet module provides additional meta data details including:
<ul><li>Status of IP checksum/UDP/TCP checksum results</li>
<li>Offset to L2/L3L4 protocol offsets. Appropriate layer offset will be valid only if classification or routing is enabled at NETCP</li>
<li>Ingress MAC port information</li></ul></li></ul>
<p><br />
</p><p>Brief API overview:
</p><p><br />
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>Get buffer requirement from module.
</td>
<td><i>nwal_getBufferReq</i>
</td></tr>
<tr>
<td>Create global resources across all processors
</td>
<td><i>nwal_create</i>
</td></tr>
<tr>
<td>Free up all global module
</td>
<td><i>nwal_delete</i>
</td></tr>
<tr>
<td>API to retrieve global resources created by NWAL during <i>nwal_create() </i>API call
</td>
<td><i>nwal_getGlobCxtInfo</i>
</td></tr>
<tr>
<td>Initialize per process resources
</td>
<td><i>nwal_start</i>
</td></tr>
<tr>
<td>API to retrieve local per process resources created by NWAL during <i>nwal_start() API call</i>
</td>
<td><i>nwal_getLocCxtInfo</i>
</td></tr>
<tr>
<td>Configures MAC interface to NETCP
</td>
<td><i>nwal_setMacIface</i>
</td></tr>
<tr>
<td>Get handle for pre-existing MAC interface
</td>
<td><i>nwal_getMacIfac</i>
</td></tr>
<tr>
<td>Delete/Un-configure a MAC interface
</td>
<td><i>nwal_delMacIface </i>
</td></tr>
<tr>
<td>Configure IP classification at NETCP
</td>
<td><i>nwal_setIPAddr</i>
</td></tr>
<tr>
<td>Get a handle for pre-existing IP classification
</td>
<td><i>nwal_getIPAddr</i>
</td></tr>
<tr>
<td>Delete/Unconfigure the IP classification entry
</td>
<td><i>nwal_delIPAddr</i>
</td></tr>
<tr>
<td>Configure an IPSec SA channel (RX/ TX)
</td>
<td><i>nwal_setSecAssoc</i>
</td></tr>
<tr>
<td>Lookup an existing IPSec SA channel
</td>
<td><i>nwal_getSecAssoc</i>
</td></tr>
<tr>
<td>API to query the SA (IPSec) channel Stats.
</td>
<td><i>nwal_getSecAssocStats</i>
</td></tr>
<tr>
<td>Delete an IPSec SA channel configuration
</td>
<td><i>nwal_delSecAssoc</i>
</td></tr>
<tr>
<td>Configure IPSec Security Policy (RX/ TX)
</td>
<td><i>nwal_setSecPolicy</i>
</td></tr>
<tr>
<td>Lookup for an existing IPSec policy
</td>
<td><i>nwal_getSecPolicy</i>
</td></tr>
<tr>
<td>Delete an IPSec policy
</td>
<td><i>nwal_delSecPolicy</i>
</td></tr>
<tr>
<td>Configure a L4 UDP/TCP connection.
</td>
<td><i>nwal_addConn</i>
</td></tr>
<tr>
<td>Delete an existing connection
</td>
<td><i>nwal_delConn</i>
</td></tr>
<tr>
<td>Configure existing connection for remote
</td>
<td><i>nwal_cfgConn</i>
</td></tr>
<tr>
<td>Create Data Mode Security association
</td>
<td><i>nwal_setDMSecAssoc</i>
</td></tr>
<tr>
<td>Delete Data Mode Security Association
</td>
<td><i>nwal_delDMSecAssoc</i>
</td></tr>
<tr>
<td>Poll for packets from data mode channel
</td>
<td><i>nwal_pollDm</i>
</td></tr>
<tr>
<td>Transmit payload for data mode channel
</td>
<td><i>nwal_sendDM</i>
</td></tr>
<tr>
<td>API to querry the SA (Data Mode) channel Stats.
</td>
<td><i>nwal_getDataModeStats</i>
</td></tr>
<tr>
<td>Update MAC/IP/UDP header for TX packet
</td>
<td><i>nwal_updateProtoHdr</i>
</td></tr>
<tr>
<td>API to query NETCP: Global PASS stats
</td>
<td><i>nwal_getPAStats</i>
</td></tr>
<tr>
<td>API to query NETCP: Global SASS stats
</td>
<td><i>nwal_getSASysStats</i>
</td></tr>
<tr>
<td>API to transmit packet out
</td>
<td><i>nwal_send</i>
</td></tr>
<tr>
<td>API to poll for incoming packets
</td>
<td><i>nwal_pollPkt</i>
</td></tr>
<tr>
<td>API to poll for control or configuration response from NETCP
</td>
<td><i>nwal_pollCtl</i>
</td></tr>
<tr>
<td>API for run time NetCP global configuration
</td>
<td><i>nwal_control</i>
</td></tr></tbody></table>
<h4><span class="mw-headline" id="IPSec_Manager">IPSec Manager</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=18" title="Edit section: IPSec Manager">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The software module is provided to run on the control plane ARM Linux cores with following functionalities:
</p>
<ul><li>Offload an IPSec security policy &amp; associated security association to NETCP.</li>
<li>IPSec Security parameters (Security Policy &amp; Security association) are configured into Linux Kernel by an IKE protocol agent executing in the control plane. IPSec security policies &amp; associations for the data plane (also referred to as Fast Path) can be offloaded to NETCP for HW acceleration using this interface.</li>
<li>IPSecMgr retrieves the security parameters from Linux Kernel &amp; configure NETCP utilizing the services of NETCP configuration module (NWAL).</li>
<li>Manage Renewal &amp; expiration of data path IPSec associations.</li></ul>
<p><br />
</p><p>Brief API overview:
</p><p><br />
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>

<tr>
<td>Offload the IPSec security policy &amp; associated security association to NETCP. IPSec policy identifier passed to the API would be the policy-id used in Linux kernel.
</td>
<td><i>offload_sp_req</i>
</td></tr></tbody></table>
<p><br />
</p>
<h2><span id="HPLIB_(High_Performance_Library)"></span><span class="mw-headline" id="HPLIB_.28High_Performance_Library.29">HPLIB (High Performance Library)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=19" title="Edit section: HPLIB (High Performance Library)">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The library provides optimal implementation for some of necessary helper functions required by Fast Path application running of cores to use TransportNetLib software efficiently. Details of this library are provided in sub-sections below.
</p>
<h3><span class="mw-headline" id="HPLIB-SYNC_APIs">HPLIB-SYNC APIs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=20" title="Edit section: HPLIB-SYNC APIs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Provides APIs for synchronization across multiple processes or threads running across SMP ARM processes.
</p>
<ul><li><b>Spinlock Lock/unlock</b></li>
<li><b>RWLock  Lock/unlock</b></li>
<li><b>Atomic operations: read, set, add, subtract, increment, decrement, clear</b></li>
<li><b>Memory barriers, read and write barriers</b></li></ul>
<p><br />
</p><p>Brief API overview:
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>Initialize a spinlock in the unlocked state
</td>
<td><i>hplib_mSpinLockInit</i>
</td></tr>
<tr>
<td>Acquire a spinlock (blocking call)
</td>
<td><i>hplib_mSpinLockLock</i>
</td></tr>
<tr>
<td>Try to acquire a spinlock (non-blocking)
</td>
<td><i>hplib_mSpinLockTryLock</i>
</td></tr>
<tr>
<td>Release a spinLock
</td>
<td><i>hplib_mSpinLockUnlock</i>
</td></tr>
<tr>
<td>Test if spinLock is locked
</td>
<td><i>hplib_mSpinLockIsLocked</i>
</td></tr>
<tr>
<td>Initialize a read/write lock in the unlocked state
</td>
<td><i>hplib_mRWLockInit</i>
</td></tr>
<tr>
<td>Acquire a read/write lock for writing
</td>
<td><i>hplib_mRWLockWriteLock</i>
</td></tr>
<tr>
<td>Unlock writer part of read/write lock
</td>
<td><i>hplib_mRWLockWriteUnlock</i>
</td></tr>
<tr>
<td>Acquire a read/write lock for reading
</td>
<td><i>hplib_mRWLockReadLock</i>
</td></tr>
<tr>
<td>Unlock read part of read/write lock
</td>
<td><i>hplib_mRWLockReadUnlock</i>
</td></tr>
<tr>
<td>Initialize atomic 32 variable and set the state to lock
</td>
<td><i>hplib_mAtomic32Init</i>
</td></tr>
<tr>
<td>Atomically read a 32-bit integer
</td>
<td><i>hplib_mAtomic32Read</i>
</td></tr>
<tr>
<td>Atomically set a 32-bit integer
</td>
<td><i>hplib_mAtomic32Set</i>
</td></tr>
<tr>
<td>Atomically add a value to a 32-bit integer
</td>
<td><i>hplib_mAtomic32Add</i>
</td></tr>
<tr>
<td>Atomically increment by 1 a 32-bit integer
</td>
<td><i>hplib_mAtomic32Inc</i>
</td></tr>
<tr>
<td>Atomically subtract a value from a 32-bit integer
</td>
<td><i>hplib_mAtomic32Sub</i>
</td></tr>
<tr>
<td>Atomically decrement by 1 a 32-bit integer
</td>
<td><i>hplib_mAtomic32Dec</i>
</td></tr>
<tr>
<td>Atomically add a value to a 32-bit integer, and return the new value of the 32-bit integer after the addition
</td>
<td><i>hplib_mAtomic32AddReturn</i>
</td></tr>
<tr>
<td>Atomically subtract a value from a 32-bit integer, and return the new  value of the 32-bit integer after the subtraction
</td>
<td><i>hplib_mAtomic32SubReturn</i>
</td></tr>
<tr>
<td>Atomically increment by 1 a 32-bit integer, and return a positive value if the new value of the 32-bit integer is zero, or zero in all other cases
</td>
<td><i>hplib_mAtomic32IncAndTest</i>
</td></tr>
<tr>
<td>Atomically decrement by 1 a 32-bit integer, and return a positive value if the new value of the 32-bit integer is zero, or zero in all other cases
</td>
<td><i>hplib_mAtomic32DecAndTest</i>
</td></tr>
<tr>
<td>Atomically test and set to 1 a 32-bit integer
</td>
<td><i>hplib_mAtomic32TestSetReturn</i>
</td></tr>
<tr>
<td>Atomically set to zero a 32-bit integer
</td>
<td><i>hplib_mAtomic32Clear</i>
</td></tr>
<tr>
<td>Used to initialize a 64 bit atomic variable and set the state to unlock
</td>
<td><i>hplib_mAtomic64Init</i>
</td></tr>
<tr>
<td>Atomically read a 64-bit integer
</td>
<td><i>hplib_mAtomic64Read</i>
</td></tr>
<tr>
<td>Atomically set a 64-bit integer
</td>
<td><i>hplib_mAtomic64Set</i>
</td></tr>
<tr>
<td>Atomically add a value to a 64-bit integer
</td>
<td><i>hplib_mAtomic64Add</i>
</td></tr>
<tr>
<td>General Memory Barrier guarantees that all LOAD and STORE operations that were issued before the barrier occur before the LOAD and STORE operations issued after the barrier
</td>
<td><i>hplib_mMemBarrier</i>
</td></tr>
<tr>
<td>Read memory barrier guarantees that all LOAD operations that were issued before the barrier occur before the STORE operations that are issued after
</td>
<td><i>hplib_mReadMemBarrier</i>
</td></tr>
<tr>
<td>Write memory barrier guarantees that all STORE operations that were issued before the barrier occur before the STORE operations that are issued after
</td>
<td><i>hplib_mWriteMemBarrier</i>
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="HPLIB_CACHE_APIs">HPLIB CACHE APIs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=21" title="Edit section: HPLIB CACHE APIs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The HPLIB provides a set of cache APIs which are required for non-cache coherent memory architectures. For coherent memory architectures, these cache primitives are not required as cache coherency functionality is handled by the hardware.  These cache APIs only work on memory which is allocated by the HPLIB kernel module.
</p><p><br />
</p><p>Brief API overview:
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>Used  to perform a cache writeback operation for a block of cached memory
</td>
<td><i>hplib_cacheWb</i>
</td></tr>
<tr>
<td>Used  to perform a cache invalidate operation
</td>
<td><i>hplib_cacheInv</i>
</td></tr>
<tr>
<td>Used to perform a cache writeback operation and invalidate for a block of cached memory
</td>
<td><i>hplib_cacheWbInv</i>
</td></tr>
<tr>
<td>Used to  perform a preload of memory into cache
</td>
<td><i>hplib_cachePrefetch</i>
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="HPLIB-_Virtual_Memory_APIs">HPLIB- Virtual Memory APIs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=22" title="Edit section: HPLIB- Virtual Memory APIs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The virtual memory APIs provide the following functionality:
</p><p><br />
</p>
<ul><li>Provide a mapping of the physical addresses of key transport SOC peripherals (CPPI, QM, etc) &#160;into the transport process virtual address space</li>
<li>Provide a&#160;mapping of the physical address of the contiguous blocks of&#160;memory that is to be used for descriptors and buffers into the transport process virtual address space.&#160; There is one primary area (typically the cached, CMA-allocated block from DDR) that is used to send and receive descriptors/buffers.&#160; Secondary areas can be mapped (e.g., un-cached MSMC) as well but these are restricted for use in PA-PA or PA-SA descriptor regions (i.e., are not processed by ARM user space directly).</li>
<li>Provide conversion routines to translate from virtual to physical and vice versa. &#160;One primary mapping conversion routine pair is available for buffers/descriptors handled by the ARM transport process.&#160;&#160; Conversion routines for the secondary areas are available but are expected to be used in initialization phases only.</li>
<li>Provide a memory allocation function for the contiguous blocks of memory used for descriptors and buffer</li>
<li>API to traverse a CPPI host/monolithic descriptor and perform  a virtual address to physical address translation on all address references in the descriptor</li>
<li>API utility to traverse a CPPI host/monolithic descriptor and perform a physical address to virtual address translation on all address references in the descriptor</li></ul>
<p><br />
</p><p><br />
</p><p>NOTE: Mapping is performed via dev/mem for most cases. Exceptions are QMSS Data Registers and DDR. These later two are mapped via HPLIB kernel module.
</p><p><br />
</p><p>Brief API overview:
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>API is used to allocate continuous block of cached memory via CMA and optionally un-cached memory if specified, maps virtual memory for peripheral registers
</td>
<td><i>hplib_vmInit</i>
</td></tr>
<tr>
<td>API is used to release/unmap continuous block of memory allocated via hplib_VM_MemorySetup function, remove mapping of virtual memory for peripherals
</td>
<td><i>hplib_vmTeardown</i>
</td></tr>
<tr>
<td>API is used to allocate memory from the specified pool id
</td>
<td><i>hplib_vmMemAlloc</i>
</td></tr>
<tr>
<td>API returns the free amount of buffer/descriptor area for the memory pool specified
</td>
<td><i>hplib_vmGetMemPoolRemainder</i>
</td></tr>
<tr>
<td>API is used to convert a physical address to a virtual address for physical address
</td>
<td><i>hplib_mVMPhyToVirt</i>
</td></tr>
<tr>
<td>API is used to convert a virtual address to a physical address for virtual address
</td>
<td><i>hplib_mVMVirtToPhy</i>
</td></tr>
<tr>
<td>API is used to convert a physical address to a virtual address for physical address  for specified memory pool ID
</td>
<td><i>hplib_mVMPhyToVirtPoolId</i>
</td></tr>
<tr>
<td>API is used to convert a virtual address to a physical address for virtual address  for specified memory pool ID
</td>
<td><i>hplib_mVMVirtToPhyPoolId</i>
</td></tr>
<tr>
<td>API is used to traverse a CPPI host/monolithic descriptor and perform a virtual address to physical address translation on all address references in the descriptor
</td>
<td><i>hplib_mVMConvertDescVirtToPhy</i>
</td></tr>
<tr>
<td>API is used to traverse a CPPI host/monolithic descriptor and perform a physical address to virtual address translation on all address references in the descriptor
</td>
<td><i>hplib_mVMConvertDescPhyToVirt</i>
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="HPLIB-_Utility_APIs">HPLIB- Utility APIs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=23" title="Edit section: HPLIB- Utility APIs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The HPLIB provides a set of utility APIs which provide the following functionality
</p>
<ul><li>API which returns a 64bit H/W timestamp by reading an H/W timer (TIMER64 on TCI6614 SOC, A15 timer on TCI6638) and returns a 64 bit time stamp.</li>
<li>API to read the current ARM PMU CCNT register( this counts CPU cycles)</li>
<li>Access to ARM PMU event counters to be used for profiling purpose</li></ul>
<p>Brief API overview:
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>API returns a 64bit H/W timestamp by reading a H/W timer
</td>
<td><i>hplib_mUtilGetTimestamp</i>
</td></tr>
<tr>
<td>API returns hardware timer clock ticks per second
</td>
<td><i>hplib_mUtilGetTicksPerSec</i>
</td></tr>
<tr>
<td>API is used to read the current ARM PMU CCNT register
</td>
<td><i>hplib_mUtilGetPmuCCNT</i>
</td></tr>
<tr>
<td>API read PMCx register
</td>
<td><i>hplib_mUtilReadPmuCounter</i>
</td></tr>
<tr>
<td>API is used to enable all four PMU event counters
</td>
<td><i>hplib_mUtilWritePmuEnableAllCounters</i>
</td></tr>
<tr>
<td>API is used to write PMNXSEL register, this tells which counter slot we are currently working with
</td>
<td><i>hplib_mUtilWritePmuSelectCntr</i>
</td></tr>
<tr>
<td>API is used to write EVTSEL register, indicate which event should be counted by the current counter slot
</td>
<td><i>hplib_mUtilWritePmuEventToCount</i>
</td></tr>
<tr>
<td>Program counter slot: slot to count event: event
<p><i>hplib_mUtilProgramPmuEvent</i>
</p>
</td></tr>
<tr>
<td>Read event counter in slot: slot
</td>
<td><i>hplib_mUtilReadPmuEvent</i>
</td></tr>
<tr>
<td>API is used to schedule the calling thread to run on the specified core as specified by the CPU set, enables user space access to ARM system timer and the core performance monitor unit (PMU).
</td>
<td><i>hplib_utilSetupThread</i>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="HPLIB-_OSAL_APIs">HPLIB- OSAL APIs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=24" title="Edit section: HPLIB- OSAL APIs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>HPLIB will implement a subset of LLD  OSAL APIs as “static inline” functions to avoid the overhead of function calls. Currently, these APIs will be provided for QMSS and CPPI LLDs and focus on API’s which get invoked in the data path, such as APIs which perform virtual to physical and physical virtual address translations for buffers and descriptors. In order to disable compilation of these APIs into the hplib library in case you want to include your own version of OSAL APIs, please pass the following compile time flag when building the TransportNetLib libraries: DISABLE_OSAL=yes. Refer to <a href="#Building_TransportNetLib_Binaries">#Building TransportNetLib Binaries</a> for build details.
</p><p><br />
</p>
<h3><span class="mw-headline" id="HPLIB-Shared_Memory_APIs">HPLIB-Shared Memory APIs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=25" title="Edit section: HPLIB-Shared Memory APIs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Provides APIs for managing shared memory segment.
</p><p>Brief API overview:
</p>
<table border="1" style="width: 75%; height: 212px" id="acronymtable">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Description</b>
</td>
<td bgcolor="#c0c0c0"><b>API</b>
</td></tr>
<tr>
<td>API to create a shared memory segment
</td>
<td><i>hplib_shmCreate</i>
</td></tr>
<tr>
<td>API open a shared memory segment
</td>
<td><i>hplib_shmOpen</i>
</td></tr>
<tr>
<td>API to delete a shared memory segment
</td>
<td><i>hplib_shmDelete</i>
</td></tr>
<tr>
<td>API to add entry to shared memory segment
</td>
<td><i>hplib_shmAddEntry</i>
</td></tr>
<tr>
<td>API to get entry to shared memory segment
</td>
<td><i>hplib_shmGetEntry</i>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="HPLIB_Kernel_Module">HPLIB Kernel Module</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=26" title="Edit section: HPLIB Kernel Module">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The kernel module,
</p><p>hplibmod.ko , provides several helper functions for the user space transport library.  These include:
</p>
<ul><li>Enabling the ARM performance monitoring unit (PMU) to be accessed from user space.  This lets the user space transport functions access the PMU registers (in ARM CP 15) directly without having to use kernel API or application such as OPROFILE.</li>
<li>Creates a proc file,  /proc/netapi, that can be read from user space  (e.g., cat /proc/hplib).  The act of reading this file performs the following:
<ul><li>Enabled PMU for user space (see above), and resets the PMU CCNT register</li>
<li>Prints the ARM CPU frequency</li></ul></li>
<li>The kernel module is responsible for obtaining a chunk of contiguous, cached memory for the user space transport library to use (from the Kernel Contiguous Memory Allocator â€“CMA).  This memory will store descriptors and packet buffers primarily. The amount of memory to allocate is configurable when the module is installed via insmod.  The default is 16 Mbytes.</li>
<li>The kernel module performs a custom mapping of the SOC Queue Manager Data Register space so that writes to hardware queues (Queue Push) can be made bufferable.  This improves performance of the Queue Push operation.</li>
<li>It creates a pseudo device /dev/hplib.  This pseudo device provides several functions related to memory management (such as cache operations) for user space transport. These are accessed through IOCTL commands to the device.  The complete set of user space commands are discussed below</li></ul>
<p><br />
</p><p>The kernel module memory management functions include:
</p>
<ul><li>IOCTL to return the physical address of the contiguous memory block that has been allocated for user space transport.</li>
<li>IOCTL to return the size of this block</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Additional_Data_path_Scenarios">Additional Data path Scenarios</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=27" title="Edit section: Additional Data path Scenarios">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="IPSEC_Operations">IPSEC Operations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=28" title="Edit section: IPSEC Operations">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Side_Band_Data_Operations">Side Band Data Operations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=29" title="Edit section: Side Band Data Operations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Sideband mode data operations are made through PKTIO channels created by NETAPI to send data to NETCP crypto and to receive crypto results. Refer <i>nwalDmTxPayloadInfo</i>_<i>t</i> and <i>nwalDmRxPayloadInfo</i>_<i>t  </i> for metadata associated with side band crypto operations
</p>
<h5><span id="Packet_Receive_(Decryption)"></span><span class="mw-headline" id="Packet_Receive_.28Decryption.29">Packet Receive (Decryption)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=30" title="Edit section: Packet Receive (Decryption)">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Since in the case of sideband mode for IPSec, there are no NETCP rules configured for IPSec following will be the sequence of packet flow when packet is received at ARM core:
</p>
<ul><li>Packet arrives as normal packet as shown with an <i>AppId</i> meta data tag indicating that a MAC rule or IP rule has matched (it is possible to set up a classifier to match specifically on ESP protocol as well, in which case the <i>AppId</i> would reflect the classifier match).</li>
<li>The Application is then required to figure out that this is an IPSec packet and identify security context to use.</li>
<li>Once the security context has been found, the packet must be sent to the PKTIO:  <i>NETCP_SB_TX</i> channel previously opened. The metadata <i>nwalDmTxPayloadInfo</i>_<i>t</i> associated with the packet must be set to tell the NETCP security accelerator component how to decrypt the packet.</li>
<li>After processing by the NETCP crypto hardware, the decrypted packet will arrive on the PKTIO channel for <i>NETCP_SB_RX</i>, and its associated callback (this channel must be in the list of channels polled obviously).  The decrypted and authenticated packet will have associated metadata that contains the <i>AppId</i> for the SA context that this packet belongs to.</li>
<li>The metadata will also include a pointer to the authentication tag and the length of the tag.  This tag would then be compared by software to the tag in the packet to authenticate the packet.</li></ul>
<center><a href="File_TNL_figure6.html" class="image" title="TNL_figure6.jpg"><img alt="TNL_figure6.jpg" src="https://processors.wiki.ti.com/images/0/0e/TNL_figure6.jpg" width="687" height="556" /></a></center>
<center><b>Figure 6: NETCP Offload functionality in Side band mode for RX packets</b></center>
<h5><span id="Sideband_Packet_Transmit_(Encryption)"></span><span class="mw-headline" id="Sideband_Packet_Transmit_.28Encryption.29">Sideband Packet Transmit (Encryption)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=31" title="Edit section: Sideband Packet Transmit (Encryption)">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>In order to encrypt and addition of the authentication tag for a packet during transmit, the sequence is similar to the receive steps.
</p>
<ul><li>The packet to be encrypted is sent to the PKTIO: <i>NETCP_SB_TX</i> channel.</li>
<li>The packet should be a fully formed IPSec packet.  The inner IP checksum (in the case of tunnel mode) and L4 checksums must be created by software prior to submitting to crypto.</li>
<li>The application must figure out which outbound SA to use and must attach the associated sideband handle to the packet metadata along with the offsets/lengths to the encrypted, authenticated areas.</li>
<li>As in the decryption case above, the results of the crypto operation (i.e., the encrypted packet plus authentication tag) are returned via the callback associated with the PKTIO: <i>NETCP_SB_RX</i> channel.  The <i>AppId</i> in the metadata will indicate which SA the resulting packet belongs to.   The tag pointed to by the metadata will need to be copied by software into the tag portion of the packet (byte reversal of each 4 byte word is required).</li></ul>
<p><br />
</p><p>The (encrypted) packet can then be transmitted to the network as in the case for normal packets.  The outer IP checksum can be still be offloaded to NETCP.
</p><p><br />
</p>
<center><a href="File_TNL_figure7.html" class="image" title="TNL_figure7.jpg"><img alt="TNL_figure7.jpg" src="https://processors.wiki.ti.com/images/2/24/TNL_figure7.jpg" width="680" height="510" /></a></center>
<center><b>Figure 7: NETCP Offload functionality in Side band mode for TX packets</b></center>
<h4><span class="mw-headline" id="In_band_Data_Operations">In band Data Operations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=32" title="Edit section: In band Data Operations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<h5><span id="Packet_Receive_(Decryption)_2"></span><span class="mw-headline" id="Packet_Receive_.28Decryption.29_2">Packet Receive (Decryption)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=33" title="Edit section: Packet Receive (Decryption)">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Received inflow packets are obtained from the callback registered with either the
</p>
<ul><li>Default PKTIO:<i>NETCP_RX </i>channel</li>
<li>PKTIO  channel registered with the SA during <i>netapi_secAddSA()</i> call</li>
<li>RX policy in <i>netapi_secAddRxSA().</i></li></ul>
<p><br />
</p><p>In any of these cases, the <i>AppId</i> in the metadata returned with the packet will indicate either the Id of the SA (if no policy was matched) or the ID of the policy if a policy is matched.  Application can use the <i>AppId</i> to determine if it can bypass s/w IPSec processing.  Inflow IPSec packets have been authenticated, decrypted and passed a window replay check,   and have possibly passed a policy check if so indicated. Figure 8 provides details of different steps involved in hardware and software while receiving an IPSec packet and NETCP being enabled for L2/L3/L4 classifications and hence requiring minimal host processing.
</p><p><br />
</p>
<center><a href="File_TNL_figure8.html" class="image" title="TNL_figure8.jpg"><img alt="TNL_figure8.jpg" src="https://processors.wiki.ti.com/images/6/62/TNL_figure8.jpg" width="666" height="519" /></a></center>
<center><b>Figure 8: NETCP Offload functionality in Inflow mode for RX packets</b></center>
<p><br />
</p>
<h5><span id="Packet_Transmit_(Encryption)"></span><span class="mw-headline" id="Packet_Transmit_.28Encryption.29">Packet Transmit (Encryption)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=34" title="Edit section: Packet Transmit (Encryption)">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Inflow packets are transmitted using the same PKTIO: <i>NETCP_TX</i> transmit channel as non-IPSec packets.  Some additional meta data needs to be added to the meta data structure before issuing the <i>pktio_send()</i> API to get NETCP to apply the crypto transforms specified in the SA.  The calling sequence is shown below for ESP tunnel mode. The steps include:
</p>
<ul><li>The entire IPSec packet must be pre-prepared.
<ul><li>The L4 checksum (if to be offloaded) must be set to 0</li>
<li>The inner IP checksum must be set to 0 if it is to be offloaded</li>
<li>The outer IP checksum must be computed by s/w</li>
<li>NETCP will fill in the IV and ESP sequence number</li>
<li>The ESP header SPI field must be field must be filled in.</li></ul></li>
<li>The inflow mode SA handle returned from <i>netapi_secAddSA()</i>must be added to the meta data structure,</li>
<li>The <i>txFlag1</i> field must have the bit <i>NWAL_TX_FLAG1_DO_IPSEC_CRYPTO</i> set.</li>
<li>The offset to the start of the ESP header (in bytes) must be set</li>
<li>The length of the ESP payload must be set. This is essentially the packet length (not including Ethernet checksum) minus the Ethernet header and outer IP header.</li></ul>
<p><br />
</p><p>Figure 8 provides breakdown of different steps for outgoing packets with hardware offload being enabled for IPSec packets.
</p><p><br />
</p>
<center><a href="File_TNL_figure9.html" class="image" title="TNL_figure9.jpg"><img alt="TNL_figure9.jpg" src="https://processors.wiki.ti.com/images/0/05/TNL_figure9.jpg" width="682" height="480" /></a></center>
<center><b>Figure 9: NETCP Offload functionality in Inflow mode for TX packets</b></center>
<p><br />
</p><p><br />
</p>
<center></center>
<h1><span class="mw-headline" id="TransportNetLib_Package">TransportNetLib Package</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=35" title="Edit section: TransportNetLib Package">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Build_Environment-Prerequite">Build Environment-Prerequite</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=36" title="Edit section: Build Environment-Prerequite">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The mcsdk_linux_3_00_00_10 and later releases provide an integrated linux-software development kit environment. This environment, once setup, can be used to compile TransportNetLib libraries and test applications.
</p><p>Steps to install Linux-Devkit:
</p>
<ul><li>cd   /ti/mcsdk_linux_3_00_00_X/linux-dev-kit</li>
<li>execute .</li></ul>
<p>/arago-2013.04-armv7a-linux-gnueabi-mcsdk-sdk-i686.sh * You will be prompted for a target directory where to install the devkit. Please note your installation path as this is required to update the TransportNetLib setup environment build script. Lets assume the devkit is installed in usr/local/arago-2013.04 (this is the default location) .
</p>
<h2><span class="mw-headline" id="Building_TransportNetLib_Binaries">Building TransportNetLib Binaries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=37" title="Edit section: Building TransportNetLib Binaries">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Transport-SDK software includes source code for Low Level software modules supporting ARM target. Following are the steps to build the TransportNetLib libraries and test applications delivered with TransportNetLib package.
</p><p><br />
</p><p><i><b>Steps to Build:</b></i>
</p>
<ul><li>Change directory to &lt;transport-net-lib-install-dir&gt;/packages.</li>
<li>Update the CROSS_TOOLS ENV variables in the TransportNetLib</li></ul>
<p>setupenv.sh file:
</p>
<ul><li><ul><li><b>export CROSS_TOOL_IINSTALL_PATH</b>= /data/hdcustom/linaro/gcc-linaro-arm-linux-gnueabihf-4.7-2013.03-20130313_linux/bin</li>
<li><b>export CROSS_TOOL_PRFX</b>=arm-linux-gnueabihf-</li></ul></li>
<li>Update the TransportNetLib</li></ul>
<p>setupenv.sh file which is located in the &lt;transport-net-lib-install-dir&gt;/packages directory to point to the linux-devkit installation path mentioned above.  Update the following ENV variables:
</p>
<ul><li><ul><li><b>export PDK_INSTALL_PATH</b>=/usr/local/arago-2013.04/sysroots/armv7ahf-vfp-neon-oe-linux-gnueabi/usr/include</li>
<li><b>export SA_INSTALL_PATH</b>=/usr/local/arago-2013.04/sysroots /armv7ahf-vfp-neon-oe-linux-gnueabi/usr/include</li>
<li><b>export PDK_ARMV7LIBDIR</b>=/usr/local/arago-2013.04/sysroots /armv7ahf-vfp-neon-oe-linux-gnueabi/usr/lib</li>
<li><b>export ARMV7SALIBDIR</b>=/usr/local/arago-2013.04/sysroots /armv7ahf-vfp-neon-oe-linux-gnueabi/usr/lib</li>
<li><b>export ARMV7LIBDIR</b>=/usr/local/arago-2013.04/sysroots /armv7ahf-vfp-neon-oe-linux-gnueabi/usr/lib</li></ul></li></ul>
<p><br />
</p>
<ul><li>Execute the script "source</li></ul>
<p>setupenv.sh " to set the environment
</p>
<ul><li>Build TransportNetLib libraries: make lib</li>
<li>The libraries will be located in the ARMV7LIBDIR (set to &lt;transport-net-lib-install-dir&gt; /lib/armv7/ by default in</li></ul>
<p>setupenv.sh )
</p>
<ul><li>Build TransportNetLib test application: make tests</li>
<li>The test application binaries  will be located in the ARMV7BINDIR (set to &lt;transport-net-lib-install-dir&gt; /bin/armv7/ by default in</li></ul>
<p>setupenv.sh )
</p>
<ul><li>Building TransportNetLib sample applications
<ul><li>To build ipsecmgr_daemon.out, change directory to &lt;transport-net-lib-install-dir&gt;/packages/ti/runtime/netapi/applications/ipsec_offload/ipsecmgr/build</li>
<li>Execute: make app</li>
<li>To build ipsecmgr_cmd_shell, change directory to &lt;transport-net-lib-install-dir&gt;/packages/ti/runtime/netapi/applications/ipsec_offload/config-app/build</li>
<li>Execute: make app</li></ul></li>
<li>The sample application binaries  will be located in the ARMV7BINDIR (set to &lt;transport-net-lib-install-dir&gt; /bin/armv7/ by default in</li></ul>
<p>setupenv.sh )
</p><p><br />
</p><p><br />
Notes:
</p><p>By default DEBUG_FLAG environment variable is set to disable the symbols. It could be modified in case of debugging
</p>
<h2><span class="mw-headline" id="Building_HPLIB_Kernel_Module">Building HPLIB Kernel Module</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=38" title="Edit section: Building HPLIB Kernel Module">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Prerequisite_for_this_step:">Prerequisite for this step:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=39" title="Edit section: Prerequisite for this step:">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>TransportNetLib kernel module,
</p><p><br />
hplibmod.ko , is required to perform certain setups to the base kernel. To re-build this module (if necessary):
</p>
<ul><li>Download the kernel and build according to &lt; mcsdk-install-dir &gt;/sc_mcsdk_bios_x_xx_xx_xx/docs/ SC-MCSDK_User_Guide. Assume the kernel is located in &lt;linux-keystone&gt; directory</li></ul>
<p><br /><b>Note</b>: Due to an issue with legacy drivers that expect a contiguous, <b>un-cached</b> DDR area for shared buffers, patches in the kernel that enable continguous, <b>cached</b> DDR that is (hw maintained) coherent with external DMA <i> may be disabled by default in some releases</i>. This results in a user space transport library that is functional but <a href="https://processors.wiki.ti.com/index.php?title=Not&amp;action=edit&amp;redlink=1" class="new" title="Not (page does not exist)">Not</a> performance optimized. To enable full performance for user space transport, the kernel must be rebuilt as shown below so that continguous, cached and DMA-coherent memory is available to user space.
</p><p>To rebuild Kernel with <i>CONTINGUOUS, CACHEABLE DMA-COHERENCY ENABLED</i>:
</p><p>1. Assumption is that linux-keystone git repo has been cloned and is present in linux-keystone directory
</p><p>2. From the linux-keystone directory, Execute: make keystone2_defconfig
</p><p>3. From the linux-keystone directory, Execute: make menuconfig.
</p>
<pre>  Navigate to System Type ---&gt;TI KeyStone Implementations and select MPAX based coherency support, exit and save configuration.
</pre>
<p>4. Exeucte: make uImage
</p><p>5. The resulting kernel image, uImage, can be found in the following directory: linux-keystone/arch/arm/boot
</p>
<h3><span id="Steps_To_Build_HPLIB_KERNEL_MODULE_(hplibmod.ko):"></span><span class="mw-headline" id="Steps_To_Build_HPLIB_KERNEL_MODULE_.28hplibmod.ko.29:">Steps To Build HPLIB KERNEL MODULE (hplibmod.ko):</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=40" title="Edit section: Steps To Build HPLIB KERNEL MODULE (hplibmod.ko):">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Go to &lt;transport-net-lib-install-dir&gt;/ packages/ti/runtime/hplib//module</li></ul>
<p>Modify environment variable KDIR to point to the location of kernel directory: Example:
</p>
<dl><dd><ul><li><i>export KDIR = &lt;linux-keystone&gt;</i></li></ul></dd></dl>
<p><i>OR</i>
</p>
<dl><dd><ul><li>Update the environment variable <i>KDIR</i> in the Makefile to point to the location of the kernel directory,</li></ul></dd></dl>
<ul><li><b>Run</b> make to produce the</li></ul>
<p>hplibmod.ko kernel module
</p><p><br />
</p>
<ul><li><b>Copy this to the root file system</b>
<ul><li>Make sure that this is insmoded after boot.</li></ul></li></ul>
<h2><span id="Build_IPSECMGR_KERNEL_MODULE_(ipsecmgr_mod.ko):"></span><span class="mw-headline" id="Build_IPSECMGR_KERNEL_MODULE_.28ipsecmgr_mod.ko.29:">Build IPSECMGR KERNEL MODULE (ipsecmgr_mod.ko):</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=41" title="Edit section: Build IPSECMGR KERNEL MODULE (ipsecmgr mod.ko):">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>Prerequisite: Clone the ipsecmgr.git repository from <a rel="nofollow" class="external free" href="http://arago-project.org/git/projects/ipsecmgr.git">http://arago-project.org/git/projects/ipsecmgr.git</a></li></ul>
<ul><li>In order to build the ipsecmgr.ko, update the variable in the Makefile in the ipsecmgr/src/module directory. The variable is “KDIR” and this will need to point to the location where the linux-keystone directory is installed(linux-keystone is the top level directory from where the kernel is built).</li></ul>
<ul><li>For example, if the linux-keystone is installed in directory under /home/temp/linux_keystone.Update the KDIR variable as follows:</li></ul>
<pre> KDIR&#160;?:: /home/temp/linux_keystone
</pre>
<p>Then to build the ipsecmgr_mod.ko, type “make”.
</p><p>The built ipsecmgr_mod.ko will be present in the ipsecmgr/src/module directory.
</p>
<ul><li>Note one thing that the ipsecmgr_module will “load” if it is built against the kernel build from the KDIR directory and that kernel is running on the EVM. In other words, kernel modules and linux kernels need to be in sync. If they are out of sync then the ipsecmgr kernel module may not load.</li></ul>
<p><br />
</p>
<h1><span class="mw-headline" id="Low_OverHead_Linux">Low OverHead Linux</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=42" title="Edit section: Low OverHead Linux">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Transport Library applications may be run in a mode of Linux, known as Low Overhead Linux (LOL), where a subset of &#160;the multi-core ARM15s present on Keystone2 SOCs are dedicated to just the application. The goal of this mode is to utilize these cores (referred to as fast path cores)&#160; as if they were bare metal, so that â€œnearlyâ€ 100% of the cycles are available to a specialized, performance-critical, application and not used in any other processing including kernel processing or IRQ processing.&#160;
</p><p>This can be achieved via the following mechanisms:
</p><p>1.&#160; CPU isolation- Isolate ARM15 cores to run particular threads only. The kernel boot line command parameter, <i>isolcpus</i>, can be used to isolate one or more ARM15 cores from general SMP balancing and kernel scheduling algorithms. For example, if you chose to set isolate ARM15 cores &#160;2,3 and 4 (referred to fast path cores)you can set the bootargs env parameter as follows:
</p><p><i>setenv bootargs "console=ttyS0,115200n8 rootwait=1 <b>isolcpus=2,3,4</b> rootfstype=nfs root=/dev/nfs rw nfsroot=158.218.103.132:/targetfs,v3,tcp,rsize=4096,wsize=4096 ip=dhcp" </i>
</p><p>2.&#160; SMP IRQ Affinity- When an interrupt arrives, the ARM15 core &#160;must stop what is currently doing and process the interrupt which at times can consume CPU cycles and too many interrupts can cause high system CPU usage, preventing performance critical user space applications from running efficiently. To avoid such a situation, we can assign certain IRQs to subset of ARM15 cores (referred to as slow path core), freeing up other cores to more efficiently run user space applications. For example, if we desire to set IRQ #98 smp_affinity to core 1, we would execute the following from the linux shell:
</p><p><i>/bin/echo 1 &gt; /proc/irq/98/smp_affinity</i>
</p><p>A shell script is being delivered as part of the root file system, /etc/netapi/irqset.sh, can be run to set the SMP IRQ affinity of all IRQs to a specific core. This is a basic script which loops through all off the IRQs in the /proc/irq directory and sets the smp_affinity to ARM15 core 1.
</p><p><br />
</p><p>The third component of utilizing LOL with the transport library is to assign worker threads to their own CPUs.&#160; The hplib function&#160; hplib_utilSetupThread (file ti/runtime/hplib/src/hplib_util.c)&#160; can be used for this purpose. For example, to assign thread ID 1 to a specific CPU set (e.g Core 3) one would invoke the API as follows:&#160;
</p><p>cpu_set_t cpu_set;
</p><p>CPU_ZERO( &amp;cpu_set);
</p><p>CPU_SET( 3, &amp;cpu_set);
</p><p>hplib_utilSetupThread(1, &amp;cpu_set);
</p><p>The net_test&#160; example programs have configuration via net_test_config file to control how threads are assigned to cores. Slow path threads (e.g., sp0 below) are control plain threads that will typically run on normally scheduled, non-isolated cores.  These are used for NETCP re-configuration, statistics, etc.. Fast path threads are threads which are solely doing packet processing (rx/tx) functions, i.e., running a fast path IP stack.  The following example from the net_test_config.txt shows how threads are mapped to specific cores (or CPU sets).
</p><p>sp0 = 1 0-0  /*slow path thread number 0 with id thread 1 being mapped to run solely on ARM CORE 0 */
</p><p>fp0 = 2 1-1  /* fast path thread number 0 with thread id 2 being mapped to run solely on ARM CORE 1 */
</p><p>fp1 = 3 2-3   /* fast path thread number 1 with thread id 3 being mapped to run solely on ARM COREs 2 or 3  [as Linux scheduler decides ]*/
</p>
<h1><span class="mw-headline" id="TransportNetLib_Test_Users_Guide">TransportNetLib Test Users Guide</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=43" title="Edit section: TransportNetLib Test Users Guide">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Please refer to <a href="TransportNetLib_TestUsersGuide.html" title="TransportNetLib TestUsersGuide"> TransportNetLib Test Users Guide</a> for an details about sample test applications being provide with this release.
</p><p><br />
</p>
<h1><span class="mw-headline" id="TransportNetLib_Sample_Applications">TransportNetLib Sample Applications</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=44" title="Edit section: TransportNetLib Sample Applications">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>The following two NETAPI samples application are provided starting with release 1.0.0.8.
</p>
<h2><span class="mw-headline" id="ipsecmgr_daemon">ipsecmgr_daemon</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=45" title="Edit section: ipsecmgr daemon">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This user space application executes on the ARM and is responsible for detecting IPSEC Security Association and Policy configuration from the Linux Kernel. Generating this  IPSEC configuration on the ARM/Linux can be done using either Strongwan or setkey user space utilities which can be used to add security association or security policy database entries in the kernel.
</p><p>Once the kernel detects these entries, they can be offloaded to NETCP (hardware) crypto for IPSEC packet processing using the command shell application described below.  This type of offload is known as inflow ipsec mode and its main characteristic is that IPSEC cryptography is performed on packets prior to their arrival to the Kernel interface driver (for ingress) or as the packet is being transmitted (egress).  This saves s/w cycles to perform the crypto function (or extra packet transfers in and out of the security accelerator in the sideband crypto offload case).
</p><p><b>Example:</b><br />
To get the sp_id required for the ipsecmgr_cmd_shell, enter the commands below on the daemon (example with k2h). Ensure that IPSEC is setup prior to these steps i.e with either Setkey or Strongswan.
</p><p>$ipsecmgr_daemon_k2h.out<br />
$ip -s xfrm policy | grep "dir in" | grep -v grep | awk '{print "offload_sp --sp_id " $6 " --shared"}'<br />
$ip -s xfrm policy | grep "dir out" | grep -v grep | awk '{print "offload_sp --sp_id " $6 " --shared"}'
</p><p>This will print out something like below. Note the 2 sp_ids for the next step.<br />
$offload_sp --sp_id 32 --shared<br />
$offload_sp --sp_id 25 --shared
</p>
<h2><span class="mw-headline" id="ipsecmgr_cmd_shell">ipsecmgr_cmd_shell</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=46" title="Edit section: ipsecmgr cmd shell">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This user space application executes on the ARM and is used for offloading IPSEC packet processing to NETCP for configured security associations/policies. For example to startng offloading IPSec Policy with security policy &lt;ID&gt; to NETCP, execute the following command from the command shell:
</p><p>IPSECMGR-CFG&gt; offload_sp –sp_id  &lt;ID&gt;--shared
</p><p>This command does the following:
</p>
<ul><li>communicates with the kernel to tell it that these associations/policies are to be offloaded</li>
<li>sets up NETCP security contexts for these associations</li>
<li>sets up NETCP classification rules to intercept ingress packets for the offloaded context and to send them to crypto accelerator before they are sent to the ARM</li></ul>
<p>To stop offloading IPSec Policy with security policy &lt;ID&gt; to NETCP, execute the following command from the command shell:
</p><p>IPSECMGR-CFG&gt; stop_offload –sp_id
</p><p><b>Example:</b><br />
</p>
<ul><li>Note the sp_ids from the previous step.</li></ul>
<p>$ipsecmgr_cmd_shell_k2h.out <br />
In the ipsecmgr shell type the following(IPSECMGR-CFG&gt;):  offload_sp --sp_id 32 --shared <br />
In the ipsecmgr shell type the following(IPSECMGR-CFG&gt;):  offload_sp --sp_id 25 --shared <br />
In the ipsecmgr shell type the following(IPSECMGR-CFG&gt;):  exit <br />
Run Iperf or run a ping across the connection. A tcpdump will show the IPSEC traffic.
</p>
<h2><span class="mw-headline" id="setup">setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit&amp;section=47" title="Edit section: setup">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Prior to running the 2 sample applications listed above, you will need to setup environment parameters as follows:
</p><p>Variable to specify the local unix socket name for IPC with IPSec daemon
</p>
<ul><li>export IPSECMGR_APP_SOCK_NAME="/etc/app_sock"</li></ul>
<p>Variable to specify the unix socket name of the IPSec daemon
</p>
<ul><li>export IPSECMGR_DAEMON_SOCK_NAME="/etc/ipsd_sock"</li></ul>
<p>Variable to specify the log file to be used by the ipsecmgr library
</p>
<ul><li>export IPSECMGR_LOG_FILE="/var/run/ipsecmgr_app.log"</li></ul>
<p>You will also need to insmod 2 provide kernel modules which can be located in the filesystem under the /lib/modules/&lt;KERNEL_VER&gt;/extras directory where KERNEL_VER can be found by typing "uname -r" from linux shell prompt.
</p>
<ul><li>insmod hplibmod.ko</li>
<li>insmod ipsecmgr_mod.ko</li></ul>
<p><br />
</p><p>The ipsec inflow mode requires some device tree configuration:<br />
Note: The device tree changes below aren't necessary if using the default TI MCSDK release images.
</p>
<ul><li>The receive flow numbers used by the Linux interfaces (netrx0, 1, ..) must be sequential</li>
<li>pktdma channels must be defined for the egress path, to send packets direct to SA on egress instead of to PDSP5 or QOS Shaper input queues. There will be one per interface that uses ipsec inflow-mode on egress.</li></ul>
<p>e.g.
</p><p><br />
</p><p>'''pktdma@2004000 {
 ..
         channels {
       ..
                                satx-0 { /* for inteface 0 */
					transmit;
					label = "satx-0";
					pool = "pool-net";
					submit-queue = &lt;0x286&gt;;
				};
                                satx-1 { /* for interface 1 */
					transmit;
					label = "satx-0";
					pool = "pool-net";
					submit-queue = &lt;0x286&gt;;
				};
                                ..''' <br />
</p>
<ul><li>an entry in the <b>netcp@2090000 {}</b> is required to enable inflow mode on egress:</li></ul>
<p><br />
</p><p><br />
</p><p>'''sa@20c0000 {
				label = "keystone-sa";
				multi-interface;
				interface-0;
				interface-1;
                                 .. /* all interfaces that will be using inflow-mode ipsec on egress */
				tx_queue_depth = &lt;0x20&gt;;
			};''' =Software Component Directory Structure=
</p><p>An overview of the software CSL/LLD component included in <a rel="nofollow" class="external text" href="http://focus.ti.com/docs/toolsw/folders/print/bioslinuxmcsdk.html">BIOSMCSDK</a> software is presented in below table.
</p><p><br />
</p>
<table border="1" style="width: 100%; height: 212px">

<tbody><tr>
<td width="375px;" bgcolor="#c0c0c0"><b>SOFTWARE COMPONENTS</b>
</td>
<td bgcolor="#c0c0c0"><b>DOCUMENTATION AND API DIRECTORY REFERENCES</b>
</td>
<td bgcolor="#c0c0c0"><b>DESCRIPTION</b>
</td></tr>
<tr>
<td>NETAPI/PKTIO
</td>
<td>&lt;TRANSPORT_NET_INSTALL_DIR&gt;/packages/ti/runtime/netapi/docs/doxygen/html
</td>
<td>API doxygen file
</td></tr>
<tr>
<td>
</td>
<td>&lt;TRANSPORT_NET_INSTALL_DIR&gt;/packages/ti/runtime/netapi/
</td>
<td>Top level directory for API header files
</td></tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>NWAL
</td>
<td>&lt; PDK_INSTALL_DIR &gt;/packages/ti/drv/nwal/docs/doxygen/html
</td>
<td>API doxygen file
</td></tr>
<tr>
<td>
</td>
<td>&lt; PDK_INSTALL_DIR &gt;/packages/ti/drv/nwal/
</td>
<td>Top level directory for API header files
</td></tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>HPLIB
</td>
<td>&lt; TRANSPORT_NET_INSTALL_DIR &gt;/packages/ti/runtime/hplib/docs/doxygen/html
</td>
<td>API doxygen file
</td></tr>
<tr>
<td>
</td>
<td>&lt; TRANSPORT_NET_INSTALL_DIR &gt;/packages/ti/runtime/hplib
</td>
<td>Top level directory for API header files
</td></tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>PKTLIB
</td>
<td>&lt; PDK_INSTALL_DIR &gt;/packages/ti/runtime/PKTLIB/docs/doxygen/html
</td>
<td>API doxygen file
</td></tr>
<tr>
<td>
</td>
<td>&lt; PDK_INSTALL_DIR&gt;/packages/ti/runtime/PKTLIB/
</td>
<td>Top level directory for API header files
</td></tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>PDK LLD packages
</td>
<td>&lt;PDK_INSTALL_DIR&gt;/packages/ti/drv/
<p><br />
[comp]/docs &gt;
</p>
</td>
<td>Documentation for all LLDs
</td></tr>
<tr>
<td>
</td>
<td>&lt;PDK_INSTALL_DIR&gt;/packages/ti/drv/
<p><br />
[comp]/ |
</p>
</td></tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>SA LLD
</td>
<td>&lt;packages/ti/drv/sa/docs/doxygen
<p><br />
/sa_lld_docs.ch m&gt;
</p>
</td>
<td>SA LLD API documentation
</td></tr>
<tr>
<td>
</td>
<td>&lt;packages/ti/drv/sa&gt;
</td>
<td>Top level directory for API header files for SA LLD
</td></tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td></tr></tbody></table>

<!-- 
NewPP limit report
Cached time: 20201130104529
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.180 seconds
Real time usage: 0.188 seconds
Preprocessor visited node count: 331/1000000
Preprocessor generated node count: 618/1000000
Post‐expand include size: 56/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 1078/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    1.569      1 Template:Note
100.00%    1.569      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:30166-0!canonical and timestamp 20201130104529 and revision id 198640
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>TransportNetLib UsersGuide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>TransportNetLib UsersGuide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>TransportNetLib UsersGuide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>TransportNetLib UsersGuide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>TransportNetLib UsersGuide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>TransportNetLib UsersGuide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>TransportNetLib UsersGuide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>TransportNetLib UsersGuide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>TransportNetLib UsersGuide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;oldid=198640">https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;oldid=198640</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=TransportNetLib+UsersGuide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="TransportNetLib_UsersGuide.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:TransportNetLib_UsersGuide&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="TransportNetLib_UsersGuide.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/TransportNetLib_UsersGuide.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/TransportNetLib_UsersGuide.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;oldid=198640" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=TransportNetLib_UsersGuide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 28 April 2015, at 13:58.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.180","walltime":"0.188","ppvisitednodes":{"value":331,"limit":1000000},"ppgeneratednodes":{"value":618,"limit":1000000},"postexpandincludesize":{"value":56,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":1078,"limit":5000000},"timingprofile":["100.00%    1.569      1 Template:Note","100.00%    1.569      1 -total"]},"cachereport":{"timestamp":"20201130104529","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":226});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/TransportNetLib_UsersGuide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 12:37:49 GMT -->
</html>
