<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Program_EVM_UG by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 11:09:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Program EVM UG - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Program_EVM_UG","wgTitle":"Program EVM UG","wgCurRevisionId":234072,"wgRevisionId":234072,"wgArticleId":31547,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Program_EVM_UG","wgRelevantArticleId":31547,"wgRequestId":"ee41240b90cfd6868c951540","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["sysop"],"wgRestrictionMove":["sysop"]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Program_EVM_UG rootpage-Program_EVM_UG skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Program EVM UG</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><b><big><big><span style="color:red"> Starting in v4.3, Processor SDK documentation is no longer hosted on processors wiki.</span></big></big></b> <br /><br />
Please bookmark the new links:
</p>
<ul><li>Linux, RT-Linux: <a rel="nofollow" class="external free" href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/index.html">http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/index.html</a></li>
<li>RTOS: <a rel="nofollow" class="external free" href="http://software-dl.ti.com/processor-sdk-rtos/esd/docs/latest/rtos/index.html">http://software-dl.ti.com/processor-sdk-rtos/esd/docs/latest/rtos/index.html</a></li>
<li>Android: <a rel="nofollow" class="external free" href="http://software-dl.ti.com/processor-sdk-android/esd/docs/latest/android/index.html">http://software-dl.ti.com/processor-sdk-android/esd/docs/latest/android/index.html</a></li></ul>
<p><br />
</p>
<div style="background-color: RGB(238,29,35); padding: 10px;">
<p><a href="File_Ti_stk_1c_rev_rgb_png.html" class="image" title="Ti stk 1c rev rgb png.png"><img alt="Ti stk 1c rev rgb png.png" src="https://processors.wiki.ti.com/images/3/39/Ti_stk_1c_rev_rgb_png.png" width="200" height="47" /></a> 
</p>
</div> 
<p><br />
</p><p><br />
</p>
<table class="FCK&#95;_ShowTableBorders" cellspacing="0" cellpadding="2" align="left" style="height: 35px; font-size: 125%;">

<tbody><tr>
<td valign="middle" align="center" bgcolor="#ffff99"><a href="Processor_SDK_Linux_Software_Developer%e2%80%99s_Guide.html" title="Processor SDK Linux Software Developer’s Guide">Linux Software Developer's Guide</a>
</td>
<td>→
</td>
<td valign="middle" align="center" bgcolor="#ffff99">Supported Platforms
</td></tr></tbody></table>
<p><br /><br />
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Files_Provided"><span class="tocnumber">2</span> <span class="toctext">Files Provided</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#MD5SUM_utility_used"><span class="tocnumber">3</span> <span class="toctext">MD5SUM utility used</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Device_Support"><span class="tocnumber">4</span> <span class="toctext">Device Support</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Directory_Structure"><span class="tocnumber">5</span> <span class="toctext">Directory Structure</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Programming_the_bin_files"><span class="tocnumber">6</span> <span class="toctext">Programming the bin files</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Verify_CCS_Connection"><span class="tocnumber">6.1</span> <span class="toctext">Verify CCS Connection</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Update_firmware_on_xd200_pod_for_USB3_Ports"><span class="tocnumber">6.1.1</span> <span class="toctext">Update firmware on xd200 pod for USB3 Ports</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Set_the_EVM_for_no-boot_mode"><span class="tocnumber">6.2</span> <span class="toctext">Set the EVM for no-boot mode</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#For_EVMK2H"><span class="tocnumber">6.2.1</span> <span class="toctext">For EVMK2H</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#For_EVMK2E"><span class="tocnumber">6.2.2</span> <span class="toctext">For EVMK2E</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#For_EVMK2L"><span class="tocnumber">6.2.3</span> <span class="toctext">For EVMK2L</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="#Set_the_Environment_Variables"><span class="tocnumber">6.3</span> <span class="toctext">Set the Environment Variables</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#DSS_Script_Arguments"><span class="tocnumber">6.4</span> <span class="toctext">DSS Script Arguments</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#General_Script_Usage"><span class="tocnumber">6.4.1</span> <span class="toctext">General Script Usage</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Formatting_the_NAND_Flash"><span class="tocnumber">6.4.2</span> <span class="toctext">Formatting the NAND Flash</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Executing_the_DSS_script_to_restore_factory_default_images"><span class="tocnumber">6.5</span> <span class="toctext">Executing the DSS script to restore factory default images</span></a>
<ul>
<li class="toclevel-3 tocsection-18"><a href="#Sample_DSS_Script_Output"><span class="tocnumber">6.5.1</span> <span class="toctext">Sample DSS Script Output</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Programming_the_bin_files_for_devices_without_DSP_core"><span class="tocnumber">7</span> <span class="toctext">Programming the bin files for devices without DSP core</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Set_up_TFTP_server_on_the_Linux_host_machine"><span class="tocnumber">7.1</span> <span class="toctext">Set up TFTP server on the Linux host machine</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Set_the_EVM_for_no-boot_mode_2"><span class="tocnumber">7.2</span> <span class="toctext">Set the EVM for no-boot mode</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Load_and_Run_U-Boot_on_keystone_EVMs_using_CCS"><span class="tocnumber">7.3</span> <span class="toctext">Load and Run U-Boot on keystone EVMs using CCS</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Configuration_for_TFTP_download"><span class="tocnumber">7.4</span> <span class="toctext">Configuration for TFTP download</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Restore_Factory_default_images"><span class="tocnumber">7.5</span> <span class="toctext">Restore Factory default images</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Reset_U-Boot_Environment_Variables"><span class="tocnumber">7.6</span> <span class="toctext">Reset U-Boot Environment Variables</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#Verification"><span class="tocnumber">8</span> <span class="toctext">Verification</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#Serial_Port_Setup"><span class="tocnumber">8.1</span> <span class="toctext">Serial Port Setup</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Verifying_NOR"><span class="tocnumber">8.2</span> <span class="toctext">Verifying NOR</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#EVMK2H.2C_EVMK2E.2C_EVMK2L"><span class="tocnumber">8.2.1</span> <span class="toctext">EVMK2H, EVMK2E, EVMK2L</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-30"><a href="#Verifying_NAND"><span class="tocnumber">8.3</span> <span class="toctext">Verifying NAND</span></a>
<ul>
<li class="toclevel-3 tocsection-31"><a href="#EVMK2H.2C_EVMK2E.2C_EVMK2L_2"><span class="tocnumber">8.3.1</span> <span class="toctext">EVMK2H, EVMK2E, EVMK2L</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-32"><a href="#Archived"><span class="tocnumber">9</span> <span class="toctext">Archived</span></a></li>
</ul>
</div>

<p><br />
</p>
<h2><span class="mw-headline" id="Overview">Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This release provides the images for the factory to program on the eeprom, nand and nor for EVMK2H, EVM2E, and EVMK2L. The mechanism only applies to the devices with DSP core, and won't work for devices without DSP, such as AM5K2E02 and AM5K2E04 devices.
</p><p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Files_Provided">Files Provided</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=2" title="Edit section: Files Provided">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The files used for programming the EVMs are provided under bin\program_evm\binaries\[evmk2h, evmk2e, evmk2l].
</p><p>First, create the following symbolic links of nor.bin and nand.bin.
</p><p>For EVMK2H:
</p>
<pre>  cd bin/program_evm/binaries/evmk2h/
  ln -sv ../../../../board-support/prebuilt-images/u-boot-spi-k2hk-evm.gph nor.bin
  ln -sv ../../../../filesystem/tisdk-server-rootfs-image-k2hk-evm.ubi nand.bin
</pre>
<p>For EVMK2E:
</p>
<pre>  cd bin/program_evm/binaries/evmk2e/
  ln -sv ../../../../board-support/prebuilt-images/u-boot-spi-k2e-evm.gph nor.bin
  ln -sv ../../../../filesystem/tisdk-server-rootfs-image-k2e-evm.ubi nand.bin
</pre>
<p>For EVMK2L:
</p>
<pre>  cd bin/program_evm/binaries/evmk2l/
  ln -sv ../../../../board-support/prebuilt-images/u-boot-spi-k2l-evm.gph nor.bin
  ln -sv ../../../../filesystem/tisdk-server-rootfs-image-k2l-evm.ubi nand.bin
</pre>
<table border="2" cellspacing="0" cellpadding="4" width="79%">
<tbody><tr>
<td><font color="#000080"><b>File Name</b></font></td>
<td><font color="#000080"><b>Description</b></font>
</td></tr>
<tr>
<td>nand.bin</td>
<td>Nand UBIFS image (symbolic link to tisdk-server-rootfs-image-[k2hk, k2e, k2l]-evm.ubi)
</td></tr>
<tr>
<td>nandwriter_evmk2h.out</td>
<td>Nand Writer DSP executable
</td></tr>
<tr>
<td>nand_writer_input.txt</td>
<td>nand image writer input file
</td></tr>
<tr>
<td>nor.bin</td>
<td>SPI NOR file for U-Boot (symbolic link to u-boot-spi-[k2hk, k2e, k2l]-evm.gph)
</td></tr>
<tr>
<td>norwriter_evmk2h.out</td>
<td>NOR image writer DSP executable
</td></tr>
<tr>
<td>nor_writer_input.txt</td>
<td>NOR image writer input file
</td></tr></tbody></table>
<p>Then, modify nor_writer_input.txt and nand_writer_input.txt to update the file name.
</p><p>nor_writer_input.txt:
</p>
<pre>  file_name  = nor.bin
</pre>
<p>nand_writer_input.txt:
</p>
<pre>  file_name  = nand.bin
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="MD5SUM_utility_used">MD5SUM utility used</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=3" title="Edit section: MD5SUM utility used">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Please use the md5sum utility from the following link:
<a rel="nofollow" class="external text" href="http://www.pc-tools.net/files/win32/freeware/md5sums-1.2.zip">http://www.pc-tools.net/files/win32/freeware/md5sums-1.2.zip</a>
<br />
</p>
<h2><span class="mw-headline" id="Device_Support">Device Support</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=4" title="Edit section: Device Support">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>EVMK2H in Little endian Mode.</li>
<li>EVMK2E in little endian mode</li>
<li>EVMK2L in little endian mode</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Directory_Structure">Directory Structure</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=5" title="Edit section: Directory Structure">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>The program_evm (top-level) directory is intended to hold the *DSS* script for the Code Composer Studio which programs the default images to NAND/NOR/EEPROM.</li></ul>
<ul><li>The binaries/evmxxx directory is intended to hold all the factory default images and the respective writers.</li></ul>
<ul><li>The configs/evmxxx directory is intended to hold the "CCS target configuration files". Use evmxxx-linuxhost.ccxml for linux.</li></ul>
<ul><li>The gel directory holds custom GEL files for the board. It also contains a README.txt for the gel file usage.</li></ul>
<ul><li>The logs directory is empty and will be used to store logs. Logs are automatically generated when using program_evm.js to flash evmxxx devices.</li></ul>
<pre style="font-size: 12pt;">├───program_evm
│   │   program_evm.js
│   │
│   ├───binaries
│   │   └───evmxxx
│   │           eepromwriter_evmxxx.out
│   │           eepromwriter_input.txt
│   │           eepromwriter_input50.txt
│   │           eepromwriter_input51.txt
│   │           nand.bin (symbolic link created as above)
│   │           nandwriter_evmxxx.out
│   │           nand_writer_input.txt
│   │           nor.bin (symbolic link created as above)
│   │           norwriter_evmxxx.out
│   │           nor_writer_input.txt
│   ├───configs
│   │   └───evmxxx
│   │           evmxxx.ccxml
│   │           evmxxx-linuxhost.ccxml
│   ├───gel
│   │           xtcievmk2x.gel
│   │           evmk2e.gel
│   │           tcievmk2l.gel
│   │           README.txt
│   └───logs (empty directory)
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Programming_the_bin_files">Programming the bin files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=6" title="Edit section: Programming the bin files">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section assumes you have installed Processor SDK 02.00.01 and above (which supports EVMK2H/EVMK2L/EVMK2E) and Code Composer Studio.
<br />
</p>
<h3><span class="mw-headline" id="Verify_CCS_Connection">Verify CCS Connection</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=7" title="Edit section: Verify CCS Connection">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>First, start CCS on linux host machine and configure the target configuration for the EVM (e.g., bin/program_evm/configs/evmk2h/evmk2h-linuxhost.ccxml). Then, launch the target configuration, and verify the connection to the ARM and DSP through JTAG.
</p><p>After the CCS connection is verified, disconnect the target connection, exit CCS and continue to <a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/index.php?title=Program_EVM_UG#Set_the_Environment_Variables">Set the Environment Variables</a>.
</p>
<h4><span class="mw-headline" id="Update_firmware_on_xd200_pod_for_USB3_Ports">Update firmware on xd200 pod for USB3 Ports</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=8" title="Edit section: Update firmware on xd200 pod for USB3 Ports">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><img alt="Note" src="https://processors.wiki.ti.com/images/b/b0/Light_bulb_icon.png" title="Note" width="18" height="25" /><b>Note:</b>  Please note that this section is needed only the CCS connection cannot be established successfully.
</p><p>When USB3 ports are used for the JTAG, the following error can be reported when testing the connection to the target.
</p>
<pre> ...
 This utility has selected a 560/2xx-class product.
 This utility will load the program 'xds2xxu.out'.
 E_RPCENV_IO_ERROR(-6) No connection
 Failed to open i/o connection (xds2xxu:0)
 ...
</pre>
<p>When this happens, it is required to update the firmware on the xd200 pod. This can be done on a PC which is able to communicate to the xd200 pod, and has CCS and the latest TI emulators package installed. Example:
</p>
<pre> cd ccsv6/ccs_base/common/uscif/xds2xx
 xds2xx_conf.exe update xds2xxu 0 xds200_firmware_v1006.bin
 xds2xx_conf.exe boot xds2xxu 0
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Set_the_EVM_for_no-boot_mode">Set the EVM for no-boot mode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=9" title="Edit section: Set the EVM for no-boot mode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="For_EVMK2H">For EVMK2H</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=10" title="Edit section: For EVMK2H">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Due to hardware NAND issue, EVM of certain revisions need to use alternative programming method:
</p>
<table border="2" cellspacing="0" cellpadding="4" width="44%">
<tbody><tr>
<td><b>EVM Revision </b></td>
<td><b>NAND Known Issue</b></td>
<td><b>Programming Method</b>
</td></tr>
<tr>
<td>Rev 3.0</td>
<td>Yes</td>
<td>Alternative U-Boot command
</td></tr>
<tr>
<td>Rev 2.0</td>
<td>Yes</td>
<td>Alternative U-Boot command
</td></tr>
<tr>
<td>Rev 1.x</td>
<td>No</td>
<td>Program_evm
</td></tr></tbody></table>
<p>For Rev 2.0 and 3.0 EVM using alternative U-Boot command to program NAND, please follow the steps below:<br />
Set the boot mode to SPI boot mode:
<a rel="nofollow" class="external text" href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/How_to_Guides_Hardware_Setup_with_CCS.html#evmk2h-hardware-setup-guide#SPI_Little_Endian_Boot_mode">Set_SPI_boot</a>
</p>
<pre>  1. Set up TFTP server
  2. copy filesystem/tisdk-server-rootfs-image-k2h-evm.ubi to tftp directory
  3. Have Ethernet cable connected to the EVM and verify the connection to the TFTP server
  4. Boot up the EVM to the U-boot prompt and type the following commands:
</pre>
<pre>     u-boot# setenv serverip &lt;TFTP server IP address&gt;
     u-boot# setenv tftp_root &lt;tftp directory&gt;
     u-boot# setenv addr_fs 0x82000000
     u-boot# nand erase.part ubifs
     u-boot# dhcp ${addr_fs} ${tftp_root}/tisdk-server-rootfs-image-k2h-evm.ubi
     u-boot# nand write ${addr_fs} ubifs ${filesize}
     u-boot# env default -f -a
     u-boot# setenv boot ubi
     u-boot# saveenv
</pre>
<p>Once it is completed, the EVM is ready to use.
</p><p>For Rev 1.0 EVM, make sure the EVM dip switches are set for no-boot mode and continue.
</p>
<table border="2" cellspacing="0" cellpadding="4" width="44%">
<tbody><tr>
<td><b>SWITCH </b></td>
<td><b>Pin1</b></td>
<td><b>Pin2</b></td>
<td><b>Pin3</b></td>
<td><b>Pin4</b>
</td></tr>
<tr>
<td>SW1</td>
<td><b>Off</b></td>
<td><b>Off</b></td>
<td><b>Off</b></td>
<td>On
</td></tr></tbody></table>
<p>See instruction here for K2H no boot mode for reference
<a rel="nofollow" class="external text" href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/How_to_Guides_Hardware_Setup_with_CCS.html#evmk2h-hardware-setup-guide#No_Boot.2FJTAG_DSP_Little_Endian_Boot_mode">K2H_Noboot</a>
</p><p><br />
</p>
<h4><span class="mw-headline" id="For_EVMK2E">For EVMK2E</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=11" title="Edit section: For EVMK2E">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Make sure the EVM dip switches are kept as below to put the board in no-boot mode, and continue.
</p>
<table border="2" cellspacing="0" cellpadding="4" width="44%">
<tbody><tr>
<td><b>SWITCH </b></td>
<td><b>Pin1</b></td>
<td><b>Pin2</b></td>
<td><b>Pin3</b></td>
<td><b>Pin4</b>
</td></tr>
<tr>
<td>SW1</td>
<td><b>On</b></td>
<td><b>On</b></td>
<td><b>On</b></td>
<td>On
</td></tr></tbody></table>
<p>See instruction here for K2E no boot mode for reference:
<a rel="nofollow" class="external text" href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/How_to_Guides_Hardware_Setup_with_CCS.html#evmk2e-hardware-setup-guide#No_Boot.2FJTAG_DSP_Little_Endian_Boot_mode">K2E_NoBoot</a>
</p><p><br />
</p>
<h4><span class="mw-headline" id="For_EVMK2L">For EVMK2L</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=12" title="Edit section: For EVMK2L">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Make sure the EVM dip switches are kept as below, and continue.
</p>
<table border="2" cellspacing="0" cellpadding="4" width="44%">
<tbody><tr>
<td><b>SWITCH </b></td>
<td><b>Pin1</b></td>
<td><b>Pin2</b></td>
<td><b>Pin3</b></td>
<td><b>Pin4</b>
</td></tr>
<tr>
<td>SW1</td>
<td><b>On</b></td>
<td><b>On</b></td>
<td><b>On</b></td>
<td>On
</td></tr></tbody></table>
<p>See instructions here for K2L no boot mode for reference:
<a rel="nofollow" class="external text" href="TCIEVMK2L_Hardware_Setup.html#No_Boot.2FJTAG_DSP_Little_Endian_Boot_mode">K2L_NoBoot</a>
</p><p><br />
</p>
<h3><span class="mw-headline" id="Set_the_Environment_Variables">Set the Environment Variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=13" title="Edit section: Set the Environment Variables">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Please make sure the below environment variables needs to be set. Otherwise there could be some unexpected behavior experienced.
</p><p>1. Set the<b> DSS_SCRIPT_DIR</b> environment variable (Mandatory) to your Code Composer Studio scripting bin directory. Example:
</p>
<pre> export DSS_SCRIPT_DIR=~/ti/ccsv6/ccs_base/scripting/bin
</pre>
<p>2. Set the<b> PROGRAM_EVM_TARGET_CONFIG_FILE </b>environment variable. Please provide the path for the ccxml file that is created for the EVM for the CCS. Example:
</p>
<pre> export PROGRAM_EVM_TARGET_CONFIG_FILE=configs/evmk2h/evmk2h-linuxhost.ccxml
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="DSS_Script_Arguments">DSS Script Arguments</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=14" title="Edit section: DSS Script Arguments">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="General_Script_Usage">General Script Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=15" title="Edit section: General Script Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Script Usage:<br />
</p>
<pre> cd bin/program_evm
 $DSS_SCRIPT_DIR/dss.sh program_evm.js evm(k2h|k2e|k2l)[-le] (nor|nand)
</pre>
<p><br />
<b>k2h:</b>TCI6638 device<br />
<b>k2e:</b>C66AK2E device<br />
<b>k2l:</b>TCI6630 device<br />
<b>-le (optional): </b>Little Endian (default) <br />
<b>-be (optional): </b>Big Endian<br />
<b>(nor|nand)</b>: choose from nor or nand
</p><p><br />
</p>
<h4><span class="mw-headline" id="Formatting_the_NAND_Flash">Formatting the NAND Flash</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=16" title="Edit section: Formatting the NAND Flash">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><img alt="Note" src="https://processors.wiki.ti.com/images/b/b0/Light_bulb_icon.png" title="Note" width="18" height="25" /><b>Note:</b>  Sometimes, NAND flash could be corrupted (e.g. EVM boots from UBI and does not gracefully shut down), NAND flash needs to be formatted before loading the program using program_evm utility.
</p><p>The program_evm supports formatting the NAND device as below. <br />
Linux:<br />
</p>
<pre>  cd bin/program_evm
  $DSS_SCRIPT_DIR/dss.sh program_evm.js evm(k2h|k2e|k2l)-le format-nand
</pre>
<p><span style="position: relative; top: -2px;"><img alt="Warning" src="https://processors.wiki.ti.com/images/c/cb/Warning.png" title="Warning" width="18" height="15" /></span> <b>Warning</b>:  Please note that this would erase all the nand blocks.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Executing_the_DSS_script_to_restore_factory_default_images">Executing the DSS script to restore factory default images</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=17" title="Edit section: Executing the DSS script to restore factory default images">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>1. cd  "bin/program_evm" directory<br />
2. Set the necessary environment variables as described under <a rel="nofollow" class="external text" href="Program_EVM_UG.html#Set_the_Environment_Variables">Set the Environment Variable</a>.<br />
3. Run the "program_evm.js" script command from program_evm directory.<br />
<br />
<b>Example:</b><br />
</p>
<pre>cd bin/program_evm
$DSS_SCRIPT_DIR/dss.sh program_evm.js evmk2h-le nor
</pre>
<p>This will write all the little endian images to K2H EVM.<br />
</p><p><br />
</p>
<h4><span class="mw-headline" id="Sample_DSS_Script_Output">Sample DSS Script Output</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=18" title="Edit section: Sample DSS Script Output">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The sample output after running the DSS Script is as below.<br />
</p><p><img alt="Note" src="https://processors.wiki.ti.com/images/b/b0/Light_bulb_icon.png" title="Note" width="18" height="25" /><b>Note:</b>  The loading of nand.bin can take up to a few minutes depending on the image size.
</p>
<pre style="font-style: italic; font-size: 11pt">bin/program_evm$ $DSS_SCRIPT_DIR/dss.sh program_evm.js evmk2h nor
board: evmk2h
endian: Little
emulation: XDS2xx emulator
binaries: /home/user/ti-processor-sdk-linux-k2hk-evm-02.00.01.07/bin/program_evm/binaries/evmk2h/
ccxml: configs/evmk2h/evmk2h-linuxhost.ccxml
C66xx_0: GEL Output:
Connecting Target...

C66xx_0: GEL Output: TCI6638K2K GEL file Ver is 1.3

C66xx_0: GEL Output: Detected PLL bypass disabled: SECCTL[BYPASS] = 0x00000000

C66xx_0: GEL Output: (3a) PLLCTL = 0x00000040

C66xx_0: GEL Output: (3b) PLLCTL = 0x00000040

C66xx_0: GEL Output: (3c) Delay...

C66xx_0: GEL Output: (4)PLLM[PLLM] = 0x0000000F

C66xx_0: GEL Output: MAINPLLCTL0 = 0x07000000

C66xx_0: GEL Output: (5) MAINPLLCTL0 = 0x07000000

C66xx_0: GEL Output: (5) MAINPLLCTL1 = 0x00000040

C66xx_0: GEL Output: (6) MAINPLLCTL0 = 0x07000000

C66xx_0: GEL Output: (7) SECCTL = 0x00090000

C66xx_0: GEL Output: (8a) Delay...

C66xx_0: GEL Output: PLL1_DIV3 = 0x00008002

C66xx_0: GEL Output: PLL1_DIV4 = 0x00008004

C66xx_0: GEL Output: PLL1_DIV7 = 0x00000000

C66xx_0: GEL Output: (8d/e) Delay...

C66xx_0: GEL Output: (10) Delay...

C66xx_0: GEL Output: (12) Delay...

C66xx_0: GEL Output: (13) SECCTL = 0x00090000

C66xx_0: GEL Output: (Delay...

C66xx_0: GEL Output: (Delay...

C66xx_0: GEL Output: (14) PLLCTL = 0x00000041

C66xx_0: GEL Output: PLL has been configured (CLKIN * PLLM / PLLD / PLLOD = PLLOUT):

C66xx_0: GEL Output: PLL has been configured (122.88 MHz * 16 / 1 / 2 = 983.04 MHz)

C66xx_0: GEL Output: Power on all PSC modules and DSP domains...

C66xx_0: GEL Output: Power on all PSC modules and DSP domains... Done.

C66xx_0: GEL Output: WARNING: SYSCLK is the input to the PA PLL.

C66xx_0: GEL Output: Completed PA PLL Setup

C66xx_0: GEL Output: PAPLLCTL0 - before: 0x0x07080400    after: 0x0x07080400

C66xx_0: GEL Output: PAPLLCTL1 - before: 0x0x00002040    after: 0x0x00002040

C66xx_0: GEL Output: DDR begin

C66xx_0: GEL Output: XMC setup complete.

C66xx_0: GEL Output: DDR3 PLL (PLL2) Setup ...

C66xx_0: GEL Output: DDR3 PLL Setup complete, DDR3A clock now running at 666 MHz.

C66xx_0: GEL Output: DDR3A initialization complete

C66xx_0: GEL Output: DDR3 PLL Setup ...

C66xx_0: GEL Output: DDR3 PLL Setup complete, DDR3B clock now running at 800MHz.

C66xx_0: GEL Output: DDR3B initialization complete

C66xx_0: GEL Output: DDR done

Writer:/home/user/ti-processor-sdk-linux-k2hk-evm-02.00.01.07/bin/program_evm/binaries/evmk2h/norwriter_evmk2h.out

NOR:/home/user/ti-processor-sdk-linux-k2hk-evm-02.00.01.07/bin/program_evm/binaries/evmk2h/nor.bin

Start loading nor.bin
Start programming NOR
2016_01_7_174332
NOR Writer Utility Version 01.00.00.04

Flashing sector 0 (0 bytes of 458752)
Flashing sector 1 (65536 bytes of 458752)
Flashing sector 2 (131072 bytes of 458752)
Flashing sector 3 (196608 bytes of 458752)
Flashing sector 4 (262144 bytes of 458752)
Flashing sector 5 (327680 bytes of 458752)
Flashing sector 6 (393216 bytes of 458752)
Reading and verifying sector 0 (0 bytes of 458752)
Reading and verifying sector 1 (65536 bytes of 458752)
Reading and verifying sector 2 (131072 bytes of 458752)
Reading and verifying sector 3 (196608 bytes of 458752)
Reading and verifying sector 4 (262144 bytes of 458752)
Reading and verifying sector 5 (327680 bytes of 458752)
Reading and verifying sector 6 (393216 bytes of 458752)
NOR programming completed successfully
End programming NOR
</pre>
<p><img alt="Note" src="https://processors.wiki.ti.com/images/b/b0/Light_bulb_icon.png" title="Note" width="18" height="25" /><b>Note:</b>  For EVMs without Security Accelerator components, PSC errors will show up due to a known issue in GEL file. The PSC errors can be ignored and are not fatal. The program EVM will proceed and complete successfully.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Programming_the_bin_files_for_devices_without_DSP_core">Programming the bin files for devices without DSP core</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=19" title="Edit section: Programming the bin files for devices without DSP core">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section describes how to program the bin files to either NOR or NAND on the devices without DSP core (AM5K2E02 and AM5K2E04). The installation of Processor SDK and Code Composer Studio is required.
<br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="Set_up_TFTP_server_on_the_Linux_host_machine">Set up TFTP server on the Linux host machine</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=20" title="Edit section: Set up TFTP server on the Linux host machine">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Eable the TFTP server service on the Linux host machine, and copy u-boot-{platform].gph and isdk-server-rootfs-image-{platform].ubi from ProSDK installed directory to the tftp server directory. The files are located in board-support/prebuilt-images and filesystem directory respectively.
</p><p>Have the Ethernet connection between the EVM and TFTP Server.
<br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="Set_the_EVM_for_no-boot_mode_2">Set the EVM for no-boot mode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=21" title="Edit section: Set the EVM for no-boot mode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Follow the instruction in previous section to set the dip switch of the EVM in no-boot mode
<br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="Load_and_Run_U-Boot_on_keystone_EVMs_using_CCS">Load and Run U-Boot on keystone EVMs using CCS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=22" title="Edit section: Load and Run U-Boot on keystone EVMs using CCS">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Follow the instructions in {Proc_SDK_Install_Dir}/board-support/u-boot-{Version}/board/ti/ks2_evm/README to run u-boot using CCS
<br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="Configuration_for_TFTP_download">Configuration for TFTP download</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=23" title="Edit section: Configuration for TFTP download">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Interrupt the boot process when running u-boot using CCS. In the u-boot prompt console, configure the u-boot environment variables for TFTP download
</p>
<pre> # setenv serverip &lt;TFTP_SERVER_IP&gt;
 # setenv tftp_root &lt;TFTP_SERVER_DOWNLOAD_DIR&gt;
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Restore_Factory_default_images">Restore Factory default images</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=24" title="Edit section: Restore Factory default images">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To restore the u-boot image in NOR:
</p>
<pre>  # run get_uboot_net
  # run burn_uboot_spi
</pre>
<p>To restore the combined kernel and fileystem UBI image in NAND:
</p>
<pre>  # run get_ubi_net
  # run burn_ubi
</pre>
<p><br />
<img alt="Note" src="https://processors.wiki.ti.com/images/b/b0/Light_bulb_icon.png" title="Note" width="18" height="25" /><b>Note:</b>  When programming UBI image to NAND, be sure the UBI image size is enough to fit in NAND memory.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Reset_U-Boot_Environment_Variables">Reset U-Boot Environment Variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=25" title="Edit section: Reset U-Boot Environment Variables">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Reset U-Boot environment variables if U-Boot version has been changed
</p>
<pre>  # env default -f -a
  # saveenv
</pre>
<p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Verification">Verification</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=26" title="Edit section: Verification">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Serial_Port_Setup">Serial Port Setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=27" title="Edit section: Serial Port Setup">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Connect the RS232 Serial cable provided in the box to the serial port of the Host PC. If Host is running Windows OS, start tera term and configure the serial port settings as follows.<br />
<a href="File_Tera_Term_Connect.html" class="image"><img alt="Tera Term Connect.jpg" src="https://processors.wiki.ti.com/images/b/b0/Tera_Term_Connect.jpg" width="386" height="318" /></a>
</p>
<h3><span class="mw-headline" id="Verifying_NOR">Verifying NOR</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=28" title="Edit section: Verifying NOR">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span id="EVMK2H,_EVMK2E,_EVMK2L"></span><span class="mw-headline" id="EVMK2H.2C_EVMK2E.2C_EVMK2L">EVMK2H, EVMK2E, EVMK2L</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=29" title="Edit section: EVMK2H, EVMK2E, EVMK2L">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>1. Set the dip switches as below to set SPI boot mode
</p>
<table border="2" cellspacing="0" cellpadding="4" width="44%">
<tbody><tr>
<td><b>SWITCH </b></td>
<td><b>Pin1</b></td>
<td><b>Pin2</b></td>
<td><b>Pin3</b></td>
<td><b>Pin4</b>
</td></tr>
<tr>
<td>SW1</td>
<td><b>Off</b></td>
<td><b>Off</b></td>
<td>On</td>
<td><b>Off</b>
</td></tr></tbody></table>
<p>2. Power Cycle the board.<br />
3. Make sure the evm is connected to the DHCP server.<br />
4. U-Boot will show up on the UART. A sample screen is shown below.<br />
<a href="File_Spl-boot.j.html" class="image"><img alt="Spl-boot.j.jpg" src="https://processors.wiki.ti.com/images/d/de/Spl-boot.j.jpg" width="790" height="346" /></a>
</p>
<h3><span class="mw-headline" id="Verifying_NAND">Verifying NAND</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=30" title="Edit section: Verifying NAND">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span id="EVMK2H,_EVMK2E,_EVMK2L_2"></span><span class="mw-headline" id="EVMK2H.2C_EVMK2E.2C_EVMK2L_2">EVMK2H, EVMK2E, EVMK2L</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=31" title="Edit section: EVMK2H, EVMK2E, EVMK2L">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>NOR(U-Boot) must be flashed prior to performing any of the steps below.
</p><p>For EVMK2H, EVMK2E &amp; EVMK2L it is necessary to reformat the NAND Flash prior to burning the image. Example command to do this:
</p>
<pre>%DSS_SCRIPT_DIR%\dss.sh program_evm.js evmk2h format-nand
</pre>
<p><b>After entering the command, burn the NAND and perform the steps below to verify.</b>
</p><p>1. Set the dip switches as below to set SPI boot mode<br />
</p>
<table border="2" cellspacing="0" cellpadding="4" width="44%">
<tbody><tr>
<td><b>SWITCH </b></td>
<td><b>Pin1</b></td>
<td><b>Pin2</b></td>
<td><b>Pin3</b></td>
<td><b>Pin4</b>
</td></tr>
<tr>
<td>SW1</td>
<td><b>Off</b></td>
<td><b>Off</b></td>
<td>On</td>
<td><b>Off</b>
</td></tr></tbody></table>
<p>2. Power Cycle the board. U-Boot will show up on the UART.<br />
3. Type the following commands into U-Boot:
</p>
<pre>env default –f –a
setenv boot ubi
boot
</pre>
<p>4. A sample screen is shown below.<br />
<a href="File_Kernel_Boot.html" class="image"><img alt="Kernel Boot.jpg" src="https://processors.wiki.ti.com/images/e/ee/Kernel_Boot.jpg" width="662" height="302" /></a>
</p><p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Archived">Archived</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit&amp;section=32" title="Edit section: Archived">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;oldid=188354">MCSDK 3.01.04.07</a> <br />
</p>
<!-- 
NewPP limit report
Cached time: 20201130162619
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.093 seconds
Real time usage: 0.099 seconds
Preprocessor visited node count: 206/1000000
Preprocessor generated node count: 411/1000000
Post‐expand include size: 729/2097152 bytes
Template argument size: 19/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4461/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    6.774      1 -total
 25.35%    1.717      1 Template:Warning
 23.49%    1.591      1 Template:Processor_SDK_Linux_Banner
 23.09%    1.564      5 Template:Note
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:31547-0!canonical and timestamp 20201130162619 and revision id 234072
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Program EVM UG</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Program EVM UG</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>Program EVM UG</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>Program EVM UG</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>Program EVM UG</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Program EVM UG</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Program EVM UG</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>Program EVM UG</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>Program EVM UG</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;oldid=234072">https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;oldid=234072</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Program+EVM+UG" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Program_EVM_UG.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:Program_EVM_UG&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Program_EVM_UG.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Program_EVM_UG.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Program_EVM_UG.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;oldid=234072" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Program_EVM_UG&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 17 April 2018, at 16:10.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.093","walltime":"0.099","ppvisitednodes":{"value":206,"limit":1000000},"ppgeneratednodes":{"value":411,"limit":1000000},"postexpandincludesize":{"value":729,"limit":2097152},"templateargumentsize":{"value":19,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":4461,"limit":5000000},"timingprofile":["100.00%    6.774      1 -total"," 25.35%    1.717      1 Template:Warning"," 23.49%    1.591      1 Template:Processor_SDK_Linux_Banner"," 23.09%    1.564      5 Template:Note"]},"cachereport":{"timestamp":"20201130162619","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":230});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Program_EVM_UG by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 11:09:11 GMT -->
</html>
