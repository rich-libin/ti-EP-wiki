<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Linux_Core_Power_Management_User%27s_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 10:02:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Linux Core Power Management User's Guide (v4.4) - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Linux_Core_Power_Management_User's_Guide_(v4.4)","wgTitle":"Linux Core Power Management User's Guide (v4.4)","wgCurRevisionId":234160,"wgRevisionId":234160,"wgArticleId":43408,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Linux_Core_Power_Management_User's_Guide_(v4.4)","wgRelevantArticleId":43408,"wgRequestId":"ed4dd9d4029afb6a9a7b888e","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["sysop"],"wgRestrictionMove":["sysop"],"wgRedirectedFrom":"Linux_Core_Power_Management_User's_Guide","wgInternalRedirectTargetUrl":"/index.php/Linux_Core_Power_Management_User%27s_Guide_(v4.4)"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.action.view.redirect","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="canonical" href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/index.html"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Linux_Core_Power_Management_User_s_Guide_v4_4 rootpage-Linux_Core_Power_Management_User_s_Guide_v4_4 skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Linux Core Power Management User's Guide (v4.4)</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"><span class="mw-redirectedfrom">(Redirected from <a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide&amp;redirect=no" class="mw-redirect" title="Linux Core Power Management User&#039;s Guide">Linux Core Power Management User&#039;s Guide</a>)</span></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Power_Management_Introduction"><span class="tocnumber">1</span> <span class="toctext">Power Management Introduction</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Dynamic_Power_Management_Techniques"><span class="tocnumber">1.1</span> <span class="toctext">Dynamic Power Management Techniques</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Dynamic_Voltage_and_Frequency_Scaling.28MPU_aka_CPUFREQ.29"><span class="tocnumber">1.1.1</span> <span class="toctext">Dynamic Voltage and Frequency Scaling(MPU aka CPUFREQ)</span></a>
<ul>
<li class="toclevel-4 tocsection-4"><a href="#Release_applicable"><span class="tocnumber">1.1.1.1</span> <span class="toctext">Release applicable</span></a></li>
<li class="toclevel-4 tocsection-5"><a href="#Supported_Devices"><span class="tocnumber">1.1.1.2</span> <span class="toctext">Supported Devices</span></a></li>
<li class="toclevel-4 tocsection-6"><a href="#Driver_Features"><span class="tocnumber">1.1.1.3</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-4 tocsection-7"><a href="#Source_Location"><span class="tocnumber">1.1.1.4</span> <span class="toctext">Source Location</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="#Kernel_Configuration_Options"><span class="tocnumber">1.1.1.5</span> <span class="toctext">Kernel Configuration Options</span></a></li>
<li class="toclevel-4 tocsection-9"><a href="#DT_Configuration"><span class="tocnumber">1.1.1.6</span> <span class="toctext">DT Configuration</span></a></li>
<li class="toclevel-4 tocsection-10"><a href="#Driver_Usage"><span class="tocnumber">1.1.1.7</span> <span class="toctext">Driver Usage</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-11"><a href="#Operating_Points"><span class="tocnumber">1.1.2</span> <span class="toctext">Operating Points</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#CPUIdle"><span class="tocnumber">1.1.3</span> <span class="toctext">CPUIdle</span></a>
<ul>
<li class="toclevel-4 tocsection-13"><a href="#Release_applicable_2"><span class="tocnumber">1.1.3.1</span> <span class="toctext">Release applicable</span></a></li>
<li class="toclevel-4 tocsection-14"><a href="#Supported_Devices_2"><span class="tocnumber">1.1.3.2</span> <span class="toctext">Supported Devices</span></a></li>
<li class="toclevel-4 tocsection-15"><a href="#Driver_Features_2"><span class="tocnumber">1.1.3.3</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-4 tocsection-16"><a href="#Source_Location_2"><span class="tocnumber">1.1.3.4</span> <span class="toctext">Source Location</span></a></li>
<li class="toclevel-4 tocsection-17"><a href="#Kernel_Configuration_Options_2"><span class="tocnumber">1.1.3.5</span> <span class="toctext">Kernel Configuration Options</span></a></li>
<li class="toclevel-4 tocsection-18"><a href="#DT_Configuration_2"><span class="tocnumber">1.1.3.6</span> <span class="toctext">DT Configuration</span></a></li>
<li class="toclevel-4 tocsection-19"><a href="#Driver_Usage_2"><span class="tocnumber">1.1.3.7</span> <span class="toctext">Driver Usage</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-20"><a href="#Smartreflex"><span class="tocnumber">1.1.4</span> <span class="toctext">Smartreflex</span></a>
<ul>
<li class="toclevel-4 tocsection-21"><a href="#Source_Location_3"><span class="tocnumber">1.1.4.1</span> <span class="toctext">Source Location</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="#Idle_Power_Management_Techniques"><span class="tocnumber">1.2</span> <span class="toctext">Idle Power Management Techniques</span></a>
<ul>
<li class="toclevel-3 tocsection-23"><a href="#Suspend.2FResume_Support"><span class="tocnumber">1.2.1</span> <span class="toctext">Suspend/Resume Support</span></a>
<ul>
<li class="toclevel-4 tocsection-24"><a href="#Release_applicable_3"><span class="tocnumber">1.2.1.1</span> <span class="toctext">Release applicable</span></a></li>
<li class="toclevel-4 tocsection-25"><a href="#Supported_Devices_3"><span class="tocnumber">1.2.1.2</span> <span class="toctext">Supported Devices</span></a></li>
<li class="toclevel-4 tocsection-26"><a href="#Driver_Features_3"><span class="tocnumber">1.2.1.3</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-4 tocsection-27"><a href="#Source_Location_4"><span class="tocnumber">1.2.1.4</span> <span class="toctext">Source Location</span></a></li>
<li class="toclevel-4 tocsection-28"><a href="#Kernel_Configuration_Options_3"><span class="tocnumber">1.2.1.5</span> <span class="toctext">Kernel Configuration Options</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="#Power_Management_Usage"><span class="tocnumber">2</span> <span class="toctext">Power Management Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="#Common_Power_Management"><span class="tocnumber">2.1</span> <span class="toctext">Common Power Management</span></a>
<ul>
<li class="toclevel-3 tocsection-31"><a href="#IO_Pad_Configuration"><span class="tocnumber">2.1.1</span> <span class="toctext">IO Pad Configuration</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-32"><a href="#Power_Management_on_AM335_and_AM437"><span class="tocnumber">2.2</span> <span class="toctext">Power Management on AM335 and AM437</span></a>
<ul>
<li class="toclevel-3 tocsection-33"><a href="#CM3_Firmware"><span class="tocnumber">2.2.1</span> <span class="toctext">CM3 Firmware</span></a>
<ul>
<li class="toclevel-4 tocsection-34"><a href="#CM3_Firmware_Linux_Kernel_Interface"><span class="tocnumber">2.2.1.1</span> <span class="toctext">CM3 Firmware Linux Kernel Interface</span></a></li>
<li class="toclevel-4 tocsection-35"><a href="#wkup_m3_rproc_Driver"><span class="tocnumber">2.2.1.2</span> <span class="toctext">wkup_m3_rproc Driver</span></a>
<ul>
<li class="toclevel-5 tocsection-36"><a href="#Driver_Features_4"><span class="tocnumber">2.2.1.2.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-5 tocsection-37"><a href="#Source_Location_5"><span class="tocnumber">2.2.1.2.2</span> <span class="toctext">Source Location</span></a></li>
</ul>
</li>
<li class="toclevel-4 tocsection-38"><a href="#wkup_m3_ipc_Driver"><span class="tocnumber">2.2.1.3</span> <span class="toctext">wkup_m3_ipc Driver</span></a>
<ul>
<li class="toclevel-5 tocsection-39"><a href="#Driver_Features_5"><span class="tocnumber">2.2.1.3.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-5 tocsection-40"><a href="#Source_Location_6"><span class="tocnumber">2.2.1.3.2</span> <span class="toctext">Source Location</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-3 tocsection-41"><a href="#Suspend.2FResume"><span class="tocnumber">2.2.2</span> <span class="toctext">Suspend/Resume</span></a>
<ul>
<li class="toclevel-4 tocsection-42"><a href="#Debugging_Techniques"><span class="tocnumber">2.2.2.1</span> <span class="toctext">Debugging Techniques</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-43"><a href="#RTC-Only_and_RTC.2BDDR_Mode"><span class="tocnumber">2.2.3</span> <span class="toctext">RTC-Only and RTC+DDR Mode</span></a>
<ul>
<li class="toclevel-4 tocsection-44"><a href="#RTC.2BDDR_Mode"><span class="tocnumber">2.2.3.1</span> <span class="toctext">RTC+DDR Mode</span></a></li>
<li class="toclevel-4 tocsection-45"><a href="#RTC-Only_Mode"><span class="tocnumber">2.2.3.2</span> <span class="toctext">RTC-Only Mode</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-46"><a href="#DDR3_VTT_Regulator_Toggling"><span class="tocnumber">2.2.4</span> <span class="toctext">DDR3 VTT Regulator Toggling</span></a>
<ul>
<li class="toclevel-4 tocsection-47"><a href="#GPIO0_Toggling"><span class="tocnumber">2.2.4.1</span> <span class="toctext">GPIO0 Toggling</span></a></li>
<li class="toclevel-4 tocsection-48"><a href="#IO_Isolation_Control"><span class="tocnumber">2.2.4.2</span> <span class="toctext">IO Isolation Control</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-49"><a href="#Deep_Sleep_Voltage_Scaling"><span class="tocnumber">2.2.5</span> <span class="toctext">Deep Sleep Voltage Scaling</span></a>
<ul>
<li class="toclevel-4 tocsection-50"><a href="#Binary_Data_Format"><span class="tocnumber">2.2.5.1</span> <span class="toctext">Binary Data Format</span></a></li>
<li class="toclevel-4 tocsection-51"><a href="#Simple_Example"><span class="tocnumber">2.2.5.2</span> <span class="toctext">Simple Example</span></a></li>
<li class="toclevel-4 tocsection-52"><a href="#Advanced_Example"><span class="tocnumber">2.2.5.3</span> <span class="toctext">Advanced Example</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-53"><a href="#Power_Management_on_DRA7_platform"><span class="tocnumber">2.3</span> <span class="toctext">Power Management on DRA7 platform</span></a>
<ul>
<li class="toclevel-3 tocsection-54"><a href="#DVFS"><span class="tocnumber">2.3.1</span> <span class="toctext">DVFS</span></a></li>
<li class="toclevel-3 tocsection-55"><a href="#SmartReflex_2"><span class="tocnumber">2.3.2</span> <span class="toctext">SmartReflex</span></a></li>
<li class="toclevel-3 tocsection-56"><a href="#Idle_Power_Management"><span class="tocnumber">2.3.3</span> <span class="toctext">Idle Power Management</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Power_Management_Introduction">Power Management Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=1" title="Edit section: Power Management Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Power management is a wide reaching topic and reducing the power a system uses is handled by a number of drivers and techniques. Power Management can broadly be classified into two categories: Dynamic/Active Power management and Idle Power Management. This page covers power topics for the v4.4 Linux kernel. This the most recent version. A full history of this guide can be found at <a href="Linux_Core_Power_Management_User%27s_Guide_History.html" title="Linux Core Power Management User&#39;s Guide History">Linux Core Power Management User's Guide History</a>.
</p>
<h2><span class="mw-headline" id="Dynamic_Power_Management_Techniques">Dynamic Power Management Techniques</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=2" title="Edit section: Dynamic Power Management Techniques">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Dynamic or active Power management techniques reduce the active power consumption by an SoC when the system is active and performing tasks.
</p>
<ol><li>DVFS</li>
<li>CPUIdle</li>
<li>Smartreflex</li></ol>
<h3><span id="Dynamic_Voltage_and_Frequency_Scaling(MPU_aka_CPUFREQ)"></span><span class="mw-headline" id="Dynamic_Voltage_and_Frequency_Scaling.28MPU_aka_CPUFREQ.29">Dynamic Voltage and Frequency Scaling(MPU aka CPUFREQ)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=3" title="Edit section: Dynamic Voltage and Frequency Scaling(MPU aka CPUFREQ)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Dynamic voltage and frequency scaling, or DVFS as it is commonly known, is the ability of a part to modify both the voltage and frequency it operates at based on need, user preference, or other factors. MPU DVFS is supported in the kernel by the cpufreq driver. All supported SoCs use the generic cpufreq-cpu0 driver.
</p><p>Design: OPP is a pair of voltage frequency value. When scaling from High OPP to Low OPP Frequency is reduced first and then the voltage.
When scaling from a lower OPP to Higher OPP we scale the voltage first and then the frequency.
</p>
<h4><span class="mw-headline" id="Release_applicable">Release applicable</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=4" title="Edit section: Release applicable">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Latest release this documentation applies to is Kernel v4.4
</p>
<h4><span class="mw-headline" id="Supported_Devices">Supported Devices</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=5" title="Edit section: Supported Devices">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li>DRA7xx</li>
<li>J6</li>
<li>AM57x</li>
<li>AM437x</li>
<li>AM335x</li></ul>
<p><br />
</p>
<h4><span class="mw-headline" id="Driver_Features">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=6" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Dynamic voltage and frequency scaling, or DVFS as it is commonly known, is the ability of a part to modify both the voltage and frequency it operates at based on need, user preference, or other factors.  MPU DVFS is supported in the kernel by the cpufreq driver. All supported SoCs use the generic cpufreq-cpu0 driver. The frequency at which the MPU operates is selected by a driver called a governor. Each governor has a different strategy for selecting the most appropriate frequency. The following governors are available within the kernel:
</p>
<ul><li><b>ondemand</b>: This governor samples the load of the cpu and scales it up aggressively in order to provide the proper amount of processing power.</li>
<li><b>conservative</b>: This governor is similar to ondemand but uses a less aggressive method of increasing the the OPP of the MPU.</li>
<li><b>performance</b>: This governor statically sets the OPP of the MPU to the highest possible frequency.</li>
<li><b>powersave</b>: This governor statically sets the OPP of the MPU to the lowest possible frequency.</li>
<li><b>userspace</b>: This governor allows the user to set the desired OPP using any value found within scaling_available_frequencies by echoing it into scaling_setspeed.</li></ul>
<p>More in depth documentation about each governor can be found in the linux kernel documentation here: <a rel="nofollow" class="external free" href="https://www.kernel.org/doc/Documentation/cpu-freq/governors.txt">https://www.kernel.org/doc/Documentation/cpu-freq/governors.txt</a>
</p><p>By default, cpufreq, the cpufreq-cpu0 driver, and all of the standard governors are enabled with the ondemand governor selected as the default governor. To make changes, follow the instructions below.
</p>
<h4><span class="mw-headline" id="Source_Location">Source Location</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=7" title="Edit section: Source Location">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>drivers/cpufreq/ti-cpufreq.c
drivers/cpufreq/cpufreq-dt.c
</p><p>TI cpufreq driver uses efuse information to scale the OPP data based on silicon characteristics. The OPP data itself is used by the cpufreq DT driver to scale voltages based on frequency changes for the CPU.
</p>
<h4><span class="mw-headline" id="Kernel_Configuration_Options">Kernel Configuration Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=8" title="Edit section: Kernel Configuration Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The driver can be built into the kernel as a static module, dynamic module, or both.
</p><p>$ make menuconfig
</p><p>Select CPU Power Management from the main menu.
</p>
<pre>   ...
   ...
   Boot options ---&gt;
   CPU Power Management ---&gt;
   Floating point emulation ---&gt;
   ...
</pre>
<p>Select CPU Frequency Scaling as shown here:
</p>
<pre>   ...
   ...
       CPU Frequency Scaling ---&gt;
   [*] CPU idle PM support
   ...
</pre>
<p>All relevant options are listed below:
</p>
<pre>    [*] CPU Frequency scaling                                 
    &lt;*&gt;   CPU frequency translation statistics                
    [*]     CPU frequency translation statistics details      
          Default CPUFreq governor (userspace)  ---&gt;          
    &lt;*&gt;   'performance' governor                              
    &lt;*&gt;   'powersave' governor                                
    -*-   'userspace' governor for userspace frequency scaling
    &lt;*&gt;   'ondemand' cpufreq policy governor                  
    &lt;*&gt;   'conservative' cpufreq governor                     
          *** CPU frequency scaling drivers ***               
    &lt;M&gt;   Generic DT based cpufreq driver                     
    <b>&lt;M&gt;   Generic DT based cpufreq driver using clk notifiers </b>
    &lt;*&gt;    Texas Instruments CPUFreq support
   ...
</pre>
<h4><span class="mw-headline" id="DT_Configuration">DT Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=9" title="Edit section: DT Configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The clock information and the operating-points table need to be added as given in the example below. The voltage source needs to be hooked to the cpu0 node. As given below cpu0-supply needs to be mapped to the right regulator node by looking at the schematics.
</p>
<pre>/* From arch/arm/boot/dts/am4372.dtsi */ 

cpus {
        #address-cells = &lt;1&gt;;
        #size-cells = &lt;0&gt;;
        cpu: cpu@0 {
                compatible = "arm,cortex-a9";
                enable-method = "ti,am4372";
                device_type = "cpu";
                reg = &lt;0&gt;;

                clocks = &lt;&amp;dpll_mpu_ck&gt;;
                clock-names = "cpu";

                operating-points-v2 = &lt;&amp;cpu0_opp_table&gt;;
                ti,syscon-efuse = &lt;&amp;scm_conf 0x610 0x3f 0&gt;;
                ti,syscon-rev = &lt;&amp;scm_conf 0x600&gt;;

                clock-latency = &lt;300000&gt;; /* From omap-cpufreq driver */
        };
};

/* From arch/arm/boot/dts/am437x-gp-evm.dts */ 

&amp;cpu {
        cpu0-supply = &lt;&amp;dcdc2&gt;;
};

</pre>
<p>The <code>operating-points</code> table has been introduced instead of arch/arm/mach-omap2/oppXXXX_data.c files for each platform that define OPPs for each silicon revision. More information can be found in the <a href="#Operating_Points">Operating Points</a> section.
</p>
<h4><span class="mw-headline" id="Driver_Usage">Driver Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=10" title="Edit section: Driver Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>All of the standard governors are built-in to the kernel, and by default the ondemand governor is selected.
</p><p>To view available governors,
</p>
<pre>$ cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors
conservative userspace powersave ondemand performance
</pre>
<p>To view current governor,
</p>
<pre>$ cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
ondemand
</pre>
<p>To set a governor,
</p>
<pre>$ echo userspace &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
</pre>
<p>To view current OPP (frequency in kHz)
</p>
<pre>$ cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq
720000
</pre>
<p>To view supported OPP's (frequency in kHz),
</p>
<pre>$ cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
275000 500000 600000 720000
</pre>
<p>To change OPP (can be done only for userspace governor. If governors like ondemand is used, OPP change happens automatically based on the system load)
</p>
<pre>$ echo 275000 &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Operating_Points">Operating Points</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=11" title="Edit section: Operating Points">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The OPP platform data defined in arch/arm/mach-omap2/oppXXXX_data.c has been replaced by the TI cpufreq driver OPP modification code and the OPP tables in the DT files. These files allow defining of a different set of OPPs for each different SoC, and also selective, automatic enabling based on what is detected to be supported by the specific SoC in use.
</p>
<pre>/* From arch/arm/boot/dts/am4372.dtsi */

cpu0_opp_table: opp_table0 {
        compatible = "operating-points-v2";

        opp50@300000000 {
                opp-hz = /bits/ 64 &lt;300000000&gt;;
                opp-microvolt = &lt;950000 931000 969000&gt;;
                opp-supported-hw = &lt;0xFF 0x01&gt;;
                opp-suspend;
        };

        opp100@600000000 {
                opp-hz = /bits/ 64 &lt;600000000&gt;;
                opp-microvolt = &lt;1100000 1078000 1122000&gt;;
                opp-supported-hw = &lt;0xFF 0x04&gt;;
        };

        opp120@720000000 {
                opp-hz = /bits/ 64 &lt;720000000&gt;;
                opp-microvolt = &lt;1200000 1176000 1224000&gt;;
                opp-supported-hw = &lt;0xFF 0x08&gt;;
        };

        oppturbo@800000000 {
                opp-hz = /bits/ 64 &lt;800000000&gt;;
                opp-microvolt = &lt;1260000 1234800 1285200&gt;;
                opp-supported-hw = &lt;0xFF 0x10&gt;;
        };

        oppnitro@1000000000 {
                opp-hz = /bits/ 64 &lt;1000000000&gt;;
                opp-microvolt = &lt;1325000 1298500 1351500&gt;;
                opp-supported-hw = &lt;0xFF 0x20&gt;;
        };
};
</pre>
<p>To implement Dynamic Frequency Scaling (DFS), the voltages in the table can be changed to the same fixed value to avoid any voltage scaling from taking place if the system has been designed to use a single voltage.
</p>
<h3><span class="mw-headline" id="CPUIdle">CPUIdle</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=12" title="Edit section: CPUIdle">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The cpuidle framework consists of two key components:
</p><p>A governor that decides the target C-state of the system.
A driver that implements the functions to transition to target C-state.
The idle loop is executed when the Linux scheduler has no thread to run. When the idle loop is executed, current 'governor' is called to decide the target C-state. Governor decides whether to continue in current state/ transition to a different state. Current 'driver' is called to transition to the selected state.
</p>
<h4><span class="mw-headline" id="Release_applicable_2">Release applicable</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=13" title="Edit section: Release applicable">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Latest release this documentation applies to is Kernel v4.4
</p><p><br />
</p>
<h4><span class="mw-headline" id="Supported_Devices_2">Supported Devices</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=14" title="Edit section: Supported Devices">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li>AM335x</li>
<li>AM437x</li></ul>
<h4><span class="mw-headline" id="Driver_Features_2">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=15" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>AM335x supports two different C-states
</p>
<ul><li>MPU WFI</li>
<li>MPU WFI + Clockdomain gating</li></ul>
<p>AM437x supports two different C-states
</p>
<ul><li>MPU WFI</li>
<li>MPU WFI + Clockdomain gating</li></ul>
<p><br />
</p>
<h4><span class="mw-headline" id="Source_Location_2">Source Location</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=16" title="Edit section: Source Location">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>arch/arm/mach-omap2/pm33xx-core.c
drivers/soc/ti/pm33xx.c
drivers/cpuidle/cpuidle-arm.c
</pre>
<h4><span class="mw-headline" id="Kernel_Configuration_Options_2">Kernel Configuration Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=17" title="Edit section: Kernel Configuration Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The driver can be built into the kernel as a static module.
</p><p>$ make menuconfig
</p><p>Select CPU Power Management from the main menu.
</p>
<pre>   ...
   ...
   Boot options ---&gt;
   CPU Power Management ---&gt;
   Floating point emulation ---&gt;
   ...
</pre>
<p>Select CPU Idle as shown here:
</p>
<pre>   ...
   ...
       CPU Frequency Scaling ---&gt;
       CPU Idle ---&gt;
   ...
</pre>
<p>All relevant options are listed below:
</p>
<pre>       [*] CPU idle PM support
       [ ]   Support multiple cpuidle drivers
       [*]   Ladder governor (for periodic timer tick)
       -*-   Menu governor (for tickless system)
             ARM CPU Idle Drivers  ----
</pre>
<p><br />
</p>
<h4><span class="mw-headline" id="DT_Configuration_2">DT Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=18" title="Edit section: DT Configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>cpus {
        cpu: cpu0 {
                compatible = "arm,cortex-a9";
                enable-method = "ti,am4372";
                device-type = "cpu";
                reg = &lt;0&gt;;

                cpu-idle-states = &lt;&amp;mpu_gate&gt;;
        };

        idle-states {
                compatible = "arm,idle-state";
                entry-latency-us = &lt;40&gt;;
                exit-latency-us = &lt;100&gt;;
                min-residency-us = &lt;300&gt;;
                local-timer-stop;
        };
};
</pre>
<h4><span class="mw-headline" id="Driver_Usage_2">Driver Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=19" title="Edit section: Driver Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>CPUIdle requires no intervention by the user for it to work, it just works transparently in the background. By default the ladder governor is selected.
</p><p>It is possible to get statistics about the different C-states during runtime, such as how long each state is occupied.
</p>
<pre># ls -l /sys/devices/system/cpu/cpu0/cpuidle/state0/
-r--r--r--    1 root     root         4096 Jan  1 00:02 desc
-r--r--r--    1 root     root         4096 Jan  1 00:02 latency
-r--r--r--    1 root     root         4096 Jan  1 00:02 name
-r--r--r--    1 root     root         4096 Jan  1 00:02 power
-r--r--r--    1 root     root         4096 Jan  1 00:02 time
-r--r--r--    1 root     root         4096 Jan  1 00:02 usage
# ls -l /sys/devices/system/cpu/cpu0/cpuidle/state1/
-r--r--r--    1 root     root         4096 Jan  1 00:05 desc
-r--r--r--    1 root     root         4096 Jan  1 00:05 latency
-r--r--r--    1 root     root         4096 Jan  1 00:03 name
-r--r--r--    1 root     root         4096 Jan  1 00:05 power
-r--r--r--    1 root     root         4096 Jan  1 00:05 time
-r--r--r--    1 root     root         4096 Jan  1 00:02 usage
</pre>
<h3><span class="mw-headline" id="Smartreflex">Smartreflex</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=20" title="Edit section: Smartreflex">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Adaptive Voltage Scaling(AVS) is an active PM Technique and is based on the silicon type. SmartReflex is currently only supported on DRA7 and AM57 platforms, so more detail can be found under the section specific to those SoCs here: <a href="#SmartReflex_2">DRA7 and AM57 SmartReflex</a>.
</p>
<h4><span class="mw-headline" id="Source_Location_3">Source Location</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=21" title="Edit section: Source Location">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>   drivers/cpufreq/ti-cpufreq.c
</pre>
<h2><span class="mw-headline" id="Idle_Power_Management_Techniques">Idle Power Management Techniques</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=22" title="Edit section: Idle Power Management Techniques">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This ensures the system is drawing minimum power when in idle state i.e no use-case is running. This is accomplished by turning off as many peripherals as that are not in use.
</p>
<h3><span id="Suspend/Resume_Support"></span><span class="mw-headline" id="Suspend.2FResume_Support">Suspend/Resume Support</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=23" title="Edit section: Suspend/Resume Support">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The user can deliberately force the system to low power state. There are various levels: Suspend to memory(RAM), Suspend to disk, etc. Certains parts support different levels of idle, such as DeepSleep0 or standby, which allow additional wake-up sources to be used with less wake latency at the expense of less power savings.
</p>
<h4><span class="mw-headline" id="Release_applicable_3">Release applicable</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=24" title="Edit section: Release applicable">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Latest release this documentation applies to is Kernel v4.4.
</p>
<h4><span class="mw-headline" id="Supported_Devices_3">Supported Devices</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=25" title="Edit section: Supported Devices">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li>DRA7xx</li>
<li>J6</li>
<li>AM57x</li>
<li>AM437x</li>
<li>AM335x</li></ul>
<h4><span class="mw-headline" id="Driver_Features_3">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=26" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>This is dependent on which device is in use. More information can be found in the device specific usage sections below.
</p>
<h4><span class="mw-headline" id="Source_Location_4">Source Location</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=27" title="Edit section: Source Location">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The files that provide suspend/resume differ from part to part however they generally reside in arch/arm/mach-omap2/pm****.c for the higher-level code and arch/arm/mach-omap2/sleep****.S for the lower-level code.
</p>
<h4><span class="mw-headline" id="Kernel_Configuration_Options_3">Kernel Configuration Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=28" title="Edit section: Kernel Configuration Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Suspend/resume can be enable or disabled within the kernel using the same method for all parts. To configure suspend/resume, enter the kernel configuration tool using:
</p>
<pre>    $ make menuconfig
</pre>
<p>Select <i>Power management options</i> from the main menu.
</p>
<pre>    ...
    ...
    Kernel Features  ---&gt;
    Boot options  ---&gt;
    CPU Power Management  ---&gt;
    Floating point emulation  ---&gt;
    Userspace binary formats  ---&gt;
    <b>Power management options  ---&gt;</b>
    [*] Networking support  ---&gt;
    Device Drivers  ---&gt;
    ...
    ...
</pre>
<p>Select <i>Suspend to RAM and standby</i> to toggle the power management support.
</p>
<pre>    <b>[*] Suspend to RAM and standby</b>
    -*- Run-time PM core functionality
    ...
    &lt; &gt; Advanced Power Management Emulation
</pre>
<p>And then build the kernel as usual.
</p><p><br />
</p>
<h1><span class="mw-headline" id="Power_Management_Usage">Power Management Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=29" title="Edit section: Power Management Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Although the techniques and concepts involved with power management are common across many platforms, the actual implementation and usage of each differ from part to part. The following sections cover the specifics of using the aforementioned power management techniques for each part that is supported by this release.
</p>
<h2><span class="mw-headline" id="Common_Power_Management">Common Power Management</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=30" title="Edit section: Common Power Management">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="IO_Pad_Configuration">IO Pad Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=31" title="Edit section: IO Pad Configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In order to optimize power on the I/O supply rails, each pin can be given a "sleep" configuration in addition to it's run-time configuration. This can be handled with the pinctrl states defined in the board device tree for each peripheral. These values are used to configure the PAD_CONF registers found in the control module of the device which allow for selection of the MUXMODE of the pin and the operation of the internal pull resistor. Typically a device defines it's pinctrl state for normal operation:
</p>
<pre>davinci_mdio_default: davinci_mdio_default {
        pinctrl-single,pins = &lt;
                /* MDIO */
                0x148 (PIN_INPUT_PULLUP | SLEWCTRL_FAST | MUX_MODE0)    /* mdio_data.mdio_data */
                0x14c (PIN_OUTPUT_PULLUP | MUX_MODE0)                   /* mdio_clk.mdio_clk */
        &gt;;
};
</pre>
<p>In order to define a sleep state for the same device, another pinctrl state can be defined:
</p>
<pre>davinci_mdio_sleep: davinci_mdio_sleep {
        pinctrl-single,pins = &lt;
                /* MDIO reset value */
                0x148 (PIN_INPUT_PULLDOWN | MUX_MODE7)
                0x14c (PIN_INPUT_PULLDOWN | MUX_MODE7)
        &gt;;
};
</pre>
<p>The driver then defines the sleep state in addition to the default state:
</p>
<pre>&amp;davinci_mdio {
        pinctrl-names = "default", "sleep";
        pinctrl-0 = &lt;&amp;davinci_mdio_default&gt;;
        pinctrl-1 = &lt;&amp;davinci_mdio_sleep&gt;;
        ...
</pre>
<p>Although the driver core handles selection of the default state during the initial probe of the driver, some extra work may be needed within the driver to make sure the sleep state is selected during suspend and the default state is re-selected at resume time. This is accomplished by placing calls to <code>pinctrl_pm_select_sleep_state</code> at the end of the suspend handler of the driver and <code>pinctrl_pm_select_default_state</code> at the start of the resume handler. These functions will not cause failure if the driver cannot find a sleep state so even with them added the sleep state is still default. Some drivers rely on the default configuration of the pins without any need for a default pinctrl entry to be set but if a sleep state is added a default state must be added as well in order for the resume path to be able to properly reconfigure the pins. Most TI drivers included with the 3.12 release already have this done.
</p><p>The required pinctrl states will differ from board to board; configuration of each pin is dependent on the specific use of the pin and what it is connected to. Generally the most desirable configuration is to have an internal pull-down and GPIO mode set which gives minimal leakage. However, in a case where there are external pull-ups connected to the line (like for I2C lines) it makes more sense to disable the pull on the pin. The pins are supplied by several different rails which are described in the data manual for the part in use. By measuring current draw on each of these rails during suspend it may be possible to fine tune the pin configuration for maximum power savings. The AM335x EVM has pinctrl sleep states defined for its peripheral and serves as a good example.
</p><p>Even pins that are not in use and not connected to anything can still leak some power so it is important to consider these pins as well when implementing the pad configuration. This can be accomplished by defining a pinctrl state for unused pins and then assigning it directly the the pinctrl node itself in the board device tree so the state is configured during boot even though there is no specific driver for these pins:
</p>
<pre>&amp;am43xx_pinmux {
         pinctrl-names = "default";
         pinctrl-0 = &lt;&amp;unused_wireless&gt;;
         ...
         unused_pins: unused_pins {
                 pinctrl-single,pins = &lt;
                        0x80    (PIN_INPUT_PULLDOWN | MUX_MODE7) /* gpmc_csn1.mmc1_clk */
                        ...
</pre>
<h2><span class="mw-headline" id="Power_Management_on_AM335_and_AM437">Power Management on AM335 and AM437</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=32" title="Edit section: Power Management on AM335 and AM437">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Because of the high level of overlap of power management techniques between the two parts, AM335 and AM437 are covered in the same section. The power management features enabled on AM335x are as follows:
</p>
<ul><li>Suspend/Resume
<ul><li>DeepSleep0 is supported with mem power state</li>
<li>Standby is supported with standby power state</li></ul></li>
<li>MPU DVFS</li>
<li>CPU-Idle</li></ul>
<h3><span class="mw-headline" id="CM3_Firmware">CM3 Firmware</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=33" title="Edit section: CM3 Firmware">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A small ARM Cortex-M3 co-processor is present on these parts that helps the SoC to get to the lowest power mode. This processor requires firmware to be loaded from the kernel at run-time for all low-power features of the SoC to be enabled. The name of the binary file containing this firmware is am335x-pm-firmware.elf for both SoCs. The git repository containing the source and pre-compiled binaries of this file can be found here: <a rel="nofollow" class="external free" href="https://git.ti.com/processor-firmware/ti-amx3-cm3-pm-firmware/commits/ti-v4.1.y">https://git.ti.com/processor-firmware/ti-amx3-cm3-pm-firmware/commits/ti-v4.1.y</a> .
</p><p>There are two options for loading the CM3 firmware. If using the CoreSDK, the firmware will be included in /lib/firmware and the root filesystem should handle loading it automatically. Placing any version of <code>am335x-pm-firmware.elf</code> at this location will cause it to load automatically during boot. However, due to changes in the upstream kernel it is now required that CONFIG_FW_LOADER_USER_HELPER_FALLBACK be enabled if the CONFIG_WKUP_M3_IPC is being built-in to the kernel so that the firmware can be loaded once userspace and the root filesystem becomes avaiable. It is also possible to manually load the firmware by following the instructions below:
</p><p>The final option is to build the binary directly into the kernel. Note that if the firmware binary is built into the kernel it cannot be loaded using the methods above and will be automatically loaded during boot. To accomplish this, first make sure you have placed <code>am335x-pm-firmware.elf</code> under <code>&lt;KERNEL SOURCE&gt;/firmware</code>. Then enter the kernel configuration by typing:
</p>
<pre>$ make menuconfig
</pre>
<p>Select <i>Device Drivers</i> from the main menu.
</p>
<pre>...
...
Kernel Features  ---&gt;
Boot options  ---&gt;
CPU Power Management  ---&gt;
Floating point emulation  ---&gt;
Userspace binary formats  ---&gt;
Power management options  ---&gt;
[*] Networking support  ---&gt;
<b>Device Drivers  ---&gt;</b>
...
...
</pre>
<p>Select Generic Driver Options
</p>
<pre><b>Generic Driver Options</b>
CBUS support
...
...
</pre>
<p>Configure the name of the PM firmware and the location as shown below
</p>
<pre>...
-*- Userspace firmware loading support
<b>[*] Include in-kernel firmware blobs in the kernel binary</b>
<b>(am335x-pm-firmware.elf) External firmware blobs to build into the kernel binary</b>
<b>(firmware) Firmware blobs root directory</b>
</pre>
<p>The CM3 firmware is needed for all idle low power modes on am335x and am437x and for cpuidle on am335x. During boot, if the CM3 firmware has been properly loaded, the following message will be displayed:
</p>
<pre>    PM: CM3 Firmware Version = 0x191
</pre>
<h4><span class="mw-headline" id="CM3_Firmware_Linux_Kernel_Interface">CM3 Firmware Linux Kernel Interface</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=34" title="Edit section: CM3 Firmware Linux Kernel Interface">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The kernel interface to the CM3 firmware is through the wkup_m3_rproc driver, which is used to load and boot the CM3 firmware, and the wkup_m3_ipc driver, which exposes an API to be used by the PM code to communicate with the CM3 firmware.
</p>
<h4><span class="mw-headline" id="wkup_m3_rproc_Driver">wkup_m3_rproc Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=35" title="Edit section: wkup m3 rproc Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<h5><span class="mw-headline" id="Driver_Features_4">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=36" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>This driver is responsible for loading and booting the CM3 firmware on the wkup_m3 inside the SoC using the remoteproc framework.
</p>
<h5><span class="mw-headline" id="Source_Location_5">Source Location</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=37" title="Edit section: Source Location">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p><code> drivers/remoteproc/wkup_m3_rproc.c </code>
</p>
<h4><span class="mw-headline" id="wkup_m3_ipc_Driver">wkup_m3_ipc Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=38" title="Edit section: wkup m3 ipc Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<h5><span class="mw-headline" id="Driver_Features_5">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=39" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>This driver exposes an API to be used by the PM code to provide board and SoC specific data from the kernel to the CM3 firmware, request certain power state transitions, and query the status of any previous power state transitions performed by the CM3 firmware.
</p>
<h5><span class="mw-headline" id="Source_Location_6">Source Location</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=40" title="Edit section: Source Location">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p><code> drivers/soc/ti/wkup_m3_ipc.c </code> - provides the wkup_m3_ipc driver responsible for communicating with the CM3 firmware.
</p>
<h3><span id="Suspend/Resume"></span><span class="mw-headline" id="Suspend.2FResume">Suspend/Resume</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=41" title="Edit section: Suspend/Resume">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Suspend on am335x and am437x depends on interaction between the Linux kernel and the wkup_m3, so there are several requirements when building the Linux kernel to ensure this will work. The following config options are required when building a kernel to support suspend:
</p>
<pre># Firmware Loading from rootfs
CONFIG_FW_LOADER_USER_HELPER=y
CONFIG_FW_LOADER_USER_HELPER_FALLBACK=y

# AMx3 Power Config Options
CONFIG_MAILBOX=y
CONFIG_OMAP2PLUS_MBOX=y
CONFIG_WKUP_M3_RPROC=y
CONFIG_SOC_TI=y
CONFIG_WKUP_M3_IPC=y
CONFIG_TI_EMIF_SRAM=y
CONFIG_AMX3_PM=y

CONFIG_RTC_DRV_OMAP=y
</pre>
<p>Note that it is also possible to build all of the options under <code> AMx3 Power Config Options </code> as modules if desired. Finally, do not forget the steps mentioned in the <a href="#CM3_Firmware">CM3 Firmware</a> section of the guide to make sure the proper firmware binary is available.
</p><p>The LCPD release supports mem sleep and standby sleep. On both AM335 and AM437 mem sleep corresponds to DeepSleep0. The following wake sources are supported from DeepSleep0
</p>
<ul><li>UART</li>
<li>GPIO0</li>
<li>Touchscreen (AM335x only)</li></ul>
<p>To enter DeepSleep0 enter the following at the command line:
</p>
<pre>    $ echo mem &gt; /sys/power/state
</pre>
<p>From here, the system will enter DeepSleep0. At any point, triggering one of the aforementioned wake-up sources will cause the kernel to resume and the board to exit DeepSleep0. A successful suspend/resume cycle should look like this:
</p>
<pre>    $ echo mem &gt; /sys/power/state
    $ PM: Syncing filesystems ... done.
    $ Freezing user space processes ... (elapsed 0.007 seconds) done.
    $ Freezing remaining freezable tasks ... (elapsed 0.006 seconds) done.
    $ Suspending console(s) (use no_console_suspend to debug)
    $ PM: suspend of devices complete after 194.787 msecs
    $ PM: late suspend of devices complete after 14.477 msecs
    $ PM: noirq suspend of devices complete after 17.849 msecs
    $ Disabling non-boot CPUs ...
    $ PM: Successfully put all powerdomains to target state
    $ PM: Wakeup source UART
    $ PM: noirq resume of devices complete after 39.113 msecs
    $ PM: early resume of devices complete after 10.180 msecs
    $ net eth0: initializing cpsw version 1.12 (0)
    $ net eth0: phy found&#160;: id is&#160;: 0x4dd074
    $ PM: resume of devices complete after 368.844 msecs
    $ Restarting tasks ... done
    $
</pre>
<p>It is also possible to enter standby sleep with the possibility to use additional wake sources and have a faster resume time while using slightly more power. To enter standby sleep, enter the following at the command line:
</p>
<pre>    $ echo standby &gt; /sys/power/state
</pre>
<p>A successful cycle through standby sleep should look the same as DeepSleep0.
</p><p>In the event that a cycle fails, the following message will be present in the log:
</p>
<pre>    $ PM: Could not transition all powerdomains to target state
</pre>
<p>This is usually due to clocks that have not properly been shut off within the PER powerdomain. Make sure that all clocks within CM_PER are properly shut off and try again.
</p>
<h4><span class="mw-headline" id="Debugging_Techniques">Debugging Techniques</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=42" title="Edit section: Debugging Techniques">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Debugging suspend and resume issues can be inherently difficult because by nature portions of the processor may be clock gated or powered down, making traditional methods difficult or impossible.
</p><p>To aid your debugging efforts, the following resources are available:
</p>
<ul><li><a rel="nofollow" class="external text" href="Debugging_AM335x_Suspend-Resume_Issues.html">Debugging AM335x Suspend Resume Issues</a> (wiki article)</li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lit/an/sprac74a/sprac74a.pdf">AM335x Low Power Design Guide</a></li>
<li><a rel="nofollow" class="external text" href="http://e2e.ti.com/">E2E support forums</a></li></ul>
<p><br />
</p>
<h3><span id="RTC-Only_and_RTC+DDR_Mode"></span><span class="mw-headline" id="RTC-Only_and_RTC.2BDDR_Mode">RTC-Only and RTC+DDR Mode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=43" title="Edit section: RTC-Only and RTC+DDR Mode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The LCPD release also supports two RTC modes depending on what the specific hardware in use supports. RTC+DDR Mode is similar to the Suspend/Resume above but only supports wake by the Power Button present on the board or from an RTC ALARM2 Event. RTC-Only mode supports the same wake sources, however DDR context is not maintained so a wake event causes a cold boot.
</p><p>RTC-Only mode is supported on:
</p>
<ul><li>AM437x GP EVM</li>
<li>AM437x SK EVM</li></ul>
<p>RTC+DDR mode is supported on:
</p>
<ul><li>AM437x GP EVM</li></ul>
<h4><span id="RTC+DDR_Mode"></span><span class="mw-headline" id="RTC.2BDDR_Mode">RTC+DDR Mode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=44" title="Edit section: RTC+DDR Mode">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The first step in using RTC+DDR mode is to enable off mode by typing the following at the command line:
</p>
<pre>    $ echo 1 &gt; /sys/kernel/debug/pm_debug/enable_off_mode
</pre>
<p>With off-mode enabled, a command to enter DeepSleep0 will now enter RTC-Only mode:
</p>
<pre>    $ echo mem &gt; /sys/power/state
</pre>
<p>this method of entry only supports Power button as the wake source.
</p><p>To use the rtc as a wake source, after enabling off mode use the following command:
</p>
<pre>    $ rtcwake -s &lt;NUMBER OF SECONDS TO SLEEP&gt; -d /dev/rtc0 -m mem
</pre>
<p>Whether or not your board enters RTC-Only mode or RTC+DDR mode depends on the regulator configuration and whether or not the regulator that supplies the DDR is configured to remain on during suspend. This is supported by the TPS65218 in use of the AM437x boards but not the TPS65217 or TPS65910 present on AM335x boards.
</p>
<pre>tps65218: tps65218@24 {
        reg = &lt;0x24&gt;;
        compatible = "ti,tps65218";
        interrupts = &lt;GIC_SPI 7 IRQ_TYPE_NONE&gt;; /* NMIn */
        interrupt-parent = &lt;&amp;gic&gt;;
        interrupt-controller;
        #interrupt-cells = &lt;2&gt;;

        ...

        dcdc3: regulator-dcdc3 {
                compatible = "ti,tps65218-dcdc3";
                regulator-name = "vdcdc3";
                regulator-suspend-enable;
                regulator-min-microvolt = &lt;1500000&gt;;
                regulator-max-microvolt = &lt;1500000&gt;;
                regulator-boot-on;
                regulator-always-on;
        };

        ...

};
</pre>
<p>Another important thing to make sure of is that you are using the proper u-boot. A certain u-boot is required in order to support RTC+DDR mode otherwise the following message appears during boot of the kernel:
</p><p><code>PM: bootloader does not support rtc-only!</code>
</p><p>When building u-boot, rather than using <code>am43xx_evm_config</code> you must use <code>am43xx_evm_rtconly_config</code> to support either RTC mode.
</p>
<h4><span class="mw-headline" id="RTC-Only_Mode">RTC-Only Mode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=45" title="Edit section: RTC-Only Mode">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>RTC-Only mode does not maintain DDR context so placing a board into RTC-only mode allows for very low power consumption after which a supported wake source will cause a cold boot.
RTC-Only mode is entered via the poweroff command.
</p><p>To wakeup from RTC-Only mode via an RTC alarm, a separate tool must be used to program an RTC alarm prior to entering poweroff.
</p>
<h3><span class="mw-headline" id="DDR3_VTT_Regulator_Toggling">DDR3 VTT Regulator Toggling</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=46" title="Edit section: DDR3 VTT Regulator Toggling">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Some boards using DDR3 have a VTT Regulator that must be shut off during suspend to further conserve power. There are two methods that can be used to toggle DDR3 VTT regulators (or any GPIO for that matter) during suspend on am335x and am437x, through the use of GPIO0 (AM335x and AM437x) or IO Isolation (AM437x only).
</p>
<h4><span class="mw-headline" id="GPIO0_Toggling">GPIO0 Toggling</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=47" title="Edit section: GPIO0 Toggling">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>An example of a board with this regulator is the AM335X EVM SK. On AM335x and AM437x, GPIO0 remains powered during DS0 so it is possible to use this to toggle a pin to control the VTT regulator. This is handled by the wakeup M3 processor and gets defined inside the device node within the board device tree file.
</p>
<pre>&amp;wkup_m3_ipc {
        ti,needs-vtt-toggle;
        ti,vtt-gpio-pin = &lt;7&gt;;
};
</pre>
<p><code>ti,needs-vtt-toggle</code> is used to indicate that the vtt regulator must be toggled and <code>ti,vtt-gpio-pin</code> indicates which pin within GPIO0 is connected to the VTT regulator to control it.
</p>
<h4><span class="mw-headline" id="IO_Isolation_Control">IO Isolation Control</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=48" title="Edit section: IO Isolation Control">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Many of the pins on AM437x have the ability to configure both normal and
sleep states. Because of this it is possible to use any pin with a
corresponding CTRL_CONF_* register in the control module and the
DS_PAD_CONFIG bits to toggle the VTT regulator enable pin. The DS state of
the pin must be configured such that the pin disables the VTT regulator. The
normal state of the pin must be configured such that the VTT regulator is
enabled by the state alone. This is because the VTT regulator must be enabled
before context is restored to the controlling GPIO.
</p><p>Example:
</p><p>On the AM437x GP EVM, the VTT enable line must be held low to disable VTT
regulator and held high to enable, so the following pinctrl entry is used.
The DS pull is enabled which uses a pull down by default and DS off mode is
used which outputs a low by default. For the normal state, a pull up is
specified so that the VTT enable line gets pulled high immediately after
the DS states are removed upon exit from DeepSleep0.
</p><p>The <code>ti,set-io-isolation</code> flag below in the <code>wkup_m3_ipc</code> node tells the CM3 firmware to place the IO's in isolation and actually trigger the value provided in the <code>ddr3_vtt_toggle_default</code> pinctrl entry.
</p>
<pre>        &amp;am43xx_pinmux {
                pinctrl-names = "default";
                pinctrl-0 = &lt;&amp;ddr3_vtt_toggle_default&gt;;

                ddr3_vtt_toggle_default: ddr_vtt_toggle_default {
                pinctrl-single,pins = &lt;
                        0x25C (DS0_PULL_UP_DOWN_EN | PIN_OUTPUT_PULLUP |
                               DS0_FORCE_OFF_MODE | MUX_MODE7)&gt;;
                };
                ...
        };

        wkup_m3_ipc: wkup_m3_ipc@1324 {
                compatible = "ti,am4372-wkup-m3-ipc";
                ...
                ...
                '''ti,set-io-isolation;'''
                ...
        };
</pre>
<h3><span class="mw-headline" id="Deep_Sleep_Voltage_Scaling">Deep Sleep Voltage Scaling</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=49" title="Edit section: Deep Sleep Voltage Scaling">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>It is possible to scale the voltages on both the MPU and CORE supply rails down to 0.95V while we are in DeepSleep once powerdomains are shut off. The i2c sequences needed to scale voltage vary from board to board and are dependent on which PMIC is in use, so we use board specific binaries that are passed to the CM3 firmware to define the sequences needed during the sleep and wake paths. The CM3 firmware is then able to write these sequences out at the proper location in the Deep Sleep path on i2c0.
</p><p>The CM3 firmware at <a rel="nofollow" class="external free" href="https://git.ti.com/processor-firmware/ti-amx3-cm3-pm-firmware/ti-v4.1.y/bin">https://git.ti.com/processor-firmware/ti-amx3-cm3-pm-firmware/ti-v4.1.y/bin</a> contains scale data binaries for these platforms:
</p><p><b>am335x-evm-scale-data.bin</b>
</p>
<ul><li>AM335x EVM</li>
<li>AM335x Starter kit</li></ul>
<p><b>am335x-bone-scale-data.bin</b>
</p>
<ul><li>AM335x Beaglebone</li>
<li>AM335x Beaglebone Black</li></ul>
<p><b>am43x-evm-scale-data.bin</b>
</p>
<ul><li>AM437x GP EVM</li>
<li>AM437x EPOS EVM</li>
<li>AM437x SK EVM</li></ul>
<p>The name of the binary to use is specified in the wkup_m3_ipc node with the <code>ti,scale-data-fw</code> property of a board file like so:
</p>
<pre>/* From arch/arm/boot/dts/am437x-gp-evm.dts */
&amp;wkup_m3_ipc {
        ...
        ti,scale-data-fw = "am43x-evm-scale-data.bin";
};
</pre>
<p>The wkup_m3_ipc driver at<code>drivers/soc/ti/wkup_m3_ipc.c</code> handles loading this binary to the proper data region of the CM3 and then passing the offsets to the wake and sleep sequences through IPC register 5 to the firmware. As long as the format of the binary is proper the driver will handle this automatically.
</p>
<h4><span class="mw-headline" id="Binary_Data_Format">Binary Data Format</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=50" title="Edit section: Binary Data Format">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Each binary file contains a small header with a magic number and offsets to the sleep wand wake sections and then the sleep and wake sections themsevles which consist of two bytes to specify the i2c bus speed for the operation and then blocks of bytes that specify the message. The header is 4 bytes long and is shown here:
</p>
<table border="1" cellspacing="0" cellpadding="4" rules="all" style="margin:1em 1em 1em 0; border:solid 1px #aaa; border-collapse:collapse;empty-cells:show;">
 
<caption>Scale data binary header
</caption>
<tbody><tr style="background: #DDFFDD;">
<th>Size (bytes)
</th>
<th>Field
</th></tr>
<tr>
<th style="background: #FFDDDD;">2
</th>
<td>Magic Number (0x0c57)
</td></tr>
<tr>
<th style="background: #FFDDDD;">1
</th>
<td>Offset to sleep data
</td></tr>
<tr>
<th style="background: #FFDDDD;">1
</th>
<td>Offset to wake data
</td></tr></tbody></table>
<p>The offsets to the sleep and wake are counted from the first byte after the header starting at zero and point to the first of the two bytes in little-endian order that specify the bus speed in kHz. In all scale data provided by TI the i2c bus speed is specified as 0x6400, which corresponds to 100kHz. After these two bytes are the message blocks which can have a variable length. A standard message block is defined as:
</p>
<table border="1" cellspacing="0" cellpadding="4" rules="all" style="margin:1em 1em 1em 0; border:solid 1px #aaa; border-collapse:collapse;empty-cells:show;">
 
<caption>Scale data message block
</caption>
<tbody><tr style="background: #DDFFDD;">
<th>Size (bytes)
</th>
<th>Field
</th></tr>
<tr>
<th style="background: #FFDDDD;">1
</th>
<td>Message size, counting from first byte *after* I2C Bus address below.
</td></tr>
<tr>
<th style="background: #FFDDDD;">1
</th>
<td>I2C Bus Address
</td></tr>
<tr>
<th style="background: #FFDDDD;">1
</th>
<td>First byte of message (typically I2C register address)
</td></tr>
<tr>
<th style="background: #FFDDDD;">1
</th>
<td>Second byte of message (typically value to write to register)
</td></tr>
<tr>
<th style="background: #FFDDDD;">1
</th>
<td>Nth byte of message
</td></tr>
<tr>
<th style="background: #FFDDDD;">...
</th>
<td>...
</td></tr></tbody></table>
<p>Each block is a single I2C transaction, and multiple blocks can be placed one after the other to send multiple messages, as is needed in the case of PMICs which have GO bits to actually apply the programmed voltage to the rail.
</p><p><br />
</p>
<h4><span class="mw-headline" id="Simple_Example">Simple Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=51" title="Edit section: Simple Example">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Single message for both sleep and wake sequence (from bin/am335x-evm-scale-data.bin).
</p><p>Raw binary data using xxd:
</p>
<pre>a0274052local@uda0274052:~/git-repos/amx3-cm3$ xxd bin/am335x-evm-scale-data.bin 
0000000: 0c57 0006 0034 022d 251f 0034 022d 252b  .W...4.-%..4.-%+
</pre>
<p>Explanation of values:
</p>
<pre>0c57		# Magic number
00		# Offset from first byte after header to sleep section
06		# Offset from first byte after header to wake section

0034		# Sleep sequence section, starts with two bytes to describe i2c bus in khz (100)
02 2d 25 1f	# Length of message, evm i2c bus addr, then message (i2c reg 0x25, write value 0x1f)

0034 		# Wake sequence section, starts with two bytes to describe i2c bus in khz (100)
02 2d 25 2b	# Length of message, evm i2c bus addr, then message (i2c reg 0x25, write value 0x2b) 
</pre>
<h4><span class="mw-headline" id="Advanced_Example">Advanced Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=52" title="Edit section: Advanced Example">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Multiple messages on sleep and wake sequence (from bin/am43x-evm-scale-data.bin).
</p><p>Raw binary data using xxd:
</p>
<pre>amx3-cm3$ xxd bin/am43x-evm-scale-data.bin 
0000000: 0c57 0012 0034 0224 106b 0224 168a 0224  .W...4.$.k.$...$
0000010: 1067 0224 1a86 0034 0224 106b 0224 1699  .g.$...4.$.k.$..
0000020: 0224 1067 0224 1a86                      .$.g.$..
</pre>
<p>Explanation of values:
</p>
<pre>0C 57 			# Magic number 0x0C57
00 			# Offset, starting after header, to sleep sequence
12			# Offset, starting after header, to wake sequence

0034 			# Sleep sequence section, starts with two bytes to describe i2c bus in khz (100) 
02 24 10 6b		# msg length 0x02, to i2c addr 0x24, message is (i2c reg 0x10, write 0x6b) 
02 24 16 8a		# msg length 0x02, to i2c addr 0x24, message is (i2c reg 0x16, write 0x8a)
02 24 10 67		# msg length 0x02, to i2c addr 0x24, message is (i2c reg 0x10, write 0x67)
02 24 1a 86		# msg length 0x02, to i2c addr 0x24, message is (i2c reg 0x1a, write 0x86)

0034			# Wake sequence section, starts with two bytes to describe i2c bus in khz (100)
02 24 10 6b		# msg length 0x02, to i2c addr 0x24, message is (i2c reg 0x10, write 0x6b) 
02 24 16 99		# msg length 0x02, to i2c addr 0x24, message is (i2c reg 0x16, write 0x99) 
02 24 10 67		# msg length 0x02, to i2c addr 0x24, message is (i2c reg 0x10, write 0x67) 
02 24 1a 86		# msg length 0x02, to i2c addr 0x24, message is (i2c reg 0x1a, write 0x86)         
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Power_Management_on_DRA7_platform">Power Management on DRA7 platform</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=53" title="Edit section: Power Management on DRA7 platform">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The power management features enabled on DRA7 platforms (DRA7x/ J6/ AM57x) are as follows:
</p>
<ul><li>Suspend/Resume</li>
<li>MPU DVFS</li>
<li>SmartReflex</li></ul>
<h3><span class="mw-headline" id="DVFS">DVFS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=54" title="Edit section: DVFS">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>On-Demand is a load based DVFS governor, enabled by deafult. The governor
will scale voltage and frequency based on load between available OPPs.
</p>
<ul><li>VDD_MPU supports only 2 OPPs for now (OPP_NOM, OPP_OD). OPP_HIGH is not yet enabled.  Future versions of Kernel may support OPP_HIGH.</li>
<li>VDD_CORE has only one OPP which removes the possibility of DVFS on VDD_CORE.</li>
<li>GPU DVFS is TBD.</li></ul>
<p>Supported OPPs:
</p>
<pre>      /* kHz    uV */
      1000000 1090000   /* OPP_NOM */
      1176000 1210000   /* OPP_OD */
</pre>
<h3><span class="mw-headline" id="SmartReflex_2">SmartReflex</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=55" title="Edit section: SmartReflex">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>DRA7 platforms use Class 0 SmartReflex. It is a very
simple class of AVS. The SR compensated voltages for different OPPs
of various Voltage domains are burnt in the EFUSE registers. So whenever
a new OPP is set the SR compensate voltage value for that particular
OPP is read from the EFUSE registers and set.
</p><p>On entering an OPP, the voltage value to be selected is no longer the
traditional nominal voltage, but the voltage meant from the efuse offset
encoded in millivolts. Each device will have it's own unique voltage for
given OPP. Therefore, it is not possible to encode a range of voltage
representing an OPP voltage.
</p><p>DRA processors may be powered using various PMICs - I2C based ones such
as TPS659039 or SPI / GPIO controlled ones as well.
</p>
<pre>       cpufreq/devfreq driver which controls voltage and frequency pairs 
       traditionally used:
       cpufreq/devfreq --&gt; PMIC regulator
                       \-&gt; clock framework
       This opens up a few issues:
       a) PMIC regulator is designed for platforms that may not use SmartReflex
          based SoCs, encoding the efuse offsets into every possible PMIC 
          regulator driver is practically in-efficient.
       b) Voltage values are not known a-priori to be encoded into DTB as they
          device specific.
</pre>
<pre>       To simplify this, we introduce:
       cpufreq/devfreq --&gt; SmartReflex Class 0 regulator --&gt; PMIC regulator
                       \-&gt; clock framework
</pre>
<pre>       Class 0 Regulator has information of translating the "nominal voltage" i
       voltage value stored in efuse offset.
       Example encoding:
       uVolts      mVolt   --&gt; stored as 16 bit hex value of mV
       975000      975     --&gt; 0x03CF
       1075000     1075    --&gt; 0x0433
       1200000     1200    --&gt; 0x04B0
</pre>
<pre>       [1] <a rel="nofollow" class="external free" href="http://www.ti.com/lit/ds/sprt659/sprt659.pdf">http://www.ti.com/lit/ds/sprt659/sprt659.pdf</a>
       [2] <a rel="nofollow" class="external free" href="http://www.ti.com/lit/wp/swpy015a/swpy015a.pdf">http://www.ti.com/lit/wp/swpy015a/swpy015a.pdf</a>
</pre>
<h3><span class="mw-headline" id="Idle_Power_Management">Idle Power Management</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;section=56" title="Edit section: Idle Power Management">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>DRA7 platform only supports Suspend to RAM as of now. USB has issues in waking up when is suspended hence suspend/resume feature only suspends the MPU subsystem alone and does not transition the Core Domain. Core domain will idle only when USB idles which will mean USB will not be able to wake up. Hence only MPU is suspended and resumed currently.
</p><p>Steps to Suspend:
</p><p>To use UART as wake up source from suspend please sure that no_console_suspend
is given in bootargs. This is because UART module wake up is broken and
IO-Daisy wake up is not yet supported.
</p><p>UART resume needs multiple things:
</p>
<pre> a) no_console_suspend in bootargs
 b) enable UART wakeup capability.
       echo enabled &gt; /sys/devices/platform/44000000.ocp/48020000.serial/tty/ttyS2/power/wakeup
 c) echo mem &gt; /sys/power/state
</pre>
<!-- 
NewPP limit report
Cached time: 20201130101059
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.077 seconds
Real time usage: 0.078 seconds
Preprocessor visited node count: 338/1000000
Preprocessor generated node count: 497/1000000
Post‐expand include size: 302/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 6382/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    1.588      1 -total
 92.43%    1.468      2 Template:Prettytable
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:43408-0!canonical and timestamp 20201130101059 and revision id 234160
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Linux Core Power Management User&#39;s Guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Linux Core Power Management User&#39;s Guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>Linux Core Power Management User&#39;s Guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>Linux Core Power Management User&#39;s Guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>Linux Core Power Management User&#39;s Guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Linux Core Power Management User&#39;s Guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Linux Core Power Management User&#39;s Guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>Linux Core Power Management User&#39;s Guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>Linux Core Power Management User&#39;s Guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;oldid=234160">https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;oldid=234160</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Linux+Core+Power+Management+User%27s+Guide+%28v4.4%29" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/index.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/index.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Linux_Core_Power_Management_User%27s_Guide_(v4.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Linux_Core_Power_Management_User%27s_Guide_(v4.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;oldid=234160" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Linux_Core_Power_Management_User%27s_Guide_(v4.4)&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 18 April 2018, at 09:02.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.077","walltime":"0.078","ppvisitednodes":{"value":338,"limit":1000000},"ppgeneratednodes":{"value":497,"limit":1000000},"postexpandincludesize":{"value":302,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":6382,"limit":5000000},"timingprofile":["100.00%    1.588      1 -total"," 92.43%    1.468      2 Template:Prettytable"]},"cachereport":{"timestamp":"20201130101059","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":238});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Linux_Core_Power_Management_User%27s_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 10:02:17 GMT -->
</html>
