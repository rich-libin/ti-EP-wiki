<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/AM335x_U-Boot_User%27s_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 03:50:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>AM335x U-Boot User's Guide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"AM335x_U-Boot_User's_Guide","wgTitle":"AM335x U-Boot User's Guide","wgCurRevisionId":200805,"wgRevisionId":200805,"wgArticleId":13673,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["AM335x","Linux","PSP"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"AM335x_U-Boot_User's_Guide","wgRelevantArticleId":13673,"wgRequestId":"5bd6535a693424a017373419","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-AM335x_U-Boot_User_s_Guide rootpage-AM335x_U-Boot_User_s_Guide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">AM335x U-Boot User's Guide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div style="width:800px; text-align:justify;"> 
<div style="display:block; clear: both; margin: 10px 0px; padding: 0px; background-color: #ee1d23; text-align:right;"><a href="File_TIBanner.html" class="image"><img alt="TIBanner.png" src="https://processors.wiki.ti.com/images/c/cd/TIBanner.png" width="667" height="87" /></a></div>
<div style="display:block; margin: 5px 0px; padding: 2px 5px; font-size:1.5em; font-weight:bold; text-align:left;">AM335x U-Boot User's Guide</div>
<div style="display:block; margin: 5px 0px; padding: 2px; color: #666666; font-size:1.0em; font-weight:bold; text-align:right;">Linux PSP</div>  
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#U-Boot"><span class="tocnumber">1</span> <span class="toctext"><b>U-Boot</b></span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Two_stage_U-Boot_design"><span class="tocnumber">1.1</span> <span class="toctext"><b>Two stage U-Boot design</b></span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Updated_Toolchain"><span class="tocnumber">1.2</span> <span class="toctext"><b>Updated Toolchain</b></span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Building_U-Boot"><span class="tocnumber">1.3</span> <span class="toctext"><b>Building U-Boot</b></span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Prerequisite"><span class="tocnumber">1.3.1</span> <span class="toctext"><b>Prerequisite</b></span></a>
<ul>
<li class="toclevel-4 tocsection-6"><a href="#Commands"><span class="tocnumber">1.3.1.1</span> <span class="toctext"><b>Commands</b></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Host_configuration"><span class="tocnumber">1.4</span> <span class="toctext"><b>Host configuration</b></span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Serial_port_configuration"><span class="tocnumber">1.4.1</span> <span class="toctext"><b>Serial port configuration</b></span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Target_configuration"><span class="tocnumber">1.5</span> <span class="toctext"><b>Target configuration</b></span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Boot_Switch_Settings"><span class="tocnumber">1.5.1</span> <span class="toctext"><b>Boot Switch Settings</b></span></a>
<ul>
<li class="toclevel-4 tocsection-11"><a href="#NAND"><span class="tocnumber">1.5.1.1</span> <span class="toctext"><b>NAND</b></span></a></li>
<li class="toclevel-4 tocsection-12"><a href="#SPI"><span class="tocnumber">1.5.1.2</span> <span class="toctext"><b>SPI</b></span></a></li>
<li class="toclevel-4 tocsection-13"><a href="#USB"><span class="tocnumber">1.5.1.3</span> <span class="toctext"><b>USB</b></span></a></li>
<li class="toclevel-4 tocsection-14"><a href="#UART"><span class="tocnumber">1.5.1.4</span> <span class="toctext"><b>UART</b></span></a></li>
<li class="toclevel-4 tocsection-15"><a href="#SD"><span class="tocnumber">1.5.1.5</span> <span class="toctext"><b>SD</b></span></a></li>
<li class="toclevel-4 tocsection-16"><a href="#CPSW_Ethernet"><span class="tocnumber">1.5.1.6</span> <span class="toctext"><b>CPSW Ethernet</b></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Flashing_U-Boot_with_CCS"><span class="tocnumber">1.6</span> <span class="toctext"><b>Flashing U-Boot with CCS</b></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Boot_Modes"><span class="tocnumber">2</span> <span class="toctext"><b>Boot Modes</b></span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#NAND_2"><span class="tocnumber">2.1</span> <span class="toctext"><b>NAND</b></span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#Overview"><span class="tocnumber">2.1.1</span> <span class="toctext"><b>Overview</b></span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#NAND_Layout"><span class="tocnumber">2.1.2</span> <span class="toctext"><b>NAND Layout</b></span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Writing_to_NAND"><span class="tocnumber">2.1.3</span> <span class="toctext"><b>Writing to NAND</b></span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Reading_from_NAND"><span class="tocnumber">2.1.4</span> <span class="toctext"><b>Reading from NAND</b></span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#Marking_a_bad_block"><span class="tocnumber">2.1.5</span> <span class="toctext"><b>Marking a bad block</b></span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Viewing_bad_blocks"><span class="tocnumber">2.1.6</span> <span class="toctext"><b>Viewing bad blocks</b></span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Erasing_NAND"><span class="tocnumber">2.1.7</span> <span class="toctext"><b>Erasing NAND</b></span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#NAND_ECC_algorithm_selection"><span class="tocnumber">2.1.8</span> <span class="toctext"><b>NAND ECC algorithm selection</b></span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#BCH_Flash_OOB_Layout"><span class="tocnumber">2.1.9</span> <span class="toctext"><b>BCH Flash OOB Layout</b></span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#ECC_schemes_usage_table"><span class="tocnumber">2.1.10</span> <span class="toctext"><b>ECC schemes usage table</b></span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#Flashing_Kernel"><span class="tocnumber">2.1.11</span> <span class="toctext"><b>Flashing Kernel</b></span></a>
<ul>
<li class="toclevel-4 tocsection-31"><a href="#UBIFS_file_system_flashing"><span class="tocnumber">2.1.11.1</span> <span class="toctext"><b>UBIFS file system flashing</b></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-32"><a href="#UART_2"><span class="tocnumber">2.2</span> <span class="toctext"><b>UART</b></span></a>
<ul>
<li class="toclevel-3 tocsection-33"><a href="#Boot_Over_UART"><span class="tocnumber">2.2.1</span> <span class="toctext"><b>Boot Over UART</b></span></a></li>
<li class="toclevel-3 tocsection-34"><a href="#Flashing_images_to_NAND_in_UART_boot_mode"><span class="tocnumber">2.2.2</span> <span class="toctext"><b>Flashing images to NAND in UART boot mode</b></span></a>
<ul>
<li class="toclevel-4 tocsection-35"><a href="#Flashing_SPL_to_NAND_in_UART_boot_mode"><span class="tocnumber">2.2.2.1</span> <span class="toctext"><b>Flashing SPL to NAND in UART boot mode</b></span></a></li>
<li class="toclevel-4 tocsection-36"><a href="#Flashing_U-Boot_to_NAND_in_UART_boot_mode"><span class="tocnumber">2.2.2.2</span> <span class="toctext"><b>Flashing U-Boot to NAND in UART boot mode</b></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-37"><a href="#SD_.28Secured_Digital_card.29"><span class="tocnumber">2.3</span> <span class="toctext"><b>SD (Secured Digital card)</b></span></a>
<ul>
<li class="toclevel-3 tocsection-38"><a href="#Read_and_execute_uImage_from_SD_card"><span class="tocnumber">2.3.1</span> <span class="toctext"><b>Read and execute uImage from SD card</b></span></a></li>
<li class="toclevel-3 tocsection-39"><a href="#Read_and_execute_u-boot_from_SD_card"><span class="tocnumber">2.3.2</span> <span class="toctext"><b>Read and execute u-boot from SD card</b></span></a></li>
<li class="toclevel-3 tocsection-40"><a href="#Setting_Up_Boot_Environment_on_SD_Card"><span class="tocnumber">2.3.3</span> <span class="toctext"><b>Setting Up Boot Environment on SD Card</b></span></a></li>
<li class="toclevel-3 tocsection-41"><a href="#Boot_using_SD_card"><span class="tocnumber">2.3.4</span> <span class="toctext"><b>Boot using SD card</b></span></a></li>
<li class="toclevel-3 tocsection-42"><a href="#Flashing_images_to_NAND_in_SD_boot"><span class="tocnumber">2.3.5</span> <span class="toctext"><b>Flashing images to NAND in SD boot</b></span></a>
<ul>
<li class="toclevel-4 tocsection-43"><a href="#Flashing_SPL_to_NAND_in_SD_boot"><span class="tocnumber">2.3.5.1</span> <span class="toctext"><b>Flashing SPL to NAND in SD boot</b></span></a></li>
<li class="toclevel-4 tocsection-44"><a href="#Flashing_U-Boot_to_NAND_in_SD_boot"><span class="tocnumber">2.3.5.2</span> <span class="toctext"><b>Flashing U-Boot to NAND in SD boot</b></span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-45"><a href="#Setting_U-Boot_environment_using_uEnv.txt"><span class="tocnumber">2.3.6</span> <span class="toctext"><b>Setting U-Boot environment using uEnv.txt</b></span></a></li>
<li class="toclevel-3 tocsection-46"><a href="#Making_use_pre-existing_uEnv_on_SD_card"><span class="tocnumber">2.3.7</span> <span class="toctext"><b>Making use pre-existing uEnv on SD card</b></span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-47"><a href="#SPI_2"><span class="tocnumber">2.4</span> <span class="toctext"><b>SPI</b></span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#CPSW_Ethernet_2"><span class="tocnumber">2.5</span> <span class="toctext"><b>CPSW Ethernet</b></span></a>
<ul>
<li class="toclevel-3 tocsection-49"><a href="#Booting_Over_CPSW_Ethernet"><span class="tocnumber">2.5.1</span> <span class="toctext"><b>Booting Over CPSW Ethernet</b></span></a></li>
<li class="toclevel-3 tocsection-50"><a href="#Flashing_in_CPSW_Ethernet_boot_mode"><span class="tocnumber">2.5.2</span> <span class="toctext"><b>Flashing in CPSW Ethernet boot mode</b></span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-51"><a href="#U-Boot_Network_configuration"><span class="tocnumber">2.6</span> <span class="toctext"><b>U-Boot Network configuration</b></span></a></li>
<li class="toclevel-2 tocsection-52"><a href="#U-Boot_Environment_Variables"><span class="tocnumber">2.7</span> <span class="toctext"><b>U-Boot Environment Variables</b></span></a>
<ul>
<li class="toclevel-3 tocsection-53"><a href="#Environment_Settings_for_Ramdisk"><span class="tocnumber">2.7.1</span> <span class="toctext"><b>Environment Settings for Ramdisk</b></span></a></li>
<li class="toclevel-3 tocsection-54"><a href="#Environment_Settings_for_UBIFS_Filesystem"><span class="tocnumber">2.7.2</span> <span class="toctext"><b>Environment Settings for UBIFS Filesystem</b></span></a></li>
<li class="toclevel-3 tocsection-55"><a href="#Environment_Settings_for_jffs2_Filesystem"><span class="tocnumber">2.7.3</span> <span class="toctext"><b>Environment Settings for jffs2 Filesystem</b></span></a></li>
<li class="toclevel-3 tocsection-56"><a href="#Environment_Settings_for_NFS_Filesystem"><span class="tocnumber">2.7.4</span> <span class="toctext"><b>Environment Settings for NFS Filesystem</b></span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-57"><a href="#Booting_the_kernel"><span class="tocnumber">2.8</span> <span class="toctext"><b>Booting the kernel</b></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-58"><a href="#Archived"><span class="tocnumber">3</span> <span class="toctext">Archived</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="U-Boot"><b>U-Boot</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=1" title="Edit section: U-Boot">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>In AM335x the ROM code serves as the bootstrap loader, sometimes referred to as the Initial Program Loader (IPL) or the Primary Program Loader (PPL). The booting is completed in two consecutive stages by <a rel="nofollow" class="external text" href="http://www.denx.de/wiki/U-Boot/WebHome">U-Boot</a> binaries. <i>The binary for the 1st U-Boot stage is referred to as the Secondary Program Loader (SPL) or the MLO. The binary for the 2nd U-Boot stage is simply referred to as U-Boot.</i> SPL is a non-interactive loader and is a specially built version of U-Boot. It is built concurrently when building U-Boot. 
</p><p>The ROM code can load the SPL image from any of the following devices 
</p>
<ul><li><b>Memory devices non XIP (NAND/SDMMC)</b></li></ul>
<p>The image should have the Image header. The image header is of length 8 byte which has the load address(Entry point) and the size of the image to be copied. RBL would copy the image, whose size is given by the length field in the image header, from the device and loads into the internal memory address specified in the load address field of Image header. 
</p>
<ul><li><b>Peripheral devices (UART)</b></li></ul>
<p>RBL loads the image to the internal memory address 0x402f0400 and executes it. No Image Header present. <br /> 
</p>
<h2><span class="mw-headline" id="Two_stage_U-Boot_design"><b>Two stage U-Boot design</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=2" title="Edit section: Two stage U-Boot design">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section gives an overview of the two stage U-Boot approach adopted for AM335X. 
</p><p>The size of the internal RAM in AM335X is 128KB out of which 18KB at the end is used by the ROM code. Also, 1 KB at the start (0x402f0000 - 0x402f0400) is secure and it cannot be accessed This places a limit of 109KB on the size of the U-Boot binary which the ROM code can transfer to the internal RAM and use as an initial stack before initialization of DRAM. 
</p>
Since it is not possible to squeeze in all the functionality that is normally expected from U-Boot in &lt; 110KB (after setting aside some space for stack, heap etc) a two stage approach has been adopted. Initial stage initalize only the required boot devices (NAND, MMC, I2C etc); 2nd full stage initall all other devices (ethernet, timers, clocks etc). The 1st binary is generated MLO and the 2nd stage is generated as u-boot.img. <div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*When using memory boot (NAND) a header needs to be attached to the SPL binary indicating the load address and the size of the image. SPI boot additionally requires endian conversion before flashing the image.
<ul><li>When using peripheral boot (UART) there can be no header as the load address is fixed.</li></ul></div> <br />
<h2><span class="mw-headline" id="Updated_Toolchain"><b>Updated Toolchain</b><br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=3" title="Edit section: Updated Toolchain">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Starting with Sitara Linux SDK 6.0 the location of the toolchain has changed and for non ARM 9 devices a new Linaro based toolchain will be used. Details about the change in toolchain location can be found <a rel="nofollow" class="external text" href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/Overview_Getting_Started_Guide.html#gcc-toolchain#Updated.C2.A0Linux-Devkit_Structure">here</a>. Also details about the switch to Linaro can be found <a rel="nofollow" class="external text" href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/Overview_Getting_Started_Guide.html#gcc-toolchain#Switch_to_Linaro">here</a>. 
</p><p>AM18x users are not affected by the switch to Linaro. Therefore, any references to the Linaro toolchain prefix "<b>arm-linux-gnueabihf</b>-" should be replaced with "<b>arm-arago-linux-gnueabi-</b>". 
</p>
<h2><span class="mw-headline" id="Building_U-Boot"><b>Building U-Boot</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=4" title="Edit section: Building U-Boot">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Prerequisite"><b>Prerequisite</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=5" title="Edit section: Prerequisite">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
GNU toolchain for ARM processors from Arago is recommended. Arago Toolchain can be found in the linux-devkit directory of the SDK <a rel="nofollow" class="external text" href="http://software-dl.ti.com/dsps/dsps_public_sw/am_bu/sdk/AM335xSDK/latest/index_FDS.html">here</a> <br /> <div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />Below steps assumes that the release package is extracted inside directory represented as $AM335x-PSP-DIR</div> 
<p>Change to the base of the U-Boot directory. 
</p>
<pre>$ cd ./AM335x-LINUX-PSP-MM.mm.pp.bb/src/u-boot/u-boot-MM.mm.pp.bb
</pre>
<p>Building into a separate object directory with the "O=" parameter to make is strongly recommended. <br /> 
</p>
<h4><span class="mw-headline" id="Commands"><b>Commands</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=6" title="Edit section: Commands">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>$ [ -d ./am335x ] &amp;&amp; rm -rf ./am335x
$ make O=am335x CROSS_COMPILE=arm-linux-gnueabihf- ARCH=arm am335x_evm
</pre>
<p>This will generate two binaries in the am335x directory, MLO and u-boot.img along with other intermediate binaries that may be needed in some cases (see below). <br /> 
</p>
<h2><span class="mw-headline" id="Host_configuration"><b>Host configuration</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=7" title="Edit section: Host configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Serial_port_configuration"><b>Serial port configuration</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=8" title="Edit section: Serial port configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Connect a serial cable from the serial port of the EVM (serial port is next to the power switch) to the COM port on either the Windows machine or Linux host depending on where you'll be running the serial terminal software. 
</p><p>For correct operation the serial terminal software should be configured with the following settings: 
</p>
<pre>*Baud rate: 115,200
*Data bits: 8
*Parity: None
*Stop bits: 1
*Flow control: None
</pre>
<br /> <div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />If Teraterm is being used, ensure that the latest version (4.67 is the latest version as of writing this user guide) of Teraterm is installed. The implementation of the Kermit protocol in Teraterm is not reliable in older versions. The latest version of Teraterm 4.67 can be downloaded from <a rel="nofollow" class="external text" href="http://logmett.com/index.php?/products/teraterm.html">here</a>. Recent Teraterm updates causes slow Binary transfer over UART. In such cases, use Windows in-built HyperTerminal application.</div> <br /> 
<h2><span class="mw-headline" id="Target_configuration"><b>Target configuration</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=9" title="Edit section: Target configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Boot_Switch_Settings"><b>Boot Switch Settings</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=10" title="Edit section: Boot Switch Settings">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This option is only available on Am335x EVM. Switch SW3 is for selecting the boot modes. Also, separate DIP switch (SW8) is provided to select various profiles on EVMs. 
</p><p>The picture below shows the boot mode configuration switch SW3 on the AM335X EVM. <span style="color: rgb(255,0,0)"><b>RED</b></span>: circle shows <b>OFF </b>and <span style="color: rgb(0,255,0)"><b>GREEN</b></span> circles shows <b>ON </b>switches. 
</p>
<div style="margin: 5px; padding: 5px 10px; background-color: #ffffec; border-left: 5px solid #ff6600;"><b>IMPORTANT</b><br /><br />ON is labeled on the wrong side of SW3 boot mode switch.</div> 
<p><br /> 
</p>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />The bootmode setting in this picture is for NAND boot.NAND boot corresponds to (SW3 5:1) 10010.</div> 
<p><br /> &#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;<a href="File_Bootmodeswitches.html" class="image"><img alt="Bootmodeswitches.jpg" src="https://processors.wiki.ti.com/images/0/0a/Bootmodeswitches.jpg" width="474" height="224" /></a> &#160; <br /> 
</p>
<ul><li>Make sure that the EVM boot switch settings are set to required boot mode and then power on the board.</li></ul>
<p><br /> 
</p>
<h4><span class="mw-headline" id="NAND"><b>NAND</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=11" title="Edit section: NAND">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In order to boot from the NAND flash, set the SW3 switch as follows: <br /> 
</p>
<table width="40%" cellspacing="0" cellpadding="5" border="1">

<tbody><tr style="background: rgb(221,255,221) 0% 50%">
<td align="left">Dip switch #
</td>
<td align="center">1
</td>
<td align="center">2
</td>
<td align="center">3
</td>
<td align="center">4
</td>
<td align="center">5
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: green;">ON
</td></tr></tbody></table>
<p><br /> 
</p>
<h4><span class="mw-headline" id="SPI"><b>SPI</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=12" title="Edit section: SPI">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In order to boot from the SPI flash, set the SW3 switch as follows: <br /> 
</p>
<table width="40%" cellspacing="0" cellpadding="5" border="1">

<tbody><tr style="background: rgb(221,255,221) 0% 50%">
<td align="left">Dip switch #
</td>
<td align="center">1
</td>
<td align="center">2
</td>
<td align="center">3
</td>
<td align="center">4
</td>
<td align="center">5
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: green;">ON
</td></tr></tbody></table>
<p><br /> 
</p>
<h4><span class="mw-headline" id="USB"><b>USB</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=13" title="Edit section: USB">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In order to boot from the USBmode, set the SW3 switch as follows: <br /> 
</p>
<table width="40%" cellspacing="0" cellpadding="5" border="1">

<tbody><tr style="background: rgb(221,255,221) 0% 50%">
<td align="left">Dip switch #
</td>
<td align="center">1
</td>
<td align="center">2
</td>
<td align="center">3
</td>
<td align="center">4
</td>
<td align="center">5
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: red;">OFF
</td></tr></tbody></table>
<p><br /> 
</p>
<h4><span class="mw-headline" id="UART"><b>UART</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=14" title="Edit section: UART">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In order to boot from the UART mode, set the SW3 switch as follows: <br /> 
</p>
<table width="40%" cellspacing="0" cellpadding="5" border="1">

<tbody><tr style="background: rgb(221,255,221) 0% 50%">
<td align="left">Dip switch #
</td>
<td align="center">1
</td>
<td align="center">2
</td>
<td align="center">3
</td>
<td align="center">4
</td>
<td align="center">5
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: red;">OFF
</td></tr></tbody></table>
<p><br /> 
</p>
<h4><span class="mw-headline" id="SD"><b>SD</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=15" title="Edit section: SD">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In order to boot from the SD card, set the SW3 switch as follows: <br /> 
</p>
<table width="40%" cellspacing="0" cellpadding="5" border="1">

<tbody><tr style="background: rgb(221,255,221) 0% 50%">
<td align="left">Dip switch #
</td>
<td align="center">1
</td>
<td align="center">2
</td>
<td align="center">3
</td>
<td align="center">4
</td>
<td align="center">5
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: green;">ON
</td></tr></tbody></table>
<p><br /> 
</p>
<h4><span class="mw-headline" id="CPSW_Ethernet"><b>CPSW Ethernet</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=16" title="Edit section: CPSW Ethernet">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In order to boot from the CPSW ethernet mode, set the SW3 switch as follows: <br /> 
</p>
<table width="40%" cellspacing="0" cellpadding="5" border="1">

<tbody><tr style="background: rgb(221,255,221) 0% 50%">
<td align="left">Dip switch #
</td>
<td align="center">1
</td>
<td align="center">2
</td>
<td align="center">3
</td>
<td align="center">4
</td>
<td align="center">5
</td>
<td align="center">6
</td>
<td align="center">7
</td>
<td align="center">8
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: green;">ON
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: yellow;">INDEPENDENT
</td>
<td align="center" style="background-color: red;">OFF
</td>
<td align="center" style="background-color: green;">ON
</td></tr></tbody></table>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />The setting of switch SW3:[7:6] is because the EVM uses RGMII mode.  For more details please refer to the TRM.</div> 
<p><br /> 
</p>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />Due to heavy pin-muxing, boot device is selectively available on selected AM335x EVMs &amp; profiles. Details about the availability of the peripherals on different Profiles can be found from the <a rel="nofollow" class="external text" href="http://www.ti.com/tool/tmdxevm3358">EVM reference manual</a>.</div> <br /> 
<h2><span class="mw-headline" id="Flashing_U-Boot_with_CCS"><b>Flashing U-Boot with CCS</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=17" title="Edit section: Flashing U-Boot with CCS">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />Both the stages of U-Boot need to be flashed on the same media.</div> The tools are provided in the PSP release to write SPL &amp; U-Boot on to the NAND flash(for NAND boot)
<p>Refer to <a href="AM335x_Flashing_Tools_Guide.html" class="mw-redirect" title="AM335x Flashing Tools Guide">AM335x Flashing Tools Guide</a> wiki page for instructions on how to flash the pre-built (or compiled) binary to NAND flash (or the recompiled one) with the help of the NAND flash writer. 
</p><p>After flashing the 2 stages, make sure boot mode is set to <a href="AM335x_U-Boot_User%27s_Guide.html#NAND" title="AM335x U-Boot User&#39;s Guide">NAND</a> and power on the board. <br />
</p>
<h1><span class="mw-headline" id="Boot_Modes"><b>Boot Modes</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=18" title="Edit section: Boot Modes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="NAND_2"><b>NAND</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=19" title="Edit section: NAND">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*The following sub-sections illustrate the usage of NAND specific commands on AM335X EVM.
<ul><li>Refer to <a href="AM335x_U-Boot_User%27s_Guide.html#Boot_Switch_Settings" title="AM335x U-Boot User&#39;s Guide">EVM Switch Settings</a> section for more info on enabling/disabling different boot devices.</li></ul></div> This section gives an <i>overview</i> of the NAND support in U-Boot. It also describe how to store the kernel image, RAMDISK or the UBIFS filesystem to NAND so as to have a network-free boot right from powering on the board to getting the kernel up and running. <br />
<h3><span class="mw-headline" id="Overview"><b>Overview</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=20" title="Edit section: Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Micron NAND parts (page size 2KB, block size 128KB) are supported on AM335XEVM platforms. <br /> 
</p>
<h3><span class="mw-headline" id="NAND_Layout"><b>NAND Layout</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=21" title="Edit section: NAND Layout">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The NAND part on the EVM has been configured in the following manner. The addresses mentioned here are used in the subsequent NAND related commands. 
</p><p><br /> 
</p>
<pre>+------------+--&gt;0x00000000-&gt; SPL start         (SPL copy on 1st block)
|            |
|            |--&gt;0x0001FFFF-&gt; SPL end 
|            |--&gt;0x00020000-&gt; SPL.backup1 start (SPL copy on 2nd block)
|            |
|            |--&gt;0x0003FFFF-&gt; SPL.backup1 end 
|            |--&gt;0x00040000-&gt; SPL.backup2 start (SPL copy on 3rd block)
|            |
|            |--&gt;0x0005FFFF-&gt; SPL.backup2 end 
|            |--&gt;0x00060000-&gt; SPL.backup3 start (SPL copy on 4th block)
|            |
|            |--&gt;0x0007FFFF-&gt; SPL.backup3 end
|            |--&gt;0x00080000-&gt; U-Boot start
|            |                                    
|            |--&gt;0x002BFFFF-&gt; U-Boot end 
|            |--&gt;0x00260000-&gt; ENV start
|            |
|            |
|            |--&gt;0x0027FFFF-&gt; ENV end
|            |--&gt;0x00280000-&gt; Linux Kernel start
|            |
|            |
|            |
|            |
|            |--&gt;0x0077FFFF-&gt; Linux Kernel end
|            |--&gt;0x00780000-&gt; File system start
|            |
|            |
|            |
|            |
|            |
|            |
|            |
|            |
|            |
|            |
|            |
|            |
+------------+--&gt;0x10000000-&gt; NAND end (Free end)
</pre>
<p><br /> 
</p>
<h3><span class="mw-headline" id="Writing_to_NAND"><b>Writing to NAND</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=22" title="Edit section: Writing to NAND">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To write len bytes of data from a memory buffer located at addr to the NAND block offset: 
</p>
<pre>U-Boot# nand write &lt;addr&gt; &lt;offset&gt; &lt;len&gt;
</pre>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*Offset &amp;&#160;len fields should be in align with 0x800 (2048) bytes. On writing 3000 (0xbb8) bytes, len field can be aligned to 0x1000 ie 4096 bytes. Offset field should be aligned to page start address, multiple of 2048 bytes.</div> If a bad block is encountered during the write operation, it is skipped and the write operation continues from next 'good' block. 
<p>For example, to write 0x40000 bytes from memory buffer at address 0x80000000 to NAND - starting at block 32 (offset 0x400000): 
</p>
<pre>U-Boot# nand write 0x80000000 0x400000 0x40000
</pre>
<p><br /> 
</p>
<h3><span class="mw-headline" id="Reading_from_NAND"><b>Reading from NAND</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=23" title="Edit section: Reading from NAND">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To read len bytes of data from NAND block at a particular offset to the memory buffer in DDR located at addr: 
</p>
<pre>U-Boot# nand read &lt;addr&gt; &lt;offset&gt; &lt;len&gt;
</pre>
<p>If a bad block is encountered during the read operation, it is skipped and the read operation continues from next 'good' block. 
</p><p>For example, to read 0x40000 bytes from NAND - starting at block 32 (offset 0x400000) to memory buffer at address 0x80000000: 
</p>
<pre>U-Boot# nand read 0x80000000 0x400000 0x40000
</pre>
<p><br /> 
</p>
<h3><span class="mw-headline" id="Marking_a_bad_block"><b>Marking a bad block</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=24" title="Edit section: Marking a bad block">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Some of the blocks in the NAND may get corrupted over a period of time. In such cases you should explicitly mark such blocks as bad so that the image that you are writing to NAND does not end up getting corrupted. 
</p><p>To forcefully mark a block as bad: 
</p>
<pre>U-Boot# nand markbad &lt;offset&gt;
</pre>
<p>For example, to mark block 32 (assuming erase block size of 128Kbytes) as bad block - offset = blocknum * 128 * 1024: 
</p>
<pre>U-Boot# nand markbad 0x400000
</pre>
<p><br /> 
</p>
<h3><span class="mw-headline" id="Viewing_bad_blocks"><b>Viewing bad blocks</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=25" title="Edit section: Viewing bad blocks">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To view the list of bad blocks: 
</p>
<pre>U-Boot# nand bad
</pre>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*The user marked bad blocks can be viewed by using this command only after a reset.</div> <br /> 
<h3><span class="mw-headline" id="Erasing_NAND"><b>Erasing NAND</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=26" title="Edit section: Erasing NAND">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To erase NAND blocks in a particular the address range or using block numbers: 
</p>
<pre>U-Boot# nand erase &lt;start offset addr&gt; &lt;len&gt;
</pre>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*start offset addr &amp; len fields should align to 0x20000 (64*2048) bytes, i.e.to block size 128KB.</div> 
<p>This commands skips bad blocks (both factory and user marked) encountered within the specified range. 
</p><p>For example, to erase blocks 32 through 34: 
</p>
<pre>U-Boot# nand erase 0x00400000 0x40000
</pre>
<p><br /> 
</p>
<h3><span class="mw-headline" id="NAND_ECC_algorithm_selection"><b>NAND ECC algorithm selection</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=27" title="Edit section: NAND ECC algorithm selection">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>NAND flash memory, although cheap, suffers from problems like bit flipping which lead to data corruption. However by making use of some error correction coding (ECC) techniques it is possible to work around this problem. 
</p><p>Prior to the AM335xPSP_04.06.00.09-rc2 release, for the data stored in NAND flash, U-Boot supports following NAND ECC schemes 
</p>
<ol><li>S/W ECC (Hamming code)</li>
<li>H/W ECC (Hamming code, BCH8)</li></ol>
<p>Starting with the 04.06.00.09-rc2 release only BCH8 is supported, and is used by default in all cases. No user interaction is required to select the algorithm and locations where the <b>nandecc</b> command are required can be seen by looking at the history of this page. 
</p><p><br /> 
</p>
<h3><span class="mw-headline" id="BCH_Flash_OOB_Layout"><b>BCH Flash OOB Layout</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=28" title="Edit section: BCH Flash OOB Layout">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For any ECC scheme we need to add some extra data while writing so as to detect and correct (if possible) the errors introduced by the NAND part. In case of BCH scheme some bytes are needed to store the ECC related info. 
</p><p>The section of NAND memory where addition info like ECC data is stored is referred to as Out Of Band or OOB section. 
</p><p>The first 2 bytes are used for Bad block marker – 0xFFFF =&gt; Good block 
</p><p>The next ‘N’ bytes is used for BCH bytes 
</p><p>N = B * &lt;Number of 512-byte sectors in a page&gt; 
</p>
<ol><li>B = 8 bytes per 512 byte sector in BCH4</li>
<li>B = 14 bytes per 512 byte sector in BCH8</li>
<li>B = 26 bytes per 512 byte sector in BCH16</li></ol>
<p>So for a 2k page-size NAND flash with 64-byte OOB size, we will use BCH8. This will consume 2 + (14*4) = 58 bytes out of 64 bytes available. 
</p><p>The NAND flash part used in EVM does not have enough spare area to support BCH16. 
</p>
<table border="1">
<caption><b>ECC Schemes and their context of usage</b>
</caption>
<tbody><tr>
<th>ECC type
</th>
<th>Usage
</th></tr>
<tr>
<td>S/W ECC
</td>
<td>Not used
</td></tr>
<tr>
<td>H/W ECC - Hamming Code
</td>
<td>Should use this scheme only for flashing the U-Boot ENV variables.
</td></tr>
<tr>
<td>H/W ECC – BCH8
</td>
<td>Should use this scheme while flashing any image/binary other than the U-Boot ENV variables.
</td></tr></tbody></table>
<p>To select ECC algorithm for NAND: 
</p>
<pre>U-Boot# nandecc [sw | hw &lt;hw_type&gt;]
</pre>
<p>Usage: 
</p><p>sw - Set software ECC for NAND hw &lt;hw_type&gt; - Set hardware ECC for NAND &lt;hw_type&gt; - 0 for Hamming code 1 for bch4 2 for bch8 3 for bch16 Currently we support only Software, Hamming Code and BCH8. We do not support BCH4 and BCH16 <br /> 
</p>
<h3><span class="mw-headline" id="ECC_schemes_usage_table"><b>ECC schemes usage table</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=29" title="Edit section: ECC schemes usage table">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<table border="1">
<caption><b>ECC schemes usage table</b>
</caption>
<tbody><tr>
<th>Component
</th>
<th>Default ECC scheme used by the component
</th>
<th>ECC scheme to be used to flash the component
</th>
<th>ECC schemes supported by the component
</th></tr>
<tr>
<td>SPL
</td>
<td>BCH8
</td>
<td>BCH8
</td>
<td>BCH8
</td></tr>
<tr>
<td>U-boot
</td>
<td>Hamming
</td>
<td>BCH8
</td>
<td>Hamming/BCH8
</td></tr>
<tr>
<td>Linux
</td>
<td>BCH8
</td>
<td>BCH8
</td>
<td>BCH8
</td></tr>
<tr>
<td>File System
</td>
<td>NA
</td>
<td>BCH8
</td>
<td>NA
</td></tr>
<tr>
<td>Environment variables
</td>
<td>NA
</td>
<td>Hamming
</td>
<td>NA
</td></tr></tbody></table>
<p><br /> 
</p>
<h3><span class="mw-headline" id="Flashing_Kernel"><b>Flashing Kernel</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=30" title="Edit section: Flashing Kernel">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>TFTP the kernel uImage to DDR. 
</p>
<pre>U-Boot# tftp 0x82000000 &lt;kernel_image&gt;
</pre>
<p>Now flash the kernel image to NAND at the appropriate offset (refer to <a href="AM335x_U-Boot_User%27s_Guide.html#NAND_Layout" title="AM335x U-Boot User&#39;s Guide">NAND layout</a> section for the offsets) 
</p>
<pre>U-Boot# nand erase 0x00280000 0x00500000
U-Boot# nand write 0x82000000 0x00280000 0x500000
</pre>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*Image_size should be aligned to page size of 2048 (0x800) bytes</div> <br /> 
<h4><span class="mw-headline" id="UBIFS_file_system_flashing"><b>UBIFS file system flashing</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=31" title="Edit section: UBIFS file system flashing">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In AM335X, UBIFS file system is used in NAND flash as it is next generation flash file system. 
</p><p>1. Creating and Flashing of UBIFS file system image is described over <a href="UBIFS_Support.html#Creating_UBIFS_file_system" title="UBIFS Support">here</a> <br /> 
</p>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />In case of AM335x, file system partition is starting from 0x780000. So flashing offset for file system in U-Boot is 0x780000 and from Linux MTD partition number 7 should used for flashing file file system.</div> <br /> 
<h2><span class="mw-headline" id="UART_2"><b>UART</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=32" title="Edit section: UART">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section describes how to use UART boot mode using TeraTerm. <br /> 
</p>
<h3><span class="mw-headline" id="Boot_Over_UART"><b>Boot Over UART</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=33" title="Edit section: Boot Over UART">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*The release package does not contain the binary for UART boot. Please follow the steps mentioned <a href="#Building_U-Boot">here</a> for compiling u-boot and use the <i>spl/u-boot-spl.bin</i> file that is produced.</div> 
<ol><li>Switch ON EVM with switch settings for <a href="#UART">UART boot</a>. When “CCCC” characters appear on TeraTerm window, from the File Menu select Transfer --&gt; XMODEM --&gt; Send (1K mode)</li>
<li>Select “u-boot-spl.bin” for the transfer</li>
<li>After image is successfully downloaded, the ROM code will boot it.</li>
<li>When “CCCC” characters appear on TeraTerm window, from the File Menu select Transfer --&gt; YMODEM --&gt; Send (1K mode)</li>
<li>Select “u-boot.img” for the transfer</li>
<li>After image is successfully downloaded, U-Boot will boot it.</li>
<li>Hit enter and get to u-boot prompt “U-Boot# ”</li></ol>
<p><br /> 
</p>
<h3><span class="mw-headline" id="Flashing_images_to_NAND_in_UART_boot_mode"><b>Flashing images to NAND in UART boot mode</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=34" title="Edit section: Flashing images to NAND in UART boot mode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Boot using UART&#160;boot mode as <a href="AM335x_U-Boot_User%27s_Guide.html#UART" title="AM335x U-Boot User&#39;s Guide">here</a> 
</p><p>After the U-Boot prompt <b>U-Boot# </b>comes up, the images for the 1st stage and 2nd stage can be flashed to NAND for persistent storage. <br /> 
</p>
<h4><span class="mw-headline" id="Flashing_SPL_to_NAND_in_UART_boot_mode"><b>Flashing SPL to NAND in UART boot mode</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=35" title="Edit section: Flashing SPL to NAND in UART boot mode">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Flash SPL (<b>MLO</b>) to NAND by executing the following commands: 
</p>
<pre>U-Boot# loadb 0x82000000
</pre>
<ul><li>From TeraTerm Menu click “<b>File -&gt; Transfer -&gt; Kermit -&gt; Send</b>”.</li>
<li>Select the 1st stage u-boot image “<b>MLO</b>” and click “OPEN” button</li>
<li>Wait for download to complete and then run following commands in u-boot prompt</li></ul>
<pre>U-Boot# nand erase 0x0 0x20000
U-Boot# nand write 0x82000000 0x0 0x20000
</pre>
<p>If no error messages are displayed the SPL of NAND boot has been successfully transferred to NAND. <br /> 
</p>
<h4><span class="mw-headline" id="Flashing_U-Boot_to_NAND_in_UART_boot_mode"><b>Flashing U-Boot to NAND in UART boot mode</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=36" title="Edit section: Flashing U-Boot to NAND in UART boot mode">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Flash the 2nd stage U-Boot (<b>u-boot.img</b>) to NAND by executing the following commands: 
</p>
<pre>U-Boot# loadb 0x82000000
</pre>
<ul><li>From TeraTerm Menu click “<b>File -&gt; Transfer -&gt; Kermit -&gt; Send</b>”.</li>
<li>Select the 2nd stage u-boot image “<b>u-boot.img</b>” and click “OPEN” button</li>
<li>Wait for download to complete and then run following commands in U-Boot prompt</li></ul>
<pre>U-Boot# nand erase 0x80000 0x40000
U-Boot# nand write 0x82000000 0x80000 0x40000
</pre>
<p>If no error messages are displayed the U-boot of NAND boot has been successfully transferred to NAND. <br /> 
</p>
<h2><span id="SD_(Secured_Digital_card)"></span><span class="mw-headline" id="SD_.28Secured_Digital_card.29"><b>SD (Secured Digital card)</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=37" title="Edit section: SD (Secured Digital card)">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section gives an overview of the SD support in U-Boot 
</p>
<h3><span class="mw-headline" id="Read_and_execute_uImage_from_SD_card"><b>Read and execute uImage from SD card</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=38" title="Edit section: Read and execute uImage from SD card">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Please note that the following commands are being executed from the 2nd stage. List files on a FAT32 formatted SD card 
</p>
<pre>U-Boot# mmc rescan
U-Boot# fatls mmc 0
</pre>
<p>Booting kernel image from the SD card 
</p>
<pre>U-Boot# mmc rescan
U-Boot# fatload mmc 0 0x82000000 uImage
U-Boot# bootm 0x82000000
</pre>
<p><br /> 
</p>
<h3><span class="mw-headline" id="Read_and_execute_u-boot_from_SD_card"><b>Read and execute u-boot from SD card</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=39" title="Edit section: Read and execute u-boot from SD card">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>U-Boot# mmc rescan
U-Boot# fatload mmc 0 0x82000000 u-boot.bin
U-Boot# go 0x82000000
</pre>
<p><br /> 
</p>
<h3><span class="mw-headline" id="Setting_Up_Boot_Environment_on_SD_Card"><b>Setting Up Boot Environment on SD Card</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=40" title="Edit section: Setting Up Boot Environment on SD Card">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section describes steps to be followed to create a standalone power-on bootable system on SD card. 
</p><p><b>Prerequisites</b> Ensure that following is available: 
</p>
<ul><li>A Linux host with fdisk, sfdisk, mkfs.ext3 and mkfs.vfat utilities is available</li>
<li>Copy images MLO, u-boot.img, uImage, nfs.tar.gz and mksd-am335x.sh from release package to a directory on this Linux machine. For subsequent description, we will assume these files are copied to /home/am335x. Please refer "Package Contents" section in <a href="AM335x_PSP_User%27s_Guide.html" title="AM335x PSP User&#39;s Guide">AM335x PSP User's Guide</a> for location of these files.</li>
<li>Empty SD card (at least 256MB, preferably 4GB SDHC)</li>
<li>A SD memory card reader/programmer to copy files from Linux Host</li></ul>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*The SD Boot has some specific restriction about the format of the 1st partition and copying the MLO image.
<ul><li>So it is recommended that the supplied script mksd-am335x.sh is used for creating partitions and copying files.</li></ul></div>
<p><b>Steps</b> 
</p>
<ul><li>Connect the SD memory card using Memory Card reader to the Linux Host</li>
<li>Note the name allotted for this device. Type "dmesg". The SD/MMC card name should show up near the end, usually something like "SDC" (/dev/sdc) or "SDD" (/dev/sdd).</li>
<li>Navigate to the /home/am335x directory where all the mentioned files are copied</li>
<li>Ensure that the script mksd-am335x.sh has executable permissions</li>
<li>This scripts expects arguments in the following format</li></ul>
<p>./mksd-am335x.sh &lt;sd-device-name&gt; &lt;sd-1st-stage-bootloader&gt; &lt;sd-2nd-stage-bootloader&gt; &lt;kernel-uImage&gt; &lt;filesystem&gt; 
</p>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />that the user will require root/sudo permissions </div> 
<ul><li>In our example, we run the following command</li></ul>
<p>sudo ./mksd-am335x.sh /dev/sdd MLO u-boot.img uImage nfs.tar.gz 
</p>
<ul><li>You will be asked about data getting overwritten, confirm it and the files along with filesystem will be copied to SD card</li>
<li>Note that this script will create two primary partitions:
<ul><li>1st partition is formatted as FAT32 containing MLO, u-boot.img, uImage files</li>
<li>2nd partition is formatted as ext3 where the filesystem is extracted in root</li></ul></li></ul>
<p><u></u> <br /> 
</p>
<h3><span class="mw-headline" id="Boot_using_SD_card"><b>Boot using SD card</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=41" title="Edit section: Boot using SD card">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Once the SD card has been setup as described in the previous section make sure the switch setting are set for <a href="#SD_boot_mode">SD boot mode</a> and then plug in the SD card in the MMC/SD card slot on the EVM. <br /> 
</p>
<h3><span class="mw-headline" id="Flashing_images_to_NAND_in_SD_boot"><b>Flashing images to NAND in SD boot</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=42" title="Edit section: Flashing images to NAND in SD boot">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Boot using SD boot mode as <a href="AM335x_U-Boot_User%27s_Guide.html#SD" title="AM335x U-Boot User&#39;s Guide">here</a>. 
</p><p>After the 2nd stage prompt <b>U-Boot# </b>comes up, the images for the 1st stage and 2nd stage can be flashed to NAND for persistent storage. <br /> 
</p>
<h4><span class="mw-headline" id="Flashing_SPL_to_NAND_in_SD_boot"><b>Flashing SPL to NAND in SD boot</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=43" title="Edit section: Flashing SPL to NAND in SD boot">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Flash SPL (<b>MLO</b>) to NAND by executing the following commands: 
</p>
<pre>U-Boot# mmc rescan
U-Boot# fatload mmc 0 0x82000000 MLO
</pre>
<pre>U-Boot# nand erase 0x0 0x20000
U-Boot# nand write 0x82000000 0x0 0x20000
</pre>
<p>If no error messages are displayed the SPL of NAND boot has been successfully transferred to NAND. <br /> 
</p>
<h4><span class="mw-headline" id="Flashing_U-Boot_to_NAND_in_SD_boot"><b>Flashing U-Boot to NAND in SD boot</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=44" title="Edit section: Flashing U-Boot to NAND in SD boot">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Flash the 2nd stage U-Boot (<b>u-boot.img</b>) to NAND by executing the following commands: 
</p>
<pre>U-Boot# mmc rescan
U-Boot# fatload mmc 0 0x82000000 u-boot.img
U-Boot# nand erase 0x80000 0x40000
U-Boot# nand write 0x82000000 0x80000 0x40000
</pre>
<p>If no error messages are displayed the U-boot of NAND boot has been successfully transferred to NAND. <br /> 
</p>
<h3><span class="mw-headline" id="Setting_U-Boot_environment_using_uEnv.txt"><b>Setting U-Boot environment using uEnv.txt</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=45" title="Edit section: Setting U-Boot environment using uEnv.txt">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>U-Boot environment variables can be modified using a plain text file named uEnv.txt. The scripts can be used to modify and even over-ride the various parameters like bootargs, TFTP serverip etc. If a command named uenvcmd is defined in the file it will be executed. uEnv.txt can be loaded from SD card and tftp server. 
</p><p>Example text file named <i>uEnv.txt</i> 
</p>
<div style="margin: 5px; padding: 5px 10px; background-color: #ffffec; border-left: 5px solid #ff6600;"><b>IMPORTANT</b><br /><br />*The uEnv.txt file should be in <big><i><b>unix</b></i></big> format. Also make sure that there is <big><i><b>an empty line</b></i></big> at the end of the file.</div> <br /> 
<pre>bootargs=console=ttyO0,115200n8 root=/dev/mmcblk0p2 mem=128M rootwait
bootcmd=mmc rescan; fatload mmc 0 0x82000000 uImage; bootm 0x82000000
uenvcmd=boot
</pre>
<p>The file <i>uEnv.txt</i> is automatically loaded from SD if the bootcmd is run. It can be loaded and put into the environment manually. <br /> 
</p>
<h3><span class="mw-headline" id="Making_use_pre-existing_uEnv_on_SD_card"><b>Making use pre-existing uEnv on SD card</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=46" title="Edit section: Making use pre-existing uEnv on SD card">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>uEnv.txt on an SD card can be used to override the env settings saved on a persistent storage like NAND by making use of the following commands 
</p>
<pre> U-Boot# mmc rescan
U-Boot# fatload mmc 0 0x81000000 uEnv.txt
U-Boot# env import -t 0x81000000 $filesize
U-Boot# boot
</pre>
<p><br /> 
</p>
<h2><span class="mw-headline" id="SPI_2"><b>SPI</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=47" title="Edit section: SPI">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="padding-right: 5px; padding-left: 5px; background: rgb(238,238,238); padding-bottom: 5px; color: rgb(21,27,84); padding-top: 5px">
<p><b>Note</b> 
</p>
<ul><li>This feature is not supported prior to PSP 04.06.00.08 (and AMSDK 05.05.00.00).</li>
<li>This feature changed kernel location and filenames with PSP 04.06.00.09 (and AMSDK 05.06.00.00).</li>
<li>The release package does not contain the binary for SPI boot. Please follow the steps mentioned <a href="#Building_U-Boot">here</a> for compiling u-boot and use the <i>MLO.spi</i> and <i>u-boot.bin</i> files that are produced.</li>
<li>Following those same instructions but building for <b>am335x_evm_spiboot</b> rather than <b>am335x_evm</b> will result in binaries that will use the SPI flash for environment rather than NAND.</li></ul>
</div> 
<p>In this example we initially boot from an SD card and use that to transfer the files to write to SPI flash. If loading via other methods, modify the commands below. 
</p>
<ol><li>Switch ON EVM with switch settings such that SPI is present and boot via non-SPI. See <a href="#SPI">SPI boot</a> for more information.</li>
<li>Write it to SPI memory by executing the following commands:</li></ol>
<pre>U-Boot# sf probe 0
U-Boot# sf erase 0 +E0000
U-Boot# mmc rescan
U-Boot# fatload mmc 0 ${loadaddr} MLO.byteswap
U-Boot# sf write ${loadaddr} 0 ${filesize}
U-Boot# fatload mmc 0 ${loadaddr} u-boot.img
U-Boot# sf write ${loadaddr} 0x80000 ${filesize}
</pre>
<p><br /> 
</p>
<h2><span class="mw-headline" id="CPSW_Ethernet_2"><b>CPSW Ethernet</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=48" title="Edit section: CPSW Ethernet">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="padding-right: 5px; padding-left: 5px; background: rgb(238,238,238); padding-bottom: 5px; color: rgb(21,27,84); padding-top: 5px">
<p><b>Note</b> 
</p>
<ul><li>This feature is not supported prior to PSP 04.06.00.08 (and AMSDK 05.05.00.00).</li>
<li>The release package does not contain the binary for CPSW ethernet boot. Please follow the steps mentioned <a href="#Building_U-Boot">here</a> for compiling u-boot and use the <i>spl/u-boot-spl.bin</i> and <i>u-boot.img</i> files that are produced.</li></ul>
</div> 
<h3><span class="mw-headline" id="Booting_Over_CPSW_Ethernet"><b>Booting Over CPSW Ethernet</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=49" title="Edit section: Booting Over CPSW Ethernet">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Configure DHCPd and tftpd on your host.</li>
<li>Within the dhcpd configuration, add entries to send the <i>u-boot-spl.bin</i> or <i>u-boot.img</i> files based on the vendor-class-identifier field. For ISC dhcpd an example host entry looks like this:</li></ul>
<pre> host am335x_evm {
hardware ethernet de:ad:be:ee:ee:ef;
if substring (option vendor-class-identifier, 0, 10) = "DM814x ROM" {
  filename "u-boot-spl.bin";
} elsif substring (option vendor-class-identifier, 0, 17) = "AM335x U-Boot SPL" {
  filename "u-boot.img";
} else {
  filename "uImage-am335x";
} 
} 
</pre>
<ul><li>Copy the <i>u-boot-spl.bin</i> and <i>u-boot.img</i> files you have build to the directory tftpd serves files from.</li>
<li>Switch ON EVM with switch settings for <a href="#CPSW_Ethernet">CPSW ethernet boot</a>.</li>
<li>Hit enter and get to u-boot prompt “U-Boot# ”</li></ul>
<p><br /> 
</p>
<h3><span class="mw-headline" id="Flashing_in_CPSW_Ethernet_boot_mode"><b>Flashing in CPSW Ethernet boot mode</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=50" title="Edit section: Flashing in CPSW Ethernet boot mode">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>It is possible to build a version of U-Boot that boots over the cpsw ethernet interface and will automatically load and execute a script file. This can be used in initial programming or restoring of boards. It follows the general principles outlined above. In this case first you must build for <b>am335x_evm_restore_flash</b> rather than <b>am335x_evm</b> when building U-Boot. Next, you will need to create the script file that is run. There are examples provided in the source tree at <b>doc/am335x.net-spl/debrick-nand.txt</b> and <b>doc/am335x.net-spl/debrick-spi.txt</b>. You should copy one of these files and modify for your exact situation. Once you have modified the script you will need to turn it into a scr file using the following command: 
</p>
<pre>./tools/mkimage -A arm -O U-Boot -C none -T script -d &lt;your script&gt; debrick.scr
</pre>
<p>and copy the resulting debrick.scr file to the location tftpd serves files out of. For more information please see the <b>doc/am335x.net-spl/README</b> file in the source tree. 
</p>
<h2><span class="mw-headline" id="U-Boot_Network_configuration"><b>U-Boot Network configuration</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=51" title="Edit section: U-Boot Network configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In order to download the Linux kernel image from the TFTP server and for mounting NFS the network settings in U-Boot need to be configured. 
</p><p>When booting for the first time, U-Boot tries to fetch the MAC address from the env space. If it returns empty, it will look for MAC address from the eFuse registers in the Control module space and set the "ethaddr" variable in the env appropriately. The ethaddr can also be set using the setenv/saveenv commands. In such cases the user-set MAC address will take effect on subsequent reboot only. 
</p><p>To set a different MAC address use the following command 
</p>
<pre>U-Boot# set ethaddr &lt;random MAC address eg- 08:11:23:32:12:77&gt;
</pre>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*When setting a MAC address please ensure that the LSB of the 1st byte if not 1 i.e. when setting the MAC address: <b>y</b> in x<b>y</b>:ab:cd:ef:gh:jk has to be an even number. For more info this refer to the wiki page <a rel="nofollow" class="external free" href="http://en.wikipedia.org/wiki/MAC_address">http://en.wikipedia.org/wiki/MAC_address</a></div> 
<p>In case a static ip is not available run the dhcp command to obtain the ip address from the DHCP server on the network to which the EVM is connected. 
</p>
<pre>U-Boot# setenv serverip &lt;tftp server in your network&gt;
U-Boot# netmask 255.255.255.0
U-Boot# dhcp
U-Boot# saveenv
</pre>
<p>In case a static ip is available run the following commands 
</p>
<pre>U-Boot# setenv ipaddr &lt;your static ip&gt;
U-Boot# saveenv
</pre>
<p>This completes the network configuration in U-Boot. <br /> 
</p>
<h2><span class="mw-headline" id="U-Boot_Environment_Variables"><b>U-Boot Environment Variables</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=52" title="Edit section: U-Boot Environment Variables">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>After completing the network configuration and flashing the kernel image and filesystems to flash you need to set some other parameters which are essential for booting the kernel. We make use of a number of existing helper variables that exist in the environment at present. To see what they are set to use the <i>printenv</i> command. After setting <b>bootargs</b> along with any other variables for your needs you will need to do: 
</p>
<pre>U-Boot# saveenv
</pre>
<p>In all cases we make use of <b>optargs</b> to control passing in of additional arguments and <b>ip_method</b> to determine how the kernel will deal with networking PRIOR to userspace spawning init. This does not control for example if a dhcp client will be started as part of the userspace init sequence. <br /> 
</p>
<h3><span class="mw-headline" id="Environment_Settings_for_Ramdisk"><b>Environment Settings for Ramdisk</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=53" title="Edit section: Environment Settings for Ramdisk">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In case you are using a RAMDISK as the Linux filesystem: 
</p>
<pre>U-Boot# setenv bootargs ${console} ${optargs} root=/dev/ram rw initrd=${loadaddr},32MB ip=${ip_method}
</pre>
<p>For booting from NAND: 
</p>
<pre>U-Boot# setenv nand_src_addr 0x00280000
U-Boot# setenv nand_img_siz 0x170000
U-Boot# setenv initrd_src_addr 0x00780000
U-Boot# setenv initrd_img_siz 0x320000
U-Boot# setenv bootcmd 'nand read ${kloadaddr} ${nand_src_addr} ${nand_img_siz};nand read ${loadaddr} ${initrd_src_addr} ${initrd_img_siz};bootm ${kloadaddr}'
</pre>
<p>For booting from SD card: 
</p>
<pre>U-Boot# setenv bootcmd 'mmc rescan;run mmc_load_uimage;fatload mmc ${mmc_dev} ${loadaddr} initrd.ext3.gz;bootm ${kloadaddr}'
</pre>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*The sizes of images mentioned in the above commands have to be modified based on the actual image size. Also, it should be aligned to sector size of the flash device used.</div> <br /> 
<h3><span class="mw-headline" id="Environment_Settings_for_UBIFS_Filesystem"><b>Environment Settings for UBIFS Filesystem</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=54" title="Edit section: Environment Settings for UBIFS Filesystem">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>The U-Boot environment variable <b>bootargs</b> contains arguments to be passed to the Linux kernel. The <b>bootargs</b> variable here makes use of the <b>nand_root</b> variable. The typical format of this variable for a UBIFS root filesystem is:</li></ul>
<pre>root=ubi0:&lt;VOLUME NAME&gt; ubi.mtd=&lt;PARTITION_ID&gt;,YYYY rw
</pre>
<p>The value of <b>PARTITION_ID</b> depends on MTD device which holds the rootfs, <b>YYYY</b> depends on the page size of the partition and <b>VOLUME NAME</b>&#160; depends on the volume name given in ubinize.cfg file while creating UBIFS&#160;image as described <a href="UBIFS_Support.html#Creating_UBIFS_file_system" title="UBIFS Support">here</a>&#160;. In cases where you have multiple UBI volumes, ubi0 would change to the volume with the root partition. 
</p><p>Once <b>nand_root</b> is set: 
</p>
<pre>U-Boot# setenv bootcmd run nand_boot
</pre>
<p><br /> 
</p>
<h3><span class="mw-headline" id="Environment_Settings_for_jffs2_Filesystem"><b>Environment Settings for jffs2 Filesystem</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=55" title="Edit section: Environment Settings for jffs2 Filesystem">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The <b>bootargs</b> variable here makes use of the <b>nand_root</b> variable. The root file system format is jffs2: 
</p><p>Enabling and using the jffs2 as a root file system is describe <a rel="nofollow" class="external text" href="AM335x_JFFS2_Support_Guide.html">here</a> <br /> 
</p>
<h3><span class="mw-headline" id="Environment_Settings_for_NFS_Filesystem"><b>Environment Settings for NFS Filesystem</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=56" title="Edit section: Environment Settings for NFS Filesystem">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div style="margin: 5px; padding: 2px 10px; background-color: #ecffff; border-left: 5px solid #3399ff;"><b>NOTE</b><br /><br />*When setting a MAC address please ensure that the LSB of the 1st byte if not 1 i.e. when setting the MAC address: <b>y</b> in x<b>y</b>:ab:cd:ef:gh:jk has to be an even number. For more info this refer to the wiki page <a rel="nofollow" class="external free" href="http://en.wikipedia.org/wiki/MAC_address">http://en.wikipedia.org/wiki/MAC_address</a>
<ul><li>If you need to use a separate server for TFTP and NFS please see how to use the <b>next-server</b> option in your DHCP server.</li></ul></div>
<p>Modify the required variables: 
</p>
<pre>U-Boot# print ethaddr                          &lt;-- Check if MAC address is assigned and is unique
U-Boot# setenv ethaddr &lt;unique-MAC-address&gt;    &lt;-- Set only if not present already, format uv:yy:zz:aa:bb:cc
U-Boot# setenv serverip &lt;NFS and TFTP server-ip&gt;
U-Boot# setenv rootpath /location/of/nfsroot/export
U-Boot# setenv bootcmd net_boot
</pre>
<p><br /> 
</p>
<h2><span class="mw-headline" id="Booting_the_kernel"><b>Booting the kernel</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=57" title="Edit section: Booting the kernel">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In case everything went well, boot the kernel using the following command. 
</p>
<pre>U-Boot# boot
</pre>
<h1><span class="mw-headline" id="Archived">Archived</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit&amp;section=58" title="Edit section: Archived">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;oldid=151545">Sitara Linux SDK 05.07</a>
</p></div>
<!-- 
NewPP limit report
Cached time: 20201130124811
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.134 seconds
Real time usage: 0.142 seconds
Preprocessor visited node count: 403/1000000
Preprocessor generated node count: 750/1000000
Post‐expand include size: 7673/2097152 bytes
Template argument size: 3855/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   10.684      1 -total
 23.91%    2.555     19 Template:SpNote
 13.60%    1.453      1 Template:SpArticleStart
 12.82%    1.370      2 Template:SpImportant
 12.24%    1.308      1 Template:Sitara_SDK_Linaro_Switch_Template
 11.70%    1.250      1 Template:SpLicenseCC-SA
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:13673-0!canonical and timestamp 20201130124811 and revision id 200805
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>AM335x U-Boot User&#39;s Guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>AM335x U-Boot User&#39;s Guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>AM335x U-Boot User&#39;s Guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>AM335x U-Boot User&#39;s Guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>AM335x U-Boot User&#39;s Guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>AM335x U-Boot User&#39;s Guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>AM335x U-Boot User&#39;s Guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>AM335x U-Boot User&#39;s Guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>AM335x U-Boot User&#39;s Guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;oldid=200805">https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;oldid=200805</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_AM335x.html" title="Category:AM335x">AM335x</a></li><li><a href="Category_Linux.html" title="Category:Linux">Linux</a></li><li><a href="Category_PSP.html" title="Category:PSP">PSP</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=AM335x+U-Boot+User%27s+Guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="AM335x_U-Boot_User%27s_Guide.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk"><span><a href="Talk_AM335x_U-Boot_User%27s_Guide.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="AM335x_U-Boot_User%27s_Guide.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/AM335x_U-Boot_User%27s_Guide.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/AM335x_U-Boot_User%27s_Guide.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;oldid=200805" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=AM335x_U-Boot_User%27s_Guide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 28 May 2015, at 02:48.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.134","walltime":"0.142","ppvisitednodes":{"value":403,"limit":1000000},"ppgeneratednodes":{"value":750,"limit":1000000},"postexpandincludesize":{"value":7673,"limit":2097152},"templateargumentsize":{"value":3855,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%   10.684      1 -total"," 23.91%    2.555     19 Template:SpNote"," 13.60%    1.453      1 Template:SpArticleStart"," 12.82%    1.370      2 Template:SpImportant"," 12.24%    1.308      1 Template:Sitara_SDK_Linaro_Switch_Template"," 11.70%    1.250      1 Template:SpLicenseCC-SA"]},"cachereport":{"timestamp":"20201130124811","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":276});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/AM335x_U-Boot_User%27s_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 03:50:15 GMT -->
</html>
