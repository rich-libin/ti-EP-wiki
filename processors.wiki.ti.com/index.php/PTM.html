<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/PTM by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 03:10:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>PTM - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"PTM","wgTitle":"PTM","wgCurRevisionId":222511,"wgRevisionId":222511,"wgArticleId":16651,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["BluetoothLE"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"PTM","wgRelevantArticleId":16651,"wgRequestId":"bfac159a9d79d4efcd4d927e","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PTM rootpage-PTM skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">PTM</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><a rel="nofollow" class="external text" href="Category_BluetoothLE.html">Bluetooth Low Energy Main Page</a>
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Direct_Test_Mode_.28DTM.29"><span class="tocnumber">1.1</span> <span class="toctext">Direct Test Mode (DTM)</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Production_Test_Mode_.28PTM.29"><span class="tocnumber">1.2</span> <span class="toctext">Production Test Mode (PTM)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#How_to_use_Production_Test_Mode_.28PTM.29_on_the_CC254x"><span class="tocnumber">2</span> <span class="toctext">How to use Production Test Mode (PTM) on the CC254x</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Test_Commands"><span class="tocnumber">2.1</span> <span class="toctext">Test Commands</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#How_to_Use_PTM_from_an_Application_Point_of_View"><span class="tocnumber">3</span> <span class="toctext">How to Use PTM from an Application Point of View</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Using_Rohde_.26_Schwarz_CBT_Bluetooth_Tester_with_CC254xEM_Running_HostTestRelease"><span class="tocnumber">3.1</span> <span class="toctext">Using Rohde &amp; Schwarz CBT Bluetooth Tester with CC254xEM Running HostTestRelease</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Setup_of_SmartRF05EB"><span class="tocnumber">3.1.1</span> <span class="toctext">Setup of SmartRF05EB</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Setting_up_CC254x_for_PHY_Testing"><span class="tocnumber">3.1.2</span> <span class="toctext">Setting up CC254x for PHY Testing</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Rohde_.26_Schwarz_CBT"><span class="tocnumber">3.1.3</span> <span class="toctext">Rohde &amp; Schwarz CBT</span></a>
<ul>
<li class="toclevel-4 tocsection-11"><a href="#HCI.2FRS232_Setup"><span class="tocnumber">3.1.3.1</span> <span class="toctext">HCI/RS232 Setup</span></a></li>
<li class="toclevel-4 tocsection-12"><a href="#Connect_to_EM"><span class="tocnumber">3.1.3.2</span> <span class="toctext">Connect to EM</span></a></li>
<li class="toclevel-4 tocsection-13"><a href="#Test_with_output_power_measurements"><span class="tocnumber">3.1.3.3</span> <span class="toctext">Test with output power measurements</span></a></li>
<li class="toclevel-4 tocsection-14"><a href="#Key_Figures_for_Bluetooth_low_energy_Test_Parameters"><span class="tocnumber">3.1.3.4</span> <span class="toctext">Key Figures for Bluetooth low energy Test Parameters</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In the BLEv1.2 release, support for Production Test Mode (PTM) has been added, allowing a BLE application in a "single-chip" configuration to temporarily expose the HCI over the UART interface when triggered externally to do so (e.g. hold a GPIO pin low during power up). This allows the device to be connected to a Bluetooth Tester in order to run Direct Test Mode (DTM) commands on a production line using the final release firmware, while leaving the UART GPIO pins available for the application to use at all other times.
</p>
<h3><span id="Direct_Test_Mode_(DTM)"></span><span class="mw-headline" id="Direct_Test_Mode_.28DTM.29">Direct Test Mode (DTM)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=2" title="Edit section: Direct Test Mode (DTM)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>There is a standard method for testing in BLE using the Direct Test Mode (DTM) HCI commands. A number of companies, including Anritsu (MT8852B) and Rhode and Schwarz make BLE Testers that make use of this mode. It is very useful to use these testers during development or in production line in order to verify the RF performance of BLE system. Complementary to these testers, it is possible to create your own PC application that sends these HCI commands over the serial link. DTM is very well described in the Bluetooth Core Specification Volume 6 Part F.
</p>
<h3><span id="Production_Test_Mode_(PTM)"></span><span class="mw-headline" id="Production_Test_Mode_.28PTM.29">Production Test Mode (PTM)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=3" title="Edit section: Production Test Mode (PTM)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>One problem with DTM is that it relies on a certain stack configuration (network processor with HCI exposed over UART) in order to work with the testers, though many end-applications don’t use this configuration. This would require the customer, during production, to flash the CC254x with the network processor image before testing, and then re-flash with the final product image. To get around this, we have implemented the new feature in the v1.2 stack called Production Test Mode (PTM), which allows for a single software application to support production test mode without exposing the HCI to the UART pins under normal operation.
PTM is set up to use HAL USART 0 UART, although those same pins can be used for the application UART interface. They just need to make sure that the other device that is connected to the UART interface does not run at the same time that DTM is being used. If the device powers up and goes into PTM mode (by a GPIO being held high or low), the UART is then used for DTM commands. If the device powers up normally and does not go into PTM mode, then the UART can be initialized by the application and used to communicate with the other device.
</p>
<h2><span id="How_to_use_Production_Test_Mode_(PTM)_on_the_CC254x"></span><span class="mw-headline" id="How_to_use_Production_Test_Mode_.28PTM.29_on_the_CC254x">How to use Production Test Mode (PTM) on the CC254x</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=4" title="Edit section: How to use Production Test Mode (PTM) on the CC254x">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A PC is connected to one CC2540USB dongle running the HostTestRelease project (included with our SDK). The PC also has a UART connection with the Device Under Test (DUT). When the DUT is powered up, it must have one GPIO held the opposite of what it normally would be held. For example, if the GPIO normally has a resistor tied to ground on the PCB, you would need to make sure that before powering up for test that the pin is connected high to VDD. In the application source code initialization function, be sure that the following line of code is included:
</p><p>#include “hci.h”
if( GPIO == VDD ) // change the if statement to match the HW setup on the PCB
{
      HCI_EXT_EnablePTM();
} With this code in the application and with the GPIO held high, the device will power up and the HCI_EXT_EnablePTM function will get called, which exposes the UART pins to enable test commands.
As far as the USB dongle goes, you will need to have the driver loaded. The driver is included with our stack at C:\Texas Instruments\BLE-CC254x-1.2\Accessories\Drivers. This driver will create a Windows COM port for communication with the dongle. You will also have another Windows COM port for UART communication with the DUT. For communication with these devices, you will want to use the following port settings:
</p>
<ul><li>Baud Rate 	= 	115200 (or 57600)</li>
<li>Flow Control	= 	Hardware (CTS/RTS)</li>
<li>Parity 		= 	None</li>
<li>Stop Bits 	= 	1</li>
<li>Data Bits 	= 	8</li></ul>
<p>With both the dongle and DUT connected to PC COM ports, you will want to set the DUT in Tx test mode, and the dongle in Rx test mode over the COM ports (details on these commands below). You want to make sure that you send the commands to the two devices at the same time. The two devices will respond with an acknowledgement on the COM port and go into test modes. The device in Tx test mode will send one packet every 625 us. The device in Rx test mode will simply listen. After a period of time, you should send the test end command to both devices (again at the same time). Again the devices will both send acknowledgements back to the PC, though the dongle will include the total number of packets that were received while it was in Rx test mode. Based on the amount of time from start to finish, you will know how many packets were sent. After ending the Rx test you can see the number of packets received. With this you can calculate the PER. To test Rx on the DUT, you can put the dongle in Tx mode and put the DUT in Rx mode, repeating the same process but with roles reversed.
</p><p> 
</p>
<h3><span class="mw-headline" id="Test_Commands">Test Commands</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=5" title="Edit section: Test Commands">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Command to start TX Test: <b>HCI_LE_Transmitter_Test</b> <br />
Send this hex command to start Tx test: 01 1E 20 03 xx yy zz<br />
xx = the channel you want to transmit on, any value from 0x00 to 0x27 (BLE channels go from 0 to 39)<br />
yy = length of payload bytes in each test packet, which can be any value from 0x00 to 0x25<br />
zz = code for the type of data in the packet payload. The following values can be used<br />
0x00 Pseudo-Random bit sequence 9<br />
0x01 Pattern of alternating bits ‘11110000’<br />
0x02 Pattern of alternating bits ‘10101010’<br />
0x03 Pseudo-Random bit sequence 15<br />
0x04 Pattern of All ‘1’ bits<br />
0x05 Pattern of All ‘0’ bits<br />
0x06 Pattern of alternating bits ‘00001111’<br />
0x07 Pattern of alternating bits ‘0101’<br />
<br />
After sending the HCI_LE_Transmitter_Test command to the device, the following response will be returned, indicating that the command was received and the Tx test has begun: 04 0E 04 01 1E 20 00 <br />
<br />
Command to start Rx test: <b>HCI_LE_Receiver_Test</b><br />
Send this hex command to start Rx test: 01 1D 20 01 xx<br />
xx = the channel you want to receive on, which can be any value from 0x00 to 0x27 (BLE channels go from 0 to 39)<br />
After sending the HCI_LE_Receiver_Test command to the device, the following response will be returned, indicating that the command was received and the Rx test has begun: 04 0E 04 01 1D 20 00 <br />
<br />
Command to end either the Tx or Rx test: <b>HCI_LE_Test_End</b><br />
Send this hex command to end Rx or Tx test: 01 1f 20 00<br />
After sending the HCI_LE_Test_End command to the device, the following response will be returned, indicating that the command was received and the test has ended: 04 0e 06 01 1f 20 00 xx xx<br />
xx xx = 00 00 if Tx test was performed<br />
xx xx = Total number of received packets if Rx test was performed.<br />
<br />
</p>
<h1><span class="mw-headline" id="How_to_Use_PTM_from_an_Application_Point_of_View">How to Use PTM from an Application Point of View</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=6" title="Edit section: How to Use PTM from an Application Point of View">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This section presents how to enable PTM in the SimpleBLEPeripheral project, although the code can be used in any wanted project. This section shows how the application checks whether an MT8852B tester is connected during startup. It works by checking whether GPIO P0.4 is held low, and if it is then the application will enable PTM. Anritsu has implemented software in the MT8852B that will hold that line low to signal to the CC254x (Pin P0.4 is exposed on the DB-9 header connecting to the MT8852B). The other pins are the normal pins used for the HCI interface when using a network processor build.
Essentially, all PTM does is allows you to expose the physical UART HCI interface in a single-chip build, only when triggered by some action during initialization. In the case of the sample code, the action is pin P0.4 being held down by the MT8852B. On the production line when the MT8852B is connected, the device will initialize into PTM. Under all other circumstances (such as when the end-user powers up the device as a final product), the GPIO will not be held low, so the device will initialize as normal. The HCI interface is not exposed to the physical UART interface, and those GPIO pins can be used by the application for anything. This allows one single software build to be used for both production testing as well as the final application.<br /><br />
Add the following preprocessors to your project options:<br />HAL_UART<br /> HAL_DMA=TRUE
<br />
<br />
It is also important that you include the correct Transport Layer library so that PTM commands are routed correctly.<br />
</p>
<ul><li>In IAR, under the LIB folder
<ul><li>Either remove or exclude from build the CC254x_BLE_HCI_TL_None.lib</li>
<li>And add the PTM library file found at Projects\ble\Libraries\Common\bin\CC254x_BLE_HCI_TL_PTM.lib.<br /></li></ul></li>
<li>If the file already in use was xxx_Full.lib, then you don't need to change anything.</li></ul>
<p><br />
<br />
Add following to constant declaration to your application (Ex. simpleBLEPeripheral.c)<br /><br />
</p><p><br />
</p>
<pre>#include "hci.h"
#define PTM                   4 //Pin to use to check if Tester is connected 
#define RDY                   5
#define PDUP0                 5
#define P0ICON                0
#define TESTER_CONNECTED()    (P0_4==0)?TRUE:FALSE
</pre>
<p><br /><br />
Define and add below function to setup the interface. This shows how to setup two GPIOs used as the RS232 flow control pins for the Production Test Mode header interface. This interface assumes that UART0, Alt 1 is used. The RTS is mapped as a pulled-up input and is used to determine if a Tester connector is attached to the PTM header. If RTS is asserted (low), a connector is attached and PTM can be enabled, otherwise the application can boot normally. The DUT's RTS is de-asserted. If PTM is enabled, then when this pin is configured as part of the UART flow control, its value will be asserted, which indicates to the Tester that the DUT is ready.
<br /><br />
</p><p><br />
</p>
<pre>void llSetupPTMTestPort( void )
{
  // ready UART0, Alternative 1 for the application to monitor
  P0SEL &amp;= (~BV(PTM) &amp; ~BV(RDY)); // GPIO
  P0DIR &amp;= ~BV(PTM);              // input; this is Tester's RTS
  P0DIR |=  BV(RDY);              // output; this is Tester's CTS
  P0    |=  BV(RDY);              // de-assert Tester's CTS
  P0INP &amp;= ~BV(PTM);              // pull-up/pull-down depending on P2INP
  P2INP &amp;= ~BV(PDUP0);            // pull-up
  return;
}</pre> <p><br />
</p><p>Add the following to the Init function (Ex. SimpleBLEPeripheral_Init) and put the previous content in the else case<br />
</p><p><br />
</p>
<pre>llSetupPTMTestPort();
// check if Tester's RTS is asserted
if ( TESTER_CONNECTED() )
{
  (void)osal_pwrmgr_task_state( task_id, PWRMGR_HOLD );
  HCI_EXT_EnablePTMCmd();
}
else
{
  #ifdef POWER_SAVING
  (void)osal_pwrmgr_task_state( task_id, PWRMGR_CONSERVE );
  #endif
  //Copy and Past the original init content here
}</pre>
<p><br /> See the following wiki page for all 4 UART configuations: <a rel="nofollow" class="external free" href="All_4_uart_configs.html">http://processors.wiki.ti.com/index.php/All_4_uart_configs</a>
</p>
<h2><span id="Using_Rohde_&amp;_Schwarz_CBT_Bluetooth_Tester_with_CC254xEM_Running_HostTestRelease"></span><span class="mw-headline" id="Using_Rohde_.26_Schwarz_CBT_Bluetooth_Tester_with_CC254xEM_Running_HostTestRelease">Using Rohde &amp; Schwarz CBT Bluetooth Tester with CC254xEM Running HostTestRelease</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=7" title="Edit section: Using Rohde &amp; Schwarz CBT Bluetooth Tester with CC254xEM Running HostTestRelease">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section describes setup of CC2540EM/CC2541EM for Bluetooth low energy RF testing using Rohde &amp; Schwarz CBT Bluetooth Tester.<br />
The RS232 port on the SmartRF05EB can be used to connect to the Bluetooth low energy tester.<br />
</p>
<h3><span class="mw-headline" id="Setup_of_SmartRF05EB">Setup of SmartRF05EB</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=8" title="Edit section: Setup of SmartRF05EB">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ol><li>Set switch “EM selection” (P19) to Soc/TRX.</li>
<li>Set switch “RS232 Enable” (P14) to Enable.</li></ol>
<p>The RS232 driver charge pump generates noise that is coupled into the supply to the CC2540/CC2541. Therefore it is a good idea to separate power supply to the EM to avoid this:
</p>
<ol><li>Remove jumper on P15 (V_EM)</li>
<li>Insert positive supply to pin 2 on P15, and supply ground to pin GND on P3.</li></ol>
<h3><span class="mw-headline" id="Setting_up_CC254x_for_PHY_Testing">Setting up CC254x for PHY Testing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=9" title="Edit section: Setting up CC254x for PHY Testing">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Use hex image: C:\Texas Instruments\BLE-CC254x-1.2\Accessories\HexFiles\CC2540_SmartRF_HostTestRelease_All.hex or CC2541_SmartRF_HostTestRelease_All.hex
Use Flash Programmer to program the EM device hosting the SmartRF05EB by
</p>
<ol><li>Attach the SmartRF05EB with a USB cable to the PC.</li>
<li>Install SmartRF flash programmer  (SmartRF flash programmer 1.11.1 or newer)
<ol><li>The software can be downloaded from: <a rel="nofollow" class="external free" href="http://www.ti.com/lit/zip/swrc044">http://www.ti.com/lit/zip/swrc044</a></li>
<li>The manual can be downloaded from: <a rel="nofollow" class="external free" href="http://www.ti.com/litv/pdf/swru069e">http://www.ti.com/litv/pdf/swru069e</a></li></ol></li>
<li>Select the correct flash image and push “Perform action” button. Ensure that “Erase, program and verify” is selected.</li></ol>
<p>Downloading from IAR is also possible by using the HostTestRelease project (found at C:\Texas Instruments\BLE-CC254x-1.2\Projects\ble\HostTestApp\CC254X\HostTestRelease.eww)<br />
Select CC254XEM project and select “Project” -&gt; “Download and debug” (or press Ctrl+D).<br />
</p>
<h3><span id="Rohde_&amp;_Schwarz_CBT"></span><span class="mw-headline" id="Rohde_.26_Schwarz_CBT">Rohde &amp; Schwarz CBT</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=10" title="Edit section: Rohde &amp; Schwarz CBT">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Option CBT-K57 Bluetooth low energy wireless technology option must be installed.<br />
</p>
<h4><span id="HCI/RS232_Setup"></span><span class="mw-headline" id="HCI.2FRS232_Setup">HCI/RS232 Setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=11" title="Edit section: HCI/RS232 Setup">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Setup HCI connection for stand-alone operation:<br />
</p>
<ul><li>System (Button sub group) -&gt; Setup (Hard button) -&gt; Comm.(Soft button) -&gt;
<ul><li>Application -&gt; DUT Control</li>
<li>Baudrate -&gt; 115200 (or 57600)</li>
<li>Databits -&gt; 8</li>
<li>Stop bits -&gt; 1</li>
<li>Parity -&gt; None</li>
<li>Protocol -&gt; None</li></ul></li></ul>
<h4><span class="mw-headline" id="Connect_to_EM">Connect to EM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=12" title="Edit section: Connect to EM">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li>“Connect. Ctrl” (Upper right soft button)</li>
<li>“Enable Test mode” (Soft button)</li></ul>
<h4><span class="mw-headline" id="Test_with_output_power_measurements">Test with output power measurements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=13" title="Edit section: Test with output power measurements">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Menu select (soft button) -&gt; Bluetooth LE Power (soft button) -&gt; Power (soft button)<br />
<a href="File_RnS.html" class="image"><img alt="RnS.png" src="https://processors.wiki.ti.com/images/6/6b/RnS.png" width="545" height="410" /></a><br />
Rohde &amp; Schwarz screen shot from output power test.<br />
</p>
<h4><span class="mw-headline" id="Key_Figures_for_Bluetooth_low_energy_Test_Parameters">Key Figures for Bluetooth low energy Test Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit&amp;section=14" title="Edit section: Key Figures for Bluetooth low energy Test Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li>Standard: Bluetooth 4.0 low energy</li>
<li>Data rate: 1 Mbps.</li>
<li>Modulation: GFSK with 250 kHz deviation.</li>
<li>Min frequency: 2402 MHz.</li>
<li>Mid frequency: 2440 MHz.</li>
<li>Max frequency: 2480 MHz.</li>
<li>TX output power:
<ul><li>CC2540: 4 dBm (measured conducted at antenna connector)</li>
<li>CC2541: 0 dBm (measured conducted at antenna connector)</li></ul></li>
<li>Min voltage: 2.0 V.</li>
<li>Mid/nominal voltage: 3.0 V.</li>
<li>Max voltage: 3.6 V.</li>
<li>In-band image frequency:
<ul><li>FRF + 2 MHz for FRF  2440 MHz</li>
<li>FRF - 2 MHz for FRF &gt; 2440 MHz</li></ul></li></ul>

<!-- 
NewPP limit report
Cached time: 20201130115039
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.052 seconds
Real time usage: 0.053 seconds
Preprocessor visited node count: 91/1000000
Preprocessor generated node count: 140/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 1184/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:16651-0!canonical and timestamp 20201130115039 and revision id 222511
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>PTM</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>PTM</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>PTM</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>PTM</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>PTM</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>PTM</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>PTM</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>PTM</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>PTM</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=PTM&amp;oldid=222511">https://processors.wiki.ti.com/index.php?title=PTM&amp;oldid=222511</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_BluetoothLE.html" title="Category:BluetoothLE">BluetoothLE</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=PTM" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="PTM.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:PTM&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="PTM.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/PTM.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/PTM.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;oldid=222511" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=PTM&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 1 November 2016, at 10:51.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.052","walltime":"0.053","ppvisitednodes":{"value":91,"limit":1000000},"ppgeneratednodes":{"value":140,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":1184,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130115039","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":230});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/PTM by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 03:11:02 GMT -->
</html>
