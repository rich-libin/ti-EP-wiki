<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Trace_Limitations by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:10:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Trace Limitations - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Trace_Limitations","wgTitle":"Trace Limitations","wgCurRevisionId":32277,"wgRevisionId":32277,"wgArticleId":4353,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Trace_Limitations","wgRelevantArticleId":4353,"wgRequestId":"5ace86969f0cb964677b3c05","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Trace_Limitations rootpage-Trace_Limitations skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Trace Limitations</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Standard_Trace_Limitations"><span class="tocnumber">1</span> <span class="toctext">Standard Trace Limitations</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Standard_Trace_Only_has_visibility_to_data_that_travels_over_the_CPU_Memory_Bus"><span class="tocnumber">1.1</span> <span class="toctext">Standard Trace Only has visibility to data that travels over the CPU Memory Bus</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Bandwidth_Constraints"><span class="tocnumber">1.2</span> <span class="toctext">Bandwidth Constraints</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Overclocking_the_XDS560T"><span class="tocnumber">1.3</span> <span class="toctext">Overclocking the XDS560T</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Self_Modifying_Code"><span class="tocnumber">1.4</span> <span class="toctext">Self Modifying Code</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Super_Gap_Issue"><span class="tocnumber">1.5</span> <span class="toctext">Super Gap Issue</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#SPLOOP.2FDelay_Slot_Of_Branch_Limitations"><span class="tocnumber">1.6</span> <span class="toctext">SPLOOP/Delay Slot Of Branch Limitations</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Example_1"><span class="tocnumber">1.6.1</span> <span class="toctext">Example 1</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Example_2"><span class="tocnumber">1.6.2</span> <span class="toctext">Example 2</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Timing_Stream_Limitations"><span class="tocnumber">1.7</span> <span class="toctext">Timing Stream Limitations</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Store_Sample_Timing_Stream_Limitation"><span class="tocnumber">1.7.1</span> <span class="toctext">Store Sample Timing Stream Limitation</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Example"><span class="tocnumber">1.7.2</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Timing_Stream_Execute_Pipeline_Alignment"><span class="tocnumber">1.7.3</span> <span class="toctext">Timing Stream Execute Pipeline Alignment</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Event_Trace_Limitations"><span class="tocnumber">2</span> <span class="toctext">Event Trace Limitations</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#Event_Trace_Jobs"><span class="tocnumber">2.1</span> <span class="toctext">Event Trace Jobs</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Only_Highest_Priority_Stall_Events_Captured"><span class="tocnumber">2.2</span> <span class="toctext">Only Highest Priority Stall Events Captured</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Standard_Trace_Limitations">Standard Trace Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=1" title="Edit section: Standard Trace Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>As with any tool or software package, trace has some limitations.  It is recommended that you understand the limitations before spending hours trying to use trace to solve a problem that is wasn't meant for.  Nothing is more frustrating than wasting time heading down a path that will inevitably dead end.  It's better to spend a little bit of time learning where the dead ends are.
</p><p>In this section, the trace limitations will be spelled out.  In some cases, examples of cases where the limitation is a problem will be given, and, when available, alternate configurations will be mentioned that work around the limitation.
</p>
<h2><span class="mw-headline" id="Standard_Trace_Only_has_visibility_to_data_that_travels_over_the_CPU_Memory_Bus">Standard Trace Only has visibility to data that travels over the CPU Memory Bus</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=2" title="Edit section: Standard Trace Only has visibility to data that travels over the CPU Memory Bus">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Without getting into too much detail about the design of trace, it can be said that trace works like a logic analyzer that monitors activity on the CPU Program and Data buses.  This means that there are a number of different types of memory accesses that trace provides no visibility into:
</p>
<ul><li>DMA</li>
<li>HPI</li>
<li>CPU Register Accesses</li>
<li>Any other peripheral access</li></ul>
<p>Additionally, Trace gives no insight into whether a value was read from cache, or whether it came from memory.  In either case, the values travel over the same memory bus and Trace cannot distinguish between the two.  
</p><p><br />
</p>
<table border="1">
<tbody><tr>
<td>
<div class="floatleft"><a href="File_DeadEnd.html" class="image"><img alt="DeadEnd.png" src="https://processors.wiki.ti.com/images/2/22/DeadEnd.png" width="75" height="75" /></a></div> 
<p><b><a href="https://processors.wiki.ti.com/index.php?title=Dead_End&amp;action=edit&amp;redlink=1" class="new" title="Dead End (page does not exist)">Dead End</a></b>
</p><p>Don't try to use trace to watch memory locations that might be getting overwritten by DMA, HPI, etc.  Trace can't see those writes because they don't travel over the memory bus.  You can use trace to monitor writes to the DMA Configuration registers, but not to monitor writes actually done by the DMA
</p>
</td></tr></tbody></table>
<p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Bandwidth_Constraints">Bandwidth Constraints</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=3" title="Edit section: Bandwidth Constraints">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Trace does not have the bandwidth to capture <i>everything</i> at once.  The trace hardware has a limited FIFO, and if overflowed the user will see gaps in the captured trace data (gaps are marked in the trace Status column).  It's not wise to create a Trace On job, and enable every trace data type of every trace stream (PC, Timing, Data Read Address, Data Read Data, Data Write Address, and Data Write Data).  As soon as any data begins to be accessed, the trace output will be filled mostly with gaps in the trace data.  
</p>
<table border="1">
<tbody><tr>
<td>
<div class="floatleft"><a href="File_Helpful_tips_image.html" class="image"><img alt="Helpful tips image.jpg" src="https://processors.wiki.ti.com/images/5/5c/Helpful_tips_image.jpg" width="75" height="76" /></a></div> 
<p><span style="color: Red"><b>Useful Tip</b></span>
</p><p>When Using Data Trace, make every attempt to limit the amount of data that is being captured to data that is relevant.  This will avoid needing to deal with gaps in the trace data.  Being able to use AET to trigger only when necessary is the key to capturing a minimal amount of data
</p>
</td></tr></tbody></table>
<p><b>Trace Bandwidth Calculations</b>
</p><p>The XDS560 Trace Pod is capable of acquiring trace data up to 333Mbits/sec per pin. The XDS560's Trace Pod buffer storage maximum data rate is 3.33 Gbits per second, which means at 333Mbits per second a maximum of 10 pins can be employed to transfer trace data from the device to the XDS560 Trace pod.
</p><p>Devices that support trace may also include dedicated memory on-chip that is used to collect smaller samples of trace data.  This feature is called the Embedded Trace Buffer (ETB).  The ETB collects trace over a wider (20-bits wide) on-chip bus with a data rate of approximately 333 MBits/sec/bit resulting in a maximum data rate of 6.67 Gbits/sec.
</p><p>Both PC and Timing streams are highly compressed. With a processor running at 1 Ghz the PC trace stream requires 1.25 Gbits/sec (assuming relative branches) and the Timing stream requires .625 Gbits/sec. When you combine the PC stream (1.25 Gbits/sec) or PC+Timing streams (1.875 Gbits/sec) with the data trace stream, the bandwidth available for data trace is the difference between the maximum export rate (3.33Gbits/sec for the XDS560 Trace Pod or 6.67 Gbits/sec for ETB) and the PC or PC+Timing streams. In the case of the XDS560 Trace pod, once it's calibrated the trace data rate per pin is provided in the trace display.
</p><p>Data trace does not typically compress very well due to the random nature of CPU data accesses. Considering no compression a worst case data access (32-bit PC of the access, 32-bit address, 32-data, and access size) takes on the order of ~110 bits to represent in the trace data. Assuming both PC and Timing streams are enabled, using the available bandwidth of the XDS560 Trace Pod (3.33 GBits/sec - 1.875 Gbits/sec) leaves 1.455 Gbits/sec for data trace. If we divide the available bandwidth by the number of bits per access you can trace 13.2M accesses per second, or 1 CPU memory access every 77 cycles with a 1Ghz processor. In the ETB case (6.67 Gbits/sec - 1.875 Bbits/sec) the available bandwidth for data trace in this case is 4.795 Gbits/sec you can trace 43.6M accesses per second, or 1 cpu access every 23 cycles.
</p><p>The general rule of thumb is the trace FIFOs can absorb a worst case data access every 80 cycles with PC and Timing streams enabled when exporting to the pins, and 23 cycles when exporting to ETB without causing gaps in the trace data. If you have PC and Timing streams disabled or your data trace stream compresses better than typical random accesses (tracing sequential accesses) you may be able to improve on the frequency at which you can trace the data stream.
</p>
<h2><span class="mw-headline" id="Overclocking_the_XDS560T">Overclocking the XDS560T</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=4" title="Edit section: Overclocking the XDS560T">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The XDS560T is designed to collect DDR trace data at a maximum clock rate of 167Mhz (333Mbit/sec/pin). Trace uses fixed divide-by-factors to derive the trace export clock from the functional clock rate of the device. Some devices may operate at a maximum functional clock rate that requires a trace clock rate that is slightly higher than 167Mhz rate to maximize the trace bandwidth. The maximum clock rate can be modified by changing the MAX_TRACEPORT_CLOCK_MHZ parameter in the ccsv4\emulation\analysis\bin\Receiver_CFEOpts.xml file. If your version of CCS does not include the MAX_TRACEPORT_CLOCK_MHZ parameter then that version does not support this feature. It is not recommended to extend this parameter beyond 175.0Mhz. If the quality of the trace data deteriorates it is recommended that you reduce the MAX_TRACEPORT_CLOCK_MHZ parameter. Trace data quality can be checked by searching the Trace Status column for "Bad" status, although there are other factors that can cause "Bad" status messages, such as executing code that is outside of the load image.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Self_Modifying_Code">Self Modifying Code</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=5" title="Edit section: Self Modifying Code">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Decoding of trace data is accomplished by using the executable image (coff or elf file) to fill in the sequential PC data between branches and to extract opcodes for disassemble. If the code is modified by execution on purpose then the executable image from the file will most likely not match causing  "Bad Trace Data" status messages in the Trace Status column. Some versions of BIOS will load different interrupt vectors at run time causing this problem. The trace system does support code Overlays per the guidelines provided by TI documentation.
</p>
<h2><span class="mw-headline" id="Super_Gap_Issue">Super Gap Issue</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=6" title="Edit section: Super Gap Issue">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In some cases, when the Trace FIFO is completely overloaded, and there are potentially huge gaps in between captured data. The Trace Output does not indicate the gaps.  So the output data will appear to not have any gaps in it, when in reality there are gaps in the trace data.  This is a dangerous scenario in that trace is hiding the fact that the data set that was captured is not complete.  When this occurs, typically the trace output will show no data trace where the PC's indicate instructions that are causing data accesses.
</p>
<table border="1">
<tbody><tr>
<td>
<div class="floatleft"><a href="File_Helpful_tips_image.html" class="image"><img alt="Helpful tips image.jpg" src="https://processors.wiki.ti.com/images/5/5c/Helpful_tips_image.jpg" width="75" height="76" /></a></div> 
<p><span style="color: Red"><b>Useful Tip</b></span>
</p><p>Trace has a setting in the Trace Control Window to tell the CPU to stall whenever Trace data will be lost.  This setting can be found in the Tools-&gt;Trace Control-&gt;Advanced menu under the heading <i>Options to Minimize Trace Data Loss</i>.  If you suspect that you are encountering the Super Gap issue, you can enable these stalls and check the output to see if there is additional trace data that is being missed.  Keep in mind that when using this option, the application likely won't meet its normal real-time deadlines.
</p>
</td></tr></tbody></table>
<h2><span id="SPLOOP/Delay_Slot_Of_Branch_Limitations"></span><span class="mw-headline" id="SPLOOP.2FDelay_Slot_Of_Branch_Limitations">SPLOOP/Delay Slot Of Branch Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=7" title="Edit section: SPLOOP/Delay Slot Of Branch Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Trace cannot be triggered within an SPLOOP or in the delay slot of a branch (or any other time the pipeline is in a non-interruptable state).  This doesn't mean that if PC trace is being captured that it will miss capturing the instructions within each of these condition's.  What it means is that trace cannot be started or stopped while either of these conditions is present.  The trigger is generated, but cannot be acted on until the SPLOOP/Delay Slot condition is removed.  This may not seem like a serious issue at first, but when capturing data trace, it can potentiality cause trace to capture data that wasn't expected.
</p>
<h4><span class="mw-headline" id="Example_1">Example 1</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=8" title="Edit section: Example 1">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Take the following scenario...
A job is created to capture data write values to a specific address.  For simplicity, let's assume that this address is 0x00808000.  At some point, while the application is in an SPLOOP, this address is written to.  What happens?  Well, when address 0x00808000 is written to, AET generates a store write data sample trigger is generated.  However, because the code is in an SPLOOP, it cannot act on this trigger.  However, the trigger will pend until the SPLOOP condition goes away.  Now, on the cycle that that the SPLOOP condition goes away, if data is written to memory (regardless of where it is written to), it will get captured by trace.  (Remember that the store sample trigger will store any data on the data bus, regardless of address.  The address is handled by AET.)  If no data happens to be written on the cycle where the SPLOOP condition goes away, trace will not store any data.  
</p><p>So, as you can see, this limitation can potentially cause two different types of false data in the trace output.  In the first case, data that is written to a different address than was specified can be captured.  In the second case, data is missed for one of the triggers.  In a third case, which wasn't discussed, multiple triggers can be missed.  If the specified address is written to multiple times while the SPLOOP condition exists, only one of those triggers actually gets generated when the SPLOOP condition goes away.  It behaves very similar to an interrupt that occurs when interrupts are disabled.  If multiple interrupts occur while the interrupts are disabled, only one interrupt is serviced when the interrupts are re enabled.
</p>
<h4><span class="mw-headline" id="Example_2">Example 2</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=9" title="Edit section: Example 2">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>If you setup a Trace In Range job, and set the end point to the address of the last instruction of a branch delay slot, PCs and/or data will continue to be traced until execution advances past the delay slot causing extra data to be traced that is outside of the range you selected. The extra PCs traced may be one or more instructions, and depends on the nesting depth of the branch. You can get the same effect with End Trace jobs.
</p>
<h2><span class="mw-headline" id="Timing_Stream_Limitations">Timing Stream Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=10" title="Edit section: Timing Stream Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Store_Sample_Timing_Stream_Limitation">Store Sample Timing Stream Limitation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=11" title="Edit section: Store Sample Timing Stream Limitation">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Timing Stream doesn't advance between store sample triggers.  This means that if the trace jobs are strictly storing data samples, the cycles that trace shows between them won't reflect the actual time between writes.  The numbers will appear as consecutive cycles.  
</p><p>To avoid this problem you can setup a separate Trace On job with nothing but timing enabled. This will allow timing data to accumulate between Store Sample triggers.
</p>
<h3><span class="mw-headline" id="Example">Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=12" title="Edit section: Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A simple use case for trace to do some type of thread level profiling would be to instrument the switch function ion the RTOS to write the id of the next task to a global variable.  Then, you might create a trace job that stores the data written to that address along with the timestamp for the write.  This will give you a crude thread execution graph, as you could see in the data the list of threads that have been executed.  However, due to this limiation, the cycle count will show each thread as being a single cycle after the prior thread.
</p>
<h3><span class="mw-headline" id="Timing_Stream_Execute_Pipeline_Alignment">Timing Stream Execute Pipeline Alignment</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=13" title="Edit section: Timing Stream Execute Pipeline Alignment">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Each execute stage of the pipeline generates a portion of the trace data that is required to reconstruct the CPU's PC and Data activity. The trace data from each execute phase is aligned by the <a href="Pipeline_Flattener.html" title="Pipeline Flattener"><b>Pipeline Flattener</b></a>. The Timing Stream and Stall Events are aligned to the output of the Pipeline Flattener. Any stall events and pipeline advance delays (Timing Stream data) that occur during a pipeline advance are reported with the PC that is exiting the Pipeline Flattener (at pipeline stage E5). See <a href="Understanding_Trace_Timing.html" title="Understanding Trace Timing"><b>Understanding Trace Timing</b></a> to determine the alignment of the execute pipeline with trace data during a stall.
</p>
<h1><span class="mw-headline" id="Event_Trace_Limitations">Event Trace Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=14" title="Edit section: Event Trace Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Event_Trace_Jobs">Event Trace Jobs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=15" title="Edit section: Event Trace Jobs">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Every Event Trace job must utilize the same event category (stall, memory, system) for triggering, except for the system event. You can have one system event job and 4 other jobs of the same type, or 5 system event jobs.
</p>
<h2><span class="mw-headline" id="Only_Highest_Priority_Stall_Events_Captured">Only Highest Priority Stall Events Captured</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit&amp;section=16" title="Edit section: Only Highest Priority Stall Events Captured">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In the Unified Breakpoint manager, the user can select up to 4 different events (or sets of events) for Event Trace. In this article, these will be referred to as <i>UBM Events</i>.  Note that a <i>UBM Event</i> can consist of multiple processor events.  Choosing the individual events from within UBM simply enables inputs to an OR gate that generates the UBM Event.  The Limitation here occurs when the user selects multiple <i>UBM Events</i> from the Stall Family.  The <i>UBM Events</i> are identified as <b>Event 1</b>, <b>Event 2</b>, <b>Event 3</b>, <b>Event 4</b>.  They are prioritized with Event1 being the highest priority, and Event 4 being the lowest.  In an Event Trace scenario where two <i>UBM Events</i> are generated on the same cycle, only the higher priority event will be displayed int the output.
</p>
<table border="1">
<tbody><tr>
<td>
<p><b><a href="https://processors.wiki.ti.com/index.php?title=Corner_Case&amp;action=edit&amp;redlink=1" class="new" title="Corner Case (page does not exist)">Corner Case</a></b> 
</p>
<div class="floatleft"><a href="File_Corner.html" class="image"><img alt="Corner.jpg" src="https://processors.wiki.ti.com/images/8/8c/Corner.jpg" width="75" height="75" /></a></div> This limitation is only true when the selected event category is Stalls.  If either of the other event categories are chosen (Memory, System), multiple outputs are indicated by reporting a weighted sum value.  UBM Event 1 carries weight of 1, where UBM Events 2,3 and 4 carry a weight of 2,4, and 8 respectively.  So, for example, a value of 0xB in the trace stream would indicate that UBM Events 4, 2, and 1 triggered on that cycle
</td></tr></tbody></table>

<!-- 
NewPP limit report
Cached time: 20201130221114
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.055 seconds
Real time usage: 0.059 seconds
Preprocessor visited node count: 97/1000000
Preprocessor generated node count: 203/1000000
Post‐expand include size: 2704/2097152 bytes
Template argument size: 2337/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    4.885      1 -total
 32.89%    1.607      2 Template:UsefulTip
 30.16%    1.473      1 Template:DeadEnd
 28.23%    1.379      1 Template:CornerCase
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:4353-0!canonical and timestamp 20201130221114 and revision id 32277
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Trace Limitations</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Trace Limitations</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>Trace Limitations</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>Trace Limitations</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>Trace Limitations</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Trace Limitations</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Trace Limitations</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>Trace Limitations</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>Trace Limitations</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;oldid=32277">https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;oldid=32277</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Trace+Limitations" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Trace_Limitations.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:Trace_Limitations&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Trace_Limitations.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Trace_Limitations.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Trace_Limitations.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;oldid=32277" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Trace_Limitations&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 2 June 2010, at 14:35.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.055","walltime":"0.059","ppvisitednodes":{"value":97,"limit":1000000},"ppgeneratednodes":{"value":203,"limit":1000000},"postexpandincludesize":{"value":2704,"limit":2097152},"templateargumentsize":{"value":2337,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    4.885      1 -total"," 32.89%    1.607      2 Template:UsefulTip"," 30.16%    1.473      1 Template:DeadEnd"," 28.23%    1.379      1 Template:CornerCase"]},"cachereport":{"timestamp":"20201130221114","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":235});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Trace_Limitations by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:10:48 GMT -->
</html>
