<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Troubleshooting_DSPLink_configuration_issues by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:36:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Troubleshooting DSPLink configuration issues - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Troubleshooting_DSPLink_configuration_issues","wgTitle":"Troubleshooting DSPLink configuration issues","wgCurRevisionId":181470,"wgRevisionId":181470,"wgArticleId":845,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["EndOfLife","DSPLink","DaVinci Linux"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Troubleshooting_DSPLink_configuration_issues","wgRelevantArticleId":845,"wgRequestId":"322cfd45415c0c2af85dbfac","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Troubleshooting_DSPLink_configuration_issues rootpage-Troubleshooting_DSPLink_configuration_issues skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Troubleshooting DSPLink configuration issues</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div style="margin:5px 5px 10px 5px; padding:2px 20px; background-color: #ffcccc; color: #ff0000; border-left: 5px solid #ff0000; border-right: 5px solid #ff1100; font-size: 1.0em;">
<p><b>END OF LIFE</b>
</p><p>DSP Link is still available for download, but no further releases or updates are planned.  Please see <a href="IPC_Software_Options.html" title="IPC Software Options">IPC Software Options</a> for details and alternatives.
</p>
</div>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Trouble-shooting_guide"><span class="tocnumber">2</span> <span class="toctext">Trouble-shooting guide</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Problem:_I_changed_the_memory_map_split_between_GPP_and_DSP.2C_now_my_application_does_not_work_anymore"><span class="tocnumber">2.1</span> <span class="toctext">Problem: I changed the memory map split between GPP and DSP, now my application does not work anymore</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Problem:_Modifying_DSPLink_configuration_file_is_not_making_any_difference_in_memory_map"><span class="tocnumber">2.2</span> <span class="toctext">Problem: Modifying DSPLink configuration file is not making any difference in memory map</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Problem:_PROC_setup_failure_with_DSP_ECONFIG_error"><span class="tocnumber">2.3</span> <span class="toctext">Problem: PROC_setup failure with DSP_ECONFIG error</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Problem:_Configuration_is_correct_but_PROC_setup_failed"><span class="tocnumber">2.4</span> <span class="toctext">Problem: Configuration is correct but PROC_setup failed</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Problem:_PROC_attach_failed_with_DSP_EALREADYCONNECTED_error"><span class="tocnumber">2.5</span> <span class="toctext">Problem: PROC_attach failed with DSP_EALREADYCONNECTED error</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Problem:_PROC_attach_failed_with_DSP_EFAIL_error"><span class="tocnumber">2.6</span> <span class="toctext">Problem: PROC_attach failed with DSP_EFAIL error</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Problem:_PROC_load_failed_with_DSP_ERANGE_error"><span class="tocnumber">2.7</span> <span class="toctext">Problem: PROC_load failed with DSP_ERANGE error</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Problem:_DSP_image_size_.3E_default_1MB"><span class="tocnumber">2.8</span> <span class="toctext">Problem: DSP image size &gt; default 1MB</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Problem:_PROC_load_failed_with_DSP_EFILE_error"><span class="tocnumber">2.9</span> <span class="toctext">Problem: PROC_load failed with DSP_EFILE error</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Problem:_PROC_load_failed_with_DSP_EMEMORY_error"><span class="tocnumber">2.10</span> <span class="toctext">Problem: PROC_load failed with DSP_EMEMORY error</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Problem:_PROC_load_failed_with_DSP_ESIZE_error"><span class="tocnumber">2.11</span> <span class="toctext">Problem: PROC_load failed with DSP_ESIZE error</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Problem:_PROC_start_failed_with_DSP_EVERSION_error"><span class="tocnumber">2.12</span> <span class="toctext">Problem: PROC_start failed with DSP_EVERSION error</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Problem:_PROC_start_failed_with_DSP_ERANGE_error"><span class="tocnumber">2.13</span> <span class="toctext">Problem: PROC_start failed with DSP_ERANGE error</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Problem:_PROC_start_failed_with_configuration_mismatch.2Ffailure"><span class="tocnumber">2.14</span> <span class="toctext">Problem: PROC_start failed with configuration mismatch/failure</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Problem:_PROC_start_failed_with_configuration_mismatch.2Ffailure_showing_modules_with_0xffffffff_but_print_for_one_of_the_modules_is_missing"><span class="tocnumber">2.15</span> <span class="toctext">Problem: PROC_start failed with configuration mismatch/failure showing modules with 0xffffffff but print for one of the modules is missing</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Problem:_PROC_start_failed_with_configuration_mismatch.2Ffailure_showing_some_modules_with_0_and_others_with_0xffffffff"><span class="tocnumber">2.16</span> <span class="toctext">Problem: PROC_start failed with configuration mismatch/failure showing some modules with 0 and others with 0xffffffff</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Problem:_PROC_start_failed_with_configuration_mismatch.2Ffailure_showing_some_modules_with_0.2C_some_with_1.2C_2_etc._and_others_with_0xffffffff"><span class="tocnumber">2.17</span> <span class="toctext">Problem: PROC_start failed with configuration mismatch/failure showing some modules with 0, some with 1, 2 etc. and others with 0xffffffff</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Problem:_Scaling_out_some_modules_resulted_in_PROC_start_hang_or_failure_with_configuration_mismatch.2Ffailure_showing_some_modules_with_0_and_others_with_0xffffffff"><span class="tocnumber">2.18</span> <span class="toctext">Problem: Scaling out some modules resulted in PROC_start hang or failure with configuration mismatch/failure showing some modules with 0 and others with 0xffffffff</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Problem:_DSPLink_samples_run_fine.2C_but_my_application_does_not"><span class="tocnumber">2.19</span> <span class="toctext">Problem: DSPLink samples run fine, but my application does not</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Problem:_Getting_error_when_inserting_DSPLink_module_dsplinkk.ko_on_Linux"><span class="tocnumber">2.20</span> <span class="toctext">Problem: Getting error when inserting DSPLink module dsplinkk.ko on Linux</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Problem:_Getting_error_when_running_sample_applications_on_Linux"><span class="tocnumber">2.21</span> <span class="toctext">Problem: Getting error when running sample applications on Linux</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Problem:_Scripts_are_not_executed_correctly.2C_parts_of_strings_go_mysteriously_missing"><span class="tocnumber">2.22</span> <span class="toctext">Problem: Scripts are not executed correctly, parts of strings go mysteriously missing</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Problem:_I_see_a_crash_as_soon_as_I_run_a_DSPLink_sample."><span class="tocnumber">2.23</span> <span class="toctext">Problem: I see a crash as soon as I run a DSPLink sample.</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>DSPLink is a configurable software, provided with full source code and an associated build and configuration system. This page gives gives a trouble-shooting guide for resolving common configuration issues seen with DSPLink, by identifying the causes for various common scenarios, and providing possible solutions.
</p>
<h2><span class="mw-headline" id="Trouble-shooting_guide">Trouble-shooting guide</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=2" title="Edit section: Trouble-shooting guide">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>IMPORTANT:</b> Wherever the DSPLink configuration file <code>$(DSPLINK)/config/all/CFG_&lt;PLATFORM&gt;.c</code> is mentioned, if DSPLink is used within Codec Engine, the method of configuration is different, and modifying the default configuration file within DSPLink will not have any impact.
</p>
<h3><span id="Problem:_I_changed_the_memory_map_split_between_GPP_and_DSP,_now_my_application_does_not_work_anymore"></span><span class="mw-headline" id="Problem:_I_changed_the_memory_map_split_between_GPP_and_DSP.2C_now_my_application_does_not_work_anymore">Problem: I changed the memory map split between GPP and DSP, now my application does not work anymore</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=3" title="Edit section: Problem: I changed the memory map split between GPP and DSP, now my application does not work anymore">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> Changing memory map caused the application to stop working. <br /> <b>Possible cause 1:</b> The complete set of steps for modifying the memory map must be done. Please look at <a href="Changing_DSPLink_Memory_Map.html" title="Changing DSPLink Memory Map">Changing DSPLink memory map wiki page</a> for a description of all the steps that must be performed to ensure that the memory map change is complete. <br /> <b>Possible cause 2:</b> If you are using DSPLink within Codec Engine, the steps to be taken for modifying memory map are different. For this information, refer to <a href="Changing_the_DVEVM_memory_map.html" title="Changing the DVEVM memory map">this page</a> <br /> <b>Possible cause 3:</b> Have you done a rebuild post the changes? <br /> <b>Possible cause 4:</b> Is your application linking in the libraries from the correct path?
</p>
<h3><span class="mw-headline" id="Problem:_Modifying_DSPLink_configuration_file_is_not_making_any_difference_in_memory_map">Problem: Modifying DSPLink configuration file is not making any difference in memory map</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=4" title="Edit section: Problem: Modifying DSPLink configuration file is not making any difference in memory map">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> Using instructions to modify DSPLink memory map is still causing <code>Engine_open</code> failure in Codec Engine, and/or printing: <br />
</p>
<pre>Error: DSP-side memory map does not match configuration.
Compare DSP-side TCF/MAP file with /dsplink/config/all/CFG_&lt;PLATFORM&gt;.c
</pre>
<p>Even though the specified <code>/dsplink/config/all/CFG_&lt;PLATFORM&gt;.c</code> configuration file has been modified to match DSP-side TCF file, still the problem is being seen. <br /> <b>Possible cause:</b> <code>Engine_open</code> failure seems to indicate that DSPLink is being used inside Codec Engine. In such cases, modifying the default configuration file within DSPLink as mentioned above will not make any difference. This file gets overwritten by Codec Engine, which provides a dynamic configuration to DSPLink. The actual changes to ensure correct memory map need to be made as mentioned at <a href="Changing_the_DVEVM_memory_map.html" title="Changing the DVEVM memory map">this page</a>
</p>
<h3><span class="mw-headline" id="Problem:_PROC_setup_failure_with_DSP_ECONFIG_error">Problem: PROC_setup failure with DSP_ECONFIG error</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=5" title="Edit section: Problem: PROC setup failure with DSP ECONFIG error">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_setup</code> failed with <code>DSP_ECONFIG</code> error.<br /> <b>Possible cause:</b> This indicates that some configuration information passed within the DSPLink configuration file <code>$(DSPLINK)/config/all/CFG_&lt;PLATFORM&gt;.c</code> is incorrect. In Linux as well as PrOS a print is shown which tells the exact mismatch. On Linux it is a kernel print and you can run dmesg to see the failure, accordingly make the changes and rebuild. Since the most common changes are memory entry settings and pool size mismatch, verify those first. If you have made more advanced changes the prints tell the exact failure.
</p>
<h3><span class="mw-headline" id="Problem:_Configuration_is_correct_but_PROC_setup_failed">Problem: Configuration is correct but PROC_setup failed</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=6" title="Edit section: Problem: Configuration is correct but PROC setup failed">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> All my configurations are correct but <code>PROC_setup</code> still failed. <br /> <b>Possible cause:</b> The memory being used for memory entries is not configured. In some Operating Systems, for example QNX, a configuration file might need to be edited to determine which the memory split between GPP and DSP.
</p>
<h3><span class="mw-headline" id="Problem:_PROC_attach_failed_with_DSP_EALREADYCONNECTED_error">Problem: PROC_attach failed with DSP_EALREADYCONNECTED error</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=7" title="Edit section: Problem: PROC attach failed with DSP EALREADYCONNECTED error">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_attach</code> failed with <code>DSP_EALREADYCONNECTED</code> error <br /> <b>Possible cause:</b> Another thread of the same process has already attached to the processor. Check the application code.
</p>
<h3><span class="mw-headline" id="Problem:_PROC_attach_failed_with_DSP_EFAIL_error">Problem: PROC_attach failed with DSP_EFAIL error</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=8" title="Edit section: Problem: PROC attach failed with DSP EFAIL error">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_attach</code> failed with <code>DSP_EFAIL</code> error <br /> <b>Possible cause:</b> DSP_EFAIL is a very common error. The application writer should <a href="Debugging_DSPLink_using_SET_FAILURE_REASON_prints.html" title="Debugging DSPLink using SET FAILURE REASON prints">enable SET_FAILURE_REASON</a> to see failure. If you see the following symptoms: <br />
</p>
<ul><li>Assertion in PROC_attach</li></ul>
<p>&lt;syntaxhighlight lang=c&gt;
Assertion failed ((isrObj!= NULL) &amp;&amp; (ISR_InstalledIsrs [isrObj-&gt;dspId][isrObj-&gt;irq] == isrObj)). File&#160;: dsplink/gpp/src/../../gpp/src/osal/Linux/2.6.18/isr.c Line&#160;: 504
&lt;/syntaxhighlight&gt;
</p>
<ul><li>On doing cat /proc/interrupts" to look at the assigned interrupts, you see <br /></li></ul>
<p>&lt;syntaxhighlight lang=c&gt;
26:          0        INTC  DspBridge  mailbox <br />
28:          0        INTC  DspBridge  iommu fault <br />
&lt;/syntaxhighlight&gt;
This can happen when CONFIG_MPU_BRIDGE is defined. This causes DspBridge interrupts to be assigned.  In "make xconfig" for Linux kernel, do not select "DSPBridge support" and re-build the kernel. Rebuild DSPLink samples with the re-built kernel and try.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Problem:_PROC_load_failed_with_DSP_ERANGE_error">Problem: PROC_load failed with DSP_ERANGE error</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=9" title="Edit section: Problem: PROC load failed with DSP ERANGE error">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_load</code> failed with <code>DSP_ERANGE</code> error. <br /> <b>Possible cause:</b> This error indicates that the DSP memory map does not match the memory map specified within DSPLink configuration file <code>$(DSPLINK)/config/all/CFG_&lt;PLATFORM&gt;.c</code>. DSPLink checks the memory map configuration before loading the DSP executable. Check the DSP-side TCF file or MAP file to see if any DSP-side code/data sections are falling outside of the range specified within DSPLink configuration.
</p>
<h3><span id="Problem:_DSP_image_size_&gt;_default_1MB"></span><span class="mw-headline" id="Problem:_DSP_image_size_.3E_default_1MB">Problem: DSP image size &gt; default 1MB</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=10" title="Edit section: Problem: DSP image size &gt; default 1MB">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> The size of my DSP executable is more than the 1MB default supported by DSPLink. Due to this, I am getting a <code>DSP_ERANGE</code> error in <code>PROC_load</code>. How do I fix this? <br /> <b>Possible cause:</b> If the size of the DSP executable is more than the default 1MB in DSPLink configuration, the DSPLink configuration must be <a href="Troubleshooting_DSPLink_configuration_issues.html#Problem:_I_changed_the_memory_map_split_between_GPP_and_DSP.2C_now_my_application_does_not_work_anymore" title="Troubleshooting DSPLink configuration issues">modified to have a different GPP-DSP memory split</a>.
</p>
<h3><span class="mw-headline" id="Problem:_PROC_load_failed_with_DSP_EFILE_error">Problem: PROC_load failed with DSP_EFILE error</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=11" title="Edit section: Problem: PROC load failed with DSP EFILE error">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_load</code> failed with <code>DSP_EFILE</code> error <br /> <b>Possible cause:</b> The DSP executable does not exist at the path provided to <code>PROC_load</code>. Recheck the path.
</p>
<h3><span class="mw-headline" id="Problem:_PROC_load_failed_with_DSP_EMEMORY_error">Problem: PROC_load failed with DSP_EMEMORY error</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=12" title="Edit section: Problem: PROC load failed with DSP EMEMORY error">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_load</code> failed with <code>DSP_EMEMORY</code> error <br /> <b>Possible cause:</b> The DSP executable size is too big and heap memory is not available. Recheck the system heap size configuration.
</p>
<h3><span class="mw-headline" id="Problem:_PROC_load_failed_with_DSP_ESIZE_error">Problem: PROC_load failed with DSP_ESIZE error</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=13" title="Edit section: Problem: PROC load failed with DSP ESIZE error">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_load</code> failed with <code>DSP_ESIZE</code> error <br /> <b>Possible cause:</b>  Configured DSP-side .args section size is insufficient. Set required size for .args section in DSP. For e.g. <code> bios.MEM.ARGSSIZE = 0x0032; </code>
</p>
<h3><span class="mw-headline" id="Problem:_PROC_start_failed_with_DSP_EVERSION_error">Problem: PROC_start failed with DSP_EVERSION error</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=14" title="Edit section: Problem: PROC start failed with DSP EVERSION error">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_start</code> failed with <code>DSP_EVERSION</code> error <br /> <b>Possible cause:</b> The version of DSPLink used for building GPP-side and DSP-side is different. This is possible if GPP and DSP-sides are being built on different machines, or pre-built libraries are being shared directly. The version mismatch error also prints out information of the GPP and DSP-side versions found.
</p>
<h3><span class="mw-headline" id="Problem:_PROC_start_failed_with_DSP_ERANGE_error">Problem: PROC_start failed with DSP_ERANGE error</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=15" title="Edit section: Problem: PROC start failed with DSP ERANGE error">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_start</code> failed with <code>DSP_ERANGE</code> error<br /> <b>Possible cause 1:</b> The address specified for <code>RESETVECTOR</code> in <code>LINKCFG_dspObjects</code> in <code>$(DSPLINK)/config/all/CFG_&lt;PLATFORM&gt;.c</code> configuration file does not match the actual start address of <code>RESETCTRL</code> memory entry in the same file. Make sure they match. <br /> <b>Possible cause 2:</b> There is a mismatch in DSP and GPP-side memory configuration. Check the DSP-side TCF/MAP file and GPP-side configuration file to make sure the memory regions match. <br /> <b>Possible cause 3:</b> For DSPLink v1.40.05_p4 / v1.50 onwards, check if the .data:DSPLINK_shmBaseAddress section has been placed into an address that is outside of the range configured within the GPP-side configuration file. This can be easily verified through the DSP-side MAP file. If this issue is seen, then check your application's linker command file for the SECTIONS directive that is placing this section into the incorrect address.
</p>
<h3><span id="Problem:_PROC_start_failed_with_configuration_mismatch/failure"></span><span class="mw-headline" id="Problem:_PROC_start_failed_with_configuration_mismatch.2Ffailure">Problem: PROC_start failed with configuration mismatch/failure</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=16" title="Edit section: Problem: PROC start failed with configuration mismatch/failure">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_start</code> timed out and/or printed configuration mismatch failure information of the type:<br />
</p>
<pre>DSP-side configuration mismatch/failure
0              -&gt; success
Positive value -&gt; DSP-side failure code.
(Uint32) -1    -&gt; DSP-side component was not initialized.
    DRV configuration status    [0xffffffff]
    IPS configuration status    [0xffffffff]
    POOL configuration status   [0xffffffff]
    MPCS configuration status   [0xffffffff]
    MPLIST configuration status [0xffffffff]
    MQT configuration status    [0xffffffff]
    DATA configuration status   [0xffffffff]
    RingIO configuration status [0xffffffff]
</pre>
<p><b>Explanation:</b> This failure indicates that DSPLink failed while attempting to start the DSP running. DSPLink internally performs handshake within the drivers on the GPP and DSP. It verifies that each component on the DSP has been correctly initialized, as required by the GPP. <br /> The above print indicates the status of initialization of each DSPLink component on the DSP-side. <br /> For example, the above prints indicate that none of the DSPLink components were initialized. <code>0xffffffff</code> means that the value is -1. This indicates that the specific DSP-side component with this value was not initialized. When this appears for all components, it indicates that none of the components were initialized. This implies that there was some generic issue in running the DSP. <br /> <b>Possible cause 1:</b> DSP has not been loaded correctly, and hence is not executing correctly to reach the point where the driver completes the handshake. In case of a custom board, check if the board setup/configuration has been done correctly.<br /> <b>Possible cause 2:</b> There is a configuration mismatch in memory regions between the GPP and DSP, resulting in the GPP looking for handshake at one location, and the DSP looking at another location. Check the DSP-side and GPP-side configuration files.<br /> <b>Possible cause 3:</b> User has not reserved the required amount of memory from Linux kernel space. On Linux, check the bootcmd for mem parameter as specified at <a href="Changing_DSPLink_Memory_Map.html" title="Changing DSPLink Memory Map">Changing DSPLink memory map wiki page</a><br /> <b>Possible cause 4:</b> There is some other issue on the DSP-side resulting in the execution not reaching the driver handshake. This could also be an application integration issue, and can only be identified by debugging the DSP-side by connecting Code Composer Studio (CCS).
</p>
<h3><span id="Problem:_PROC_start_failed_with_configuration_mismatch/failure_showing_modules_with_0xffffffff_but_print_for_one_of_the_modules_is_missing"></span><span class="mw-headline" id="Problem:_PROC_start_failed_with_configuration_mismatch.2Ffailure_showing_modules_with_0xffffffff_but_print_for_one_of_the_modules_is_missing">Problem: PROC_start failed with configuration mismatch/failure showing modules with 0xffffffff but print for one of the modules is missing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=17" title="Edit section: Problem: PROC start failed with configuration mismatch/failure showing modules with 0xffffffff but print for one of the modules is missing">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_start</code> timed out and/or printed configuration mismatch failure information, for example:<br />
</p>
<pre>DSP-side configuration mismatch/failure
0              -&gt; success
Positive value -&gt; DSP-side failure code.
(Uint32) -1    -&gt; DSP-side component was not initialized.
    DRV configuration status    [0xffffffff]
    IPS configuration status    [0xffffffff]
    POOL configuration status   [0xffffffff]
    MPCS configuration status   [0xffffffff]
    MPLIST configuration status [0xffffffff]
    MQT configuration status    [0xffffffff]
    RINGIO configuration status [0xffffffff]
</pre>
<p><b>Explanation:</b> On GPP-side, DSPLink checks for all modules that are enabled in the build. Prints will appear for configuration status of all such modules. However, if there is a mismatch in selection of modules, such that GPP-side does not have the module enabled, while DSP-side has it enabled, then this can cause such a failure. This failure can happen because the shared memory configuration between DSP and GPP would not match, and hence the module initializations would fail. Another reason for the failure may be if any of POOL, CHNL (DATA) or MSGQ are enabled on DSP but disabled on GPP. In such case, the DSP-side would hang, polling for GPP-side POOL/DATA/MSGQ configuration, and hence cause this failure.<br />
<b>Possible cause:</b> In this particular failure, in the above prints seen from DSPLink, DATA module print is missing. This indicates that GPP-side does not have DATA module enabled in the build. Actual expectation for modules is: DRV, IPS, POOL, MPCS, MPLIST, MQT, DATA, RINGIO. In the above, DATA is missing, indicating that DSP-side was built with CHNL enabled, and GPP-side was built with CHNL disabled.<br />
</p><p><br />
</p>
<h3><span id="Problem:_PROC_start_failed_with_configuration_mismatch/failure_showing_some_modules_with_0_and_others_with_0xffffffff"></span><span class="mw-headline" id="Problem:_PROC_start_failed_with_configuration_mismatch.2Ffailure_showing_some_modules_with_0_and_others_with_0xffffffff">Problem: PROC_start failed with configuration mismatch/failure showing some modules with 0 and others with 0xffffffff</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=18" title="Edit section: Problem: PROC start failed with configuration mismatch/failure showing some modules with 0 and others with 0xffffffff">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_start</code> timed out and/or printed configuration mismatch failure information, for example:<br />
</p>
<pre>DSP-side configuration mismatch/failure
0              -&gt; success
Positive value -&gt; DSP-side failure code.
(Uint32) -1    -&gt; DSP-side component was not initialized.
    DRV configuration status    [0x0]
    IPS configuration status    [0x0]
    POOL configuration status   [0x0]
    MPCS configuration status   [0x0]
    MPLIST configuration status [0x0]
    MQT configuration status    [0x0]
    DATA configuration status   [0xffffffff]
    RingIO configuration status [0x0]
</pre>
<p><b>Explanation:</b> The above print indicates that all modules except DATA were successfully initialized with status 0 (DSP-side SYS_OK code). However, DATA module was not initialized at all (value 0xffffffff). <br /> <b>Possible cause:</b> There is a mismatch in components selected for GPP and DSP-side build. If GPP and DSP side code is being built by different teams or at different locations, this can happen. From DSPLink v1.4x.xx onwards, this can be easily seen through component initialization information printed out on failure. For example in the above example, it is seen that DATA component (i.e. CHNL component) is the only one showing 0xFFFFFFFF status. This means that CHNL component was not included in DSP-side build, but GPP-side had included it. Check that the components selected for both GPP and DSP-side builds are identical. <br />
</p>
<h3><span id="Problem:_PROC_start_failed_with_configuration_mismatch/failure_showing_some_modules_with_0,_some_with_1,_2_etc._and_others_with_0xffffffff"></span><span class="mw-headline" id="Problem:_PROC_start_failed_with_configuration_mismatch.2Ffailure_showing_some_modules_with_0.2C_some_with_1.2C_2_etc._and_others_with_0xffffffff">Problem: PROC_start failed with configuration mismatch/failure showing some modules with 0, some with 1, 2 etc. and others with 0xffffffff</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=19" title="Edit section: Problem: PROC start failed with configuration mismatch/failure showing some modules with 0, some with 1, 2 etc. and others with 0xffffffff">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> <code>PROC_start</code> timed out and/or printed configuration mismatch failure information, for example:<br />
</p>
<pre>DSP-side configuration mismatch/failure
0              -&gt; success
Positive value -&gt; DSP-side failure code.
(Uint32) -1    -&gt; DSP-side component was not initialized.
    DRV configuration status    [0x0]
    IPS configuration status    [0x1]
    POOL configuration status   [0x0]
    MPCS configuration status   [0xffffffff]
    MPLIST configuration status [0xffffffff]
    MQT configuration status    [0xffffffff]
</pre>
<p><b>Explanation:</b> The above print indicates that modules MPCS, MPLIST and MQT were not initialized (0xffffffff is -1 indicating that the specific DSP-side component was not initialized.). DRV and POOL show status of 0, i.e. SYS_OK. <br /> However, more importantly, IPS module shows value of 0x1. This indicates error value <code>SYS_EALLOC</code>. This means that there was a memory allocation failure while attempting to initialize IPS component. <br /> <b>Possible cause:</b> DSP-side heap size is not sufficient, resulting in memory allocation failure in IPS component. <br />
</p>
<h3><span id="Problem:_Scaling_out_some_modules_resulted_in_PROC_start_hang_or_failure_with_configuration_mismatch/failure_showing_some_modules_with_0_and_others_with_0xffffffff"></span><span class="mw-headline" id="Problem:_Scaling_out_some_modules_resulted_in_PROC_start_hang_or_failure_with_configuration_mismatch.2Ffailure_showing_some_modules_with_0_and_others_with_0xffffffff">Problem: Scaling out some modules resulted in PROC_start hang or failure with configuration mismatch/failure showing some modules with 0 and others with 0xffffffff</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=20" title="Edit section: Problem: Scaling out some modules resulted in PROC start hang or failure with configuration mismatch/failure showing some modules with 0 and others with 0xffffffff">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> An attempt to scale out some modules in DSPLink resulted in <code>PROC_start</code> hang or timeout and/or configuration mismatch failure information prints, for example:<br />
</p>
<pre>DSP-side configuration mismatch/failure
0              -&gt; success
Positive value -&gt; DSP-side failure code.
(Uint32) -1    -&gt; DSP-side component was not initialized.
    DRV configuration status    [0x0]
    IPS configuration status    [0x0]
    POOL configuration status   [0x0]
    MPCS configuration status   [0x0]
    MPLIST configuration status [0x0]
    MQT configuration status    [0x0]
    DATA configuration status   [0xffffffff]
    RingIO configuration status [0xffffffff]
</pre>
<p>In case of hang, the same could be seen by debugging and printing the contents of <code>DSPLINK_shmBaseAddress</code> on DSP-side. <br />
<b>Explanation:</b> The above indicates that all modules except DATA and RingIO were successfully initialized with status 0 (DSP-side SYS_OK code). However, DATA and RingIO modules were not initialized at all (value 0xffffffff). <br />
<b>Possible cause:</b> There is a mismatch in components selected for GPP and DSP-side build. If GPP and DSP side code is being built by different teams or at different locations, this can happen. From DSPLink v1.4x.xx onwards, this can be easily seen through component initialization information printed out on failure. For example in the above example, it is seen that DATA component (i.e. CHNL component) and RingIO component are the ones showing 0xFFFFFFFF status. This means that CHNL and RingIO components were not included in DSP-side build, but GPP-side had included it. Check that the components selected for both GPP and DSP-side builds are identical. <br />
<b>Possible cause:</b> If the correct components are selected on HLOS-side when running dsplinkcfg script, make sure that HLOS-side DSPLink library and applications are rebuilt after the change. Do a clean build. <br />
<b>Possible cause:</b> If a problem is still seen, run make with VERBOSE=1 to see if the RINGIO_COMPONENT and CHNL_COMPONENT defines are appearing in the HLOS make (they should not appear). <br />
<b>Possible cause:</b> If a problem is still seen, make sure that the newly generated dsplinkk.ko is copied to the file system of the target and re-inserted (i.e. existing module removed by doing rmmod and new module reinserted by doing insmod) before running the applications. <br />
<b>Possible cause:</b> If a problem is still seen, try running one of the DSPLink applications instead of your own application. For example, mpcsxfer application can be run with scalability configuration <code>--comps=pons</code> while running the dsplinkcfg script, since it does not use MSGQ, RingIO or DATA, and only uses PROC (p), POOL (o), NOTIFY (n) and MPCS (s). If you don't see any problem with this, it means that basic scalability is working fine in DSPLink and the specific problem is with your application build, which needs to be debugged further. <br />
<b>NOTE:</b>When scalability is reduced such that only PROC, POOL, NOTIFY, MPCS are used, HLOS-side <code>PROC_start</code> will not wait till DSP-side calls <code>DSPLINK_init</code>. This is a different behavior from what is seen when MSGQ, RingIO etc. are enabled. This is because internally, POOL and data drivers (CHNL) are already initialized by the time the application calls DSPLINK_init. The POOLs and DATA drivers internally get plugged into BIOS. Hence, in the POOL initialization itself, DSPLink_init is processed internally, which completes the handshake and initialization from POOL perspective. NOTIFY is alwasy included and gets initialized automatically. Since MSGQ is not included (which completes initialization later), the handshake completes early. If MSGQ had also been included in the build, the HLOS handshake would block till MSGQ was also completely initialized. <br />
</p>
<h3><span id="Problem:_DSPLink_samples_run_fine,_but_my_application_does_not"></span><span class="mw-headline" id="Problem:_DSPLink_samples_run_fine.2C_but_my_application_does_not">Problem: DSPLink samples run fine, but my application does not</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=21" title="Edit section: Problem: DSPLink samples run fine, but my application does not">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> DSPLink sample applications run correctly, but when I run my application, <code>PROC_start</code> hangs or fails. How do I fix this? <br /> <b>Possible cause:</b> This must be a configuration issue. Ensure that the DSPLink configuration for both GPP and DSP-side matches.<br />
</p>
<h3><span class="mw-headline" id="Problem:_Getting_error_when_inserting_DSPLink_module_dsplinkk.ko_on_Linux">Problem: Getting error when inserting DSPLink module dsplinkk.ko on Linux</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=22" title="Edit section: Problem: Getting error when inserting DSPLink module dsplinkk.ko on Linux">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> I am getting errors when inserting DSPLink module on Linux:
</p>
<pre>$ insmod dsplinkk.ko
dsplinkk: no version for "struct_module" found: kernel tainted.
dsplinkk: version magic '2.6.10_mvl401 preempt ARMv5 gcc-3.4' should be '2.6.23-davinci1-g1220f74d-dirty mod_unload ARMv5 '
insmod: error inserting 'dsplinkk.ko': -1 Invalid module format
</pre>
<p><b>Explanation:</b> The error in inserting the module indicates that the DSPLink kernel module was built with a different kernel version than the version running on the target. In the above example, DSPLink was built with 2.6.10 kernel and the target is running 2.6.23 kernel. <br /> <b>Possible cause 1:</b> DSPLink was built using different kernel version than the one used on the target. This can happen if DSPLink is being built on a different development machine than the one where the target version was present. <br /> <b>Possible cause 2:</b> Some Codec Engine and DVSDK releases include pre-built binaries of DSPLink for a specific kernel version. In case you are using a different kernel version, you will need to rebuild DSPLink. Instructions on building DSPLink are available within DSPLink release documents and at <a href="Building_DSPLink.html" title="Building DSPLink">this page</a>.
</p>
<h3><span class="mw-headline" id="Problem:_Getting_error_when_running_sample_applications_on_Linux">Problem: Getting error when running sample applications on Linux</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=23" title="Edit section: Problem: Getting error when running sample applications on Linux">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom:</b> I am getting an error when running applications on Linux:
</p>
<pre>$ ./messagegpp message.out 1000
# ========== Sample Application&#160;: MESSAGE ==========
Entered MESSAGE_Create ()
dsplink driver open: /dev/dsplink: No such device or address
Leaving MESSAGE_Create ()
Entered MESSAGE_Delete ()
PROC_stop () failed. Status = [0x80008002]
Leaving MESSAGE_Delete ()
================================================
</pre>
<p><b>Explanation:</b> This error indicates that there was a failure in opening a handle to the DSPLink device driver. <br /> <b>Possible cause 1:</b> mknod was not called before running the application. <br />
</p>
<pre>$ mknod /dev/dsplink c 230 0
</pre>
<p><b>Possible cause 2:</b> mknod was called but still this error occurs. In that case, it is possible that the DSPLink kernel modules may have been built on a kernel, after which the kernel was re-built, and the new uImage was used on the target board. In that case, the older DSPLink kernel module will not work with this new image. You will need to rebuild dsplinkk.ko with the newly built kernel.
</p>
<h3><span id="Problem:_Scripts_are_not_executed_correctly,_parts_of_strings_go_mysteriously_missing"></span><span class="mw-headline" id="Problem:_Scripts_are_not_executed_correctly.2C_parts_of_strings_go_mysteriously_missing">Problem: Scripts are not executed correctly, parts of strings go mysteriously missing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=24" title="Edit section: Problem: Scripts are not executed correctly, parts of strings go mysteriously missing">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom</b>: Using instructions to configure/build dsplink, some scripts do not execute properly and parts of strings go mysteriously missing in the printout. E.g. <br />
</p>
<pre>$ source etc/host/scripts/Linux/dsplinkenv.bash
: command not found
: command not found
: command not found
: command not found
===========================================================
The environment for DSP/BIOS LINK development has been set:
DSPLINK = /home/a0792201/dsplink_1_60/dsplink
/etc/host/scripts/Linux01/dsplink_1_60/dsplink
===========================================================
</pre>
<pre>perl config/bin/dsplinkcfg.pl --platform=OMAP3530 --nodsp=1 --dspcfg_0=OMAP3530SHMEM --dspos_0=DSPBIOS5XX --gppos=OMAPLSP --comps=ponslrmc
...

Configuration done successfully!!
Generating CURRENTCFG.MK file...
mkdir: cannot create directory `/config': Permission denied
/config/BUILD/CURRENTCFG.MKe/a0792201/dsplink_1_60/dsplink

</pre>
<p><br />
</p><p>Even though the script looks perfect in a text editor, it doesn't execute properly.
</p><p><br /><b>Possible cause</b>: In dsplink 1.60, early releases had script files saved in DOS mode (hence containing invisible characters that causes the scripts e.g. dsplinkenv.bash to fail). Run dos2unix on the file to change it to UNIX mode. The scripts would then run correctly.<br />
</p><p><br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="Problem:_I_see_a_crash_as_soon_as_I_run_a_DSPLink_sample.">Problem: I see a crash as soon as I run a DSPLink sample.</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;section=25" title="Edit section: Problem: I see a crash as soon as I run a DSPLink sample.">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Symptom</b>: I see a hang/crash as soon as I run a DSPLink sample. The crash dump shows only Linux functions and no DSPLink functions  E.g. <br />
</p>
<pre>[42949402.010000]  r7:0000000c r6:c383a1b4 r5:c38f0f00 r4:00010000&lt;br&gt;
[42949402.020000] [&lt;c002f794&gt;] (do_page_fault+0x0/0x238) from [&lt;c0027224&gt;] (do_DataAbort+0x38/0x98)&lt;br&gt;
[42949402.030000] [&lt;c00271ec&gt;] (do_DataAbort+0x0/0x98) from [&lt;c0027c80&gt;] (ret_from_exception+0x0/0x10)&lt;br&gt;
[42949402.030000] Exception stack(0xc3a17fb0 to 0xc3a17ff8)
</pre>
<p><br />
<br /><b>Possible cause</b>: mem argument in bootargs is wrong. Please check memory map to set mem value in Linux bootargs<br />
<br /><b>Possible cause</b>: PROC_start has hung because the DSPLink init code on DSP is missing. Please check if you have a call to DSPLink_init in the DSP code<br />
<br /><b>Possible cause</b>: There is an overlap in the configuration of timers on Linux and DSP/BIOS. This problem has commonly been seen on OMAPL137 and DA830 where the timer 0 is used by DSP/BIOS and Linux. In that case: Update the sample to change the BIOS timer to use a different timer. See a sample configuration to change to timer 1. <br />
</p>
<pre>Clock = xdc.useModule(ti.sysbios.knl.Clock);
Clock.timerId = 1;
</pre>
<p><br />
</p>
<!-- 
NewPP limit report
Cached time: 20201201020928
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.054 seconds
Real time usage: 0.056 seconds
Preprocessor visited node count: 214/1000000
Preprocessor generated node count: 412/1000000
Postexpand include size: 776/2097152 bytes
Template argument size: 156/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip postexpand size: 4538/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.967      1 -total
100.00%    2.967      1 Template:DSPLinkEOL
 51.10%    1.516      1 Template:EndOfLife
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:845-0!canonical and timestamp 20201201020928 and revision id 181470
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Troubleshooting DSPLink configuration issues</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Troubleshooting DSPLink configuration issues</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>Troubleshooting DSPLink configuration issues</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>Troubleshooting DSPLink configuration issues</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>Troubleshooting DSPLink configuration issues</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Troubleshooting DSPLink configuration issues</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Troubleshooting DSPLink configuration issues</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>Troubleshooting DSPLink configuration issues</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>Troubleshooting DSPLink configuration issues</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;oldid=181470">https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;oldid=181470</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_EndOfLife.html" title="Category:EndOfLife">EndOfLife</a></li><li><a href="Category_DSPLink.html" title="Category:DSPLink">DSPLink</a></li><li><a href="Category_DaVinci_Linux.html" title="Category:DaVinci Linux">DaVinci Linux</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Troubleshooting+DSPLink+configuration+issues" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Troubleshooting_DSPLink_configuration_issues.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:Troubleshooting_DSPLink_configuration_issues&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Troubleshooting_DSPLink_configuration_issues.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Troubleshooting_DSPLink_configuration_issues.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Troubleshooting_DSPLink_configuration_issues.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;oldid=181470" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Troubleshooting_DSPLink_configuration_issues&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 14 July 2014, at 08:52.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.054","walltime":"0.056","ppvisitednodes":{"value":214,"limit":1000000},"ppgeneratednodes":{"value":412,"limit":1000000},"postexpandincludesize":{"value":776,"limit":2097152},"templateargumentsize":{"value":156,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":4538,"limit":5000000},"timingprofile":["100.00%    2.967      1 -total","100.00%    2.967      1 Template:DSPLinkEOL"," 51.10%    1.516      1 Template:EndOfLife"]},"cachereport":{"timestamp":"20201201020928","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":234});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Troubleshooting_DSPLink_configuration_issues by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:36:50 GMT -->
</html>
