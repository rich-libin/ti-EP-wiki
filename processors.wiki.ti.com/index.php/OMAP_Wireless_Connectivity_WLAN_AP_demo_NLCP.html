<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 05:11:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>OMAP Wireless Connectivity WLAN AP demo NLCP - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP","wgTitle":"OMAP Wireless Connectivity WLAN AP demo NLCP","wgCurRevisionId":87006,"wgRevisionId":87006,"wgArticleId":9979,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Wireless Connectivity"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP","wgRelevantArticleId":9979,"wgRequestId":"ad8daaea7a76c4b487df4a14","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP rootpage-OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">OMAP Wireless Connectivity WLAN AP demo NLCP</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Access_Point_use-cases"><span class="tocnumber">1</span> <span class="toctext">Access Point use-cases</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Soft_AP_Configuration_Flow"><span class="tocnumber">2</span> <span class="toctext">Soft AP Configuration Flow</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Define_SoftAP_Parameters_in_.2Fetc.2Fhostapd.conf_File"><span class="tocnumber">3</span> <span class="toctext">Define SoftAP Parameters in /etc/hostapd.conf File</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#hostapd.conf_Creation_for_non-secured_Network"><span class="tocnumber">3.1</span> <span class="toctext">hostapd.conf Creation for non-secured Network</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Define_the_DHCP_Configuration_in_.2Fetc.2Fudhcpd.conf_File"><span class="tocnumber">4</span> <span class="toctext">Define the DHCP Configuration in /etc/udhcpd.conf File</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Run_the_EVM_in_Access_Point_Mode"><span class="tocnumber">5</span> <span class="toctext">Run the EVM in Access Point Mode</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Use_your_Station_to_Connect_to_the_AP"><span class="tocnumber">6</span> <span class="toctext">Use your Station to Connect to the AP</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Exit_from_Access_Point_Mode"><span class="tocnumber">7</span> <span class="toctext">Exit from Access Point Mode</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Web_Browsing"><span class="tocnumber">8</span> <span class="toctext">Web Browsing</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Web_Browsing_with_a_Local_Web_Browser"><span class="tocnumber">9</span> <span class="toctext">Web Browsing with a Local Web Browser</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#For_more_information..."><span class="tocnumber">10</span> <span class="toctext">For more information...</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Access_Point_use-cases">Access Point use-cases</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=1" title="Edit section: Access Point use-cases">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section presents guide-lines to operating the SoftAP mode; The EVM acts as an AP that is building the WiFi network with the Access Point, and then connecting via a remote laptop (that acts as a Station) to the AP through the WLAN media. At the end, connection verification is done using Ping commands.
<br />
<br />
<a href="File_Soft_AP_demo.html" class="image"><img alt="Soft AP demo.jpg" src="https://processors.wiki.ti.com/images/2/2f/Soft_AP_demo.jpg" width="640" height="364" /></a>
<br />
This page demonstrates two main demo use-cases:
</p>
<ol><li><a href="#Web_Browsing">Web Browsing</a>.</li>
<li><a href="#Web_Browsing_with_a_Local_Web_Browser">Web Browsing with a Local Web Browser</a>.</li></ol>
<h2><span class="mw-headline" id="Soft_AP_Configuration_Flow">Soft AP Configuration Flow</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=2" title="Edit section: Soft AP Configuration Flow">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section explains the SoftAP configuration work flow. 
<br />
<b> Prerequisites - one-time procedures</b>
</p>
<ul><li>Calibration process: This is a one-time procedure, done before any WLAN operation. Calibration is performed once after the board assembly, or in any case that the 1271 connectivity daughtercard or EVM is replaced by a new one.</li>
<li>MAC address setting&#160;: This is a one-time procedure, performed before any WLAN operation is done, and after performing the calibration procedure.</li></ul>
<p>For detailed instruction, use the following links: &lt;<a href="OMAP_Wireless_Connectivity_Calibration_Proccess_NLCP.html" class="mw-redirect" title="OMAP Wireless Connectivity Calibration Proccess NLCP">Calibration Process</a>&gt; and &lt;<a href="OMAP_Wireless_Connectivity_Station_MAC_Change.html" title="OMAP Wireless Connectivity Station MAC Change">modifying WLAN MAC Address</a>&gt;.
</p><p><br /> 
<br />
<b> Steps to perform connection to WiFi network </b>
</p>
<ul><li>Step 1:  <a href="#Define_SoftAP_Parameters_in_.2Fetc.2Fhostapd.conf_File">Define SoftAP Parameters in /etc/hostapd.conf File</a>.</li>
<li>Step 2:  <a href="#Define_the_DHCP_Configuration_in_.2Fetc.2Fudhcpd.conf_File">Define the DHCP Configuration in /etc/udhcpd.conf File</a>.</li>
<li>Step 3:  <a href="#Run_the_EVM_in_Access_Point_Mode">Run the EVM in Access Point Mode</a>.</li>
<li>Step 4:  <a href="#Use_your_Station_to_Connect_to_the_AP">Use your Station to Connect to the AP</a>.</li>
<li>Step 5:  <a href="#Exit_from_Access_Point_Mode">Exit from Access Point Mode</a>.</li></ul>
<p><br />
<br />
<br />
</p>
<h2><span id="Define_SoftAP_Parameters_in_/etc/hostapd.conf_File"></span><span class="mw-headline" id="Define_SoftAP_Parameters_in_.2Fetc.2Fhostapd.conf_File">Define SoftAP Parameters in /etc/hostapd.conf File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=3" title="Edit section: Define SoftAP Parameters in /etc/hostapd.conf File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The hostapd.conf file (located under the /etc folder) defines the Soft AP settings.<br /> 
For the following demo, create a hostapd.conf file with the content below, and modify some basic fields according to the expected AP behavior such as SSID, channel etc.<br />
<br />
<b> Note: most common fields are: </b>
</p>
<ol><li>“ssid” field, modify according to the requested SSID WiFi network, generated by the AP.</li>
<li>"channel" field, defines the channel that the AP will work on</li>
<li>"hw_mode" field, in case it is "g" then the AP works in 802.11g band</li>
<li>"beacon_int" field, is the Beacon interval</li>
<li>"dtim_period" field, is the DTIM period</li></ol>
<p><br />
<b> Access Point configuration - Band support </b>
</p>
<ol><li>hw_mode=g - to support bg band</li>
<li>hw_mode=b - to support b only band</li>
<li>ieee80211n=1 - to support 802.11n band</li></ol>
<p><br />
</p><p>for more detailed information on hostapd.conf, use the following link: &lt;<a rel="nofollow" class="external text" href="http://hostap.epitest.fi/gitweb/gitweb.cgi?p=hostap.git;a=blob_plain;f=hostapd/hostapd.conf">hostapd.conf information</a>&gt; 
</p>
<h3><span class="mw-headline" id="hostapd.conf_Creation_for_non-secured_Network">hostapd.conf Creation for non-secured Network</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=4" title="Edit section: hostapd.conf Creation for non-secured Network">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Following is the /etc/hostapd.conf content to generate a non-secured Network.
</p>
<pre>interface=wlan0
driver=nl80211
channel=1
hw_mode=g
preamble=1
dtim_period=2
beacon_int=100
logger_syslog=-1
logger_syslog_level=2
logger_stdout=-1
logger_stdout_level=2
dump_file=/tmp/hostapd.dump
ctrl_interface=/var/run/hostapd
ctrl_interface_group=0
supported_rates=60 90 120 180 240 360 480 540
basic_rates=60 90 120 180 240
ssid=MAC_AP
max_num_sta=5
macaddr_acl=0
auth_algs=3
ieee80211d=0
uapsd_advertisement_enabled=1
wep_rekey_period=0
own_ip_addr=127.0.0.1
wpa_group_rekey=0
wpa_strict_rekey=0
wpa_gmk_rekey=0
wpa_ptk_rekey=0
#ap_table_max_size=255
#ap_table_expiration_time=60
eap_server=1
disassoc_low_ack=1
ap_max_inactivity=4294967295
</pre>
<h2><span id="Define_the_DHCP_Configuration_in_/etc/udhcpd.conf_File"></span><span class="mw-headline" id="Define_the_DHCP_Configuration_in_.2Fetc.2Fudhcpd.conf_File">Define the DHCP Configuration in /etc/udhcpd.conf File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=5" title="Edit section: Define the DHCP Configuration in /etc/udhcpd.conf File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The file /etc/udhcpd.conf contains configuration information specific to the udhcp server.<br />
Following are the main parameters:
</p>
<ul><li>"start" field - The start-address of the IP lease block; default value: 192.168.0.20.</li>
<li>"end" field - The end-address of the IP lease block; default value: 192.168.0.254.</li>
<li>"interface" field - The udhcp server should listen on INTERFACE. The default is eth0, and we will modify it to wlan0.</li>
<li>"dns" fiels - The list of DNS servers; In this example, the public google DNS servers were used.</li>
<li>"subnet" field - The subnet mask</li>
<li>"router" field - The list of routers; In this example, the SoftAP WLAN IP address is used.</li>
<li>"lease" field - The lease time in seconds; In this example: 10 days.</li></ul>
<p><br />
For the following demo, create the udhcpd.conf file with the content below, store it in /etc folder, and modify some basic fields according to the expected DHCP behavior (such as “start”, “end” address etc.).
</p>
<pre># Sample udhcpd configuration file (/etc/udhcpd.conf)
# The start and end of the IP lease block
start 		192.168.0.20	#default: 192.168.0.20
end		192.168.0.254	#default: 192.168.0.254
# The interface that udhcpd will use
interface   wlan0		#default: eth0
#Examles
opt	dns	8.8.8.8  8.8.4.4 # public google dns servers
option	subnet	255.255.255.0
opt	router	192.168.0.1
option	lease	864000		# 10 days of seconds
</pre>
<p><br />
As an example, you may click the following link to get a sample of <a href="https://processors.wiki.ti.com/images/0/07/Udhcpd.zip" class="internal" title="Udhcpd.zip">&lt;udhcpd.conf file&gt;</a>. Unzip the file to get the udhcpd.conf file.
<br />
</p>
<h2><span class="mw-headline" id="Run_the_EVM_in_Access_Point_Mode">Run the EVM in Access Point Mode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=6" title="Edit section: Run the EVM in Access Point Mode">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Note: The wlan0 port IP address that is defined as "ifconfig wlan0 192.168.0.1" below, should be the same IP address as defined in the “router” field in the /etc/udhcpc.conf file
<br />
in order to run the Soft AP, run the following:
</p>
<ul><li>Run hostapd (SoftAP functionality)</li>
<li>Run udhcpd to operate the dhcp server</li>
<li>Run iptables to enable the NAT (Network Address Translation)</li></ul>
<p>and the commands looks like the following:
</p>
<pre>echo 1 &gt; /proc/sys/net/ipv4/ip_forward
ifconfig wlan0 192.168.0.1
hostapd -B /etc/hostapd.conf -P /var/run/hostapd.pid
udhcpd /etc/udhcpd.conf
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
</pre>
<p>See the expected console output below:
</p>
<pre>root@am37x-evm:~# echo 1 &gt; /proc/sys/net/ipv4/ip_forward
root@am37x-evm:~# ifconfig wlan0 192.168.0.1
hostapd -B /etc/hostapd.conf -P /var/r[70837.517822] wl1271: firmware booted (Rev 6.1.5.50.69)
uroot@am37x-evm:~# hostapd -B /etc/hostapd.conf -P /var/run/hostapd.pid
Configuration file: /etc/hostapd.conf
u[70837.767639] wl1271: down
dhcpd /etc/udhcpd.conf
iptables -t nat -A[70838.417083] wl1271: firmware booted (Rev 6.2.1.0.54)
 PUsing interface wlan0 with hwaddr 08:00:28:99:55:32 and ssid 'MAC_AP'
root@am37x-evm:~# udhcpd /etc/udhcpd.conf
Oroot@am37x-evm:~# iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
root@am37x-evm:~#
</pre>
<h2><span class="mw-headline" id="Use_your_Station_to_Connect_to_the_AP">Use your Station to Connect to the AP</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=7" title="Edit section: Use your Station to Connect to the AP">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Now that the AP is up, the following sequence can be used to connect to the access point:
<br />
</p>
<ul><li>Perform a scan on your station laptop and make sure that the 'MAC_AP' (or whatever name you picked for the AP) is visible.</li>
<li>Connenct to the 'MAC_AP' access point.</li>
<li>use "ping 192.168.0.1" (i.e., ping the access point MAC address), to make sure the connection is working.</li></ul>
<h2><span class="mw-headline" id="Exit_from_Access_Point_Mode">Exit from Access Point Mode</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=8" title="Edit section: Exit from Access Point Mode">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Follow the next commands to exit from Access Point mode and return to WLAN Station mode:
First, you need to kill both the hostapd and the udhcpd. To do so, use the ps command to aquire the Process ID of hostapd and udhcpd
</p>
<pre>root@am37x-evm:/etc# ps
  PID USER       VSZ STAT COMMAND
 2702 root      4904 S    hostapd -B /etc/hostapd.conf -P /var/run/hostapd.pid
 2704 root      2936 S    udhcpd /etc/udhcpd.conf
 2714 root      3128 R    ps
</pre>
<p>once we have aquired the Process ID, we can kill it:
</p>
<pre>kill -9 2702
kill -9 2704
echo 0 &gt; /proc/sys/net/ipv4/ip_forward
iptables -F
ifconfig wlan0 down
iwconfig wlan0 mode managed
ifconfig wlan0 up
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Web_Browsing">Web Browsing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=9" title="Edit section: Web Browsing">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><br />
<a href="File_Soft_AP_web_browsing_demo.html" class="image"><img alt="Soft AP web browsing demo.jpg" src="https://processors.wiki.ti.com/images/b/b9/Soft_AP_web_browsing_demo.jpg" width="719" height="160" /></a>
<br />
Following is a demo showing how to use the EVM in Soft AP mode, and how to use it a Router to surf the web.
Follow the instructions below:
</p>
<ol><li>Connect the EVM Ethernet port to the WAN network using an Ethernet cable.</li>
<li>Use dhcp to aquire an ip address for the EVM ethernet port from the router:</li></ol>
<pre>udhcpc -i eth0
</pre>
<ol><li>Activate the EVM in Soft AP mode, the first step is to configure the hostapd configuration file. For simple configuration, use a non-secured network, as shown in the following link: <a href="#Connect_to_non_Secured_network">&lt;Connect to non Secured network&gt;</a></li>
<li>Set the DHCP server configuration as shown in the following link: <a href="#create_udhcpd.conf_file_in_order_to_be_enable_DHCP_server">&lt;setting DHCP server configuration&gt;</a></li>
<li>Activate the DHCP server and the NAT functionality, as shown in the following link: <a href="#run_The_AM37x_EVM_in_Access_Point_mode">&lt;Activate the EVM as Access point&gt;</a></li>
<li>Connect the PC to the WiFi network created by the EVM.</li>
<li>Define the PC to get the IP address using DHCP.</li>
<li>Open the Web Browser application on the PC and start surfing the web.</li></ol>
<p><br />
</p>
<h2><span class="mw-headline" id="Web_Browsing_with_a_Local_Web_Browser">Web Browsing with a Local Web Browser</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=10" title="Edit section: Web Browsing with a Local Web Browser">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><br />
<br />
<a href="File_Soft_AP_web_browsing_demo_with_local_webServer.html" class="image"><img alt="Soft AP web browsing demo with local webServer.jpg" src="https://processors.wiki.ti.com/images/4/40/Soft_AP_web_browsing_demo_with_local_webServer.jpg" width="758" height="223" /></a>
<br />
<br />
In case there is no internet connection available for Demonstrating the Web Access, as an alternative - it possible to demonstrate web browsing where the web server is located on the PC which is connected to the EVM (that works in Soft AP mode) through the Ethernet port.
<br />
For Web server we used Apache (any other web server can be suitable as well), it is an open-source HTTP server for modern operating systems including UNIX and Windows. The web server can be downloaded from: <a rel="nofollow" class="external text" href="http://httpd.apache.org/">&lt;Apache web server&gt;</a>. (for demo we used the Apache HTTP Server 2.2.19 Release, that was published on 2011-05-22)  
<br />
<br />
<b>For the Demo, follow the steps below:</b> <br />
</p>
<ol><li>For Demo, use Apache web server (or any other available web server) that can be downloaded from: <a rel="nofollow" class="external text" href="http://httpd.apache.org/">&lt;Apache web server&gt;</a></li>
<li>install the web server on the PC that will behave as the internet cloud.</li>
<li>Download the wiki page html source from: <a rel="nofollow" class="external text" href="http://xxx.xxx.xxx/">&lt;wiki Page Source&gt;</a></li>
<li>Extract the zip file to a local folder on the PC.</li>
<li>set the html web page that is seen when browsing the web server to the location where you extracted the wiki page sources.</li>
<li>Connect the Web Server PC to the EVM using an Ethernet cable.</li>
<li>Set the PC Ethernet port to have a static IP, for example: use 192.168.2.2</li></ol>
<p><br />
<a href="File_Set_Ethernet_port_IP_Addr.html" class="image"><img alt="Set Ethernet port IP Addr.jpg" src="https://processors.wiki.ti.com/images/5/59/Set_Ethernet_port_IP_Addr.jpg" width="773" height="452" /></a>
<br />
</p>
<ol><li>Set the EVM Ethernet port to have a static IP address in the same subnet, for example: 192.168.2.3</li></ol>
<pre>Ifconfig eth0 192.168.2.2 up
</pre> 
<p>Now verify the IP address of the Ethernet port, using the following command:
</p>
<pre>root@am37x-evm:~# ifconfig
eth0      Link encap:Ethernet  HWaddr 00:50:C2:7E:96:48
          inet addr:192.168.2.3  Bcast:192.168.2.255  Mask:255.255.255.0
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:3874 errors:0 dropped:0 overruns:0 frame:0
          TX packets:2968 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:5344162 (5.0 MiB)  TX bytes:377563 (368.7 KiB)
          Interrupt:80
</pre>
<ol><li>Activate the EVM in Soft AP mode, the first step is to configure the hostapd configuration file. For simple configuration, use a non-secured network, as shown in the following link <a href="#Connect_to_non_Secured_network">&lt;Connect to non Secured network&gt;</a></li>
<li>Set the DHCP server configuration as shown in the following link <a href="#create_udhcpd.conf_file_in_order_to_be_enable_DHCP_server">&lt;setting DHCP server configuration&gt;</a></li>
<li>Activate the DHCP server and the NAT functionality as shown in the following link <a href="#run_The_AM37x_EVM_in_Access_Point_mode">&lt;Activate the EVM as Access point&gt;</a></li>
<li>Connect the PC to the WiFi network created by the EVM</li>
<li>Define the PC to get the IP address using DHCP (for example the IP Address is 192.168.0.20)</li>
<li>Add to the PC routing table the routing command in the command line</li></ol>
<pre>route add 192.168.0.0 mask 255.255.255.0 192.168.2.3
</pre> 
<p>Were the IP address are:<br />
192.168.2.3 – is the EVM Ethernet address<br />
192.168.2.2 is the PC Ethernet IP address<br />
192.168.0.1 is the EVM Wireless Lan IP address<br />
192.168.0.20 is the PC Wireless Lan IP address<br />
</p>
<ol><li>Open the Web Browser application on the PC and start surfing the web</li></ol>
<p><br />
</p>
<h2><span class="mw-headline" id="For_more_information...">For more information...</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;section=11" title="Edit section: For more information...">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>For more information on Soft AP (hostapd) configuration, use the following link <a rel="nofollow" class="external text" href="http://wireless.kernel.org/en/users/Documentation/hostapd">&lt;wl12xx hostapd configuration &gt;</a>
<br />
<br />
<a href="File_HomepageIcon.html" class="image"><img alt="HomepageIcon.jpg" src="https://processors.wiki.ti.com/images/5/52/HomepageIcon.jpg" width="45" height="45" /></a><b><a href="WL127x_Getting_Started_Guide.html" class="mw-redirect" title="Open Source Wireless Connectivity Guide">HOME</a></b>
<br />
</p>
<!-- 
NewPP limit report
Cached time: 20201130194928
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.055 seconds
Real time usage: 0.060 seconds
Preprocessor visited node count: 132/1000000
Preprocessor generated node count: 248/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 2940/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:9979-0!canonical and timestamp 20201130194928 and revision id 87006
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>OMAP Wireless Connectivity WLAN AP demo NLCP</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>OMAP Wireless Connectivity WLAN AP demo NLCP</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity WLAN AP demo NLCP</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity WLAN AP demo NLCP</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity WLAN AP demo NLCP</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity WLAN AP demo NLCP</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity WLAN AP demo NLCP</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>OMAP Wireless Connectivity WLAN AP demo NLCP</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>OMAP Wireless Connectivity WLAN AP demo NLCP</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;oldid=87006">https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;oldid=87006</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_Wireless_Connectivity.html" title="Category:Wireless Connectivity">Wireless Connectivity</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=OMAP+Wireless+Connectivity+WLAN+AP+demo+NLCP" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;oldid=87006" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 28 November 2011, at 08:03.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.055","walltime":"0.060","ppvisitednodes":{"value":132,"limit":1000000},"ppgeneratednodes":{"value":248,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":2940,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130194928","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":221});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/OMAP_Wireless_Connectivity_WLAN_AP_demo_NLCP by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 05:11:19 GMT -->
</html>
