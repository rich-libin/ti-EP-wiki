<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/ARM9_WinCE_BSP_User_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:20:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>ARM9 WinCE BSP User Guide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ARM9_WinCE_BSP_User_Guide","wgTitle":"ARM9 WinCE BSP User Guide","wgCurRevisionId":216528,"wgRevisionId":216528,"wgArticleId":6549,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["AM1x","OMAPL1","WinCE"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"ARM9_WinCE_BSP_User_Guide","wgRelevantArticleId":6549,"wgRequestId":"2a0a1012a4ed9fd676a89117","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["sysop"],"wgRestrictionMove":["sysop"]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ARM9_WinCE_BSP_User_Guide rootpage-ARM9_WinCE_BSP_User_Guide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">ARM9 WinCE BSP User Guide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><b><big><big><big><span style="color:red">Content is no longer maintained and is being kept for reference only!</span></big></big></big></b>
<br />
<br />
</p><p><a href="File_TIBanner.html" class="image"><img alt="TIBanner.png" src="https://processors.wiki.ti.com/images/c/cd/TIBanner.png" width="667" height="87" /></a> <br /> 
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Scope"><span class="tocnumber">2</span> <span class="toctext">Scope</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#References"><span class="tocnumber">3</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Abbreviations_and_Acronyms"><span class="tocnumber">4</span> <span class="toctext">Abbreviations and Acronyms</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#BSP_Code_Structure"><span class="tocnumber">5</span> <span class="toctext">BSP Code Structure</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Boot-loader"><span class="tocnumber">6</span> <span class="toctext">Boot-loader</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#First_Stage_Boot-loaders"><span class="tocnumber">6.1</span> <span class="toctext">First Stage Boot-loaders</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#EBOOT_Features"><span class="tocnumber">6.2</span> <span class="toctext">EBOOT Features</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#EBOOT_Sources"><span class="tocnumber">6.3</span> <span class="toctext">EBOOT Sources</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Flashing_EBOOT_to_the_Development_Kit"><span class="tocnumber">6.4</span> <span class="toctext">Flashing EBOOT to the Development Kit</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Flashing_EBOOT_to_OMAP-L137_Development_Kit_.28NAND_Flash.29"><span class="tocnumber">6.4.1</span> <span class="toctext">Flashing EBOOT to OMAP-L137 Development Kit (NAND Flash)</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Flashing_EBOOT_to_AM1707_Development_Kit_.28NAND_Flash.29"><span class="tocnumber">6.4.2</span> <span class="toctext">Flashing EBOOT to AM1707 Development Kit (NAND Flash)</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Flashing_EBOOT_to_OMAP-L137_Development_Kit_.28NAND_Flash.29_Using_Serial_Flash_Utility"><span class="tocnumber">6.4.3</span> <span class="toctext">Flashing EBOOT to OMAP-L137 Development Kit (NAND Flash) Using Serial Flash Utility</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Flashing_EBOOT_to_AM1707_Development_Kit_.28NAND_Flash.29_Using_Serial_Flash_Utility"><span class="tocnumber">6.4.4</span> <span class="toctext">Flashing EBOOT to AM1707 Development Kit (NAND Flash) Using Serial Flash Utility</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Flashing_EBOOT_to_OMAP-L138.2FAM18x_Development_Kit_.28NAND_Flash.29"><span class="tocnumber">6.4.5</span> <span class="toctext">Flashing EBOOT to OMAP-L138/AM18x Development Kit (NAND Flash)</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Flashing_EBOOT_to_OMAP-L138.2FAM18x_Development_Kit_.28NOR_Flash.29"><span class="tocnumber">6.4.6</span> <span class="toctext">Flashing EBOOT to OMAP-L138/AM18x Development Kit (NOR Flash)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#SD.2FMMC_Card_Boot_Support"><span class="tocnumber">6.5</span> <span class="toctext">SD/MMC Card Boot Support</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Boot_Modes"><span class="tocnumber">6.6</span> <span class="toctext">Boot Modes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#CE_6.0_Kernel"><span class="tocnumber">7</span> <span class="toctext">CE 6.0 Kernel</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#OEM_Adaptation_Layer_.28OAL.29"><span class="tocnumber">7.1</span> <span class="toctext">OEM Adaptation Layer (OAL)</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="#OAL_Features"><span class="tocnumber">7.1.1</span> <span class="toctext">OAL Features</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Build_Options"><span class="tocnumber">7.1.2</span> <span class="toctext">Build Options</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-23"><a href="#Memory_Configuration"><span class="tocnumber">7.2</span> <span class="toctext">Memory Configuration</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Pin_Multiplexing_Configuration"><span class="tocnumber">7.3</span> <span class="toctext">Pin Multiplexing Configuration</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#PSC_Library"><span class="tocnumber">7.4</span> <span class="toctext">PSC Library</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="#Library_Features"><span class="tocnumber">7.4.1</span> <span class="toctext">Library Features</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Limitations"><span class="tocnumber">7.4.2</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#Build_Options_2"><span class="tocnumber">7.4.3</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#Library_API"><span class="tocnumber">7.4.4</span> <span class="toctext">Library API</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-30"><a href="#GPIO_Library"><span class="tocnumber">7.5</span> <span class="toctext">GPIO Library</span></a>
<ul>
<li class="toclevel-3 tocsection-31"><a href="#Library_Features_2"><span class="tocnumber">7.5.1</span> <span class="toctext">Library Features</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#Limitations_2"><span class="tocnumber">7.5.2</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="#Build_Options_3"><span class="tocnumber">7.5.3</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-34"><a href="#Library_API_2"><span class="tocnumber">7.5.4</span> <span class="toctext">Library API</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-35"><a href="#PLL_Controller_Library"><span class="tocnumber">7.6</span> <span class="toctext">PLL Controller Library</span></a>
<ul>
<li class="toclevel-3 tocsection-36"><a href="#Library_Features_3"><span class="tocnumber">7.6.1</span> <span class="toctext">Library Features</span></a></li>
<li class="toclevel-3 tocsection-37"><a href="#Limitations_3"><span class="tocnumber">7.6.2</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-38"><a href="#Build_Options_4"><span class="tocnumber">7.6.3</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-39"><a href="#Library_API_3"><span class="tocnumber">7.6.4</span> <span class="toctext">Library API</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-40"><a href="#CE_6.0_Drivers"><span class="tocnumber">8</span> <span class="toctext">CE 6.0 Drivers</span></a>
<ul>
<li class="toclevel-2 tocsection-41"><a href="#EDMA_Driver"><span class="tocnumber">8.1</span> <span class="toctext">EDMA Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-42"><a href="#Driver_Features"><span class="tocnumber">8.1.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-43"><a href="#Registry_Entries"><span class="tocnumber">8.1.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-44"><a href="#Limitations_4"><span class="tocnumber">8.1.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-45"><a href="#Build_Options_5"><span class="tocnumber">8.1.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-46"><a href="#Driver_API"><span class="tocnumber">8.1.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-47"><a href="#Example_Usage"><span class="tocnumber">8.1.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-48"><a href="#I2C_Driver"><span class="tocnumber">8.2</span> <span class="toctext">I2C Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-49"><a href="#Driver_Features_2"><span class="tocnumber">8.2.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-50"><a href="#Registry_Entries_2"><span class="tocnumber">8.2.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-51"><a href="#Limitations_5"><span class="tocnumber">8.2.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-52"><a href="#Build_Options_6"><span class="tocnumber">8.2.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-53"><a href="#Driver_API_2"><span class="tocnumber">8.2.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-54"><a href="#Example_Usage_2"><span class="tocnumber">8.2.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-55"><a href="#SPI_Driver"><span class="tocnumber">8.3</span> <span class="toctext">SPI Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-56"><a href="#Driver_Features_3"><span class="tocnumber">8.3.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-57"><a href="#Registry_Entries_3"><span class="tocnumber">8.3.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-58"><a href="#Limitations_6"><span class="tocnumber">8.3.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-59"><a href="#Build_Options_7"><span class="tocnumber">8.3.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-60"><a href="#Driver_API_3"><span class="tocnumber">8.3.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-61"><a href="#Example_Usage_3"><span class="tocnumber">8.3.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-62"><a href="#McASP_Support_Library"><span class="tocnumber">8.4</span> <span class="toctext">McASP Support Library</span></a>
<ul>
<li class="toclevel-3 tocsection-63"><a href="#Library_Features_4"><span class="tocnumber">8.4.1</span> <span class="toctext">Library Features</span></a></li>
<li class="toclevel-3 tocsection-64"><a href="#Limitations_7"><span class="tocnumber">8.4.2</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-65"><a href="#Build_Options_8"><span class="tocnumber">8.4.3</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-66"><a href="#Library_API_4"><span class="tocnumber">8.4.4</span> <span class="toctext">Library API</span></a></li>
<li class="toclevel-3 tocsection-67"><a href="#Example_Usage_4"><span class="tocnumber">8.4.5</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-68"><a href="#AIC3106_Audio_Driver"><span class="tocnumber">8.5</span> <span class="toctext">AIC3106 Audio Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-69"><a href="#Driver_Features_4"><span class="tocnumber">8.5.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-70"><a href="#Registry_Entries_4"><span class="tocnumber">8.5.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-71"><a href="#Limitations_8"><span class="tocnumber">8.5.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-72"><a href="#Build_Options_9"><span class="tocnumber">8.5.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-73"><a href="#Driver_API_4"><span class="tocnumber">8.5.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-74"><a href="#Example_Usage_5"><span class="tocnumber">8.5.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-75"><a href="#USB_1.1_OHCI_Host_Driver"><span class="tocnumber">8.6</span> <span class="toctext">USB 1.1 OHCI Host Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-76"><a href="#Driver_Features_5"><span class="tocnumber">8.6.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-77"><a href="#Registry_Entries_5"><span class="tocnumber">8.6.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-78"><a href="#Limitations_9"><span class="tocnumber">8.6.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-79"><a href="#Build_Options_10"><span class="tocnumber">8.6.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-80"><a href="#Driver_API_5"><span class="tocnumber">8.6.5</span> <span class="toctext">Driver API</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-81"><a href="#USB_2.0_OTG_Host_Driver"><span class="tocnumber">8.7</span> <span class="toctext">USB 2.0 OTG Host Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-82"><a href="#Driver_Features_6"><span class="tocnumber">8.7.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-83"><a href="#Registry_Entries_6"><span class="tocnumber">8.7.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-84"><a href="#Limitations_10"><span class="tocnumber">8.7.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-85"><a href="#Build_Options_11"><span class="tocnumber">8.7.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-86"><a href="#Driver_API_6"><span class="tocnumber">8.7.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-87"><a href="#Performance"><span class="tocnumber">8.7.6</span> <span class="toctext">Performance</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-88"><a href="#USB2COM_Library"><span class="tocnumber">8.8</span> <span class="toctext">USB2COM Library</span></a></li>
<li class="toclevel-2 tocsection-89"><a href="#USB_2.0_OTG_Function_Driver"><span class="tocnumber">8.9</span> <span class="toctext">USB 2.0 OTG Function Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-90"><a href="#Driver_Features_7"><span class="tocnumber">8.9.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-91"><a href="#Registry_Entries_7"><span class="tocnumber">8.9.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-92"><a href="#Limitations_11"><span class="tocnumber">8.9.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-93"><a href="#Build_Options_12"><span class="tocnumber">8.9.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-94"><a href="#Driver_API_7"><span class="tocnumber">8.9.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-95"><a href="#Performance_2"><span class="tocnumber">8.9.6</span> <span class="toctext">Performance</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-96"><a href="#USB_2.0_OTG_Driver"><span class="tocnumber">8.10</span> <span class="toctext">USB 2.0 OTG Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-97"><a href="#Driver_Features_8"><span class="tocnumber">8.10.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-98"><a href="#Registry_Entries_8"><span class="tocnumber">8.10.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-99"><a href="#Build_Options_13"><span class="tocnumber">8.10.3</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-100"><a href="#Driver_API_8"><span class="tocnumber">8.10.4</span> <span class="toctext">Driver API</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-101"><a href="#USB_CDMA_Driver"><span class="tocnumber">8.11</span> <span class="toctext">USB CDMA Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-102"><a href="#Driver_Features_9"><span class="tocnumber">8.11.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-103"><a href="#Registry_Entries_9"><span class="tocnumber">8.11.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-104"><a href="#Limitations_12"><span class="tocnumber">8.11.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-105"><a href="#Build_Options_14"><span class="tocnumber">8.11.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-106"><a href="#Driver_API_9"><span class="tocnumber">8.11.5</span> <span class="toctext">Driver API</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-107"><a href="#Raster_LCD_Display_Driver"><span class="tocnumber">8.12</span> <span class="toctext">Raster LCD Display Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-108"><a href="#Driver_Features_10"><span class="tocnumber">8.12.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-109"><a href="#Registry_Entries_10"><span class="tocnumber">8.12.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-110"><a href="#Limitations_13"><span class="tocnumber">8.12.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-111"><a href="#Build_Options_15"><span class="tocnumber">8.12.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-112"><a href="#Driver_API_10"><span class="tocnumber">8.12.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-113"><a href="#Example_Usage_6"><span class="tocnumber">8.12.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-114"><a href="#Character_LCD_Display_Driver"><span class="tocnumber">8.13</span> <span class="toctext">Character LCD Display Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-115"><a href="#Driver_Features_11"><span class="tocnumber">8.13.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-116"><a href="#Registry_Entries_11"><span class="tocnumber">8.13.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-117"><a href="#Limitations_14"><span class="tocnumber">8.13.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-118"><a href="#Build_Options_16"><span class="tocnumber">8.13.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-119"><a href="#Driver_API_11"><span class="tocnumber">8.13.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-120"><a href="#Example_Usage_7"><span class="tocnumber">8.13.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-121"><a href="#NDIS_Ethernet_Driver"><span class="tocnumber">8.14</span> <span class="toctext">NDIS Ethernet Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-122"><a href="#Driver_Features_12"><span class="tocnumber">8.14.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-123"><a href="#Registry_Entries_12"><span class="tocnumber">8.14.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-124"><a href="#Limitations_15"><span class="tocnumber">8.14.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-125"><a href="#Build_Options_17"><span class="tocnumber">8.14.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-126"><a href="#Driver_API_12"><span class="tocnumber">8.14.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-127"><a href="#Performance_3"><span class="tocnumber">8.14.6</span> <span class="toctext">Performance</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-128"><a href="#NAND_Flash_Driver"><span class="tocnumber">8.15</span> <span class="toctext">NAND Flash Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-129"><a href="#Driver_Features_13"><span class="tocnumber">8.15.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-130"><a href="#Registry_Entries_13"><span class="tocnumber">8.15.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-131"><a href="#Limitations_16"><span class="tocnumber">8.15.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-132"><a href="#Build_options_18"><span class="tocnumber">8.15.4</span> <span class="toctext">Build options</span></a></li>
<li class="toclevel-3 tocsection-133"><a href="#Driver_API_13"><span class="tocnumber">8.15.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-134"><a href="#Performance_4"><span class="tocnumber">8.15.6</span> <span class="toctext">Performance</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-135"><a href="#Serial_Driver"><span class="tocnumber">8.16</span> <span class="toctext">Serial Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-136"><a href="#Driver_Features_14"><span class="tocnumber">8.16.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-137"><a href="#Registry_Entries_14"><span class="tocnumber">8.16.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-138"><a href="#Limitations_17"><span class="tocnumber">8.16.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-139"><a href="#Build_Options_19"><span class="tocnumber">8.16.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-140"><a href="#Driver_API_14"><span class="tocnumber">8.16.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-141"><a href="#Example_Usage_8"><span class="tocnumber">8.16.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-142"><a href="#PRU_Soft_UART_Driver"><span class="tocnumber">8.17</span> <span class="toctext">PRU Soft UART Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-143"><a href="#Driver_Features_15"><span class="tocnumber">8.17.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-144"><a href="#Registry_Entries_15"><span class="tocnumber">8.17.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-145"><a href="#Limitations_18"><span class="tocnumber">8.17.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-146"><a href="#Build_Options_20"><span class="tocnumber">8.17.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-147"><a href="#Driver_API_15"><span class="tocnumber">8.17.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-148"><a href="#Example_Usage_9"><span class="tocnumber">8.17.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-149"><a href="#UPP_Driver"><span class="tocnumber">8.18</span> <span class="toctext">UPP Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-150"><a href="#Driver_Features_16"><span class="tocnumber">8.18.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-151"><a href="#Registry_Entries_16"><span class="tocnumber">8.18.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-152"><a href="#Limitations_19"><span class="tocnumber">8.18.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-153"><a href="#Build_Options_21"><span class="tocnumber">8.18.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-154"><a href="#Driver_API_16"><span class="tocnumber">8.18.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-155"><a href="#Example_Usage_10"><span class="tocnumber">8.18.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-156"><a href="#SD.2FMMC_Host_Controller_Driver"><span class="tocnumber">8.19</span> <span class="toctext">SD/MMC Host Controller Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-157"><a href="#Driver_Features_17"><span class="tocnumber">8.19.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-158"><a href="#Registry_Entries_17"><span class="tocnumber">8.19.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-159"><a href="#Limitations_20"><span class="tocnumber">8.19.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-160"><a href="#Build_Options_22"><span class="tocnumber">8.19.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-161"><a href="#Driver_API_17"><span class="tocnumber">8.19.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-162"><a href="#Performance_5"><span class="tocnumber">8.19.6</span> <span class="toctext">Performance</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-163"><a href="#PWM_Driver"><span class="tocnumber">8.20</span> <span class="toctext">PWM Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-164"><a href="#Driver_Features_18"><span class="tocnumber">8.20.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-165"><a href="#Registry_Entries_18"><span class="tocnumber">8.20.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-166"><a href="#Limitations_21"><span class="tocnumber">8.20.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-167"><a href="#Build_Options_23"><span class="tocnumber">8.20.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-168"><a href="#Driver_API_18"><span class="tocnumber">8.20.5</span> <span class="toctext">Driver API</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-169"><a href="#Notification_LED_Driver"><span class="tocnumber">8.21</span> <span class="toctext">Notification LED Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-170"><a href="#Driver_Features_19"><span class="tocnumber">8.21.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-171"><a href="#Registry_Entries_19"><span class="tocnumber">8.21.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-172"><a href="#Limitations_22"><span class="tocnumber">8.21.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-173"><a href="#Build_Options_24"><span class="tocnumber">8.21.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-174"><a href="#Driver_API_19"><span class="tocnumber">8.21.5</span> <span class="toctext">Driver API</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-175"><a href="#Touch_Screen_Driver_for_TPS65070"><span class="tocnumber">8.22</span> <span class="toctext">Touch Screen Driver for TPS65070</span></a>
<ul>
<li class="toclevel-3 tocsection-176"><a href="#Driver_Features_20"><span class="tocnumber">8.22.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-177"><a href="#Registry_Entries_20"><span class="tocnumber">8.22.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-178"><a href="#Limitations_23"><span class="tocnumber">8.22.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-179"><a href="#Build_Options_25"><span class="tocnumber">8.22.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-180"><a href="#Driver_API_20"><span class="tocnumber">8.22.5</span> <span class="toctext">Driver API</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-181"><a href="#Touch_Screen_Driver_for_TSC2004"><span class="tocnumber">8.23</span> <span class="toctext">Touch Screen Driver for TSC2004</span></a>
<ul>
<li class="toclevel-3 tocsection-182"><a href="#Driver_Features_21"><span class="tocnumber">8.23.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-183"><a href="#Registry_Entries_21"><span class="tocnumber">8.23.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-184"><a href="#Limitations_24"><span class="tocnumber">8.23.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-185"><a href="#Build_Options_26"><span class="tocnumber">8.23.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-186"><a href="#Driver_API_21"><span class="tocnumber">8.23.5</span> <span class="toctext">Driver API</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-187"><a href="#McBSP_Driver"><span class="tocnumber">8.24</span> <span class="toctext">McBSP Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-188"><a href="#Driver_Features_22"><span class="tocnumber">8.24.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-189"><a href="#Registry_Entries_22"><span class="tocnumber">8.24.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-190"><a href="#Limitations_25"><span class="tocnumber">8.24.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-191"><a href="#Build_Options_27"><span class="tocnumber">8.24.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-192"><a href="#Driver_API_22"><span class="tocnumber">8.24.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-193"><a href="#Example_Usage_11"><span class="tocnumber">8.24.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-194"><a href="#VPIF_Driver"><span class="tocnumber">8.25</span> <span class="toctext">VPIF Driver</span></a>
<ul>
<li class="toclevel-3 tocsection-195"><a href="#Driver_Features_23"><span class="tocnumber">8.25.1</span> <span class="toctext">Driver Features</span></a></li>
<li class="toclevel-3 tocsection-196"><a href="#Registry_Entries_23"><span class="tocnumber">8.25.2</span> <span class="toctext">Registry Entries</span></a></li>
<li class="toclevel-3 tocsection-197"><a href="#Limitations_26"><span class="tocnumber">8.25.3</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-3 tocsection-198"><a href="#Build_Options_28"><span class="tocnumber">8.25.4</span> <span class="toctext">Build Options</span></a></li>
<li class="toclevel-3 tocsection-199"><a href="#Driver_API_23"><span class="tocnumber">8.25.5</span> <span class="toctext">Driver API</span></a></li>
<li class="toclevel-3 tocsection-200"><a href="#Example_Usage_12"><span class="tocnumber">8.25.6</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-201"><a href="#Power_Management"><span class="tocnumber">9</span> <span class="toctext">Power Management</span></a>
<ul>
<li class="toclevel-2 tocsection-202"><a href="#System_Power_States"><span class="tocnumber">9.1</span> <span class="toctext">System Power States</span></a></li>
<li class="toclevel-2 tocsection-203"><a href="#Power_Management_Configuration"><span class="tocnumber">9.2</span> <span class="toctext">Power Management Configuration</span></a></li>
<li class="toclevel-2 tocsection-204"><a href="#Suspend_.2F_Resume"><span class="tocnumber">9.3</span> <span class="toctext">Suspend / Resume</span></a></li>
<li class="toclevel-2 tocsection-205"><a href="#Power_Management_Tools"><span class="tocnumber">9.4</span> <span class="toctext">Power Management Tools</span></a></li>
<li class="toclevel-2 tocsection-206"><a href="#Power_Measurements"><span class="tocnumber">9.5</span> <span class="toctext">Power Measurements</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-207"><a href="#Applications_and_Libraries"><span class="tocnumber">10</span> <span class="toctext">Applications and Libraries</span></a>
<ul>
<li class="toclevel-2 tocsection-208"><a href="#Test_Applications"><span class="tocnumber">10.1</span> <span class="toctext">Test Applications</span></a></li>
</ul>
</li>
</ul>
</div>
 
<h2><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This is the User Guide for the Windows Embedded CE 6.0 BSP for the Texas Instruments OMAP-L13x, AM17x and AM18 processors. This document describes the functionality and features provided by the BSP and it details the various driver and kernel APIs made available. 
</p><p>For information on how to build and use the BSP see the Quick Start Guide for the appropriate Development Kit. 
</p><p><b>Note: In this document, the term "OMAP-L138 Development Kit" or "OMAP-L138 Kit" always refers to either an OMAP-L138 Evaluation Module (EVM) or eXperimenter Kit. The term "AM1808 Development Kit" or "AM1808 Kit" always refers to an AM1808 eXperimenter Kit. When there is no danger of confusion, the term "Development Kit" or just "Kit" refers to one of the above development kits.</b> 
</p>
<h2><span class="mw-headline" id="Scope">Scope</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=2" title="Edit section: Scope">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This User Guide describes the functionality and features of the OMAP-L137/AM17x and OMAP-L138/AM18x WINCE 6.0 BSPs. 
</p>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=3" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>1. <a href="AM18x/OMAP-L138_WinCE_BSP_Quick_Start_Guide.html" title="AM18x/OMAP-L138 WinCE BSP Quick Start Guide">AM18x/OMAP-L138 WinCE BSP Quick Start Guide</a> 
</p><p>2. <a href="AM17x/OMAP-L137_WinCE_BSP_Quick_Start_Guide.html" title="AM17x/OMAP-L137 WinCE BSP Quick Start Guide">AM17x/OMAP-L137 WinCE BSP Quick Start Guide</a> 
</p>
<h2><span class="mw-headline" id="Abbreviations_and_Acronyms">Abbreviations and Acronyms</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=4" title="Edit section: Abbreviations and Acronyms">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td bgcolor="#c0c0c0"><b>Definition</b>
</td>
<td bgcolor="#c0c0c0"><b>Description</b>
</td></tr>
<tr>
<td align="center"><b>BSP</b>
</td>
<td>Board support package
</td></tr>
<tr>
<td align="center"><b>EVM</b>
</td>
<td>Evaluation module
</td></tr>
<tr>
<td align="center"><b>SOC</b>
</td>
<td>System-on-a-chip
</td></tr>
<tr>
<td align="center"><b>OAL</b>
</td>
<td>OEM Adaptation Layer
</td></tr>
<tr>
<td align="center"><b>MMU</b>
</td>
<td>Memory Management Unit
</td></tr>
<tr>
<td align="center"><b>PSC</b>
</td>
<td>Power Sleep Controller
</td></tr>
<tr>
<td align="center"><b>KITL</b>
</td>
<td>Kernel independent transport layer
</td></tr>
<tr>
<td align="center"><b>CSL</b>
</td>
<td>Chip support library
</td></tr>
<tr>
<td align="center"><b>FMD</b>
</td>
<td>Flash Memory Device
</td></tr>
<tr>
<td align="center"><b>CPPI</b>
</td>
<td>Communications Port Programming Interface
</td></tr></tbody></table>
<h2><span class="mw-headline" id="BSP_Code_Structure">BSP Code Structure</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=5" title="Edit section: BSP Code Structure">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The CE 6.0 BSP consists of the following code trees: 
</p>
<ul><li><b>C:\WINCE600\PLATFORM\OMAPL138_AM18X</b> – OMAP-L138/AM18x Kit specific code. This folder is referred to as a <b>&lt;BSPFolder&gt;</b> in this document.</li>
<li><b>C:\WINCE600\PLATFORM\OMAPL137_AM17X</b> – OMAP-L137/AM17x Kit specific code. This folder is referred to as a <b>&lt;BSPFolder&gt;</b> in this document.</li>
<li><b>C:\WINCE600\PLATFORM\COMMON\SRC\SOC\OMAPL13X_TI_V1</b> – OAL and driver libraries for peripherals in the OMAP-L13x/AM17x/AM18x SOC. This folder is referred to as the <b>&lt;SOCFolder&gt;</b> in this document.</li>
<li><b>C:\WINCE600\OSDesigns</b> – Various sample OS designs for OMAPL138/AM18X and OMAPL137/AM17X</li></ul>
<p>The shared SOC code is used by both the OMAPL138/AM18X BSP and the OMAPL137/AM17X BSP. Any SOC specific functionality in this area is configured either via registry settings or via external variables that are defined in the respective BSP. 
</p><p>Version stamps for the SOC and BSP code can be found in the following headers: 
</p>
<ul><li><b>C:\WINCE600\PLATFORM\OMAPL138_AM18X\SRC\INC\bsp_version.h</b></li>
<li><b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\INC\bsp_version.h</b></li>
<li><b>C:\WINCE600\PLATFORM\COMMON\SRC\SOC\OMAPL13X_TI_V1\INC\bsp_soc_version.h</b></li></ul>
<p>More information on the CE 6.0 BSP directory structure can be found in the CE 6.0 documentation: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee479271.aspx">http://msdn.microsoft.com/en-us/library/ee479271.aspx</a> 
</p>
<h2><span class="mw-headline" id="Boot-loader">Boot-loader</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=6" title="Edit section: Boot-loader">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="First_Stage_Boot-loaders">First Stage Boot-loaders</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=7" title="Edit section: First Stage Boot-loaders">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The BSP includes first stage boot-loaders that perform hardware initialisation and load the secondary boot-loader (EBOOT). The first stage boot-loaders included in the BSP are as follows: 
</p>
<ul><li>OMAP-L138 UBL with 300MHz ARM and DSP configuration</li>
<li>AM1808 UBL with 456MHz ARM configuration</li>
<li>OMAP-L137 UBL with 300MHz ARM and DSP configuration</li>
<li>AM1707 UBL with 300MHz ARM configuration (for early Kit revisions that do not support higher clock rates)</li>
<li>AM1707 UBL with 456MHz ARM configuration</li></ul>
<p>The first stage boot-loaders can be found in the following directory: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\BOOT\TOOLS</b> 
</p>
<h3><span class="mw-headline" id="EBOOT_Features">EBOOT Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=8" title="Edit section: EBOOT Features">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The BSP includes the EBOOT boot-loader. Boot-loader reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee478582.aspx">http://msdn.microsoft.com/en-us/library/ee478582.aspx</a> 
</p><p>The EBOOT implementation supports the following functionality: 
</p>
<ul><li>Serial Flash support for:</li>
<li>OMAPL137_AM17X: Numonyx M25P64 8MB SPI Serial Flash</li>
<li>OMAPL138_AM18X: Winbond W25X32 4MB SPI Serial Flash</li>
<li>NAND flash support for the Micron Technologies MT29F4G08AAC Flash</li>
<li>NOR flash support for:</li>
<li>OMAPL138_AM18X: Intel PC28F640P30T85 8MB StrataFlash</li>
<li>Persistent storage of boot parameters (such as IP address, boot mode) in Serial Flash, NOR and NAND</li>
<li>Serial debug driver on UART0 (115200 baud, 8 data bits, 1 stop bit, no parity)</li>
<li>EMAC Ethernet debug driver</li>
<li>Default device ID derived from Ethernet MAC, menu option to override.</li>
<li>Boot CE image from RAM</li>
<li>Flashing of CE images to NAND, NOR (OMAPL138_AM18X only)</li>
<li>Boot CE image from NAND, NOR (OMAPL138_AM18X only), SD/MMC card</li>
<li>Splash screen support (not for NAND boot on OMAPL137_AM17X)</li>
<li>Peripheral test options for many of the Kit peripherals</li></ul>
<p>Not supported: 
</p>
<ul><li>NOR flash support for:</li>
<li>OMAPL137_AM17X: Spansion S29AL032D 4MB Flash</li></ul>
<h3><span class="mw-headline" id="EBOOT_Sources">EBOOT Sources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=9" title="Edit section: EBOOT Sources">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The main EBOOT sources can be found in the following directory: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\BOOT\EBOOT</b> 
</p>
<h3><span class="mw-headline" id="Flashing_EBOOT_to_the_Development_Kit">Flashing EBOOT to the Development Kit</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=10" title="Edit section: Flashing EBOOT to the Development Kit">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>An EBOOT binary can be flashed to Serial Flash, NOR or NAND. See the Quick Start Guide (<a href="AM18x/OMAP-L138_WinCE_BSP_Quick_Start_Guide.html" title="AM18x/OMAP-L138 WinCE BSP Quick Start Guide">AM18x/OMAP-L138 WinCE BSP Quick Start Guide</a> or <a href="AM17x/OMAP-L137_WinCE_BSP_Quick_Start_Guide.html" title="AM17x/OMAP-L137 WinCE BSP Quick Start Guide">AM17x/OMAP-L137 WinCE BSP Quick Start Guide</a>) for information on flashing EBOOT to Serial Flash. 
</p>
<h4><span id="Flashing_EBOOT_to_OMAP-L137_Development_Kit_(NAND_Flash)"></span><span class="mw-headline" id="Flashing_EBOOT_to_OMAP-L137_Development_Kit_.28NAND_Flash.29">Flashing EBOOT to OMAP-L137 Development Kit (NAND Flash)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=11" title="Edit section: Flashing EBOOT to OMAP-L137 Development Kit (NAND Flash)">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Note: For flashing the AM1707 Kit see the next section. 
</p><p>A new EBOOT image can be flashed to the OMAP-L137 Kit NAND flash using the Code Composer Studio (CCS), which is included with the Kit. The optional UI board, with populated NAND socket, needs to be attached to the Kit base board. 
</p><p>Install CCS, Kit Drivers and Target Content as described in the Quick Start Guide supplied with the Kit. CCS configuration files and GEL files can also be downloaded here: 
</p><p><a rel="nofollow" class="external text" href="http://support.spectrumdigital.com/boards/evmomapl137/revg/">http://support.spectrumdigital.com/boards/evmomapl137/revg/</a> 
</p><p>EBOOT can then be flashed as follows: 
</p><p>1. Perform a <b>Release </b>build of an OS design, as described in the <a href="AM17x/OMAP-L137_WinCE_BSP_Quick_Start_Guide.html" title="AM17x/OMAP-L137 WinCE BSP Quick Start Guide">AM17x/OMAP-L137 WinCE BSP Quick Start Guide</a>. 
</p><p>2. Power off the Kit and set the SW2 BOOT DIP switches to Emulation Debug mode:<br /><b>ON, ON, ON, ON, OFF, OFF</b> 
</p><p>3. Set the UI board SW1 DIP switches to NAND mode:<br /><b>ON, OFF, ON, ON</b> 
</p><p>4. Connect the Kit JTAG socket (EMBED USB J201) to the PC using the USB cable supplied with the Kit (mini-A plug to standard-A plug). 
</p><p>5. Power on the Kit. Windows may prompt for XDS510 USB drivers at this point. Direct Windows to the CCS CD-ROM and it should find the drivers. 
</p><p>
6. Start CCS using the <b>EVMOMAP-L137 CCStudio v3.3</b> icon installed with CCS. CCS should detect the XDS510 USB JTAG emulator and open the <b>Parallel Debug Manager</b> window:<br /></p><div class="thumb tnone"><div class="thumbinner" style="width:619px;"><a href="File_Copy_of_AM1x_OMAPL13x_WinCE_6_0_BSP_User_Guide_03.html" class="image"><img alt="Copy of AM1x OMAPL13x WinCE 6 0 BSP User Guide 03.png" src="https://processors.wiki.ti.com/images/3/3a/Copy_of_AM1x_OMAPL13x_WinCE_6_0_BSP_User_Guide_03.png" width="617" height="201" class="thumbimage" /></a>  <div class="thumbcaption"></div></div></div> 
<p>7. Right click on <b>TMS320C674XP_0</b> and select <b>Connect Device</b>. This will connect CCS to the DSP core and initialise the Kit hardware. The <b>CPU Status</b> column should report <b>Halted</b> once connected and initialised. 
</p><p>8. Right click on <b>TMS320C674XP_0 </b>and select <b>Open</b>. This will open the CCS IDE window for the DSP. 
</p><p>9. Remove the <b>evomapl137_dsp.gel</b> GEL file. 
</p>
<div class="thumb tnone"><div class="thumbinner" style="width:740px;"><a href="File_Copy_of_AM1x_OMAPL13x_WinCE_6_0_BSP_User_Guide_04.html" class="image"><img alt="Copy of AM1x OMAPL13x WinCE 6 0 BSP User Guide 04.png" src="https://processors.wiki.ti.com/images/6/69/Copy_of_AM1x_OMAPL13x_WinCE_6_0_BSP_User_Guide_04.png" width="738" height="615" class="thumbimage" /></a>  <div class="thumbcaption"></div></div></div> 
<p>10. Select <b>File&#160; &gt; Load GEL… </b>and select the following GEL file: 
</p><p><b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin\dskda830_dsp.gel</b> 
</p><p>11. Select <b>GEL&#160; &gt; DSKDA830 Functions&#160; &gt; Setup_EMIFA_PinMux</b>. Close the DSP IDE window. 
</p><p>12. Right click on <b>ARM9_0</b> and select <b>Connect Device</b>. This will connect CCS to the ARM core. The <b>CPU Status</b> column should report <b>Halted</b> once connected. 
</p><p>13. Right click on <b>ARM9_0</b> and select <b>Open</b>. This will open the CCS IDE window. 
</p><p>14. In the CCS IDE select menu option <b>File&#160; &gt; Load Program…</b> and select the NAND Flash writer program:<br /><b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin\nand-writer.out</b> 
</p><p>
15. CCS will download the program to the Kit. The CCS window should now look like this:<br /></p><div class="thumb tnone"><div class="thumbinner" style="width:938px;"><a href="File_Copy_of_AM1x_OMAPL13x_WinCE_6_0_BSP_User_Guide_05.html" class="image"><img alt="Copy of AM1x OMAPL13x WinCE 6 0 BSP User Guide 05.png" src="https://processors.wiki.ti.com/images/0/01/Copy_of_AM1x_OMAPL13x_WinCE_6_0_BSP_User_Guide_05.png" width="936" height="588" class="thumbimage" /></a>  <div class="thumbcaption"></div></div></div> 
<p>16. Run the flash writer by selecting menu option <b>Debug&#160; &gt; Run</b>. 
</p><p>17. CCS will show output from the flash writer program in the <b>Output</b> window and you will be prompted for an image type. Enter the following into the input dialog and click OK:<br /><b>dspais</b> 
</p><p>18. You will be prompted for a file name. Enter the following file name into the input dialog and click OK:<br /><b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin\dsp-nand-ais.bin</b> 
</p><p>19. The flash writer will write the DSP boot-loader to flash, reporting progress as it writes. Wait for flashing to complete. The flash writer will verify the file is written successfully and it should report that the <b>Files matched</b>. 
</p><p>20. Reload and run the flash writer again by selecting menu options <b>File&#160; &gt; Reload Program</b> and <b>Debug&#160; &gt; Run</b>. 
</p><p>21. Enter the following into the input dialog and click OK:<br /><b>armubl</b> 
</p><p>22. Enter the following file name into the input dialog and click OK:<br /><b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin\ubl-nand.bin</b> 
</p><p>23. The flash writer will write the ARM boot-loader to flash, reporting progress as it writes. Wait for flashing to complete and check that the flash writer reports <b>Files matched</b>. 
</p><p>24. Reload and run the flash writer again by selecting menu options <b>File&#160; &gt; Reload Program</b> and <b>Debug&#160; &gt; Run</b>. 
</p><p>25. Enter the following into the input dialog and click OK:<br /><b>uboot</b> 
</p><p>26. Enter the following file name into the input dialog and click OK:<br /><b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\target\ARMV4I\retail\EBOOTNANDFLASH.nb0</b> 
</p><p>27. The flash writer will write the EBOOT boot-loader to flash, reporting progress as it writes. Wait for flashing to complete and check that the flash writer reports <b>Files matched</b>. 
</p><p>28. Close CCS and the Parallel Debug Manager windows. 
</p><p>29. Power off the Kit and set the SW2 BOOT DIP switches to NAND 8-bit Boot mode:<br /><b>OFF, ON, ON, ON, ON, OFF</b> 
</p><p>30. Connect the development PC serial port to the Kit UART (serial cable is supplied with the Kit). 
</p><p>31. Start your serial terminal application (115200 baud, 8N1). 
</p><p>32. Power on the Kit and check that the new EBOOT image boots 
</p><p>33. EBOOT settings can now be configured, as described in the Quick Start Guide.
</p>
<h4><span id="Flashing_EBOOT_to_AM1707_Development_Kit_(NAND_Flash)"></span><span class="mw-headline" id="Flashing_EBOOT_to_AM1707_Development_Kit_.28NAND_Flash.29">Flashing EBOOT to AM1707 Development Kit (NAND Flash)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=12" title="Edit section: Flashing EBOOT to AM1707 Development Kit (NAND Flash)">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>A new EBOOT image can be flashed to the AM1707 Kit NAND flash using the Code Composer Studio (CCS), which is included with the Kit. The optional UI board, with populated NAND socket, needs to be attached to the Kit base board. 
</p><p>Install CCS, Kit Drivers and Target Content as described in the Quick Start Guide supplied with the Kit. CCS configuration files and GEL files can also be downloaded here: 
</p><p><a rel="nofollow" class="external text" href="http://support.spectrumdigital.com/boards/evmam1707/revg/">http://support.spectrumdigital.com/boards/evmam1707/revg/</a> 
</p><p>EBOOT can then be flashed as follows: 
</p><p>1. Perform a <b>Release </b>build of an OS design, as described in the <a href="AM17x/OMAP-L137_WinCE_BSP_Quick_Start_Guide.html" title="AM17x/OMAP-L137 WinCE BSP Quick Start Guide">AM17x/OMAP-L137 WinCE BSP Quick Start Guide</a>. 
</p><p>2. Power off the Kit and set the SW2 BOOT DIP switches to Emulation Debug mode:<br /><b>ON, ON, ON, ON, OFF, OFF</b> 
</p><p>3. Set the UI board SW1 DIP switches to NAND mode:<br /><b>ON, OFF, ON, ON</b> 
</p><p>4. Connect the Kit JTAG socket (EMBED USB J201) to the PC using the USB cable supplied with the Kit (mini-A plug to standard-A plug). 
</p><p>5. Power on the Kit. Windows may prompt for XDS510 USB drivers at this point. Direct Windows to the CCS CD-ROM and it should find the drivers. 
</p><p>6. Start CCS using the <b>EVMAM1707 CCStudio v3.3</b> icon installed with CCS (or double click the <b>evmam1707_xds510usb.ccs</b> file). Note that you may need to create a folder called:<br /><b>C:\CCStudio_vX.X\boards\evmam1707_v1\gel<br />a</b>nd copy the <b>evmam1707.gel</b> file into that folder. 
</p><p>7. CCS should detect the XDS510 USB JTAG emulator and open the CCS IDE window. 
</p><p>8. In the CCS IDE select menu option <b>Debug&#160; &gt; Connect </b>and CCS should successfully connect to the AM1707. 
</p><p>9. Select <b>GEL&#160; &gt; EVMAM1707 Functions&#160; &gt; Setup_EMIFA_PinMux</b>. 
</p><p>10. Select menu option <b>File&#160; &gt; Load Program…</b> and select the NAND Flash writer program:<br /><b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin\nand-writer.out</b> 
</p><p>
11. CCS will download the program to the Kit. The CCS window should now look like this:<br /></p><div class="thumb tnone"><div class="thumbinner" style="width:941px;"><a href="File_Copy_of_AM1x_OMAPL13x_WinCE_6_0_BSP_User_Guide_06.html" class="image"><img alt="Copy of AM1x OMAPL13x WinCE 6 0 BSP User Guide 06.png" src="https://processors.wiki.ti.com/images/c/c2/Copy_of_AM1x_OMAPL13x_WinCE_6_0_BSP_User_Guide_06.png" width="939" height="749" class="thumbimage" /></a>  <div class="thumbcaption"></div></div></div> 
<p>12. Run the flash writer by selecting menu option <b>Debug&#160; &gt; Run</b>. 
</p><p>13. CCS will show output from the flash writer program in the <b>Output</b> window and you will be prompted for an image type. Enter the following into the input dialog and click OK:<br /><b>armais</b> 
</p><p>14. You will be prompted for a file name. Choose one of the following ARM bootloader images that matches the clock speed that the SOC and Kit support and enter its file name into the input dialog and click OK: 
</p><p>For 300mhz BSP 01.00.02 and later releases:
</p>
<pre>   <b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin\arm-nand-ais.bin</b>
</pre>
<p>For 300mhz BSP 01.00.01 and earlier releases:
</p>
<pre>   <b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin\arm-nand-ais-300mhz.bin</b>
</pre>
<p>For 456 mhz:
</p>
<pre>   <b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin\arm-nand-ais-456mhz.bin</b> 
</pre>
<p>15. The flash writer will write the ARM boot-loader to flash, reporting progress as it writes. Wait for flashing to complete. The flash writer will verify the file is written successfully and it should report that the <b>NAND boot preparation was successful!</b> 
</p><p>16. Reload and run the flash writer again by selecting menu options <b>File&#160; &gt; Reload Program</b> and <b>Debug&#160; &gt; Run</b>. 
</p><p>17. Enter the following into the input dialog and click OK:<br /><b>uboot</b> 
</p><p>18. Enter the following file name into the input dialog and click OK:
<br /><b>C:\WINCE600\PLATFORM\OMAPL137_AM17X\target\ARMV4I\retail\EBOOTNANDFLASH.nb0</b> 
</p><p>19. The flash writer will write the EBOOT boot-loader to flash, reporting progress as it writes. Wait for flashing to complete and check that the flash writer reports <b>NAND boot preparation was successful!</b> 
</p><p>20. Close CCS and the Parallel Debug Manager windows. 
</p><p>21. Power off the Kit and set the SW2 BOOT DIP switches to NAND 8-bit Boot mode:<br /><b>OFF, ON, ON, ON, ON, OFF</b> 
</p><p>22. Connect the development PC serial port to the Kit UART (serial cable is supplied with the Kit). 
</p><p>23. Start your serial terminal application (115200 baud, 8N1). 
</p><p>24. Power on the Kit and check that the new EBOOT image boots 
</p><p>25. EBOOT settings can now be configured, as described in the Quick Start Guide.
</p>
<h4><span id="Flashing_EBOOT_to_OMAP-L137_Development_Kit_(NAND_Flash)_Using_Serial_Flash_Utility"></span><span class="mw-headline" id="Flashing_EBOOT_to_OMAP-L137_Development_Kit_.28NAND_Flash.29_Using_Serial_Flash_Utility">Flashing EBOOT to OMAP-L137 Development Kit (NAND Flash) Using Serial Flash Utility</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=13" title="Edit section: Flashing EBOOT to OMAP-L137 Development Kit (NAND Flash) Using Serial Flash Utility">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>For <b>BSP 01.00.02</b> and later releases, a new EBOOT image can be flashed to the OMAP-L137 Kit NAND flash using the <b>sfh_OMAP-L137.exe</b> tool. 
</p><p>The UI board, with populated NAND socket, needs to be attached to the Kit base board. 
</p><p>A PC with a serial port that supports 230400 baud is required. Many USB to serial adapter cables support 230400 baud so one of these can be used.
</p><p>Note 1. It is reported by customer that in case of Rev 2 OMAP-L137 processor <b>115200</b> baud rate is required.
</p><p>Note 2. We have experienced issues with some USB to serial adapters. One chipset known to work with the L137 is the Prolific PL-2303.
</p><p>Note 3. Due to compatibility issue, please use the sfh_OMAP-L137.exe tool and the ubl images from the same release in the following procedure.
</p><p><br />
Procedure for flashing NAND: 
</p><p>1. Perform a <b>Release </b>build of an OS design, as described in the <a href="AM17x/OMAP-L137_WinCE_BSP_Quick_Start_Guide.html" title="AM17x/OMAP-L137 WinCE BSP Quick Start Guide">AM17x/OMAP-L137 WinCE BSP Quick Start Guide</a>. 
</p><p>2. Connect the development PC serial port to the Kit UART (serial cable is supplied with the Kit). Close your serial terminal application. 
</p><p>3. Set the Kit baseboard DIP switches SW2-[7 2 1 0 3 -] to [ON OFF ON OFF OFF OFF]. 
</p><p>4. Set the UI board DIP switches SW1-[1 2 3 4] to [ON OFF ON ON]
</p><p>5. Open a Windows Command Prompt (cmd.exe) 
</p><p>6. Change directory to the EBOOT tools area:<br /><b>cd C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin</b> 
</p><p>7. Copy the new EBOOT image to the tools area:<br /><font size="1"><b>copy C:\WINCE600\PLATFORM\OMAPL137_AM17X\target\ARMV4I\retail\EBOOTNANDFLASH.nb0 .</b></font> 
</p><p>8. Run the flash tool to erase the NAND Flash (change COM port if required):<br /><font size="1"><b>sfh_OMAP-L137.exe -erase -targetType OMAPL137_v1 -flashType NAND -baud 230400 -p COM1</b> 
</font></p><p><font size="1">(In case of Rev 2 OMAP-L137 processor, use 115200 baud rate) </font>
</p><p>9. Power on or reset the Kit. You should see progress being reported, wait until it completes. Note: If the erase sequence does not complete after 30 seconds press a key to terminate the sfh_OMAP-L138.exe program and continue with the flashing procedure. 
</p><p>10. Run the flash tool to write an <b>appropriate</b> UBL and EBOOT to flash (change COM port if required).<br />
</p><p><font size="1"><b>sfh_OMAP-L137.exe -flash_dsp -flashType NAND -targetType OMAPL137_v1 -baud 230400 -p COM4 -appStartAddr 0xc3f60000 -appLoadAddr 0xc3f60000 dsp-nand-ais.bin ubl-nand.bin EBOOTNANDFLASH.nb0<br /></b>
</font></p><p><font size="1">(In case of Rev 2 OMAP-L137 processor, use 115200 baud rate)</font>
</p><p>11. Power on or reset the Kit. You should see progress being reported, wait until it completes. 
</p><p>12. Power off the Kit and set baseboard DIP switches SW2-[7 2 1 0 3 -] to [OFF ON ON ON ON OFF]. 
</p><p>13. Start your serial terminal application (115200 baud, 8N1). 
</p><p>14. Power on the Kit and check that the new EBOOT image boots 
</p><p>15. EBOOT settings can now be configured, as described in the Quick Start Guide.
</p>
<h4><span id="Flashing_EBOOT_to_AM1707_Development_Kit_(NAND_Flash)_Using_Serial_Flash_Utility"></span><span class="mw-headline" id="Flashing_EBOOT_to_AM1707_Development_Kit_.28NAND_Flash.29_Using_Serial_Flash_Utility">Flashing EBOOT to AM1707 Development Kit (NAND Flash) Using Serial Flash Utility</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=14" title="Edit section: Flashing EBOOT to AM1707 Development Kit (NAND Flash) Using Serial Flash Utility">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>For <b>BSP 01.00.02 and later</b> releases, a new EBOOT image can be flashed to the AM1707 Kit NAND flash using the <b>sfh_OMAP-L137.exe</b> tool. 
</p><p>The UI board, with populated NAND socket, needs to be attached to the Kit base board. 
</p><p>Note. Due to compatibility issue, please use the sfh_OMAP-L137.exe tool and the ubl images from the same release in the following procedure.
</p><p><br />
Procedure for flashing NAND: 
</p><p>1. Perform a <b>Release </b>build of an OS design, as described in the <a href="AM17x/OMAP-L137_WinCE_BSP_Quick_Start_Guide.html" title="AM17x/OMAP-L137 WinCE BSP Quick Start Guide">AM17x/OMAP-L137 WinCE BSP Quick Start Guide</a>. 
</p><p>2. Connect the development PC serial port to the Kit UART (serial cable is supplied with the Kit). Close your serial terminal application. 
</p><p>3. Set the Kit baseboard DIP switches SW2-[7 2 1 0 3 -] to [ON OFF ON OFF OFF OFF]. 
</p><p>4. Set the UI board DIP switches SW1-[1 2 3 4] to [ON OFF ON ON]
</p><p>5. Open a Windows Command Prompt (cmd.exe) 
</p><p>6. Change directory to the EBOOT tools area:<br /><b>cd C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin</b> 
</p><p>7. Copy the new EBOOT image to the tools area:<br /><font size="1"><b>copy C:\WINCE600\PLATFORM\OMAPL137_AM17X\target\ARMV4I\retail\EBOOTNANDFLASH.nb0 .</b></font> 
</p><p>8. Run the flash tool to erase the NAND Flash (change COM port if required):<br /><font size="1"><b>sfh_OMAP-L137.exe -erase -flashType NAND -targetType AM1707 -p COM4</b></font> 
</p><p>9. Power on or reset the Kit. You should see progress being reported, wait until it completes. Note: If the erase sequence does not complete after 30 seconds press a key to terminate the sfh_OMAP-L138.exe program and continue with the flashing procedure. 
</p><p>10. Run the flash tool to write an <b>appropriate</b> UBL and EBOOT to flash (change COM port if required).<br />
</p><p><font size="1"><b>sfh_OMAP-L137.exe -flash -flashType NAND -targetType AM1707 -p COM4 -appStartAddr 0xc3f60000 -appLoadAddr 0xc3f60000 arm-nand-ais-456mhz.ais EBOOTNANDFLASH.nb0<br /></b></font>
</p><p>11. Power on or reset the Kit. You should see progress being reported, wait until it completes. 
</p><p>12. Power off the Kit and set baseboard DIP switches SW2-[7 2 1 0 3 -] to [OFF ON ON ON ON OFF]. 
</p><p>13. Start your serial terminal application (115200 baud, 8N1). 
</p><p>14. Power on the Kit and check that the new EBOOT image boots 
</p><p>15. EBOOT settings can now be configured, as described in the Quick Start Guide.
</p>
<h4><span id="Flashing_EBOOT_to_OMAP-L138/AM18x_Development_Kit_(NAND_Flash)"></span><span class="mw-headline" id="Flashing_EBOOT_to_OMAP-L138.2FAM18x_Development_Kit_.28NAND_Flash.29">Flashing EBOOT to OMAP-L138/AM18x Development Kit (NAND Flash)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=15" title="Edit section: Flashing EBOOT to OMAP-L138/AM18x Development Kit (NAND Flash)">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>A new EBOOT image can be flashed to the OMAP-L138/AM18x Kit NAND flash using the <b>sfh_OMAP-L138.exe</b> tool. The UI board, with populated NAND socket, needs to be attached to the Kit base board. Procedure for flashing NAND: 
</p><p>1. Perform a <b>Release </b>build of an OS design, as described in the <a href="AM18x/OMAP-L138_WinCE_BSP_Quick_Start_Guide.html" title="AM18x/OMAP-L138 WinCE BSP Quick Start Guide">AM18x/OMAP-L138 WinCE BSP Quick Start Guide</a>. 
</p><p>2. Connect the development PC serial port to the Kit UART (serial cable is supplied with the Kit). Close your serial terminal application. 
</p><p>3. Set the Kit DIP switches <b>S7-7</b> and <b>S7-8</b> to ON and all others to OFF. 
</p><p>4. Open a Windows Command Prompt (cmd.exe) 
</p><p>5. Change directory to the EBOOT tools area:<br /><b>cd C:\WINCE600\PLATFORM\OMAPL138_AM18X\SRC\BOOT\TOOLS\bin</b> 
</p><p>6. Copy the new EBOOT image to the tools area:<br /><font size="1"><b>copy C:\WINCE600\PLATFORM\OMAPL138_AM18X\target\ARMV4I\retail\EBOOTNANDFLASH.nb0 .</b></font> 
</p><p>7. Run the flash tool to erase the NAND Flash (change COM port if required):<br /><font size="1"><b>sfh_OMAP-L138.exe -erase -targetType  [OMAPL138 | AM1808] -flashType NAND -p COM1</b></font> 
</p><p>8. Power on or reset the Kit. You should see progress being reported, wait until it completes. Note: If the erase sequence does not complete after 30 seconds press a key to terminate the sfh_OMAP-L138.exe program and continue with the flashing procedure. 
</p><p>9. Run the flash tool to write an <b>appropriate</b> UBL and EBOOT to flash (change COM port if required).<br />
</p><p><font size="1"><b>sfh_OMAP-L138.exe -flash -targetType  [OMAPL138 | AM1808]  -flashType NAND -v -p COM1 -appStartAddr 0xc7f60000 -appLoadAddr 0xc7f60000    [nand-ubl]  EBOOTNANDFLASH.nb0<br /></b></font>
</p><p>where <b>nand-ubl</b> is:
</p><p>a.  For <b>BSP 01.00.02</b> and later releases
</p>
<pre>   <b>arm-nand-ais.bin</b> for OMAP-L138
   <b>arm-nand-ais-456mhz.bin</b> for AM1808
</pre>
<p>b.  For <b>BSP 01.00.01</b> and earlier releases
</p>
<pre>   <b>ubl_OMAPL138_NAND.bin</b> for OMAP-L138
   <b>ubl_AM1808_NAND.bin</b> for AM1808
</pre>
<p>10. Power on or reset the Kit. You should see progress being reported, wait until it completes. 
</p><p>11. Power off the Kit and set DIP switches <b>S7-6</b>, <b>S7-7</b> and <b>S7-8</b> to OFF and <b>S7-5 </b>to ON. 
</p><p>12. Start your serial terminal application (115200 baud, 8N1). 
</p><p>13. Power on the Kit and check that the new EBOOT image boots 
</p><p>14. EBOOT settings can now be configured, as described in the Quick Start Guide.
</p>
<h4><span id="Flashing_EBOOT_to_OMAP-L138/AM18x_Development_Kit_(NOR_Flash)"></span><span class="mw-headline" id="Flashing_EBOOT_to_OMAP-L138.2FAM18x_Development_Kit_.28NOR_Flash.29">Flashing EBOOT to OMAP-L138/AM18x Development Kit (NOR Flash)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=16" title="Edit section: Flashing EBOOT to OMAP-L138/AM18x Development Kit (NOR Flash)">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>A new EBOOT image can be flashed to the OMAP-L138/AM18x Kit NOR flash using the <b>sfh_OMAP-L138.exe</b> tool. The UI board needs to be attached to the Kit base board. Procedure for flashing NOR: 
</p><p>1. Perform a <b>Release </b>build of an OS design, as described in the <a href="AM18x/OMAP-L138_WinCE_BSP_Quick_Start_Guide.html" title="AM18x/OMAP-L138 WinCE BSP Quick Start Guide">AM18x/OMAP-L138 WinCE BSP Quick Start Guide</a>. 
</p><p>2. Connect the development PC serial port to the Kit UART (serial cable is supplied with the Kit). Close your serial terminal application. 
</p><p>3. Remove any SD/MMC card from the SD card slot. 
</p><p>4. Set the Kit DIP switches <b>S7-7</b> and <b>S7-8</b> to ON and all others to OFF. 
</p><p>5. Open a Windows Command Prompt (cmd.exe) 
</p><p>6. Change directory to the EBOOT tools area:<br /><b>cd C:\WINCE600\PLATFORM\OMAPL138_AM18X\SRC\BOOT\TOOLS\bin</b> 
</p><p>7. Copy the new EBOOT image to the tools area:<br /><font size="1"><b>copy C:\WINCE600\PLATFORM\OMAPL138_AM18X\target\ARMV4I\retail\EBOOTNORFLASH.nb0 .</b></font> 
</p><p>8. Run the flash tool to erase the NOR Flash (change COM port if required):<br /><font size="1"><b>sfh_OMAP-L138.exe -erase -targetType  [OMAPL138 | AM1808] -flashType NOR -p COM1</b></font> 
</p><p>9. Power on or reset the Kit. You should see progress being reported, wait until it completes. 
</p><p>10. Run the flash tool to write an <b>appropriate</b> UBL and EBOOT to flash (change COM port if required).<br />
</p><p><font size="1"><b>sfh_OMAP-L138.exe -flash -targetType [OMAPL138 | AM1808] -flashType NOR -v -p COM1 -appStartAddr 0xc7f60000 -appLoadAddr 0xc7f60000 [nor-ubl]  EBOOTNORFLASH.nb0<br /></b></font>
</p><p>where <b>nor-ubl</b> is:
</p><p>a.  For <b>BSP 01.00.02</b> and later releases
</p>
<pre>   <b>arm-nor-ais.bin</b> for OMAP-L138
   <b>arm-nor-ais-456mhz.bin</b> for AM1808
</pre>
<p>b.  For <b>BSP 01.00.01</b> and earlier releases
</p>
<pre>   <b>ubl_OMAPL138_NOR.bin</b> for OMAP-L138
   <b>ubl_AM1808_NOR.bin</b> for AM1808
</pre>
<p>11. Power on or reset the Kit. You should see progress being reported, wait until it completes. 
</p><p>12. Power off the Kit and set DIP switches <b>S7-5</b>, <b>S7-6</b> and <b>S7-7</b> to ON and <b>S7-8 </b>to OFF. Check that there is no card in the SD card slot. 
</p><p>13. Start your serial terminal application (115200 baud, 8N1). 
</p><p>14. Power on the Kit and check that the new EBOOT image boots 
</p><p>15. EBOOT settings can now be configured, as described in the Quick Start Guide.
</p>
<h3><span id="SD/MMC_Card_Boot_Support"></span><span class="mw-headline" id="SD.2FMMC_Card_Boot_Support">SD/MMC Card Boot Support</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=17" title="Edit section: SD/MMC Card Boot Support">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>EBOOT supports loading a CE image from an SD/MMC card. The card needs to be formatted with a FAT file system. EBOOT will look for the following files on the SD/MMC card: 
</p>
<ul><li><b>nk.bin</b> / <b>nk.nb0</b> – CE image file. Either a <b>bin</b> or <b>nb0</b> file can be placed on the card. EBOOT will look for the bin file first. The bin file is usually smaller and takes less time to read but there are limits on the size of bin file supported. If EBOOT reports that there is insufficient space to read the bin file try the nb0 file instead.</li></ul>
<p>The files can be written to the card using a standard PC card reader or using CE 6.0 running on the Kit. 
</p><p>To configure EBOOT to load the CE image from an SD card, use the <b>Boot Settings</b> <b> &gt; Select Boot Device</b> menu. 
</p>
<h3><span class="mw-headline" id="Boot_Modes">Boot Modes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=18" title="Edit section: Boot Modes">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Table 1 and 2 gives a summary of the boot modes supported on the OMAP-L13x/AM17x/AM18x Development Kit. 
</p><p>The ubl files can be found in 
</p><p>• C:\WINCE600\PLATFORM\OMAPL137_AM17X\SRC\BOOT\TOOLS\bin\ 
</p><p>• C:\WINCE600\PLATFORM\OMAPL138_AM18X\SRC\BOOT\TOOLS\bin\ 
</p><p>depending on the platform. 
</p><p>Note: SD boot is only supported on OMAP-L138 platform by BSP 01.00.01 and later releases.
</p><p><br />
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">
<caption>Table 1. OMAP13x/AM18x/AM17x boot modes (BSP 01.00.02 and later)
</caption>
<tbody><tr>
<th bgcolor="#DDFFDD">Boot mode
</th>
<th bgcolor="#DDFFDD">ubl location
</th>
<th bgcolor="#DDFFDD">ubl file
</th>
<th bgcolor="#DDFFDD">Eboot location
</th>
<th bgcolor="#DDFFDD">CE image location
</th></tr>
<tr>
<td>SD boot(OMAP-L138 only)
</td>
<td>SPI
</td>
<td>• arm-mmcsd-ais.bin
</td>
<td>SD card
</td>
<td>SD/EMAC
</td></tr>
<tr>
<td>SPI boot
</td>
<td>SPI
</td>
<td>• arm-spi-ais.bin (omapl138/am1808 300mhz)
<p>• arm-spi-ais-456mhz.bin (omapl138/am1808 456mhz)
</p><p>• dsp-spi-ais.bin + ubl-spi.bin (omapl137)
</p><p>• ubl-spi.bin (am1707 300mhz)
</p><p>• arm-spi-ais-456mhz.bin (am1707 456mhz)
</p>
</td>
<td>SPI
</td>
<td>SD/EMAC
</td></tr>
<tr>
<td>NAND boot
</td>
<td>NAND
</td>
<td>• arm-nand-ais.bin (omapl138/am1808 300mhz)
<p>• arm-nand-ais-456mhz.bin (omapl138/am1808 456mhz)
</p><p>• dsp-nand-ais.bin + ubl-nand.bin (omapl137 300mhz)
</p><p>• ubl-nand.bin (300mhz), arm-nand-ais-456mhz.bin (am1707)
</p>
</td>
<td>NAND
</td>
<td>SD/EMAC
</td></tr>
<tr>
<td>NOR boot
</td>
<td>NOR
</td>
<td>• arm-nor-ais.bin (omapl138/am1808 300mhz)
<p>• arm-nor-ais-456mhz.bin (omapl138/am1808 456mhz)
</p>
</td>
<td>NOR
</td>
<td>SD/EMAC
</td></tr></tbody></table>
<p><br />
</p><p><br /> 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">
<caption>Table 2. OMAP13x/AM18x/AM17x boot modes (BSP 01.00.01 and earlier)
</caption>
<tbody><tr>
<th bgcolor="#DDFFDD">Boot mode
</th>
<th bgcolor="#DDFFDD">ubl location
</th>
<th bgcolor="#DDFFDD">ubl file
</th>
<th bgcolor="#DDFFDD">Eboot location
</th>
<th bgcolor="#DDFFDD">CE image location
</th></tr>
<tr>
<td>SD boot(OMAP-L138 only)
</td>
<td>SPI
</td>
<td>• arm-mmcsd-ais.bin
</td>
<td>SD card
</td>
<td>SD/EMAC
</td></tr>
<tr>
<td>SPI boot
</td>
<td>SPI
</td>
<td>• ubl_OMAPL138_SPI_MEM.bin
<p>• ubl_AM1808_SPI_MEM.bin 
</p><p>• OMAP-L137: (dsp-spi-ais.bin + ubl-spi.bin) 
</p><p>• ubl_AM1707_SPI_MEM-300MHz.bin 
</p><p>• ubl_AM1707_SPI_MEM-456MHz.bin 
</p>
</td>
<td>SPI
</td>
<td>SD/EMAC
</td></tr>
<tr>
<td>NAND boot
</td>
<td>NAND
</td>
<td>• ubl_OMAPL138_NAND.bin
<p>• ubl_AM1808_NAND.bin 
</p><p>• OMAP-L137: (dsp-nand-ais.bin + ubl-nand.bin) 
</p><p>• AM1707: (arm-nand-ais-300mhz.bin, arm-nand-ais-456mhz.bin) 
</p>
</td>
<td>NAND
</td>
<td>SD/EMAC
</td></tr>
<tr>
<td>NOR boot
</td>
<td>NOR
</td>
<td>• ubl_OMAPL138_NOR.bin
<p>• ubl_AM1808_NOR.bin 
</p>
</td>
<td>NOR
</td>
<td>SD/EMAC
</td></tr></tbody></table>
<h2><span class="mw-headline" id="CE_6.0_Kernel">CE 6.0 Kernel</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=19" title="Edit section: CE 6.0 Kernel">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span id="OEM_Adaptation_Layer_(OAL)"></span><span class="mw-headline" id="OEM_Adaptation_Layer_.28OAL.29">OEM Adaptation Layer (OAL)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=20" title="Edit section: OEM Adaptation Layer (OAL)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="OAL_Features">OAL Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=21" title="Edit section: OAL Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP implements a production-quality OAL. OAL reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee479158.aspx">http://msdn.microsoft.com/en-us/library/ee479158.aspx</a> 
</p><p>The OAL implementation includes support for the following SOC features and functionality: 
</p>
<ul><li>Boot parameters (passed from boot-loader)</li>
<li>ARM cache (instruction and data, write buffer)</li>
<li>Interrupt controller (including GPIO interrupts)</li>
<li>Timer (1ms fixed system tick) – uses Timer0, low 32 bits</li>
<li>Software emulation of real time clock</li>
<li>MMU</li>
<li>System IO control</li>
<li>Kernel profiler – uses Timer0, high 32 bits</li>
<li>Serial debug support – on UART2</li>
<li>KITL connection over Ethernet (interrupt or polled transport)</li>
<li>VMINI support</li>
<li>Library abstractions (PSC, PLL, GPIO abstractions)</li>
<li>Real Time Clock (RTC)</li>
<li>Watchdog Timer (Timer1)</li>
<li>Power management: CPU idle support (ARM wait for interrupt in OEMIdle())</li></ul>
<p>Not supported: 
</p>
<ul><li>Idle timer (GetIdleTime())</li></ul>
<h4><span class="mw-headline" id="Build_Options">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=22" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In OMAP-L137 silicon revision 1.1 and earlier there is an issue with the ARM data cache write-back mode. The write-back mode is disabled in the BSP via the SOC type selection in the catalog. When using a later silicon revision the Rev 2 catalog entry should be selected. 
</p><p>The Watchdog timer is disabled by default. The Watchdog can be enabled by setting the BSP_WDT_ENABLE variable in the BSP configuration file: 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL138_AM18X.bat</b> 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL137_AM17X.bat</b> 
</p>
<h3><span class="mw-headline" id="Memory_Configuration">Memory Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=23" title="Edit section: Memory Configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The memory map configuration can be found in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\config.bib</b> 
</p><p>There are areas of RAM reserved for some of the drivers. Should the memory map require changing the following files will need updating: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\config.bib</b> 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\BOOT\EBOOT\SPIFLASH\ebootspiflash.bib</b> 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\BOOT\EBOOT\NANDFLASH\ebootnandflash.bib</b> 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\BOOT\EBOOT\NORFLASH\ebootnorflash.bib</b> 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\INC\image_cfg.h</b> 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\INC\image_cfg.inc</b> 
</p>
<h3><span class="mw-headline" id="Pin_Multiplexing_Configuration">Pin Multiplexing Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=24" title="Edit section: Pin Multiplexing Configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The pin multiplexing configuration can be found in these headers: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\INC\bsp_cfg.h</b> 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\INC\bsp_cfg.inc</b> 
</p><p>All pin multiplexing for the CE OS is configured via these headers. The device drivers do not perform pin multiplex configuration. 
</p>
<h3><span class="mw-headline" id="PSC_Library">PSC Library</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=25" title="Edit section: PSC Library">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Library_Features">Library Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=26" title="Edit section: Library Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a library to manage access to the SOC Power Sleep Controller. The library is implemented at the kernel level and is accessed via a KernelIOControl. The library has an API to get and set the power state for an SOC module. 
</p>
<h4><span class="mw-headline" id="Limitations">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=27" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_2">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=28" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are no build options for this library. 
</p>
<h4><span class="mw-headline" id="Library_API">Library API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=29" title="Edit section: Library API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The PSC driver level API is defined in the follow header: 
</p><p><b>…\&lt;SOCFolder&gt;\INC\psc.h</b> 
</p><p>The library header defines a set of inline wrapper functions that call the PSC KernelIOControls. 
</p><p>A PSC kernel level API is available for use from other kernel modules. The kernel API is defined in the follow header: 
</p><p><b>…\&lt;SOCFolder&gt;\OAL\INC\kernelpsc.h</b> 
</p>
<h3><span class="mw-headline" id="GPIO_Library">GPIO Library</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=30" title="Edit section: GPIO Library">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Library_Features_2">Library Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=31" title="Edit section: Library Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a library to manage access to the SOC GPIO lines. The library is implemented at the kernel level and is accessed via a KernelIOControl. The library has an API to set the IO direction for a line and to get and set its state. 
</p>
<h4><span class="mw-headline" id="Limitations_2">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=32" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_3">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=33" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are no build options for this library. 
</p>
<h4><span class="mw-headline" id="Library_API_2">Library API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=34" title="Edit section: Library API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The GPIO library API is defined in the follow headers: 
</p><p><b>…\&lt;SOCFolder&gt;\INC\gpiodefs.h</b> 
</p><p><b>…\&lt;SOCFolder&gt;\INC\gpio.h</b> 
</p><p>The library header defines a set of inline wrapper functions that call the GPIO KernelIOControls. 
</p><p>A GPIO kernel level API is available for use from other kernel modules. The kernel API is defined in the follow header: 
</p><p><b>…\&lt;SOCFolder&gt;\OAL\INC\kernelgpio.h</b> 
</p>
<h3><span class="mw-headline" id="PLL_Controller_Library">PLL Controller Library</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=35" title="Edit section: PLL Controller Library">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Library_Features_3">Library Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=36" title="Edit section: Library Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a library to manage access to the SOC PLL controllers. The library is implemented at the kernel level and is accessed via a KernelIOControl. The library has an API to get all the PLL clock frequencies or just a single clock frequency. 
</p>
<h4><span class="mw-headline" id="Limitations_3">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=37" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_4">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=38" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are no build options for this library. 
</p>
<h4><span class="mw-headline" id="Library_API_3">Library API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=39" title="Edit section: Library API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The PLLC driver level API is defined in the follow header: 
</p><p><b>…\&lt;SOCFolder&gt;\INC\pllc.h</b> 
</p><p>The library header defines a set of inline wrapper functions that call the PLL KernelIOControls. 
</p><p>A PLLC kernel level API is available for use from other kernel modules. The kernel API is defined in the follow header: 
</p><p><b>…\&lt;SOCFolder&gt;\OAL\INC\kernelpllc.h</b> 
</p>
<h2><span class="mw-headline" id="CE_6.0_Drivers">CE 6.0 Drivers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=40" title="Edit section: CE 6.0 Drivers">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="EDMA_Driver">EDMA Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=41" title="Edit section: EDMA Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=42" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The EDMA driver is built around the TI EDMA3 Low Level Driver 01.10 (July 2009) package. The EDMA3 LLD code has been wrapped in a Windows CE streams interface driver that handles the CE specifics such as initialisation and interrupt handling. 
</p><p>The EDMA3 LLD APIs are exposed for use by drivers and the CE EDMA driver adds a few additional APIs for event handling. 
</p>
<h4><span class="mw-headline" id="Registry_Entries">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=43" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The EDMA driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>edmadrvr.dll
</td>
<td>DLL into which the EDMA driver is built
</td></tr>
<tr>
<td>Index
</td>
<td>1
</td>
<td>Identifies the EDMA driver instance for this set of entries
</td></tr>
<tr>
<td>Order
</td>
<td>1
</td>
<td>Global order in which drivers are loaded (0 earliest). EDMA driver is used by other drivers so it is loaded early.
</td></tr>
<tr>
<td>Flags
</td>
<td>0
</td>
<td>DEVFLAGS_xxx device flags
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x46
</td>
<td>IST thread priority
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_4">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=44" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_5">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=45" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>When EDMA is in use by both the ARM and DSP (or any other region), the EDMA region mapping registers need configuring to prevent regions from interfering with each other’s DMA operations. On the ARM side this is configured via this source file: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\DRIVERS\EDMA\edma3cfg.c</b> 
</p><p>The region mapping register configurations are towards the end of the file. If your DSP components are using DMA channels then the region mapping registers will need to map them out of the ARM side. 
</p>
<h4><span class="mw-headline" id="Driver_API">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=46" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The driver API is defined in the follow headers: 
</p><p><b>…\&lt;SOCFolder&gt;\EDMA\edma.h</b> 
</p><p><b>…\&lt;SOCFolder&gt;\EDMA\edma3_drv.h</b> 
</p><p>Drivers should include the <b>edma.h</b> header. 
</p><p>The API is large and quite complex and is not reproduced here. See the comments in the header files and the EDMA datasheet for the SOC. 
</p>
<h4><span class="mw-headline" id="Example_Usage">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=47" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The EDMA test utility demonstrates how to use the driver interface to perform a simple memory to memory transfer: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\APPS\EDMATEST\edmatest.c</b> 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\DRIVERS\EDMATEST\edma_test.c</b> 
</p>
<h3><span class="mw-headline" id="I2C_Driver">I2C Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=48" title="Edit section: I2C Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_2">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=49" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The I2C driver supports the following feature set: 
</p>
<ul><li>Master mode operation</li>
<li>Support for the two I2C buses</li>
<li>7-bit and 10-bit addresses</li>
<li>8-bit data transfers</li>
<li>Polled or interrupt driven transfers</li>
<li>Transaction based API where a set of transfers is performed as a single operation</li>
<li>Synchronous API, protected for parallel access</li>
<li>API available to drivers and user mode applications</li>
<li>Clock rate specified per transaction</li>
<li>Kernel and driver level interfaces</li>
<li>Power management support for D0 and D4 states</li></ul>
<p>The driver does NOT support the following features: 
</p>
<ul><li>Slave mode operation</li>
<li>2-bit to 7-bit data transfers</li>
<li>Ignore NACK mode</li>
<li>Free data format mode</li>
<li>Repeat start mode</li>
<li>DMA assisted transfers</li>
<li>GPIO functionality</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_2">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=50" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are two sets of registry entries, one for each I2C bus. The I2C driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>i2cdrvr.dll
</td>
<td>DLL into which the I2C driver is built
</td></tr>
<tr>
<td>Index
</td>
<td>0,1
</td>
<td>Identifies the I2C bus for this set of entries
</td></tr>
<tr>
<td>Order
</td>
<td>2
</td>
<td>Global order in which drivers are loaded (0 earliest). I2C driver is used by other drivers so it is loaded early.
</td></tr>
<tr>
<td>Flags
</td>
<td>0
</td>
<td>DEVFLAGS_xxx device flags
</td></tr>
<tr>
<td>Irq
</td>
<td>0x0f, 0x33
</td>
<td>Physical IRQ number for the bus
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x50
</td>
<td>IST priority
</td></tr>
<tr>
<td>Timeout
</td>
<td>0x03E8
</td>
<td>Timeout for transactions (ms)
</td></tr>
<tr>
<td>PolledMode
</td>
<td>0
</td>
<td>Force polled-mode operation if non-zero
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_5">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=51" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_6">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=52" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There is a build option for the I2C driver in the appropriate BSP configuration file: 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL138_AM18X.bat</b> 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL137_AM17X.bat</b> 
</p><p>The BSP_POWER_DOWN_WHEN_IDLE variable can be used to enable power down of the I2C peripherals when they are not in use. Note that this is not enabled by default as it prevents the DSP from using I2C as the DSP cannot power up the peripherals. 
</p>
<h4><span class="mw-headline" id="Driver_API_2">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=53" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The I2C driver API is defined in the follow headers: 
</p><p><b>…\&lt;SOCFolder&gt;\INC\i2ctrans.h</b> 
</p><p><b>…\&lt;SOCFolder&gt;\INC\i2c.h</b> 
</p><p>The header defines a transfer structure that is used to specify one or more I2C transfers. A set of inline wrapper functions are defined in the header to open and close a bus, and to perform a transfer. 
</p>
<h4><span class="mw-headline" id="Example_Usage_2">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=54" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The I2C test utility demonstrates how to use the interface: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\APPS\I2CTEST\i2ctest.cpp</b> 
</p>
<h3><span class="mw-headline" id="SPI_Driver">SPI Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=55" title="Edit section: SPI Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_3">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=56" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The SPI driver supports the following feature set: 
</p>
<ul><li>Master mode operation</li>
<li>Support for the two SPI buses</li>
<li>3 pin operation</li>
<li>4 pin operation with chip select</li>
<li>Multiple / encoded chip selection</li>
<li>Chip select delays at start and end of transfer</li>
<li>Chip select hold at end of transfer</li>
<li>2 to 16 bit word length</li>
<li>MSB or LSB shift direction</li>
<li>Mode (CPHA, CPOL) specified per transfer</li>
<li>Polled or interrupt driven transfers</li>
<li>Timeout specified per transfer</li>
<li>Synchronous API, protected for parallel access</li>
<li>API available to drivers and user mode applications</li>
<li>Clock rate specified per transfer</li>
<li>Power management support for D0 and D4 states</li></ul>
<p>The driver does NOT support the following features: 
</p>
<ul><li>Slave mode operation</li>
<li>External clock source</li>
<li>Multi-buffer mode</li>
<li>4 pin mode with SPI enable</li>
<li>DMA assisted transfers</li>
<li>GPIO functionality</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_3">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=57" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are two sets of registry entries, one for each SPI bus. The SPI driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>spidrvr.dll
</td>
<td>DLL into which the SPI driver is built
</td></tr>
<tr>
<td>Index
</td>
<td>0,1
</td>
<td>Identifies the SPI bus for this set of entries
</td></tr>
<tr>
<td>Order
</td>
<td>2
</td>
<td>Global order in which drivers are loaded (0 earliest). SPI driver is used by other drivers so it is loaded early.
</td></tr>
<tr>
<td>Irq
</td>
<td>0x14, 0x38
</td>
<td>Physical IRQ number for the bus
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x80
</td>
<td>IST priority
</td></tr>
<tr>
<td>Timeout
</td>
<td>0x2710
</td>
<td>Timeout for transfers (ms)
</td></tr>
<tr>
<td>PolledMode
</td>
<td>0
</td>
<td>Force polled-mode operation if non-zero
</td></tr>
<tr>
<td>DefaultCS
</td>
<td>0xFF
</td>
<td>Default chip select (should de-select all slaves)
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_6">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=58" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_7">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=59" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There is a build option for the SPI driver in the appropriate BSP configuration file: 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL138_AM18X.bat</b> 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL137_AM17X.bat</b> 
</p><p>The BSP_POWER_DOWN_WHEN_IDLE variable can be used to enable power down of the SPI peripherals when they are not in use. Note that this is not enabled by default as it prevents the DSP from using SPI as the DSP cannot power up the peripherals. 
</p>
<h4><span class="mw-headline" id="Driver_API_3">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=60" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The SPI driver API is defined in the follow header: 
</p><p><b>…\&lt;SOCFolder&gt;\INC\spi.h</b> 
</p><p>The header defines a configuration structure and a transfer structure. A bus must be configured before transfers can be performed. A set of inline wrapper functions are defined in the header to open, close and configure a bus, and to perform a transfer. 
</p>
<h4><span class="mw-headline" id="Example_Usage_3">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=61" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The SPI test utility demonstrates how to use the driver interface: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\APPS\SPITEST\spitest.cpp</b> 
</p>
<h3><span class="mw-headline" id="McASP_Support_Library">McASP Support Library</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=62" title="Edit section: McASP Support Library">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Library_Features_4">Library Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=63" title="Edit section: Library Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a library to support the use of the McASP peripherals. The library is linked with drivers that use McASP. 
</p>
<h4><span class="mw-headline" id="Limitations_7">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=64" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_8">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=65" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are no build options for this library. 
</p>
<h4><span class="mw-headline" id="Library_API_4">Library API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=66" title="Edit section: Library API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The McASP library API is defined in the follow header: 
</p><p><b>…\&lt;SOCFolder&gt;\MCASP\mcasp.h</b> 
</p><p>The API is quite extensive and is not duplicated here. Refer to the McASP datasheet for the OMAP-L13x for further information. 
</p>
<h4><span class="mw-headline" id="Example_Usage_4">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=67" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The AIC3106 Audio driver used the McASP library. See the Audio driver section for more details. 
</p>
<h3><span class="mw-headline" id="AIC3106_Audio_Driver">AIC3106 Audio Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=68" title="Edit section: AIC3106 Audio Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_4">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=69" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP contains an audio driver for the TLV320AIC3106 Audio Codec. The driver is ARM-only with no DSP acceleration/support. The driver implements the WAVEDEV2 model. Reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee485632.aspx">http://msdn.microsoft.com/en-us/library/ee485632.aspx</a> 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>Stereo playback to the <b>LINE OUT</b> 3.5mm jack</li>
<li>Stereo record from the <b>LINE IN</b> 3.5mm jack</li>
<li>L137: Stereo playback to the <b>HP OUT</b> 3.5mm jack</li>
<li>L137: Stereo record from the <b>MIC IN </b>3.5mm jack</li>
<li>Input and output volume control</li>
<li>Sample rates supported: 8KHz, 16KHz, 11.025KHz, 22.05KHz, 44.1KHz, 48KHz, 96KHz</li>
<li>Mono and stereo streams supported</li>
<li>8 and 16-bit sample size supported</li>
<li>McASP used to communicate with AIC3106 (I2S format with DMA support)</li>
<li>McASP configured as clock master</li>
<li>Power management support for D0 and D4 states</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_4">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=70" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The audio driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>wavedev2drvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Order
</td>
<td>5
</td>
<td>Global order in which drivers are loaded (0 earliest).
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x46
</td>
<td>IST priority
</td></tr>
<tr>
<td>AudioCntrlRegAddr
</td>
<td>0x01D00000 (McASP0) / 0x01D04000 (McASP1)
</td>
<td>Base address of the McASP used
</td></tr>
<tr>
<td>Irq
</td>
<td>0x36
</td>
<td>McASP0 interrupt number
</td></tr>
<tr>
<td>EventIdRx
</td>
<td>0x00 / 0x02
</td>
<td>EDMA event associated with McASP RX
</td></tr>
<tr>
<td>EventIdTx
</td>
<td>0x01 / 0x03
</td>
<td>EDMA event associated with McASP TX
</td></tr>
<tr>
<td>EdmaEventQueue
</td>
<td>0
</td>
<td>EDMA event queue to use
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_8">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=71" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_9">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=72" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are no build options for this driver. 
</p>
<h4><span class="mw-headline" id="Driver_API_4">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=73" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The audio driver functionality is exposed via the standard CE waveform audio APIs. 
</p><p>There are some additional custom IOCTL’s implemented that support switching the input source and output destination in the AIC3106 and configuring the input gain. The IOCTL’s are defined in the following header: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\INC\wavioctl.h</b> 
</p>
<h4><span class="mw-headline" id="Example_Usage_5">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=74" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>When the audio driver and Waveform Audio support are included in an OS design the following audio utilities are also built: 
</p>
<ul><li>wavplay – Plays a WAV file</li>
<li>wavrec – Records a WAV file</li>
<li>wavevol – Adjusts the audio output volume. Command line parameter is the volume between 0 and 100.</li>
<li>wavtest – Switches between LINE IN / MIC IN and LINE OUT / HP OUT. Also provides input gain control.</li></ul>
<p>The source code for wavevol and wavtest can be found in: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\APPS</b> 
</p><p>Three small audio test files are also included in the BSP: 
</p>
<ul><li><b>\windows\test.wav</b> – Windows CE start-up sound</li>
<li><b>\windows\tones.wav</b> – 10 tones at 80% amplitude</li>
<li><b>\windows\tones2.wav</b> – 12 tones, an octave from middle C up, 50% amplitude</li></ul>
<h3><span class="mw-headline" id="USB_1.1_OHCI_Host_Driver">USB 1.1 OHCI Host Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=75" title="Edit section: USB 1.1 OHCI Host Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_5">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=76" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a USB host controller driver for the USB 1.1 OHCI port. Reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee486679.aspx">http://msdn.microsoft.com/en-us/library/ee486679.aspx</a> 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>Endpoint types: control, interrupt, bulk, isochronous</li>
<li>USB low and full speed devices support</li></ul>
<p>The driver has been tested with the following class drivers and devices: 
</p>
<ul><li>USB HID class driver, mice and keyboards</li>
<li>USB Storage class driver, flash drives and hard drives</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_5">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=77" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB host driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\DRIVERS\USB\OHCI\ohci.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>ohcidrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Order
</td>
<td>6
</td>
<td>Global order in which drivers are loaded (0 earliest).
</td></tr>
<tr>
<td>Irq
</td>
<td>0x3B
</td>
<td>Controller IRQ
</td></tr>
<tr>
<td>MemBase
</td>
<td>0x01E25000
</td>
<td>Controller register base address
</td></tr>
<tr>
<td>HcdCapability
</td>
<td>0x5
</td>
<td>Host controller flags
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_9">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=78" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_10">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=79" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No build options. 
</p>
<h4><span class="mw-headline" id="Driver_API_5">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=80" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB host driver functionality is utilised by the Microsoft supplied class driver layers. 
</p>
<h3><span class="mw-headline" id="USB_2.0_OTG_Host_Driver">USB 2.0 OTG Host Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=81" title="Edit section: USB 2.0 OTG Host Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_6">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=82" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a USB host controller driver for the USB 2.0 OTG port. Reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee486679.aspx">http://msdn.microsoft.com/en-us/library/ee486679.aspx</a> 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>Endpoint types: control, interrupt, bulk, isochronous</li>
<li>Control endpoint plus 4 IN and 4 OUT endpoints</li>
<li>USB full and high speed devices support</li>
<li>DMA assisted transfers for interrupt, bulk, isochronous endpoints. Utilizing Generic RNDIS mode for bulk and interrupt transfers.</li>
<li>Virtual endpoint support for bulk endpoints where all bulk transfers are performed through a single HW endpoint</li>
<li>USB.org compliance test mode support. Supports test modes defined in the Embedded Hi-Speed Host Electrical Test Procedure, Revision 1.01.</li>
<li>Power management support for D0 and D4 states</li></ul>
<p>The driver has been tested with the following class drivers and devices: 
</p>
<ul><li>USB HID class driver, mice and keyboards</li>
<li>USB Storage class driver, flash drives and hard drives</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_6">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=83" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB host driver registry entries are defined in this file: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\DRIVERS\USB\USBH\usbh.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>usbhdrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Index
</td>
<td>1
</td>
<td>Identifies the driver instance for this set of entries
</td></tr>
<tr>
<td>Order
</td>
<td>6
</td>
<td>Global order in which drivers are loaded (0 earliest).
</td></tr>
<tr>
<td>DescriptorCount
</td>
<td>0x200
</td>
<td>Number of buffer descriptors allocated by the driver.
</td></tr></tbody></table>
<p>The USB 2.0 host controller has 4KB of FIFO RAM. This RAM needs to be shared between the 10 endpoints (5 TX and 5 RX endpoints). The control endpoint uses 64 bytes of RAM. The remaining 4032 bytes of RAM needs to be allocated between the other 8 endpoints. This allocation is configured via the registry and may need to be changed depending on expected USB usage. 
</p><p><b>[HKEY_LOCAL_MACHINE\Drivers\BuiltIn\USBH\CONFIG\EP&lt;1-4&gt;\&lt;IN/OUT&gt;]</b> 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Type
</td>
<td>any, bulk, isochronous, interrupt
</td>
<td>Type of transfer to perform on this endpoint. When allocating endpoints the driver will allocate the endpoint with the smallest FIFO allocation that satisfies the device’s max transfer size.
</td></tr>
<tr>
<td>Fifo
</td>
<td>0x8, 0x10, 0x20, 0x40, 0x200, 0x400
</td>
<td>FIFO RAM to reserve for this endpoint
</td></tr>
<tr>
<td>Shared
</td>
<td>0x0, 0x1
</td>
<td>Enable sharing (virtual endpoint support) – bulk endpoints only.
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_10">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=84" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>1. There is a limitation in the use of the virtual bulk endpoint support. The virtual bulk endpoint support enables all devices requiring bulk endpoints to share the same host controller endpoint. This works fine for most classes of device such as mass storage and HID devices. It will not work for classes of device that issue bulk transfers that remain open for any length of time, such as Bluetooth and RNDIS devices. When a class driver issues a bulk transfer that remains open for some time it blocks access to the endpoint that is shared with the other devices. This causes transfer timeouts for the other devices and their class drivers will disable or un-mount the devices. If Bluetooth or RNDIS devices are expected to be used then virtual endpoint support should be disabled. 
</p>
<h4><span class="mw-headline" id="Build_Options_11">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=85" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented build options 
</p>
<h4><span class="mw-headline" id="Driver_API_6">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=86" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB host driver functionality is utilised by the Microsoft supplied class driver layers. 
</p>
<h4><span class="mw-headline" id="Performance">Performance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=87" title="Edit section: Performance">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Test Case</b>
</td>
<td><b>AM1707 456MHz</b>
</td>
<td><b>AM1808 456MHz</b>
</td></tr>
<tr>
<td>1GB USB Flash Drive, File System Read/Write, 8MB file, 64KB buffer
</td>
<td>4.4MB/s Write<br />6.9MB/s Read
</td>
<td>4.4MB/s Write<br />7.2MB/s Read
</td></tr>
<tr>
<td>250GB Hard Drive, File System Read/Write, 8MB file, 64KB buffer
</td>
<td>10.1MB/s Write<br />10.9MB/s Read
</td>
<td>10.6MB/s Write<br />11.1MB/s Read
</td></tr></tbody></table>
<h3><span class="mw-headline" id="USB2COM_Library">USB2COM Library</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=88" title="Edit section: USB2COM Library">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The BSP includes a copy of the reference USB 2.0 Host Controller Driver library in this directory: 
</p><p><b>…\&lt;SOCFolder&gt;\USB\USB2COM</b> 
</p><p>The original sources for this library are available in the public area: 
</p><p><b>C:\WINCE600\PUBLIC\COMMON\OAK\DRIVERS\USB\HCD\USB20\USB2COM</b> 
</p><p>The library has been updated to support the USB.org Embedded Hi-Speed Host Electrical Test Procedure. All the changes are marked by the following conditional compilation flag: 
</p><p><b>ENABLE_TESTMODE_SUPPORT</b> 
</p><p>If support for the USB.org test modes is not required the USB Host driver can be linked with the public USB2COM library rather than the modified library. 
</p>
<h3><span class="mw-headline" id="USB_2.0_OTG_Function_Driver">USB 2.0 OTG Function Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=89" title="Edit section: USB 2.0 OTG Function Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_7">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=90" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a USB function controller driver for the USB 2.0 OTG port. Reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee483825.aspx">http://msdn.microsoft.com/en-us/library/ee483825.aspx</a> 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>Endpoint types: control, interrupt, bulk, isochronous</li>
<li>Control endpoint plus 4 IN and 4 OUT endpoints</li>
<li>USB full and high speed device support</li>
<li>DMA assisted transfers for interrupt, bulk, isochronous endpoints. Utilizes Generic RNDIS mode for bulk and interrupt transfers.</li>
<li>Registration of USB descriptor sets containing Interfaces with Alternate Settings.</li>
<li>Power management support for D0 (Controller, PHY on, session enabled) and D4 (Controller, PHY off, session disabled)</li></ul>
<p>The driver has been tested with the following class drivers: 
</p>
<ul><li>Serial class client driver (for ActiveSync support)</li>
<li>RNDIS client driver</li>
<li>Mass Storage client driver</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_7">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=91" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB function driver registry entries are defined in this file: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\DRIVERS\USB\USBFN\usbfn.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>usbfndrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Order
</td>
<td>30
</td>
<td>Global order in which drivers are loaded (0 earliest).
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x64
</td>
<td>IST priority
</td></tr>
<tr>
<td>DmaBuffSize
</td>
<td>0x4000
</td>
<td>Size of TX and RX DMA buffers
</td></tr>
<tr>
<td>DescriptorCount
</td>
<td>0x200
</td>
<td>Number of buffer descriptors allocated by the driver.
</td></tr>
<tr>
<td>DisableRxGenRNDIS
</td>
<td>0x0
</td>
<td>Flag to disable use of Generic RNDIS mode for RX transfers. See limitations below.
</td></tr></tbody></table>
<p>The platform.reg file also contains registry entries to configure the USB function driver for serial device support (on COM5), RNDIS support and Mass Storage support. The serial class support enables ActiveSync to be used. See the quick start guide (ref. 1) for details of including ActiveSync in an OS design. 
</p>
<h4><span class="mw-headline" id="Limitations_11">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=92" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>1. Use of Generic RNDIS mode is not supported when the Mass Storage Class driver is in use as the MSC protocol is not compatible with GenRNDIS operation in the controller. The DisableRxGenRNDIS flag should be set when MSC class is in use. 
</p>
<h4><span class="mw-headline" id="Build_Options_12">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=93" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented build options. 
</p>
<h4><span class="mw-headline" id="Driver_API_7">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=94" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB function driver implements the standard PDD API entry points and together with a suitable MDD it supports the various Microsoft supplied class drivers. 
</p>
<h4><span class="mw-headline" id="Performance_2">Performance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=95" title="Edit section: Performance">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Test Case</b>
</td>
<td><b>AM1707 456MHz</b>
</td>
<td><b>AM1808 456MHz</b>
</td></tr>
<tr>
<td>RNDIS Client Driver, CETK NDIS Performance Test (1514 byte MTU size)
</td>
<td>13.4MB/s Send<br />5.6MB/s Recv
</td>
<td>13.9MB/s Send<br />5.6MB/s Recv
</td></tr></tbody></table>
<h3><span class="mw-headline" id="USB_2.0_OTG_Driver">USB 2.0 OTG Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=96" title="Edit section: USB 2.0 OTG Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_8">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=97" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a USB OTG driver for the USB 2.0 OTG port. Reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee485293.aspx">http://msdn.microsoft.com/en-us/library/ee485293.aspx</a> 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>Dynamic switching between Host and Function mode</li>
<li>Power management support for D0 and D4 states</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_8">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=98" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB OTG driver registry entries are defined in this file: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\DRIVERS\USB\USBOTG\usbotg.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>usbotgdrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Order
</td>
<td>10
</td>
<td>Global order in which drivers are loaded (0 earliest).
</td></tr>
<tr>
<td>DynamicClientLoad
</td>
<td>3
</td>
<td>Bit 0 and 1 indicate that Host and Function drivers are dynamically loaded
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Build_Options_13">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=99" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No build options. 
</p>
<h4><span class="mw-headline" id="Driver_API_8">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=100" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB OTG driver supports a number of IOCTL’s. See the CE 6.0 documentation for details. 
</p>
<h3><span class="mw-headline" id="USB_CDMA_Driver">USB CDMA Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=101" title="Edit section: USB CDMA Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_9">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=102" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB subsystem in the SOC includes a CPPI 4.1 DMA module that is used by the USB 2.0 OTG controller module. The USB CDMA driver manages this CPPI DMA module. 
</p><p>The driver initializes the CPPI module and provides descriptor queue management. The USB host and function drivers register their descriptor queue requirements at driver initialisation time. 
</p>
<h4><span class="mw-headline" id="Registry_Entries_9">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=103" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB CDMA driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>usbcdmadrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Index
</td>
<td>1
</td>
<td>Identifies the driver instance for this set of entries
</td></tr>
<tr>
<td>Order
</td>
<td>5
</td>
<td>Global order in which drivers are loaded (0 earliest). Must be loaded earlier than the USB host and function drivers.
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_12">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=104" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_14">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=105" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No build options. 
</p>
<h4><span class="mw-headline" id="Driver_API_9">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=106" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The USB CDMA driver functionality is used by the USB Host and Function drivers. 
</p>
<h3><span class="mw-headline" id="Raster_LCD_Display_Driver">Raster LCD Display Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=107" title="Edit section: Raster LCD Display Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_10">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=108" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a display driver for the LCD controller running in raster mode. Display driver reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee486732.aspx">http://msdn.microsoft.com/en-us/library/ee486732.aspx</a> 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>GDI and DirectDraw support (ARM based rendering to the framebuffer).</li>
<li>Flat frame buffer for GDI without acceleration, RGB 565 mode.</li>
<li>Software cursor.</li>
<li>Output to digital LCD supporting:</li>
<li>L138: Sharp TFT-LCD LQ043T1DG01, available as the 4.3" WQVGA Display Kit from Logic Inc</li>
<li>L137/AM1707: Sharp TFT-LCD LQ043T1DG01, available on the AM1707/L137 UI Module with Touch Screen</li>
<li>L137/AM1707: Sharp TFT-LCD LQ035Q3DG01, available on the DA830 UI Module</li>
<li>Double buffering supported on DirectDraw primary surface.</li>
<li>Power management support for D0 and D4 states</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_10">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=109" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The display driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Display
</td>
<td>ddidrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_13">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=110" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>Hardware Limitation</b>: The backlight PWM line on the OMAP-L137 Kit is not wired up. The PWM line is required by the LQ043T1DG01 Touch LCD, but not the LQ035Q3DG01 LCD.  Hence on OMAP-L137 Kit, only driver for LQ035Q3DG01 LCD is supported.
</p>
<h4><span class="mw-headline" id="Build_Options_15">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=111" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>If alternative LCD panels are used the LCD timing configuration can be found in the following header file: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\INC\lcd_cfg.h</b> 
</p><p>The display driver will allocate DirectDraw surface buffers from the SDRAM area reserved for the display, defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\config.bib</b> 
</p><p>If insufficient memory is available for a surface buffer then the driver will fail the surface creation. The size of the display reserved area should be tuned for the applications in use (see the Memory Configuration section). The default size is 6MB, which is enough for a double buffered primary surface and a double buffered overlay surface (both full screen). 
</p>
<h4><span class="mw-headline" id="Driver_API_10">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=112" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The display driver functionality is utilised by the Microsoft GWES framework. 
</p>
<h4><span class="mw-headline" id="Example_Usage_6">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=113" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are also some sample DirectDraw applications supplied with Windows CE: 
</p><p><b>\WINCE600\PUBLIC\DIRECTX\SDK\SAMPLES\DDRAW</b> 
</p><p>See the Quick Start Guide for information on running the applications. 
</p>
<h3><span class="mw-headline" id="Character_LCD_Display_Driver">Character LCD Display Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=114" title="Edit section: Character LCD Display Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_11">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=115" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a display driver for the LCD controller running in asynchronous (LIDD) mode. 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>Support for the Hantronix 24x2 HDM24216L-2-L30S character mode LCD</li>
<li>Separate Hantronix and LIDD support code, enabling alternative LCD module support to be added.</li>
<li>LCD controller powered down when not in use.</li>
<li>Power management support for D0 and D4 states</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_11">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=116" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The display driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>clddrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_14">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=117" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_16">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=118" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No build options. 
</p>
<h4><span class="mw-headline" id="Driver_API_11">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=119" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The driver API is defined in the follow header: 
</p><p><b>…\&lt;BSPFolder&gt;\INC\charlcd.h</b> 
</p><p>The header defines a set of inline functions to initialise, open and close the driver, and a set of functions to update the character display. 
</p>
<h4><span class="mw-headline" id="Example_Usage_7">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=120" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The Char LCD test utility demonstrates how to use the interface: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\APPS\CLDTEST\cldtest.cpp</b> 
</p>
<h3><span class="mw-headline" id="NDIS_Ethernet_Driver">NDIS Ethernet Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=121" title="Edit section: NDIS Ethernet Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_12">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=122" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes an NDIS miniport driver for the EMAC Ethernet peripheral in the SOC. 
</p><p>Ethernet driver reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee484851.aspx">http://msdn.microsoft.com/en-us/library/ee484851.aspx</a> 
</p><p>The driver supports power management states D0 and D3. 
</p>
<h4><span class="mw-headline" id="Registry_Entries_12">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=123" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The miniport driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries comprise of the standard NDIS entries plus some example TCP/IP settings. The TCP/IP settings can be configured to use DHCP to acquire an IP address or alternatively a static IP address can be configured. 
</p>
<h4><span class="mw-headline" id="Limitations_15">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=124" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_17">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=125" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are no build options for this driver. 
</p>
<h4><span class="mw-headline" id="Driver_API_12">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=126" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The miniport driver functionality is utilised by the Microsoft NDIS wrapper. 
</p>
<h4><span class="mw-headline" id="Performance_3">Performance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=127" title="Edit section: Performance">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Test Case</b>
</td>
<td><b>AM1707 456MHz</b>
</td>
<td><b>AM1808 456MHz</b>
</td></tr>
<tr>
<td>CETK NDIS Performance Test (1514 byte MTU size)
</td>
<td>11.7MB/s Send<br />11.7MB/s Recv
</td>
<td>11.7MB/s Send<br />11.7MB/s Recv
</td></tr>
<tr>
<td>CETK Winsock Performance Test for TCP
</td>
<td>4.0MB/s Send<br />3.2MB/s Recv
</td>
<td>4.3MB/s Send<br />3.6MB/s Recv
</td></tr>
<tr>
<td>CETK Winsock Performance Test for UDP
</td>
<td>2.7MB/s Send<br />1.5MB/s Recv
</td>
<td>2.8MB/s Send<br />1.6MB/s Recv
</td></tr></tbody></table>
<h3><span class="mw-headline" id="NAND_Flash_Driver">NAND Flash Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=128" title="Edit section: NAND Flash Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_13">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=129" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a NAND flash memory device driver. The driver implements the FMD part of the standard FAL + FMD block driver model. 
</p><p>Reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee483398.aspx">http://msdn.microsoft.com/en-us/library/ee483398.aspx</a> 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>Support for the following NAND flash devices:</li>
<li>Micron Technologies MT29F4G08AAC Flash</li>
<li>ECC support for large page NAND devices. This uses the SOC hardware ECC module.</li>
<li>Interrupt support for detection of the ready/busy signal from the flash device via a GPIO interrupt.</li>
<li>Optimised word read/write routines to deliver maximum throughput performance. These assembler routines use multiple register load and store instructions.</li>
<li>DMA support for page read operations</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_13">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=130" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The NAND flash driver registry entries are defined in: 
</p>
<dl><dd><b>…\&lt;BSPFolder&gt;\SRC\DRIVERS\NAND\nand.reg</b></dd></dl>
<p>The registry entries are as follows: 
</p><p><b>[HKEY_LOCAL_MACHINE\Drivers\BuiltIn\NandFlashDisk]</b> 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Index
</td>
<td>1
</td>
<td>Identifies the driver instance for this set of entries
</td></tr>
<tr>
<td>Dll
</td>
<td>nanddrvr
</td>
<td>Name of driver Dll
</td></tr>
<tr>
<td>Prefix
</td>
<td>DSK
</td>
<td>Prefix used when opening the driver
</td></tr>
<tr>
<td>Order
</td>
<td>2
</td>
<td>Global order in which drivers are loaded (0 earliest)
</td></tr>
<tr>
<td>Profile
</td>
<td>NandFlashDisk
</td>
<td>Profile used by the storage manager. A profile contains the file system registry entries required for the device (see below).
</td></tr></tbody></table>
<p><b>[HKEY_LOCAL_MACHINE\System\StorageManager\Profiles\NandFlashDisk]</b> 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Folder
</td>
<td>NAND Flash
</td>
<td>Folder name used when the device appears as a mass storage device under explorer
</td></tr>
<tr>
<td>DefaultFileSystem
</td>
<td>FATFS
</td>
<td>Default file system for the device. When the device formatted automatically during boot, this is the file system that will be used
</td></tr>
<tr>
<td>AutoMount
</td>
<td>1
</td>
<td>Indicates that the device should automatically be mounted during boot
</td></tr>
<tr>
<td>AutoPart
</td>
<td>1
</td>
<td>Indicates that the device should automatically be partitioned during boot
</td></tr>
<tr>
<td>AutoFormat
</td>
<td>1
</td>
<td>Indicates that the device should automatically be formatted during boot
</td></tr>
<tr>
<td>FileSystem
</td>
<td>fatfsd.dll
</td>
<td>Name of file system driver to use
</td></tr>
<tr>
<td>PartitionDriver
</td>
<td>mspart.dll
</td>
<td>Name of partition driver to use
</td></tr></tbody></table>
<p>For further information on the storage manager profile registry settings refer to: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/aa915589.aspx">http://msdn.microsoft.com/en-us/library/aa915589.aspx</a> 
</p>
<h4><span class="mw-headline" id="Limitations_16">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=131" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_options_18">Build options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=132" title="Edit section: Build options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are a number of NAND driver build options defined in the BSP configuration batch file. 
</p><p><b>DMA Enable</b> 
</p><p>Setting the BSP_ENABLE_NAND_DRIVER_DMA variable will enable the DMA page read functionality for the CE driver. 
</p><p>Setting the BSP_ENABLE_NAND_BOOT_DMA variable will enable the DMA page read functionality for EBOOT. 
</p><p><b>Ready Interrupt Enable</b> 
</p><p>Setting the BSP_ENABLE_NAND_INTERRUPT_STATUS variable will enable interrupt based ready status checks. The interrupt ready status functionality is only used when waiting for NAND operations that take a significant amount of time. This functionality is only compiled into the CE driver and not the bootloaders. 
</p><p><b>ECC Enable</b> 
</p><p>Setting the BSP_ENABLE_NAND_ECC variable will enable the ECC functionality in both the CE driver and the bootloaders. The ECC functionality uses the SOC hardware ECC module to detect and correct errors. 
</p>
<h4><span class="mw-headline" id="Driver_API_13">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=133" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The driver exposes the standard FMD driver interface allowing it to be accessed as a typical block device. Reference information for the driver API can be found here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee484239.aspx">http://msdn.microsoft.com/en-us/library/ee484239.aspx</a> 
</p><p>In addition to this, the driver supports the following IOCTLs: 
</p>
<dl><dd>IOCTL_FMD_RAW_WRITE_BLOCKS</dd></dl>
<dl><dd>IOCTL_FMD_GET_RAW_BLOCK_SIZE</dd></dl>
<p>These are provided to allow raw data to be written to the NAND flash device without going through the file system. 
</p>
<h4><span class="mw-headline" id="Performance_4">Performance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=134" title="Edit section: Performance">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Test Case</b>
</td>
<td><b>AM1707 456MHz</b>
</td>
<td><b>AM1808 456MHz</b>
</td></tr>
<tr>
<td>File System Read/Write, 8MB file, 64KB buffer
</td>
<td>1.7MB/s Write<br />4.1MB/s Read
</td>
<td>1.1MB/s Write<br />1.5MB/s Read
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Serial_Driver">Serial Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=135" title="Edit section: Serial Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_14">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=136" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a serial driver that supports the UART peripherals. 
</p><p>Serial driver reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee483100.aspx">http://msdn.microsoft.com/en-us/library/ee483100.aspx</a> 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>Support for the three UARTs (COM1 to COM3)</li>
<li>Data bits: 5 to 8</li>
<li>Stop bits: 1, 1.5 or 2</li>
<li>Baud rates: 2400, 4800, 7200, 9600, 14400, 19200, 38400, 56000, 57600, 115200, 128000</li>
<li>Parity: none, even, odd, mark, space</li>
<li>Flow control: CTS / RTS</li>
<li>Use of hardware Autoflow Control when CTS / RTS enabled</li>
<li>Power management support for D0 and D4 states (UARTs powered off when not in use)</li></ul>
<p>The driver does not support use of DMA. 
</p>
<h4><span class="mw-headline" id="Registry_Entries_14">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=137" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are three sets of registry entries, one for each UART. The serial driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>serialdrvr.dll or serdmadrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Index
</td>
<td>1,2,3
</td>
<td>Identifies the COM port number for this set of entries
</td></tr>
<tr>
<td>Order
</td>
<td>9
</td>
<td>Global order in which drivers are loaded (0 earliest).
</td></tr>
<tr>
<td>DeviceArrayIndex
</td>
<td>0,1,2
</td>
<td>Serial adapter index for the UART.
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x67
</td>
<td>IST priority
</td></tr>
<tr>
<td>RtsCtsFlowCtl
</td>
<td>0,1
</td>
<td>Enables CTS/RTS for the UART (disabled for L137 UART1 and UART2 due to pin limitation)
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_17">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=138" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_19">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=139" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The default pin mux settings in the BSP enable only UART2 to be used. The pin mux settings for the BSP can be updated in this header: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\INC\bsp_cfg.h</b> 
</p><p>When the serial driver for UART2 is included in an OS design the OAL debug output is disabled via a build flag defined in this file: 
</p><p><b>…\&lt;BSPFolder&gt;\sources.cmn</b> 
</p>
<h4><span class="mw-headline" id="Driver_API_14">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=140" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The serial drivers implement the streams driver interfaces required to support the standard serial communications port APIs. 
</p>
<h4><span class="mw-headline" id="Example_Usage_8">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=141" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The serial test application demonstrates how to use the serial interfaces: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\APPS\UARTTEST</b> 
</p><p>The serial test application implements a simple loop-back test. The application can be built for a desktop PC (solution file provided) and for the CE device. 
</p>
<h3><span class="mw-headline" id="PRU_Soft_UART_Driver">PRU Soft UART Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=142" title="Edit section: PRU Soft UART Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_15">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=143" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes two drivers for supporting Software UARTs using the PRU.  The PRU driver manages the Software UART firmware and the SUART driver implements a standard WinCE serial driver using the PDD framework.
</p><p>WinCE serial driver reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee483100.aspx">http://msdn.microsoft.com/en-us/library/ee483100.aspx</a> 
</p><p>PRU Soft UART firmware documentation is available here:
</p><p><a rel="nofollow" class="external text" href="http://www.mistralsolutions.com/pes-support/support-downloads/l13x-daughter-card-documentation-software.html">http://www.mistralsolutions.com/pes-support/support-downloads/l13x-daughter-card-documentation-software.html</a>
</p><p>The driver supports the following feature set: 
</p>
<ul><li>Support for the three UARTs (COM4 to COM7)</li>
<li>Data bits: 6, 7, 8</li>
<li>Stop bits: 1</li>
<li>Baud rates: 1200, 12800, 2400, 4800, 7200, 9600, 14400, 19200, 38400, 57600, 115200</li>
<li>Parity: none</li>
<li>Flow control: none</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_15">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=144" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There is one group of registry entries for the PRU driver and another four sets of registry entries, one for each Soft UART. These are all defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The PRU driver registry entries are as follows. 
</p><p><b>[HKEY_LOCAL_MACHINE\Drivers\BuiltIn\PRU]</b>
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Prefix
</td>
<td>PRU
</td>
<td>Device name prefix
</td></tr>
<tr>
<td>Dll
</td>
<td>prudrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Index
</td>
<td>1
</td>
<td>There is only one PRU driver
</td></tr>
<tr>
<td>Order
</td>
<td>30
</td>
<td>Global order in which drivers are loaded (0 earliest).
</td></tr>
<tr>
<td>IrqBase
</td>
<td>3
</td>
<td>Physical IRQ number of first PRU interupt.
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x40
</td>
<td>IST priority
</td></tr>
<tr>
<td>RxTimeout
</td>
<td>5
</td>
<td>Receive timeout before flushing RX buffer (ms)
</td></tr>
<tr>
<td>NumOfSoftUARTs
</td>
<td>3
</td>
<td>Number of Soft UARTs being supported
</td></tr>
<tr>
<td>FirmwareFile
</td>
<td>\\windows\\pru_suart_emu.fw
</td>
<td>Firmware file name
</td></tr>
<tr>
<td>McAspId
</td>
<td>0,1,2
</td>
<td>Id for McAsp who's serializers will be used
</td></tr></tbody></table>
<p>The PRU driver also has registry entries to select which serializers are used for each Soft UART.
</p><p><b>[HKEY_LOCAL_MACHINE\Drivers\BuiltIn\PRU\SUARTx]</b>
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>RxSerializer
</td>
<td>0x0-0xf (0x10 = disabled)
</td>
<td>Receive serializer
</td></tr>
<tr>
<td>TxSerializer
</td>
<td>0x0-0xf (0x10 = disabled)
</td>
<td>Transmit serializer
</td></tr>
<tr>
<td>DuplexMode
</td>
<td>bit mask of TX_ENABLE=1, RX_ENABLE=2, TX_DISABLE=4,RX_DISABLE=8
</td>
<td>Control whether TX or RX are enabled
</td></tr></tbody></table>
<p>The SUART driver registry entries are as follows for each COM port instance. 
</p><p><b>[HKEY_LOCAL_MACHINE\Drivers\BuiltIn\SerialX]</b>
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Prefix
</td>
<td>COM
</td>
<td>Device name prefix
</td></tr>
<tr>
<td>Dll
</td>
<td>suartdrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Index
</td>
<td>4,5,6,7
</td>
<td>Identifies the COM port number for this set of entries
</td></tr>
<tr>
<td>Order
</td>
<td>31
</td>
<td>Global order in which drivers are loaded (0 earliest).
</td></tr>
<tr>
<td>DeviceArrayIndex
</td>
<td>0,1,2,3
</td>
<td>Soft UART physical device number
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x650
</td>
<td>IST priority
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_18">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=145" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The PRU firmware used in this release has the following limitations:
</p>
<ul><li>First Character for RX is garbage.</li>
<li>Only three soft-UARTs have been tested.</li>
<li>Fourth soft-UART have been emulated, but data integrity is not verified.</li>
<li>Maximum baud rate of 57600 with 16x oversampling (x8 used by default allowing 115,200 baud).</li></ul>
<h4><span class="mw-headline" id="Build_Options_20">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=146" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The PRU Soft UARTs use the McASP serializers to transfer data and therefore no other drivers can use the same McASP.  If a conflicting item is selected in the catalog (Audio + PWM for AM17x/L137, or Audio + McBSP for AM18x/L138) the BSP will detect the error and halt during the build process.
</p>
<h4><span class="mw-headline" id="Driver_API_15">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=147" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The serial drivers implement the streams driver interfaces required to support the standard serial communications port APIs. 
</p>
<h4><span class="mw-headline" id="Example_Usage_9">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=148" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The serial test application demonstrates how to use the serial interfaces: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\APPS\UARTTEST</b> 
</p><p>The serial test application implements a simple loop-back test. The application can be built for a desktop PC (solution file provided) and for the CE device. 
</p>
<h3><span class="mw-headline" id="UPP_Driver">UPP Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=149" title="Edit section: UPP Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_16">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=150" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a driver for the Universal Parallel Port (uPP) in the OMAP-L138 / AM18x. 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>uPP configuration via registry entries</li>
<li>Single and dual channel operation</li>
<li>8-bit and 16-bit transfer support</li>
<li>Standard streams interface API (open, close, read, write)</li>
<li>DMA assisted transfers using internal DMA unit</li>
<li>Power management support for D0 and D4 states</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_16">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=151" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The uPP driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>See the uPP datasheet for full details of the port configuration parameters. The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>uppdrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Index
</td>
<td>0x0, 0x1
</td>
<td>Driver instance
</td></tr>
<tr>
<td>Order
</td>
<td>0x2
</td>
<td>Global order in which drivers are loaded.
</td></tr>
<tr>
<td>Irq
</td>
<td>0x5B
</td>
<td>uPP IRQ number
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x50
</td>
<td>Thread priority of IST
</td></tr>
<tr>
<td>ChanWidth
</td>
<td>8 - 16
</td>
<td>Data format to use (8 to 16 bits)
</td></tr>
<tr>
<td>Mode
</td>
<td>0, 1, 2, 3
</td>
<td>Operation mode for channel(s):<br />0 = receive<br />1 = transmit<br />2 = duplex mode&#160;: A receives, B transmits<br />3 = duplex mode&#160;: A transmits, B receives
</td></tr>
<tr>
<td>DataRate
</td>
<td>0, 1
</td>
<td>0 = Single Data Rate<br />1 = Double Data Rate
</td></tr>
<tr>
<td>ClkInv
</td>
<td>0, 1
</td>
<td>Clock signal polarity<br />0 = sample on rising edge<br />1 = sample on falling edge
</td></tr>
<tr>
<td>ClkDiv
</td>
<td>0x0 – 0xF
</td>
<td>Clock divisor
</td></tr>
<tr>
<td>WaitEn
</td>
<td>0, 1
</td>
<td>WAIT signal enable
</td></tr>
<tr>
<td>EnableEn
</td>
<td>0, 1
</td>
<td>ENABLE signal enable
</td></tr>
<tr>
<td>StartEn
</td>
<td>0, 1
</td>
<td>START signal enable
</td></tr>
<tr>
<td>WaitPol
</td>
<td>0, 1
</td>
<td>WAIT signal polarity, 0 active-high
</td></tr>
<tr>
<td>EnablePol
</td>
<td>0, 1
</td>
<td>ENABLE signal polarity, 0 active-high
</td></tr>
<tr>
<td>StartPol
</td>
<td>0, 1
</td>
<td>START signal polarity, 0 active-high
</td></tr>
<tr>
<td>ThreshHold
</td>
<td>0, 1, 3
</td>
<td>DMA threshold<br />0 = 64 bytes<br />1 = 128 bytes<br />3 = 256 bytes
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_19">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=152" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations 
</p>
<h4><span class="mw-headline" id="Build_Options_21">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=153" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No build options 
</p>
<h4><span class="mw-headline" id="Driver_API_16">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=154" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The uPP driver implements a standard streams interface API (open, close, read, write). Channel A is accessible via the <b>UPP0:</b> device name and channel B via the <b>UPP1: </b>device name. 
</p>
<h4><span class="mw-headline" id="Example_Usage_10">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=155" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The uPP test application demonstrates how to use the uPP driver interface: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\APPS\UPPTEST</b> 
</p><p>The uPP test application is design to work with the ADC and DAC chips on the OMAPL138/AM1808 Kit UI board. The application configures the chips and performs a simple write and read operation to/from them. A loopback cable on connectors J9 and J10 can be used. 
</p>
<h3><span id="SD/MMC_Host_Controller_Driver"></span><span class="mw-headline" id="SD.2FMMC_Host_Controller_Driver">SD/MMC Host Controller Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=156" title="Edit section: SD/MMC Host Controller Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_17">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=157" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes an SD/MMC host controller driver that supports the SD/MMC controllers in the SOC (two in L138/AM18x, one in L137/AM17x). Reference information is available here: 
</p>
<table class="FCK&#95;_ShowTableBorders" cellspacing="2" width="100%" border="0">

<tbody><tr>
<td><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee483049.aspx">http://msdn.microsoft.com/en-us/library/ee483049.aspx</a>
</td>
<td>&#160;
</td></tr></tbody></table>
<p>The SD driver supports the following feature set: 
</p>
<ul><li>SD card support (4-bit mode, 25MHz)</li>
<li>MMC card support (1-bit mode, 20MHz)</li>
<li>MMCplus card support (4-bit and 8-bit modes, 52MHz/26MHz). Note: Only the OMAPL137/AM17X Kit has an MMCplus 8-bit capable slot. On OMAPL138/AM18X 4-bit mode will be used and only at a maximum of 26MHz (see limitations).</li>
<li>Hot plugging of cards (detection via GPIO interrupt or configurable poll interval)</li>
<li>SD high-capacity card support (SDHC)</li>
<li>DMA assisted transfers</li>
<li>Tested with card sizes up to 4GB</li>
<li>SDIO support</li>
<li>Power management support for D0 and D4 states</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_17">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=158" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The SD/MMC driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>sdhcdrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Order
</td>
<td>0x21
</td>
<td>Global order in which drivers are loaded.
</td></tr>
<tr>
<td>CtrlIndex
</td>
<td>0, 1
</td>
<td>Identifies which SD/MMC controller peripheral these entries relate to.
</td></tr>
<tr>
<td>DmaPhysicalBase
</td>
<td>0x0
</td>
<td>Physical address of area reserved for SDHC DMA buffer. Driver will allocate a buffer if this is set to 0.
</td></tr>
<tr>
<td>DetectGPIO
</td>
<td>0x40
</td>
<td>GPIO line for card detect
</td></tr>
<tr>
<td>DetectPoll
</td>
<td>0x1f4
</td>
<td>Card detect poll interval (ms)
</td></tr>
<tr>
<td>BusyTimeout
</td>
<td>0x1388
</td>
<td>Controller busy timeout before sending a command
</td></tr>
<tr>
<td>FifoEmptyTimeout
</td>
<td>0x1388
</td>
<td>Time to wait for FIFO to fill for read commands (non-DMA mode)
</td></tr>
<tr>
<td>FifoFullTimeout
</td>
<td>0x1388
</td>
<td>Time to wait for FIFO to empty for write commands (non-DMA mode)
</td></tr>
<tr>
<td>UseDmaTransfers
</td>
<td>1
</td>
<td>Enables EDMA usage
</td></tr>
<tr>
<td>EdmaEventQueue
</td>
<td>1
</td>
<td>EDMA event queue to use
</td></tr>
<tr>
<td>EdmaTimeout
</td>
<td>0x7350
</td>
<td>Time to wait for EDMA transfer to complete
</td></tr>
<tr>
<td>DatdneTimeout
</td>
<td>0x7350
</td>
<td>Time to wait for DATDNE signal after data transmit
</td></tr>
<tr>
<td>MaxClockRate
</td>
<td>0x03197500
</td>
<td>Max clock rate for SD/MMC card (52MHz)
</td></tr>
<tr>
<td>Enable8BitMode
</td>
<td>0,1
</td>
<td>Enables/disables 8-bit MMC card support.
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_20">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=159" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The SD/MMC host controller has issues handling SDIO transfers of less than 4 bytes. This may cause a client driver to fail if it performs reads or writes of less than 4 bytes (e.g. using SD command 53). 
</p><p>On the OMAPL138/AM18X Kit the maximum bus speed has been limited to 26MHz (via the registry) as communications errors have been seen at higher rates. The issue is believed to be caused by interference from the EMIFA lines running to the J28 connector. 
</p>
<h4><span class="mw-headline" id="Build_Options_22">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=160" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Support for the second SD host controller on the L138/AM18x can be enabled via the BSP_SDHC2 variable in: 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL138_AM18X.bat</b> 
</p><p>SD card command CRC failures may be seen when using SDIO cards. Command CRC checking can be disabled in the driver by setting the SDHC_DISABLE_CMD_CRC define in the following sources file: 
</p><p><b>…\&lt;SOCFolder&gt;\SDMMC\BASE\sources</b> 
</p>
<h4><span class="mw-headline" id="Driver_API_17">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=161" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The SD/MMC driver functionality is utilised by the Microsoft supplied SD bus driver and higher layers. 
</p>
<h4><span class="mw-headline" id="Performance_5">Performance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=162" title="Edit section: Performance">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Test Case</b>
</td>
<td><b>AM1707 456MHz</b>
</td>
<td><b>AM1808 456MHz</b>
</td></tr>
<tr>
<td>4GB Sandisk Extreme SDHC card, File System Read/Write, 8MB file, 64KB buffer
</td>
<td>3.8MB/s Write<br />6.2MB/s Read
</td>
<td>3.3MB/s Write<br />6.4MB/s Read
</td></tr>
<tr>
<td>2GB Transcend MMCplus card, File System Read/Write, 8MB file, 64KB buffer
</td>
<td>3.6MB/s Write<br />10.3MB/s Read
</td>
<td>3.2MB/s Write<br />6.4MB/s Read
</td></tr></tbody></table>
<h3><span class="mw-headline" id="PWM_Driver">PWM Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=163" title="Edit section: PWM Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_18">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=164" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a driver for the Pulse Width Modulator peripheral. The driver uses the basic functionality of the eHRPWM peripheral to create a square wave output at configurable frequency (range 50Hz to 10MHz) and at a configurable positive duty cycle (0 to 100%). 
</p><p>To create the output signal the PWM up-count mode is used. In this mode, the time base counter (TBCNT) starts from zero and increments until it reaches the value in the period (TBPRD) register. The system is configured such that the output signal is high when TBCNT = 0, then set low when TBCNT is equal to the CMPA comparison register. 
</p><p>The time base clock is configured so that it is a multiple of the desired PWM output frequency. TBCNT then determines the period, and CMPA the positive duty cycle, as shown below. 
</p><p><a href="File_Copy_of_AM1x_OMAPL13x_WinCE_6_0_BSP_User_Guide_01.html" class="image"><img alt="Copy of AM1x OMAPL13x WinCE 6 0 BSP User Guide 01.png" src="https://processors.wiki.ti.com/images/1/1b/Copy_of_AM1x_OMAPL13x_WinCE_6_0_BSP_User_Guide_01.png" width="672" height="371" /></a> 
</p><p>At higher frequencies the accuracy is reduced since the time base clock is derived from the module clock via a fixed set of possible dividers. 
</p><p><font size="4"><b>Interrupts</b></font> 
</p><p>The driver includes a demonstration interrupt handler which adjusts the duty cycle dynamically by modifying CMPA. To include this interrupt handler in the CE build, ensure that PWM_INTERRUPT_SUPPORT is enabled. 
</p>
<h4><span class="mw-headline" id="Registry_Entries_18">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=165" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The PWM driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>pwmdrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Order
</td>
<td>0x20
</td>
<td>Global order in which drivers are loaded.
</td></tr>
<tr>
<td>Index
</td>
<td>1
</td>
<td>Instance of the driver
</td></tr>
<tr>
<td>RegisterBaseAddress
</td>
<td>0x01f02000
</td>
<td>Base address of PWM peripheral to use
</td></tr>
<tr>
<td>Irq
</td>
<td>0x41
</td>
<td>PWM IRQ number
</td></tr>
<tr>
<td>EPWMXA_Active
</td>
<td>0
</td>
<td>Set to 1 if the EPWMxA output should be enabled within the PWM, 0 otherwise
</td></tr>
<tr>
<td>EPWMXB_Active
</td>
<td>1
</td>
<td>Set to 1 if the EPWMxB output should be enabled within the PWM, 0 otherwise
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_21">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=166" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The following features of the eHRPWM peripheral are currently unused in this version of the driver: 
</p>
<ul><li>Deadband</li>
<li>PWM chopper</li>
<li>Trip Zone</li></ul>
<h4><span class="mw-headline" id="Build_Options_23">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=167" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No build options. 
</p>
<h4><span class="mw-headline" id="Driver_API_18">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=168" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The device driver supports some custom IOControl calls which can be sent using the Win32 API function DeviceIoControl(). 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td>PWM_IOCTL_CONFIGURE
</td>
<td>Configure period and duty cycle via a PWMCONFIG structure
</td></tr>
<tr>
<td>PWM_IOCTL_START
</td>
<td>Start PWM output
</td></tr>
<tr>
<td>PWM_IOCTL_STOP
</td>
<td>Stop PWM output
</td></tr></tbody></table>
<p>A sample command line application <b>pwmtest</b> is provided that demonstrates use of the PWM IOCTLs. 
</p><p>Configure PWM output: 
</p><p>pwmtest -c &lt;freq in hz&gt; &lt;duty cycle percentage&gt; 
</p><p>Start generation of PWM signal: 
</p><p>pwmtest –s 
</p><p>Stop generation of PWM signal: 
</p><p>pwmtest –h 
</p><p>The <b>pwmtest</b> application sources can be found here: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\APPS\PWMTEST</b> 
</p>
<h3><span class="mw-headline" id="Notification_LED_Driver">Notification LED Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=169" title="Edit section: Notification LED Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_19">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=170" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a Notification LED driver that supports the LED’s on the Kit. Reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee481282.aspx">http://msdn.microsoft.com/en-us/library/ee481282.aspx</a> 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>LED on, off, blink, blink/pause/blink support</li>
<li>Adjustable on and off times</li>
<li>Adjustable blink/pause/blink times</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_19">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=171" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The LED driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>nleddrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Order
</td>
<td>0x11
</td>
<td>Global order in which drivers are loaded.
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_22">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=172" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_24">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=173" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No build options. 
</p>
<h4><span class="mw-headline" id="Driver_API_19">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=174" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The LED driver implements the standard Notification LED IOCTL’s (via the MDD). 
</p>
<h3><span class="mw-headline" id="Touch_Screen_Driver_for_TPS65070">Touch Screen Driver for TPS65070</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=175" title="Edit section: Touch Screen Driver for TPS65070">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_20">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=176" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a Touch Screen driver that supports the TPS65070 (PMIC) touch controller on the OMAPL138/AM18X Kit. Reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee485627.aspx">http://msdn.microsoft.com/en-us/library/ee485627.aspx</a> 
</p><p>The driver supports the standard Windows CE Touch Screen Driver functionality. Additional features: 
</p>
<ul><li>Polled mode operation for unmodified Kit boards (default mode)</li>
<li>Interrupt mode operation for modified Kit boards – SOM blue-wire connection from R160 (PMIC INT) to J3-6 (GPIO2[3])</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_20">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=177" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>DriverName
</td>
<td>touchdrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>CalibrationData
</td>
<td>Calibration data output by driver after a calibration sequence
</td>
<td>Pre-configured calibration data used when start-up calibration is disabled.
</td></tr>
<tr>
<td>MaxCalError
</td>
<td>5
</td>
<td>Controls sensitivity of the calibration data.
</td></tr>
<tr>
<td>PolltimeMS
</td>
<td>0x64
</td>
<td>Polling interval in ms. Set to 0 to operate in interrupt mode.
</td></tr>
<tr>
<td>PenGPIO
</td>
<td>0x23
</td>
<td>GPIO line used for TPS65070 IRQ
</td></tr>
<tr>
<td>InitialSamplesDropped
</td>
<td>0x01
</td>
<td>Number of samples to be dropped after pen down detection
</td></tr>
<tr>
<td>SampleRate
</td>
<td>0x14
</td>
<td>Samples per second to take while pen is down
</td></tr>
<tr>
<td>Pressure
</td>
<td>0x0A
</td>
<td>Minimum pressure limit to detect pen down
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x6D
</td>
<td>IRQ thread priority
</td></tr>
<tr>
<td>HighPriority256
</td>
<td>0x6D
</td>
<td>Thread priority when pen is down
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_23">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=178" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_25">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=179" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There are two build options defined in the BSP configuration file: 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL138_AM18X.bat</b> 
</p><p>The IMGNOCALIBRATION variable can be cleared to enable the touch screen calibration sequence when the platform boots. 
</p><p>The BSP_TOUCH_IRQ_ENABLE variable can be set to enable interrupt mode operation (requires a modified Kit board). 
</p>
<h4><span class="mw-headline" id="Driver_API_20">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=180" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The Touch driver implements the standard DDSI API entry points and links with the standard touch driver MDD. 
</p>
<h3><span class="mw-headline" id="Touch_Screen_Driver_for_TSC2004">Touch Screen Driver for TSC2004</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=181" title="Edit section: Touch Screen Driver for TSC2004">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_21">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=182" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a Touch Screen driver that supports the TSC2004 controller on the AM1707/L137 UI Board. Reference information is available here: 
</p><p><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ee485627.aspx">http://msdn.microsoft.com/en-us/library/ee485627.aspx</a> 
</p><p>The driver supports the standard Windows CE Touch Screen Driver functionality. 
</p>
<h4><span class="mw-headline" id="Registry_Entries_21">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=183" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>DriverName
</td>
<td>touchdrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>CalibrationData
</td>
<td>Calibration data output by driver after a calibration sequence
</td>
<td>Pre-configured calibration data used when start-up calibration is disabled.
</td></tr>
<tr>
<td>MaxCalError
</td>
<td>6
</td>
<td>Controls sensitivity of the calibration data.
</td></tr>
<tr>
<td>PenGPIO
</td>
<td>0x28
</td>
<td>GPIO line used for TSC2004 IRQ
</td></tr>
<tr>
<td>SampleRate
</td>
<td>0x14
</td>
<td>Samples per second to take while pen is down
</td></tr>
<tr>
<td>I2CAddr
</td>
<td>0x49
</td>
<td>I2C address of TSC2004
</td></tr>
<tr>
<td>Priority256
</td>
<td>0x6D
</td>
<td>IRQ thread priority
</td></tr>
<tr>
<td>HighPriority256
</td>
<td>0x6D
</td>
<td>Thread priority when pen is down
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_24">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=184" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_26">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=185" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There is a build option defined in the BSP configuration file: 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL137_AM17X.bat</b> 
</p><p>The IMGNOCALIBRATION variable can be cleared to enable the touch screen calibration sequence when the platform boots. 
</p>
<h4><span class="mw-headline" id="Driver_API_21">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=186" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The Touch driver implements the standard DDSI API entry points and links with the standard touch driver MDD. 
</p>
<h3><span class="mw-headline" id="McBSP_Driver">McBSP Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=187" title="Edit section: McBSP Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_22">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=188" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a driver for the two multichannel buffered serial ports (McBSP) in the OMAP-L138 / AM18x. 
</p><p>The driver supports the following feature set: 
</p>
<ul><li>Full McBSP configuration via the registry</li>
<li>I2S mode support, as master or slave</li>
<li>TDM mode (single frame sync phase only)</li>
<li>DMA assisted transfers using EDMA</li>
<li>External IOCTL API for integration with other drivers</li>
<li>McBSP peripheral powered off when no transfers in progress</li></ul>
<h4><span class="mw-headline" id="Registry_Entries_22">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=189" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The McBSP driver registry entries are defined in: 
</p><p><b>…\OMAPL138_AM18X\FILES\platform.reg</b> 
</p><p>There are a large number of McBSP configuration parameters and they are not all documented here. Please refer to the McBSP datasheet for full details of the port configuration parameters. The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>mcbspdrvr.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Order
</td>
<td>0x13
</td>
<td>Global order in which drivers are loaded.
</td></tr>
<tr>
<td>McBSPProfile
</td>
<td>0, 1, 2
</td>
<td>0 = I2S slave mode<br />1 = I2S master mode<br />2 = TDM mode
</td></tr>
<tr>
<td>UseRegistryForMcbsp
</td>
<td>0, 1
</td>
<td>0 = Use default configuration<br />1 = Use registry configuration
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_25">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=190" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No documented limitations. 
</p>
<h4><span class="mw-headline" id="Build_Options_27">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=191" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No build options. 
</p>
<h4><span class="mw-headline" id="Driver_API_22">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=192" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The McBSP driver provides an interface for other drivers to register function callbacks that fill and empty data buffers and control TX/RX operation. The API and callback definitions are defined in the following headers: 
</p><p><b>…\&lt;SOCFolder&gt;\MCBSP\mcbsp.h</b> 
</p><p><b>…\&lt;SOCFolder&gt;\MCBSP\memtxapi.h</b> 
</p><p>McBSP0 is accessible via the <b>MCP0:</b> device name and McBSP1 via the <b>MCP1: </b>device name. 
</p>
<h4><span class="mw-headline" id="Example_Usage_11">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=193" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The McBSP test driver and application demonstrate how to use the driver interface: 
</p><p><b>…\OMAPL138_AM18X\SRC\TEST\DRIVERS\MCBSPTEST</b> 
</p><p><b>…\OMAPL138_AM18X\SRC\TEST\APPS\MCBSPTEST</b> 
</p><p>The test driver performs simple TX and RX transfers with the McBSP in digital loopback mode. 
</p>
<h3><span class="mw-headline" id="VPIF_Driver">VPIF Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=194" title="Edit section: VPIF Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Driver_Features_23">Driver Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=195" title="Edit section: Driver Features">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The BSP includes a capture driver for the video port interface (VPIF) in the OMAP-L138 / AM18x. By default, the VPIF driver performs an internal loopback of captured frames as well as passing them up to applications. 
</p><p>The driver supports the ITU-BT.656 format. 
</p>
<h4><span class="mw-headline" id="Registry_Entries_23">Registry Entries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=196" title="Edit section: Registry Entries">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The VPIF driver registry entries are defined in: 
</p><p><b>…\&lt;BSPFolder&gt;\FILES\platform.reg</b> 
</p><p>The registry entries are as follows. 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td><b>Key</b>
</td>
<td><b>Value</b>
</td>
<td><b>Description</b>
</td></tr>
<tr>
<td>Dll
</td>
<td>samplecam.dll
</td>
<td>DLL into which the driver is built
</td></tr>
<tr>
<td>Order
</td>
<td>0x1000
</td>
<td>Global order in which drivers are loaded.
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Limitations_26">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=197" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Supports only ITU-BT.656 format. 
</p>
<h4><span class="mw-headline" id="Build_Options_28">Build Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=198" title="Edit section: Build Options">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>No build options. 
</p>
<h4><span class="mw-headline" id="Driver_API_23">Driver API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=199" title="Edit section: Driver API">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The VPIF driver implements a standard DShow CAMERA API. Channel is accessible via the CAM1: device name. 
</p>
<h4><span class="mw-headline" id="Example_Usage_12">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=200" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The VPIF test application demonstrates how to use the VPIF driver: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST\APPS\VPIFTEST</b> 
</p><p>The VPIF test application starts the capture through DShow API. 
</p>
<h2><span class="mw-headline" id="Power_Management">Power Management</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=201" title="Edit section: Power Management">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This BSP release implements support for some basic power management (PM). The drivers support D0 and D4 states and system suspend / resume support is implemented. 
</p><p>There is no support for voltage or frequency scaling. 
</p>
<h3><span class="mw-headline" id="System_Power_States">System Power States</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=202" title="Edit section: System Power States">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A sample PM configuration is included in the <b>platform.reg</b> file. The standard CE System Power States are configured as follows: 
</p>
<ul><li><i>On</i>:</li>
<li>All peripherals are powered up (D0 state)</li>
<li><i>UserIdle</i>:</li>
<li>Entered after 2 minutes of inactivity (i.e. no interaction with the GUI)</li>
<li>No change to device power states</li>
<li><i>SystemIdle</i>:</li>
<li>Entered after a further 5 minutes of inactivity</li>
<li>Devices are powered down (D4 state)</li>
<li>The NDIS Ethernet driver is left enabled by default so a telnet session can be used to power the system back up using the <b>pmset </b>tool</li>
<li><i>Suspend</i>:</li>
<li>Can be entered using the <b>pmsuspend</b> tool</li></ul>
<h3><span class="mw-headline" id="Power_Management_Configuration">Power Management Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=203" title="Edit section: Power Management Configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The sample PM configuration is disabled by default in <b>platform.reg</b>. The configuration can be enabled by setting the <b>BSP_POWERMAN</b> variable in: 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL138_AM18X.bat</b> 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL137_AM17X.bat</b> 
</p><p>Notes: 
</p><p>1. When the sample PM configuration is disabled the default CE 6.0 PM configuration is used. 
</p><p>2. Power down of the LCD display has been disabled when the default CE 6.0 PM configuration is used (so the LCD is not switched off in a default OS build). 
</p>
<h3><span id="Suspend_/_Resume"></span><span class="mw-headline" id="Suspend_.2F_Resume">Suspend / Resume</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=204" title="Edit section: Suspend / Resume">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This BSP release has suspend / resume support for the OMAP-L138/AM18x and OMAP-L137/AM17x platforms. 
</p><p>Notes: 
</p><p>1. When entering the suspend state the CE Power Manager powers down all the peripherals (sets all drivers to D4 state). 
</p><p>2. On L137 / AM17x all interrupts except RTC are disabled and the ARM is put into Wait For Interrupt mode. 
</p><p>3. On L138 / AM18x the SDRAM is put into self refresh mode and powered down, the PLL controllers are powered down and the SOC is put into Deep Sleep mode. 
</p><p>4. On L137 / AM17x the only wake source supported is the RTC alarm. 
</p><p>5. On L138 / AM18x there are two wake sources supported: 
</p>
<ul><li>Internal source – RTC alarm</li>
<li>External source via the DEEPSLEEP pin – connected to UART2 CTS</li></ul>
<p>6. The <b>pmsuspend</b> tool can be used to enter the system suspend state. The wake source can be specified on the command line. 
</p><p>7. On L138 / AM18x when resuming the SDRAM and PLL controllers are powered up. 
</p><p>8. On resume the CE Power Manager powers up all the peripherals (sets all drivers to D0 state). 
</p>
<h3><span class="mw-headline" id="Power_Management_Tools">Power Management Tools</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=205" title="Edit section: Power Management Tools">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>When power management is enabled a number of tools are available: 
</p>
<ul><li>pmtimeout – Sets the idle timeouts used to transition between PM states</li>
<li>pmsuspend – Sets an RTC alarm and puts the platform into suspend</li>
<li>pmset – Sets the system power state</li>
<li>pmget – Gets the current system power state</li>
<li>pmsetd – Sets the power state for a device</li>
<li>pmgetd – Gets the power state for a device</li>
<li>pmreq – Sets a device power requirement</li>
<li>pmmon – Monitors and reports on power state changes</li></ul>
<p>Most of the tools display help if run with no command line parameters. Some example usage follows. 
</p><p>e.g. Put the system into the System Idle state by setting some short idle timeouts:<br />pmtimeout set 10 10<br />After 20 seconds of idle time system will go into System Idle. 
</p><p>e.g. Set system power state to On:<br />&#160; pmset On<br />e.g. Go into suspend with a 1 min RTC alarm:<br />&#160; pmsuspend -t 1 
</p>
<h3><span class="mw-headline" id="Power_Measurements">Power Measurements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=206" title="Edit section: Power Measurements">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Some power measurements have been taken on an OMAP-L138 Kit using a Power Management Daughter Card (PMDC). 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td>&#160;
</td>
<td align="center" colspan="9"><b>EBOOT</b>
</td>
<td align="center"><b>CE 6.0 Full On</b>
</td>
<td align="center"><b>CE 6.0 System Idle</b>
</td>
<td align="center"><b>CE 6.0 Suspend</b>
</td></tr>
<tr>
<td><b>Channel</b>
</td>
<td align="center"><b>mA</b>
</td>
<td align="center"><b>mV</b>
</td>
<td align="center"><b>Supply V</b>
</td>
<td align="center"><b>mA</b>
</td>
<td align="center"><b>mV</b>
</td>
<td align="center"><b>Supply V</b>
</td>
<td align="center"><b>mA</b>
</td>
<td align="center"><b>mV</b>
</td>
<td align="center"><b>Supply V</b>
</td>
<td align="center"><b>mA</b>
</td>
<td align="center"><b>mV</b>
</td>
<td align="center"><b>Supply V</b>
</td></tr>
<tr>
<td align="right">1
</td>
<td align="right">327.50
</td>
<td align="right">6.55
</td>
<td align="right">5.09
</td>
<td align="right">333.00
</td>
<td align="right">6.67
</td>
<td align="right">5.08
</td>
<td align="right">289.00
</td>
<td align="right">5.79
</td>
<td align="right">5.11
</td>
<td align="right">221.00
</td>
<td align="right">4.41
</td>
<td align="right">5.12
</td></tr>
<tr>
<td align="right">2
</td>
<td align="right">165.50
</td>
<td align="right">3.30
</td>
<td align="right">3.33
</td>
<td align="right">175.00
</td>
<td align="right">3.50
</td>
<td align="right">3.33
</td>
<td align="right">164.00
</td>
<td align="right">3.28
</td>
<td align="right">3.33
</td>
<td align="right">171.00
</td>
<td align="right">3.40
</td>
<td align="right">3.33
</td></tr>
<tr>
<td align="right">3
</td>
<td align="right">25.00
</td>
<td align="right">0.50
</td>
<td align="right">3.33
</td>
<td align="right">27.00
</td>
<td align="right">0.54
</td>
<td align="right">3.33
</td>
<td align="right">26.00
</td>
<td align="right">0.51
</td>
<td align="right">3.33
</td>
<td align="right">32.50
</td>
<td align="right">0.64
</td>
<td align="right">3.33
</td></tr>
<tr>
<td align="right">4
</td>
<td align="right">170.00
</td>
<td align="right">3.40
</td>
<td align="right">1.19
</td>
<td align="right">154.00
</td>
<td align="right">3.08
</td>
<td align="right">1.19
</td>
<td align="right">139.00
</td>
<td align="right">2.79
</td>
<td align="right">1.19
</td>
<td align="right">5.50
</td>
<td align="right">0.10
</td>
<td align="right">1.20
</td></tr>
<tr>
<td align="right">5
</td>
<td align="right">34.00
</td>
<td align="right">0.68
</td>
<td align="right">1.19
</td>
<td align="right">34.00
</td>
<td align="right">0.68
</td>
<td align="right">1.19
</td>
<td align="right">34.00
</td>
<td align="right">0.68
</td>
<td align="right">1.19
</td>
<td align="right">25.50
</td>
<td align="right">0.51
</td>
<td align="right">1.19
</td></tr>
<tr>
<td align="right">6
</td>
<td align="right">58.00
</td>
<td align="right">1.16
</td>
<td align="right">1.78
</td>
<td align="right">58.00
</td>
<td align="right">1.16
</td>
<td align="right">1.78
</td>
<td align="right">33.50
</td>
<td align="right">0.67
</td>
<td align="right">1.78
</td>
<td align="right">6.00
</td>
<td align="right">0.12
</td>
<td align="right">1.78
</td></tr>
<tr>
<td align="right">7
</td>
<td align="right">0.50
</td>
<td align="right">0.01
</td>
<td align="right">1.20
</td>
<td align="right">0.50
</td>
<td align="right">0.01
</td>
<td align="right">1.20
</td>
<td align="right">0.50
</td>
<td align="right">0.01
</td>
<td align="right">1.20
</td>
<td align="right">0.50
</td>
<td align="right">0.01
</td>
<td align="right">1.21
</td></tr></tbody></table>
<p>Notes: 
</p><p>1. Platform: OMAP-L138 Kit, 300MHz, base board + SOM + LCD + PMDC 
</p><p>2. CE OS Build: OMAPL138_AM18X_SAMPLE with KITL disabled 
</p><p>3. Drivers included: GPIO, EDMA, Audio, I2C, SPI, Display (LCDC), EMAC Ethernet, SD Host, TPS65070 Touch, USB OTG (OHCI NOT included) 
</p><p>4. EBOOT: In menu, SPI, LCDC enabled, Ethernet disabled 
</p><p>5. Full On: All peripherals enabled via PSC 
</p><p>6. System Idle: All peripherals disabled via PSC except EMAC and GPIO. USB PHYs powered down. 
</p><p>7. Suspend: All peripherals disabled, RAM in self-refesh, DDR2 powered down, PLLC’s powered off and SOC in Deep Sleep mode 
</p><p>Details of the channels: 
</p>
<table cellspacing="0" cellpadding="4" width="100%" border="2">

<tbody><tr>
<td>Channel 1
</td>
<td>SOM 5V In
</td>
<td>Includes all the components on the Freom SOM
</td></tr>
<tr>
<td>Channel 2
</td>
<td>3.3V SW
</td>
<td>OMAPL138/AM18X USB I/O (VDD33_USB1, VDDA33_USB0)<br />Serial Boot Flash<br />10/100 Ethernet PHY (3.3V analog port power)<br />LVDS Clock Generator<br />Misc ICs (voltage translation, buffers, etc.)<br />Pullups
</td></tr>
<tr>
<td>Channel 3
</td>
<td>1.8V/3.3V SW
</td>
<td>OMAPL138/AM18X I/O (DVDD3318A, DVDD3318B, DVDD3318C)<br />OMAPL138/AM18X Baseboard Components<br />10/100 Ethernet PHY (1.6V to 3.3V I/O pad power)<br />Misc ICs<br />Pullups
</td></tr>
<tr>
<td>Channel 4
</td>
<td>1.2V SW
</td>
<td>OMAPL138/AM18X CVDD
</td></tr>
<tr>
<td>Channel 5
</td>
<td>1.2V LDO
</td>
<td>OMAPL138/AM18X PLL (VDDA12_PLL1, VDDA12_PLL0), internal RAM (VDDARNWA2, VDDARNWA1, VDDARNWA), SATA core (VDD3, SATA_VDDA, SATA_VDDD), USB core (VDD4)<br />10/100 Ethernet PHY (1.2V core voltage)
</td></tr>
<tr>
<td>Channel 6
</td>
<td>1.8V LDO
</td>
<td>OMAPL138/AM18X SATA_VDDR, VDDA18_USB0, VDDA18_USB1, VDD18V, DDR_DVDD18<br />1Gbit Mobile DDR
</td></tr>
<tr>
<td>Channel 7
</td>
<td>1.2V RTC
</td>
<td>OMAPL138/AM18X RTC_VDD
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Applications_and_Libraries">Applications and Libraries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=207" title="Edit section: Applications and Libraries">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Test_Applications">Test Applications</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;section=208" title="Edit section: Test Applications">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The BSP includes a number of test applications. The test applications can be found in: 
</p><p><b>…\&lt;BSPFolder&gt;\SRC\TEST</b> 
</p><p>The test applications are included in the OS image by default. Inclusion of these modules can be disabled in the BSP configuration script: 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL138_AM18X.bat</b> 
</p><p><b>…\&lt;BSPFolder&gt;\OMAPL137_AM17X.bat</b> 
</p><p>by commenting out the following variables: 
</p><p>BSP_INCLUDE_TEST_APPS
</p>
<!-- 
NewPP limit report
Cached time: 20201201020437
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.324 seconds
Real time usage: 0.329 seconds
Preprocessor visited node count: 2582/1000000
Preprocessor generated node count: 4804/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 748/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:6549-0!canonical and timestamp 20201201020436 and revision id 216528
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>ARM9 WinCE BSP User Guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>ARM9 WinCE BSP User Guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>ARM9 WinCE BSP User Guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>ARM9 WinCE BSP User Guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>ARM9 WinCE BSP User Guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>ARM9 WinCE BSP User Guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>ARM9 WinCE BSP User Guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>ARM9 WinCE BSP User Guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>ARM9 WinCE BSP User Guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;oldid=216528">https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;oldid=216528</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_AM1x.html" title="Category:AM1x">AM1x</a></li><li><a href="Category_OMAPL1.html" title="Category:OMAPL1">OMAPL1</a></li><li><a href="Category_WinCE.html" title="Category:WinCE">WinCE</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=ARM9+WinCE+BSP+User+Guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="ARM9_WinCE_BSP_User_Guide.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:ARM9_WinCE_BSP_User_Guide&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="ARM9_WinCE_BSP_User_Guide.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/ARM9_WinCE_BSP_User_Guide.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/ARM9_WinCE_BSP_User_Guide.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;oldid=216528" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=ARM9_WinCE_BSP_User_Guide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 17 May 2016, at 15:04.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.324","walltime":"0.329","ppvisitednodes":{"value":2582,"limit":1000000},"ppgeneratednodes":{"value":4804,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":748,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201201020437","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":247});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/ARM9_WinCE_BSP_User_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:20:29 GMT -->
</html>
