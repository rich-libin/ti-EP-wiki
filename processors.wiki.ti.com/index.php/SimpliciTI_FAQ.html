<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/SimpliciTI_FAQ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 05:05:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>SimpliciTI FAQ - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"SimpliciTI_FAQ","wgTitle":"SimpliciTI FAQ","wgCurRevisionId":182464,"wgRevisionId":182464,"wgArticleId":15790,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["SimpliciTI"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"SimpliciTI_FAQ","wgRelevantArticleId":15790,"wgRequestId":"50172872b860e07f67f66f05","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-SimpliciTI_FAQ rootpage-SimpliciTI_FAQ skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">SimpliciTI FAQ</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Starting_with_SimpliciTI_-_projects.2C_examples.2C_IDE_related_questions"><span class="tocnumber">1</span> <span class="toctext">Starting with SimpliciTI - projects, examples, IDE related questions</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Out_of_the_box.2C_the_Simple-Peer-To-Peer_application_doesn.27t_seem_to_work.2C_what_did_i_do_wrong.3F"><span class="tocnumber">1.1</span> <span class="toctext">Out of the box, the Simple-Peer-To-Peer application doesn't seem to work, what did i do wrong?</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#How_to_Compile_SimpliciTI_with_CCS.3F"><span class="tocnumber">1.2</span> <span class="toctext">How to Compile SimpliciTI with CCS?</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#How_to_create_custom_CCS_project_with_SimpliciTI"><span class="tocnumber">1.3</span> <span class="toctext">How to create custom CCS project with SimpliciTI</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Problem_in_modifying_Configuration_Files"><span class="tocnumber">1.4</span> <span class="toctext">Problem in modifying Configuration Files</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#CCSTUDIO_.28CCS.29_v5"><span class="tocnumber">1.4.1</span> <span class="toctext">CCSTUDIO (CCS) v5</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#IAR_EWB"><span class="tocnumber">1.4.2</span> <span class="toctext">IAR EWB</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#I_am_trying_to_compile_SimpliciTI_IAR_project_but_it_fails"><span class="tocnumber">1.5</span> <span class="toctext">I am trying to compile SimpliciTI IAR project but it fails</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#How_big_is_the_memory_footprint_of_SimpliciTI_software_stack.3F"><span class="tocnumber">1.6</span> <span class="toctext">How big is the memory footprint of SimpliciTI software stack?</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Including_Radio_and_MCU_Specific_Code"><span class="tocnumber">1.7</span> <span class="toctext">Including Radio and MCU Specific Code</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Practical_FAQ"><span class="tocnumber">2</span> <span class="toctext">Practical FAQ</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Debugging_RF_Connection"><span class="tocnumber">2.1</span> <span class="toctext">Debugging RF Connection</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#How_to_change_radio_configuration_of_SimpliciTI.27s_supported_RF_modules.3F"><span class="tocnumber">2.2</span> <span class="toctext">How to change radio configuration of SimpliciTI's supported RF modules?</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Compatibility_Between_Different_Transceivers"><span class="tocnumber">2.2.1</span> <span class="toctext">Compatibility Between Different Transceivers</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#What_is_the_maximum_number_of_devices_in_SimpliciTI_network.3F"><span class="tocnumber">2.3</span> <span class="toctext">What is the maximum number of devices in SimpliciTI network?</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#What_is_actually_a_.22port.22_in_SimpliciTI.3F"><span class="tocnumber">2.4</span> <span class="toctext">What is actually a "port" in SimpliciTI?</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#How_can_i_send_address_a_message_to_a_certain_device.3F_The_SMPL_Send.28.29_function_seems_to_not_have_any_parameter_for_device_addressing"><span class="tocnumber">2.5</span> <span class="toctext">How can i send address a message to a certain device? The SMPL_Send() function seems to not have any parameter for device addressing</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#How_to_send_a_broadcast_message_in_SimpliciTI.3F"><span class="tocnumber">2.6</span> <span class="toctext">How to send a broadcast message in SimpliciTI?</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#How_to_disconnect_an_established_connection_between_two_nodes.3F"><span class="tocnumber">2.7</span> <span class="toctext">How to disconnect an established connection between two nodes?</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Does_SimpliciTI_support_message_acknowledgement.3F"><span class="tocnumber">2.8</span> <span class="toctext">Does SimpliciTI support message acknowledgement?</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#What_is_the_Token_used_for.3F"><span class="tocnumber">2.9</span> <span class="toctext">What is the Token used for?</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#Link_Token"><span class="tocnumber">2.9.1</span> <span class="toctext">Link Token</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Join_Token"><span class="tocnumber">2.9.2</span> <span class="toctext">Join Token</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-24"><a href="#Port_Allocation_in_SimpliciTI"><span class="tocnumber">2.10</span> <span class="toctext">Port Allocation in SimpliciTI</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#Dynamic_Port_Allocation"><span class="tocnumber">2.10.1</span> <span class="toctext">Dynamic Port Allocation</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Static_Port_Allocation"><span class="tocnumber">2.10.2</span> <span class="toctext">Static Port Allocation</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-27"><a href="#Modifying_Power_Setting_in_SimpliciTI"><span class="tocnumber">2.11</span> <span class="toctext">Modifying Power Setting in SimpliciTI</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Restoring_connection_after_power_cycle"><span class="tocnumber">2.12</span> <span class="toctext">Restoring connection after power cycle</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#How_to_obtain_the_remote_peer_address_in_SimpliciTI.3F"><span class="tocnumber">2.13</span> <span class="toctext">How to obtain the remote peer address in SimpliciTI?</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#How_to_override_the_address_configuration_in_smpl_config.dat.3F"><span class="tocnumber">2.14</span> <span class="toctext">How to override the address configuration in smpl_config.dat?</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#How_to_increase_the_application_payload.3F"><span class="tocnumber">2.15</span> <span class="toctext">How to increase the application payload?</span></a>
<ul>
<li class="toclevel-3 tocsection-32"><a href="#Security_Feature_Disabled"><span class="tocnumber">2.15.1</span> <span class="toctext">Security Feature Disabled</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-33"><a href="#Is_it_possible_to_create_static_linking_between_two_SimpliciTI_nodes.3F"><span class="tocnumber">2.16</span> <span class="toctext">Is it possible to create static linking between two SimpliciTI nodes?</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#How_to_retrieve_the_RSSI_and_LQI_information_in_SimpliciTI.3F"><span class="tocnumber">2.17</span> <span class="toctext">How to retrieve the RSSI and LQI information in SimpliciTI?</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Is_it_possible_to_combine_Range_Extender_and_End_Device_on_one_device.3F"><span class="tocnumber">2.18</span> <span class="toctext">Is it possible to combine Range Extender and End Device on one device?</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Disabling.2FEnabling_join_on_AP"><span class="tocnumber">2.19</span> <span class="toctext">Disabling/Enabling join on AP</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span id="Starting_with_SimpliciTI_-_projects,_examples,_IDE_related_questions"></span><span class="mw-headline" id="Starting_with_SimpliciTI_-_projects.2C_examples.2C_IDE_related_questions">Starting with SimpliciTI - projects, examples, IDE related questions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=1" title="Edit section: Starting with SimpliciTI - projects, examples, IDE related questions">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span id="Out_of_the_box,_the_Simple-Peer-To-Peer_application_doesn't_seem_to_work,_what_did_i_do_wrong?"></span><span class="mw-headline" id="Out_of_the_box.2C_the_Simple-Peer-To-Peer_application_doesn.27t_seem_to_work.2C_what_did_i_do_wrong.3F">Out of the box, the Simple-Peer-To-Peer application doesn't seem to work, what did i do wrong?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=2" title="Edit section: Out of the box, the Simple-Peer-To-Peer application doesn&#039;t seem to work, what did i do wrong?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Please make sure that the LinkTo and LinkListen application have different device address which is defined in smpl_config.dat file (THIS_DEVICE_ADDRESS). In order to enable both devices to communicate with each others, each device must have a unique device address. This means when compiling each application (LinkTo and LinkListen), the macro THIS_DEVICE_ADDRESS shall be changed to different device addresses.
</p><p>If this doesn't fix the probelm, it is advised to check the packets by using the <a rel="nofollow" class="external text" href="http://www.ti.com/tool/packet-sniffer">packet sniffer</a>.
</p><p><br />
</p>
<h3><span id="How_to_Compile_SimpliciTI_with_CCS?"></span><span class="mw-headline" id="How_to_Compile_SimpliciTI_with_CCS.3F">How to Compile SimpliciTI with CCS?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=3" title="Edit section: How to Compile SimpliciTI with CCS?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This is described in the SimpliciTI documentation SWRA243 SimpliciTI Sample Application User's Guide -  chapter 2.3.2  "Using Code Composer Studio" (usually can be found at C:\Texas Instruments\SimpliciTI-CCS-1.1.1\Documents). Basically it is necessary to define the DEV_ROOT path for the linked resources to the SimpliciTI installation folder path (usually C:\Texas Instruments\SimpliciTI-CCS-1.1.1).
</p><p>If the SimpliciTI project is copied to another directory outside the SimpliciTI installation folder (by clicking the "Copy projects into workspace" checkbox when importing the CCS project into other folder), it is necessary then to modify the Include path shown as follows:
</p>
<ul><li>Defining SMPL_ROOT build environment path</li></ul>
<div class="center"><div class="floatnone"><a href="File_Smpl_root.html" class="image"><img alt="Smpl root.PNG" src="https://processors.wiki.ti.com/images/c/c5/Smpl_root.PNG" width="512" height="339" /></a></div></div>
<ul><li>Modifying path to the SimpliciTI source folder location</li></ul>
<div class="center"><div class="floatnone"><a href="File_Smpl_include_path.html" class="image"><img alt="Smpl include path.PNG" src="https://processors.wiki.ti.com/images/9/9e/Smpl_include_path.PNG" width="512" height="424" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id="How_to_create_custom_CCS_project_with_SimpliciTI">How to create custom CCS project with SimpliciTI</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=4" title="Edit section: How to create custom CCS project with SimpliciTI">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In some application, it could be necessary to make a custom CCS project which only refers to the SimpliciTI stack source code, while the application code and the command/configuration file are set to be project specific. Please refer to the following <a href="Creating_CCS_Project_using_SimpliciTI.html" title="Creating CCS Project using SimpliciTI"> wiki page</a> for the step by step guide for CCS v5 and CCS v4.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Problem_in_modifying_Configuration_Files">Problem in modifying Configuration Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=5" title="Edit section: Problem in modifying Configuration Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>When having problem in modifying configuration files (smpl_config.dat or smpl_nwk_config.dat), make sure that the project settings refer to the correct project files.
</p>
<h4><span id="CCSTUDIO_(CCS)_v5"></span><span class="mw-headline" id="CCSTUDIO_.28CCS.29_v5">CCSTUDIO (CCS) v5</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=6" title="Edit section: CCSTUDIO (CCS) v5">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Right click on the .dat file and select "Properties" (or press Alt+Enter after left click on the file), note the "Location" path of the file. Compare the "Location" path with the one in Project Settings which can be found under "Project" -&gt; "Properties" -&gt; "Build" -&gt; "MSP430 Compiler" -&gt; "Command Files".
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1002px;"><a href="File_Smpl_cfg_file_path_ccs.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/c/c4/Smpl_cfg_file_path_ccs.PNG" width="1000" height="262" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Smpl_cfg_file_path_ccs.html" class="internal" title="Enlarge"></a></div>Config file location path (left), CCS Config file project setting (middle)</div></div></div></div>
<h4><span class="mw-headline" id="IAR_EWB">IAR EWB</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=7" title="Edit section: IAR EWB">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Right click on the .dat file and select "File Properties...", note the "Location" path of the file. Compare the "Location" path with the one in Project Settings which can be found under "Project" -&gt; "Options" -&gt; "C/C++ Compiler" -&gt; "Extra Options".
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="File_Smpl_cfg_file_path_iar.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/3/39/Smpl_cfg_file_path_iar.PNG" width="600" height="329" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Smpl_cfg_file_path_iar.html" class="internal" title="Enlarge"></a></div>Config file location path (left), IAR Config file project setting (right)</div></div></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id="I_am_trying_to_compile_SimpliciTI_IAR_project_but_it_fails">I am trying to compile SimpliciTI IAR project but it fails</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=8" title="Edit section: I am trying to compile SimpliciTI IAR project but it fails">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>When trying to compile SimpliciTI IAR project using newer IAR version, it might happen that the compilation fails due to the wrong path of the linker configuration file. For example when trying to compile SimpliciTI-IAR-1.2.0 for CC1110 on IAR 8051 EWB v8.x, the compilation will give the following error:
</p><p><code>
Error[e12]: Unable to open file 'C:\Program Files\IAR Systems\Embedded Workbench 6.0_0\8051\config\lnk51ew_cc1110.xcl'
</code>
</p><p><br />
</p>
<div class="center"><div class="floatnone"><a href="File_Smpl_newer_iar_link_error.html" class="image"><img alt="Smpl newer iar link error.PNG" src="https://processors.wiki.ti.com/images/8/80/Smpl_newer_iar_link_error.PNG" width="512" height="391" /></a></div></div>
<p><br />
This can be easily solved by selecting the correct path to the linker configuration file by going to "Project" -&gt; "Options..." (or press ALT + F7), choose "Linker " category and select the correct path to the linker configuration file as shown follows:
</p><p><br />
</p>
<div class="center"><div class="floatnone"><a href="File_Smpl_newer_iar_linker_cfg_file_path.html" class="image"><img alt="Smpl newer iar linker cfg file path.PNG" src="https://processors.wiki.ti.com/images/d/d0/Smpl_newer_iar_linker_cfg_file_path.PNG" width="800" height="331" /></a></div></div>
<p><br />
As shown above, for example with CC1110, the path should be change from "$TOOLKIT_DIR$\config\lnk51ew_cc1110.xcl" to "$TOOLKIT_DIR$\config\devices\Texas Instruments\lnk51ew_cc1110F32.xcl"
</p><p><br />
</p>
<h3><span id="How_big_is_the_memory_footprint_of_SimpliciTI_software_stack?"></span><span class="mw-headline" id="How_big_is_the_memory_footprint_of_SimpliciTI_software_stack.3F">How big is the memory footprint of SimpliciTI software stack?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=9" title="Edit section: How big is the memory footprint of SimpliciTI software stack?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The answer basically depends on the compile option settings which is used to compile the SimpliciTI Stack (device type, security setting, , etc.). And of course the processor achitecture and compiler also play roles in determining the memory footprint. There are some numbers which can be found here:<a href="SimpliciTI.html#Memory_Requirements" title="SimpliciTI">SimpliciTI#Memory_Requirements</a>, basically derived from out-of-the box compilation. So basically typically, the SimpliciTI stack requires around 5KB - 10KB flash, and for the RAM footprint, it really varies depending on the some factors:
</p>
<ul><li>Maximum number of connections (NUM_OF_CONNECTIONS compiler option): for each connection, the stack will require between 11 - 20 bytes of RAM size (depending on compile options APP_AUTO_ACK and SMPL_SECURE), which is basically the size of connInfo_t data type defined in nwk.h.</li></ul>
<ul><li>Number of message buffer queues: there are basically two kind of message buffer queues: incoming and outgoing message buffers, and the number of buffers in each queues are defined as compile options SIZE_INFRAME_Q and SIZE_OUTFRAME_Q respectively. Each buffers then will occupy the size of frameInfo_t data type defined in nwk_frame.h. The size of framInfo_t depends also on the compile option MAX_NWK_PAYLOAD and MAX_APP_PAYLOAD. If greater value between MAX_NWK_PAYLOAD and MAX_APP_PAYLOAD will be taken as the maximum payload data of SimpliciTI packets (see the beginning of mrfi.h), and counted in the calculation of maximum SimpliciTI frame size (MRFI_MAX_FRAME_SIZE).</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Including_Radio_and_MCU_Specific_Code">Including Radio and MCU Specific Code</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=10" title="Edit section: Including Radio and MCU Specific Code">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In the SimpliciTI projects, only bsp.c and mrfi.c code are directly included in the project. The MCU and Radio specific codes which are located under &lt;SIMPLICITI_BASE_FOLDER&gt;/Components/bsp/boards and &lt;SIMPLICITI_BASE_FOLDER&gt;/Components/mrfi/radios are included by bsp.c and mrfi.c hard-coded in the source.
</p><p>For the processor specific source code, the code includes the bsp_board.c and the bsp_drivers.c directly in the code of bsp.c as follows:
</p><p>&lt;syntaxhighlight lang='c'&gt;
/* ================================================================================================
</p>
<pre>*                                        C Code Includes
* ================================================================================================
*/
</pre>
<ol><li>ifdef BSP_BOARD_C</li>
<li>include BSP_BOARD_C</li>
<li>endif</li></ol>
<ol><li>ifdef BSP_DRIVERS_C</li>
<li>include BSP_DRIVERS_C</li>
<li>endif</li></ol>
<p>&lt;/syntaxhighlight&gt;
</p><p>while in the bsp_drivers.c, the code will also include the BSP code for push buttons and LEDs as follows:
</p><p>&lt;syntaxhighlight lang='c'&gt;
/* ================================================================================================
</p>
<pre>*                                        C Code Includes
* ================================================================================================
*/
</pre>
<ol><li>if (!defined BSP_NO_LEDS)</li>
<li>include "drivers/code/bsp_leds.c"</li>
<li>endif</li></ol>
<ol><li>if (!defined BSP_NO_BUTTONS)</li>
<li>include "drivers/code/bsp_buttons.c"</li>
<li>endif</li></ol>
<p>&lt;/syntaxhighlight&gt;
</p><p>The stack choose the respective MCU BSP according to the selected include path in the project setting, e.g. for IAR projects:
</p>
<div class="center"><div class="floatnone"><a href="File_SimpliciTI_IAR_ProjectSetting_IncludeBspPath.html" class="image"><img alt="SimpliciTI IAR ProjectSetting IncludeBspPath.PNG" src="https://processors.wiki.ti.com/images/0/09/SimpliciTI_IAR_ProjectSetting_IncludeBspPath.PNG" width="500" height="469" /></a></div></div>
<p>In the screen capture above, it is also shown that by declaring MRFI_CCXXXX, the mrfi.c will choose which radio specific to be compiled:
</p><p>&lt;syntaxhighlight lang='c'&gt;
</p>
<ul><li>------------------------------------------------------------------------------------------------</li></ul>
<pre>*                                       C Code Includes
* ------------------------------------------------------------------------------------------------
*/
</pre>
<p>/* ----- Radio Family 1 ----- */
</p>
<ol><li>if (defined MRFI_RADIO_FAMILY1)</li>
<li>include "radios/family1/mrfi_radio.c"</li>
<li>include "radios/family1/mrfi_spi.c"</li>
<li>include "radios/common/mrfi_f1f2.c"</li>
<li>include "bsp_external/mrfi_board.c"</li></ol>
<p>/* ----- Radio Family 2 ----- */
</p>
<ol><li>elif (defined MRFI_RADIO_FAMILY2)</li>
<li>include "radios/family2/mrfi_radio.c"</li>
<li>include "radios/common/mrfi_f1f2.c"</li></ol>
<p>/* ----- Radio Family 3 ----- */
</p>
<ol><li>elif (defined MRFI_RADIO_FAMILY3)</li>
<li>include "bsp_external/mrfi_board.c"</li>
<li>include "radios/family3/mrfi_spi.c"</li>
<li>include "radios/family3/mrfi_radio.c"</li></ol>
<p>/* ----- Radio Family 4 ----- */
</p>
<ol><li>elif (defined MRFI_RADIO_FAMILY4)</li>
<li>include "radios/family4/mrfi_radio.c"</li></ol>
<p>/* ----- Radio Family 5 ----- */
</p>
<ol><li>elif (defined MRFI_RADIO_FAMILY5)</li>
<li>include "radios/family5/mrfi_radio.c"</li>
<li>include "radios/family5/mrfi_radio_interface.c"</li></ol>
<p>/* ----- Radio Family 6 ----- */
</p>
<ol><li>elif (defined MRFI_RADIO_FAMILY6)</li>
<li>include "radios/family6/mrfi_radio.c"</li></ol>
<ol><li>else</li>
<li>error "ERROR: Radio family is not defined."</li>
<li>endif</li></ol>
<p>&lt;/syntaxhighlight&gt;
</p><p><br />
<br />
</p>
<h2><span class="mw-headline" id="Practical_FAQ">Practical FAQ</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=11" title="Edit section: Practical FAQ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Debugging_RF_Connection">Debugging RF Connection</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=12" title="Edit section: Debugging RF Connection">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Make sure that the RF configuration between the transmitter and the receiver match each other. Use <a rel="nofollow" class="external text" href="http://www.ti.com/tool/smartrftm-studio">SmartRF Studio</a> to generate the smartrf header files used in the stack, and <a rel="nofollow" class="external text" href="http://www.ti.com/tool/packet-sniffer">SmartRF Packet Sniffer</a> to see whether the packet is correctly transmitted. If possible try to make both devices to transmit packets and check by using a spectrum analyzer whether the node is operating at the same carrier frequency. Refer to the <a rel="nofollow" class="external text" href="http://embedded-funk.blogspot.de/2013/12/testing-simpliciti-rf-setting.html">following guide</a> for getting the test code to test the RF setting using spectrum analyzer.</li></ul>
<ul><li>Make sure that if the device is operated as End Device only (RX will be switched off per default during init for End Device), that the RX is turned on explicitly by the application by calling the following line code.</li></ul>
<p>&lt;syntaxhighlight lang='c'&gt;
</p>
<pre>  /* turn on RX. default is RX off. */
  SMPL_Ioctl( IOCTL_OBJ_RADIO, IOCTL_ACT_RADIO_RXON, 0);
</pre>
<p>&lt;/syntaxhighlight&gt;
</p>
<ul><li>Make sure that both transmitter and receive node using the same network configuration settings for: SMPL_SECURE (also same key), FREQUENCY_AGILITY, FREQUENCY_HOPPING, APP_AUTO_ACK).</li></ul>
<ul><li>Try to debug whether the RX interrupt of the RX module is invoked during a packet reception. This can be done by putting a breakpoint at the following functions:
<ul><li>Family 1 Radio (CC2500, CC1100, CC1100, CC110L, CC1100E): MRFI_GpioIsr() in mrfi_radio.c</li>
<li>Family 2 Radio (CC2510, CC2511, CC1110, CC1111): MRFI_RfIsr() in mrfi_radio.c</li>
<li>Family 3 Radio (CC2520, CC2420): Mrfi_FiFoPIsr() in mrfi_radio.c</li>
<li>Family 4 Radio (CC2430, CC2431): MRFI_RxIsr() in mrfi_radio.c</li>
<li>Family 5 Radio (CC430): Mrfi_SyncPinRxIsr() in mrfi_radio.c</li>
<li>Family 6 Radio (CC2530): MRFI_RxIsr() in mrfi_radio.c</li>
<li>Family 7 Radio (CC1120): MRFI_GpioIsr() in mrfi_radio.c</li></ul></li></ul>
<p>If the functions are not invoked (breakpoint is not triggered), check whether the interrupt is activated during initialization). If the functions are invoked, set breakpoint to the following functions which will be called later on during packet reception process:
</p>
<ul><li>MRFI_RxCompleteISR() in nwk_frame.c&#160;: if this function is not called, most probably the received packet fails during basic RF checking such as checksum, etc. Do step by step debugging on the function listed above to find out the failure.</li>
<li>dispatchFrame() in nwk_frame.c&#160;: if this function is not called after MRFI_RxCompleteIsr(), most probably the node fails to allocated a receive buffer (nwk_QfindSlot(INQ)) for containing the incoming buffer).</li>
<li>lastly the incoming packet will be processed inside dispatchFrame() function to determine whether it is a network (port 0x00-0x1F) or user (port 0x20 - 0x3F) application related. If it is a user application related, the user callback which is registered during SMPL_Init() shall be called. If this fails, try to debug step-by-step debugging in dispatchFrame() function.</li></ul>
<p><b>NOTE</b>: Per default, all SimpliciTI projects are released with the highest compiler optimization level. In order to be able to debug the code properly, it might be necessary to set the compiler optimization to lower level.
</p><p><br />
</p>
<h3><span id="How_to_change_radio_configuration_of_SimpliciTI's_supported_RF_modules?"></span><span class="mw-headline" id="How_to_change_radio_configuration_of_SimpliciTI.27s_supported_RF_modules.3F">How to change radio configuration of SimpliciTI's supported RF modules?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=13" title="Edit section: How to change radio configuration of SimpliciTI&#039;s supported RF modules?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For each radio/RF module (list of supported radios can be found here: <a href="SimpliciTI.html#Supported_RF_modules" title="SimpliciTI">SimpliciTI#Supported_RF_modules</a>), SimpliciTI implements dedicated code which can be found under <b>&lt;SIMPLICITI_BASE_FOLDER&gt;\Components\mrfi\radios</b> folder. The code uses the radio configuration which is stored in the header file which can be found under <b>&lt;SIMPLICITI_BASE_FODER&gt;\Components\mrfi\smartrf</b> folder.
</p><p>If it is necessary to change the radio settings, the <a rel="nofollow" class="external text" href="http://www.ti.com/tool/smartrftm-studio">SmartRF Studio</a> can be used to generate the header file containing the custom radio configuration. Please refer to the following wiki for using SmartRF Studio to generate the RF parameter header file for SimpliciTI: <a href="SimpliciTI_-_Configuring_RF_Setting.html" title="SimpliciTI - Configuring RF Setting">SimpliciTI_-_Configuring_RF_Setting</a>.
</p>
<h4><span class="mw-headline" id="Compatibility_Between_Different_Transceivers">Compatibility Between Different Transceivers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=14" title="Edit section: Compatibility Between Different Transceivers">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Several things to be noticed when trying to ensure the compatibility between different transceivers:
</p>
<ul><li>Standards RF settings such as base/carrier frequency, data rate, modulation, deviation/power, receive filter bandwidth, etc.</li>
<li>Bit and byte synchronization/Preamble and sync word settings:
<ul><li>For the CC110x and CC111x transceivers, the preamble bits length is configured by MDMCFG1.NUM_PREAMBLE, while the sync words are configured by MDMCFG2.SYNC_MODE for the length SYNC1, SYNC0 for the sync word bytes content.</li>
<li>For CC1120 transceivers, the premable bits length and format are configured by PREAMBLE_CFG1.NUM_PREAMBLE and PREAMBLE_CFG1.PREAMBLE_WORD respectively, while the sync words are configured by the SYNC_CFG0.SYNC_MODE for the length and the four registers SYNC0-3 for sync word bytes content.</li></ul></li>
<li><b>Special Note on CC1120 SimpliciTI porting</b>: since the CC1120 transceiver doesn't implement automatic channel programming such as the other CC11xx with the CHANNR register, the carrier frequency is hard-coded in the code which can be found in the mrfiLogicalChanTable[][] array in mrfi_radio.c. Therefore the SMARTRF_SETTING_FREQ0, SMARTRF_SETTING_FREQ1, SMARTRF_SETTING_FREQ2 setting from the generated smartRF_CC1120.h are not used.</li></ul>
<p><br />
</p>
<h3><span id="What_is_the_maximum_number_of_devices_in_SimpliciTI_network?"></span><span class="mw-headline" id="What_is_the_maximum_number_of_devices_in_SimpliciTI_network.3F">What is the maximum number of devices in SimpliciTI network?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=15" title="Edit section: What is the maximum number of devices in SimpliciTI network?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Practically, it can be said that there is basically "no constraint" on the maximum number of devices in SimpliciTI network considering the 4 byte device address. The main constraint of maximum number of End Devices especially in a star topology network (AP as data hub) is basically the data memory size (RAM size) of the Access Point for maintaining the whole connection data. For each connection, the SimpliciTI node needs to allocate a connInfo_t structure (defined in nwk.h) which has the size between 11-14 bytes (depending on the APP_AUTO_ACL and SMPL_SECURE configuration) - might be more if the compiler tries to align the member variables of the structure:
</p><p>&lt;syntaxhighlight lang='c'&gt;
typedef struct
{
</p>
<pre> volatile uint8_t     connState;
          uint8_t     hops2target;
</pre>
<ol><li>ifdef APP_AUTO_ACK</li></ol>
<pre> volatile uint8_t     ackTID;
</pre>
<ol><li>endif</li></ol>
<pre>          uint8_t     peerAddr[NET_ADDR_SIZE];
          rxMetrics_t sigInfo;
          uint8_t     portRx;
          uint8_t     portTx;
          linkID_t    thisLinkID;
</pre>
<ol><li>ifdef SMPL_SECURE</li></ol>
<pre>          uint32_t    connTxCTR;
          uint32_t    connRxCTR;
</pre>
<ol><li>endif</li></ol>
<p>} connInfo_t;
&lt;/syntaxhighlight&gt;
</p><p>Please refer to the following discussions in E2E forum:
</p>
<ul><li><a rel="nofollow" class="external text" href="http://e2e.ti.com/support/low_power_rf/f/156/p/16746/64670.aspx#64670">Explanation of port allocation in AP_IS_DATAHUB configuration</a></li>
<li><a rel="nofollow" class="external text" href="http://e2e.ti.com/support/low_power_rf/f/156/p/190484/683861.aspx#683861">RAM as limitation factor in star network topology</a></li></ul>
<p><b>NOTE</b>:
Limitation in the SimpliciTI code (up to v1.2.0)&#160;: in these versions, the code will use 8 bit variable data type for the linkID_t:
</p><p>&lt;syntaxhighlight lang='c'&gt;
typedef uint8_t linkID_t;
&lt;/syntaxhighlight&gt;
</p><p><br />
and also the iteration variables i when trying to read the connInfo_t connStruct of sPersistInfo such as the following:
</p><p>&lt;syntaxhighlight lang='c'&gt;
connInfo_t *nwk_findPeer(addr_t *peerAddr, uint8_t peerPort)
{
</p>
<pre> uint8_t     i;
 connInfo_t *ptr = sPersistInfo.connStruct;
</pre>
<pre> for (i=0; i&lt;SYS_NUM_CONNECTIONS; ++i, ++ptr)
 {
   if (CONNSTATE_CONNECTED == ptr-&gt;connState)
   {
     if (!memcmp(peerAddr, ptr-&gt;peerAddr, NET_ADDR_SIZE))
     {
       if (peerPort == ptr-&gt;portTx)
       {
         return ptr;
       }
     }
   }
 }
</pre>
<pre> return (connInfo_t *)NULL;
</pre>
<p>}
&lt;/syntaxhighlight&gt;
</p><p>This will limit basically the number of connections to 256. If necessary, change the linkID_t data type in nwk_types.g and go through the code and changing these iteration variable (e.g. as uint16_t).
</p><p><br />
</p>
<h3><span id="What_is_actually_a_&quot;port&quot;_in_SimpliciTI?"></span><span class="mw-headline" id="What_is_actually_a_.22port.22_in_SimpliciTI.3F">What is actually a "port" in SimpliciTI?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=16" title="Edit section: What is actually a &quot;port&quot; in SimpliciTI?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following citation is taken from the SimpliciTI specification in SimpliciTI v1.2.0 documentation regarding the port concept in SimpliciTI:
</p><p><i>"Ports are conceptual abstractions that specify the target application handling the frame. The Port numbers 0x00-0x1F are reserved or assigned as “well known Ports:” with  specific services. They are intended for use by network management. Port numbers 0x20-0x3F are mapped to user handlers. Port 0x3F is reserved as a  broadcast Port to be used when the sending device has not been explicitly linked 2 to the receiving device. Port numbers starting at 0x3E and decreasing are reserved for static allocation by user configurations. This arrangement is intended to accommodate commissioning scenarios." </i>
</p><p><br />
</p>
<h3><span id="How_can_i_send_address_a_message_to_a_certain_device?_The_SMPL_Send()_function_seems_to_not_have_any_parameter_for_device_addressing"></span><span class="mw-headline" id="How_can_i_send_address_a_message_to_a_certain_device.3F_The_SMPL_Send.28.29_function_seems_to_not_have_any_parameter_for_device_addressing">How can i send address a message to a certain device? The SMPL_Send() function seems to not have any parameter for device addressing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=17" title="Edit section: How can i send address a message to a certain device? The SMPL Send() function seems to not have any parameter for device addressing">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The basic concept of SimpliciTI is peer-to-peer communication, where the connection is established only between two nodes. To establish the connection, a node has to call SMPL_Link(linkID_t *linkID) function and the other node shall call SMPL_LinkListen(linkID_t *linkID) function. Both functions have a parameter which is a pointer to a local buffer residing on the application side.
</p><p>When the SMPL_Link() and SMPL_LinkListen() functions return successfully, the local buffer will contain the handle of the established connection which can be used later to send or receive messages from the other node. Therefore it is not necessary to work with device addresses on application level, rather it shall only use the link ID handle of the established connection.
</p><p>The following code snippet shows how the usual SimpliciTI connection is established and used:
</p>
<table align="center" style="border-collapse: collapse; border-width: 1px; border-style: solid; border-color: #000">

<tbody><tr>
<th style="border-style: solid; border-width: 1px">Node 1
</th>
<th style="border-style: solid; border-width: 1px">Node 2
</th></tr>
<tr>
<td style="border-style: solid; border-width: 1px">
<p>linkID_t linkID1;
</p><p>.........
</p><p>// initialize SimpliciTI stack
<br />SMPL_Init(RxCallback);
</p><p>.........
</p><p>// send Link request until connection established
<br />while(SMPL_Link(&amp;linkID1)&#160;!= SMPL_SUCCESS);
</p><p>.........
</p><p>// send a message
<br />SMPL_Send(linkID1, OutMsg, OutMsgLen);
</p>
</td>
<td style="border-style: solid; border-width: 1px">
<p>linkID_t linkID2;
</p><p>.........
</p><p>// initialize SimpliciTI stack
<br />SMPL_Init(RxCallback);
</p><p>.........
</p><p>// listen for Link request until connection established
<br />while(SMPL_LinkListen(&amp;linkID2)&#160;!= SMPL_SUCCESS);
</p><p>.........
</p><p>// receive a message
<br />SMPL_Receive(linkID2, InMsg, &amp;InMsgLen);
</p>
</td></tr></tbody></table>
<p>This is just a simple example describing how the communication is usually done. For real application, refer to the Simple-Peer-To-Peer application which can be found in the SimpliciTI software package.
</p><p><br />
</p>
<h3><span id="How_to_send_a_broadcast_message_in_SimpliciTI?"></span><span class="mw-headline" id="How_to_send_a_broadcast_message_in_SimpliciTI.3F">How to send a broadcast message in SimpliciTI?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=18" title="Edit section: How to send a broadcast message in SimpliciTI?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To send a broadcast message, use SMPL_LINKID_USER_UUD (defined in nwk.h) as link ID parameter for the SMPL_Send() function.
</p><p>&lt;syntaxhighlight lang='c'&gt;
SMPL_Send(SMPL_LINKID_USER_UUD, msg, msg_len);
&lt;/syntaxhighlight&gt;
</p><p>For the receiver, it is also necessary to call the SMPL_Receive() function with SMPL_LINKID_USER_UUD as link ID parameter, and if a receive callback is registered with SMPL_Init() function, it will be notified. However polling devices will not get the broadcast messages.
</p><p>SimpliciTI will always allocate connection handler with the number of NUM_CONNECTIONS+1 (see persistentContext_t structure type in nwk.c which has connStruct[SYS_NUM_CONNECTIONS] with SYS_NUM_CONNECTIONS is defined as (NUM_CONNECTIONS+1)). The last connStruct handler is initialized to handle broadcast messages (see the last part of nwk_nwkInit() function in nwk.c).
</p><p><br />
</p>
<h3><span id="How_to_disconnect_an_established_connection_between_two_nodes?"></span><span class="mw-headline" id="How_to_disconnect_an_established_connection_between_two_nodes.3F">How to disconnect an established connection between two nodes?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=19" title="Edit section: How to disconnect an established connection between two nodes?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>SimpliciTI v1.1.x and v1.2.x supports SMPL_Unlink() API which is activated if the stack is compiled with EXTENDED_API option. The unlink process can be triggered by calling the SMPL_Unlink() on either node in the connection.
</p><p>This is a preferred way to disconnect an establised connection between two nodes rather than doing SMPL_Ioctl() with IOCTL_OBJ_CONNOBJ and IOCTL_ACT_DELETE. Both ways will basically erase the connection configuration in the stack of the local node (by calling nwk_freeConnection()), however calling the SMPL_Unlink() the node will send a unlink request to the remote node so that the remote node can also delete its connection configuration.
</p><p>When the remote node receives the unlink request, it will trigger the smpl_send_unlink_reply() function (nwk_link.c) and also the reply frame.
</p><p><br />
</p>
<h3><span id="Does_SimpliciTI_support_message_acknowledgement?"></span><span class="mw-headline" id="Does_SimpliciTI_support_message_acknowledgement.3F">Does SimpliciTI support message acknowledgement?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=20" title="Edit section: Does SimpliciTI support message acknowledgement?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Yes. SimpliciTI support message acknowledgement on NWK layer level, which means from application point of view, it will never get the acknowledge message from the RxCallback function (parameter of SMPL_Init() function), instead the only way to know whether the sent message has been ack-ed or not by getting the return value of SMPL_SendOpt().
</p><p>If a message is sent using SMPL_SendOpt() with SMPL_TXOPTION_ACKREQ flag option (with also APP_AUTO_ACK and EXTENDED_API compile options activated), the function will takes care the ACK checking by itself. If the function succeeds returning SMPL_SUCCESS, this means the sent message has been acknowledge. If the message is successfully sent but no ACK is received, the function will return SMPL_NO_ACK.
</p><p>The following part of SMPL_SendOpt() function in nwk_api.c shows how the sending and message with acknowledgement request is done:
</p><p>&lt;syntaxhighlight lang ='c'&gt;
smplStatus_t SMPL_SendOpt(linkID_t lid, uint8_t *msg, uint8_t len, txOpt_t options)
{
</p>
<pre> ...................................................
 /* Build an outgoing message frame destined for the port from the
  * connection info using the destination address also from the
  * connection info.
  */
 if (SMPL_TXOPTION_NONE == options)
 {
   pFrameInfo = nwk_buildFrame(pCInfo-&gt;portTx, msg, len, pCInfo-&gt;hops2target);
 }
</pre>
<ol><li>if defined(APP_AUTO_ACK)</li></ol>
<pre> else if (options &amp; SMPL_TXOPTION_ACKREQ)
 {
   if (SMPL_LINKID_USER_UUD&#160;!= lid)
   {
     pFrameInfo = nwk_buildAckReqFrame(pCInfo-&gt;portTx, msg, len, pCInfo-&gt;hops2target, &amp;pCInfo-&gt;ackTID);
     ackreq     = 1;
   }
   else
   {
     /* can't request an ack on the UUD link ID */
     return SMPL_BAD_PARAM;
   }
 }
</pre>
<ol><li>endif  /* APP_AUTO_ACK */</li></ol>
<pre> ...................................................
</pre>
<ol><li>if&#160;!defined(APP_AUTO_ACK)</li></ol>
<pre> /* save a little code space with this #if */
 (void) ackreq;    /* keep compiler happy */
 return rc;
</pre>
<ol><li>else</li></ol>
<pre> /* we're done if the send failed or no ack requested. */
 if (SMPL_SUCCESS&#160;!= rc ||&#160;!ackreq)
 {
   return rc;
 }
</pre>
<pre> NWK_CHECK_FOR_SETRX(radioState);
 NWK_REPLY_DELAY();
 NWK_CHECK_FOR_RESTORE_STATE(radioState);
</pre>
<pre> {
   bspIState_t intState;
</pre>
<pre>   /* If the saved TID hasn't been reset then we never got the ack. */
   BSP_ENTER_CRITICAL_SECTION(intState);
   if (pCInfo-&gt;ackTID)
   {
     pCInfo-&gt;ackTID = 0;
     rc = SMPL_NO_ACK;
   }
   BSP_EXIT_CRITICAL_SECTION(intState);
 }
</pre>
<pre> return rc;
</pre>
<ol><li>endif  /* APP_AUTO_ACK */</li></ol>
<p>}
&lt;/syntaxhighlight&gt;
</p><p>As shown above in the upper part of the code above, if APP_AUTO_ACK (and EXTENDED_API) is enabled and the SMPL_SendOpt() function is called with SMPL_TXOPTION_ACKREQ option bit set, it will then call nwk_buildAckReqFrame() which basically calls also nwk_buildFrame() and with addition setting the ACK REQ bit in the DEVICE INFO byte of the NWK Header. The lower part of the code also shows that the function will do some delay to wait for the incoming acknowledgement.
</p><p>The following figure shows how the acknowledgement request/reply packets look like:
</p><p><a href="File_Smpl_ack_example_dump.html" class="image"><img alt="Smpl ack example dump.PNG" src="https://processors.wiki.ti.com/images/6/6e/Smpl_ack_example_dump.PNG" width="1000" height="91" /></a>
</p><p><br />
</p>
<h3><span id="What_is_the_Token_used_for?"></span><span class="mw-headline" id="What_is_the_Token_used_for.3F">What is the Token used for?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=21" title="Edit section: What is the Token used for?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Token are usually used as application unique specifier which distinguish one application with another. It could also be considered to have the same function as PAN ID in Zigbee, where in Zigbee devices can only connect and communication with each other within a PAN ID, while in SimpliciTI devices can only connect and communication with each other if they have the same token. There are basically two types of tokens in SimplciTI: Link Token and Join Token, and both can be changed during run time by using SMPL_Ioctl() function with object IOCTL_OBJ_TOKEN and defined EXTENDED_API.
</p><p>The tokens shall be changed before initializing the SimpliciTI stack by calling SMPL_Init(). However if necessary changing the tokens should be possible after stack initialization shall be done by disabling the interrupt or radio reception in order to avoid false processing on the token of the incoming messages (the token is used for filtering the incoming message - see below).
</p><p><br />
</p>
<h4><span class="mw-headline" id="Link_Token">Link Token</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=22" title="Edit section: Link Token">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Join token is usually used in peer to peer topology where there is no Access Point (AP) involved. In the peer-to-peer topology, the two nodes can only establish connection if both have the same Link Token. The Link Token is implemented as sLinkToken in nwk_link.c, and used on the device which is doing SMPL_LinkListen() for comparing the Link Token of the incoming Link message:
</p><p>&lt;syntaxhighlight lang ='c'&gt;
static uint8_t smpl_send_link_reply(mrfiPacket_t *frame)
{
</p>
<pre> ..................
 /* see if token is correct */
 {
   uint32_t lt;
</pre>
<pre>   nwk_getNumObjectFromMsg(MRFI_P_PAYLOAD(frame)+F_APP_PAYLOAD_OS+L_LINK_TOKEN_OS, &amp;lt, sizeof(lt));
   if (lt&#160;!= sLinkToken)
   {
     return SENT_NO_REPLY;
   }
 }
 ..................
</pre>
<p>&lt;/syntaxhighlight&gt;
</p><p><br />
</p>
<h4><span class="mw-headline" id="Join_Token">Join Token</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=23" title="Edit section: Join Token">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The Join Token is used in star topology where an Access Point (AP) is involved. In the star topology, an End Device can only join the Access Point (AP) if both have the same Join Token.  The Join Token is implemented as sJoinToken in nwk_join.c, and used by the AP for comparing the Join Token of the incoming Join message:
</p><p>&lt;syntaxhighlight lang ='c'&gt;
static void smpl_send_join_reply(mrfiPacket_t *frame)
{
</p>
<pre> ..................
 /* see if join token is correct */
 {
   uint32_t jt;
</pre>
<pre>   nwk_getNumObjectFromMsg(MRFI_P_PAYLOAD(frame)+F_APP_PAYLOAD_OS+J_JOIN_TOKEN_OS, &amp;jt, sizeof(jt));
   if (jt&#160;!= sJoinToken)
   {
     return;
   }
 }
 ..................
</pre>
<p>&lt;/syntaxhighlight&gt;
</p><p>If the Join Token in the Join request message sent by the End Device matches the Join Token of the AP, the AP will send a reply which contains the Link Token which shall then be used by the End Device.
</p><p>&lt;syntaxhighlight lang='c'&gt;
smplStatus_t nwk_join(void)
{
</p>
<pre>   ..................
   // sending the Join request
   SMPL_Ioctl(IOCTL_OBJ_RAW_IO, IOCTL_ACT_WRITE, &amp;ioctl_info.send);
</pre>
<pre>   ..................
</pre>
<pre>   NWK_REPLY_DELAY();
</pre>
<pre>   ..................
   if (SMPL_SUCCESS == SMPL_Ioctl(IOCTL_OBJ_RAW_IO, IOCTL_ACT_READ, &amp;ioctl_info.recv))
   {
     uint8_t firstByte = msg[JB_REQ_OS] &amp; (~NWK_APP_REPLY_BIT);
</pre>
<pre>     /* Sanity check for correct reply frame. Older version
      * has the length instead of the request as the first byte.
      */
     if ((firstByte == JOIN_REQ_JOIN) ||
         (firstByte == JOIN_REPLY_LEGACY_MSG_LENGTH)
        )
     {
       /* join reply returns link token */
       memcpy(&amp;linkToken, msg+JR_LINK_TOKEN_OS, sizeof(linkToken));
</pre>
<pre>       nwk_setLinkToken(linkToken);  // use new Link Token from Join reply message
   ..................
</pre>
<p>&lt;/syntaxhighlight&gt;
</p><p><br />
</p>
<h3><span class="mw-headline" id="Port_Allocation_in_SimpliciTI">Port Allocation in SimpliciTI</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=24" title="Edit section: Port Allocation in SimpliciTI">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>There are two types of port allocation schemes in SimpliciTI: dynamic and static port allocation.
</p>
<h4><span class="mw-headline" id="Dynamic_Port_Allocation">Dynamic Port Allocation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=25" title="Edit section: Dynamic Port Allocation">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The Dynamic Port Allocation is done by calling the nwk_allocateLocalRxPort() function when sending LINK request or LINK response to establish a connection between two nodes. Each node will allocate a port number between PORT_BASE_NUMBER (0x20) and SMPL_PORT_USER_MAX (0x3E - PORT_USER_STATIC_NUM). The dynamic port number assignment is bottom-up for sending LINK request and top-down for sending LINK response.
</p>
<h4><span class="mw-headline" id="Static_Port_Allocation">Static Port Allocation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=26" title="Edit section: Static Port Allocation">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The Static Port Allocation is usually done together with SMPL_Commission() function. The number of static port(s) is defined as PORT_USER_STATIC_NUM, and the static port number is assigned as the numbers between SMPL_PORT_STATIC_MAX (0x3E) and the maximum dynamic port number SMPL_PORT_USER_MAX (SMPL_PORT_STATIC_MAX - PORT_USER_STATIC_NUM).
</p><p><br />
</p>
<h3><span class="mw-headline" id="Modifying_Power_Setting_in_SimpliciTI">Modifying Power Setting in SimpliciTI</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=27" title="Edit section: Modifying Power Setting in SimpliciTI">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The power settings are housed in an array in the mrfi_radio.c file, and the array is named as mrfiRFPowerTable. The values of the array are settings for the PATABLE registers and the default value used by SimpliciTI is the last entry in the table.  Note SimpliciTI only utilizes a two state power level for OOK and only a one state power level for all other modes of modulation.  Thus, the chosen power level will be used for all transmissions until a different power level is selected.  i.e. no power ramping is supported by SimpliciTI.
</p><p>The power level can be changed from user code by making the following call:
</p><p><code>
SMPL_Ioctl( IOCTL_OBJ_RADIO, IOCTL_ACT_RADIO_SETPWR, IOCTL_LEVEL_x );
</code>
</p><p>where the x in IOCTL_LEVEL_x is 0, 1, or 2.
</p><p>This gives up to three different levels dynamically in the code. Changing the values in the array will define what those three levels are.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Restoring_connection_after_power_cycle">Restoring connection after power cycle</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=28" title="Edit section: Restoring connection after power cycle">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In order to be able to restore the connection after power cycle, basically the network configuration and the link ID on the application side needs to be saved in a non volatile memory (e.g. Flash). The network configuration can be retrieved by the higher application layer from the lower SimpliciTI stack layer by using the SMPL_Ioctl() function with IOCTL_OBJ_NVOBJ object to get the pointer and the length of the network configuration data (basically the pointer and size of sPersistInfo data structure).
</p><p>The following example shows an example for restoring the connection after power cycle on eZ430RF2500:
</p><p><a href="File_SimpliciTI_NVOBJ_Example_eZ430RF2500.html" title="File:SimpliciTI NVOBJ Example eZ430RF2500.zip">File:SimpliciTI NVOBJ Example eZ430RF2500.zip</a>
</p><p><br />
</p>
<h3><span id="How_to_obtain_the_remote_peer_address_in_SimpliciTI?"></span><span class="mw-headline" id="How_to_obtain_the_remote_peer_address_in_SimpliciTI.3F">How to obtain the remote peer address in SimpliciTI?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=29" title="Edit section: How to obtain the remote peer address in SimpliciTI?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>At the current SimpliciTI version (v1.1 and v1.2), it is not possible to get the remote peer address. However this can be done by the following modification of the source code:
</p>
<ul><li>Add the following function to the nwk.c file:</li></ul>
<p>&lt;syntaxhighlight lang='c'&gt;
void nwkGetRemotePeerAddr(linkID_t sLinkId, addr_t *peerAddr)
{
</p>
<pre> uint8_t index;
</pre>
<pre> if(map_lid2idx(sLinkId, &amp;index))
 {
   memcpy(peerAddr-&gt;addr, sPersistInfo.connStruct[index].peerAddr, NET_ADDR_SIZE);
 }
</pre>
<p>}
&lt;/syntaxhighlight&gt;
</p>
<ul><li>Add the declaration in the application code to use the function above:</li></ul>
<p>&lt;syntaxhighlight lang='c'&gt;
extern void nwkGetRemotePeerAddr(linkID_t sLinkId, addr_t *peerAddr);
</p><p>....
</p><p>void main(void)
{
</p>
<pre> addr_t peerAddr;
 linkID_t sLinkId1;
 .....
 // do the linking using SMPL_Link() or SMPL_LinkListen() to get valid linkID
 .....
 nwkGetRemotePeerAddr(sLinkId1, &amp;peerAddr);
 .....
</pre>
<p>}
&lt;/syntaxhighlight&gt;
</p><p><br />
</p>
<h3><span id="How_to_override_the_address_configuration_in_smpl_config.dat?"></span><span class="mw-headline" id="How_to_override_the_address_configuration_in_smpl_config.dat.3F">How to override the address configuration in smpl_config.dat?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=30" title="Edit section: How to override the address configuration in smpl config.dat?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The SimpliciTI node address configuration in smpl_config.dat (THIS_DEVICE_ADDRESS) can be overridden by using SMPL_Ioctl() function with IOCTL_OBJ_ADDR before executing SMPL_Init() function.
</p><p>&lt;syntaxhighlight lang='c'&gt;
</p><p>const addr_t myAddr = {0x12, 0x34, 0x56, 0x78};
</p><p>void main(void)
{
</p>
<pre> .........
</pre>
<pre> // set device address
 SMPL_Ioctl(IOCTL_OBJ_ADDR, IOCTL_ACT_SET, (addr_t*) &amp;myAddr);
</pre>
<pre> // initialize SimpliciTI stack
 SMPL_Init(sRxCallback);
</pre>
<pre> .........
</pre>
<p>}
</p><p>&lt;/syntaxhighlight&gt;
</p><p><br />
</p>
<h3><span id="How_to_increase_the_application_payload?"></span><span class="mw-headline" id="How_to_increase_the_application_payload.3F">How to increase the application payload?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=31" title="Edit section: How to increase the application payload?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Security_Feature_Disabled">Security Feature Disabled</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=32" title="Edit section: Security Feature Disabled">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Most of the example codes come with small data payload (MAX_NWK_PAYLOAD=0 and MAX_APP_PAYLOAD=10). If security feature disabled, the easiest way to increase the data payload is just by increasing the MAX_APP_PAYLOAD. The following example codes shows how this is possible to be done on eZ430-RF2500.
</p><p><a href="File_SimpliciTI_BigPayload_Example.html" title="File:SimpliciTI BigPayload Example.zip">File:SimpliciTI BigPayload Example.zip</a>
</p>
<div class="center"><div class="floatnone"><a href="File_Simpliciti_bigpayload_example_packet_dump.html" class="image"><img alt="Simpliciti bigpayload example packet dump.PNG" src="https://processors.wiki.ti.com/images/a/a6/Simpliciti_bigpayload_example_packet_dump.PNG" width="800" height="601" /></a></div></div>
<p>The application payload size assignment is basically defined in mrfi.h as follows:
</p><p>&lt;syntaxhighlight lang='c'&gt;
</p>
<ol><li>ifndef SMPL_SECURE</li>
<li>define  NWK_HDR_SIZE   3</li>
<li>define  NWK_PAYLOAD    MAX_NWK_PAYLOAD</li>
<li>else</li>
<li>define  NWK_HDR_SIZE   6</li>
<li>define  NWK_PAYLOAD    (MAX_NWK_PAYLOAD+4)</li>
<li>endif</li></ol>
<p>/* if external code has defined a maximum payload, use that instead of default */
</p>
<ol><li>ifdef MAX_APP_PAYLOAD</li>
<li>ifndef MAX_NWK_PAYLOAD</li>
<li>error ERROR: MAX_NWK_PAYLOAD not defined</li>
<li>endif</li>
<li>if MAX_APP_PAYLOAD &lt; NWK_PAYLOAD</li>
<li>define MAX_PAYLOAD  NWK_PAYLOAD</li>
<li>else</li>
<li>define MAX_PAYLOAD  MAX_APP_PAYLOAD</li>
<li>endif</li>
<li>define MRFI_MAX_PAYLOAD_SIZE  (MAX_PAYLOAD+NWK_HDR_SIZE) /* SimpliciTI payload size plus six byte overhead */</li>
<li>endif</li></ol>
<p><br />
/* frame definitions */
</p>
<ol><li>define MRFI_ADDR_SIZE              __mrfi_ADDR_SIZE__</li>
<li>ifndef MRFI_MAX_PAYLOAD_SIZE</li>
<li>define MRFI_MAX_PAYLOAD_SIZE       __mrfi_MAX_PAYLOAD_SIZE__</li>
<li>endif</li>
<li>define MRFI_MAX_FRAME_SIZE         (MRFI_MAX_PAYLOAD_SIZE + __mrfi_FRAME_OVERHEAD_SIZE__)</li>
<li>define MRFI_RX_METRICS_SIZE        __mrfi_RX_METRICS_SIZE__</li>
<li>define MRFI_RX_METRICS_RSSI_OFS    __mrfi_RX_METRICS_RSSI_OFS__</li>
<li>define MRFI_RX_METRICS_CRC_LQI_OFS __mrfi_RX_METRICS_CRC_LQI_OFS__</li></ol>
<p>&lt;/syntaxhighlight&gt;
</p><p>As can be seen above, if the MAX_NWK_PAYLOAD or MAX_APP_PAYLOAD are defined, the MAX_PAYLOAD will use the bigger value between the two. Then the MAX_PAYLOAD will define the MRFI_MAX_PAYLOAD_SIZE with the addition of NWK_HDR_SIZE. In this case the __mrfi_MAX_PAYLOAD_SIZE__ will be overriden by the calculated value above.
</p><p><br />
</p>
<h3><span id="Is_it_possible_to_create_static_linking_between_two_SimpliciTI_nodes?"></span><span class="mw-headline" id="Is_it_possible_to_create_static_linking_between_two_SimpliciTI_nodes.3F">Is it possible to create static linking between two SimpliciTI nodes?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=33" title="Edit section: Is it possible to create static linking between two SimpliciTI nodes?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The SMPL_Commission() function can be used to create static linking between two SimpliciTI nodes. Refer also the section <a href="#Port_Allocation_in_SimpliciTI">#Port Allocation in SimpliciTI</a> explaining the dynamic and static port allocation to understand the port concept. The following example code shows how this can be done:
</p><p><a href="File_SMPL_StaticLink_ExampleCode.html" title="File:SMPL StaticLink ExampleCode.zip">File:SMPL StaticLink ExampleCode.zip</a>
</p><p>Normally the two nodes need to exchange the Link request-response message at the beginning to setup the link as shown in the following packet dump:
</p>
<div class="center"><div class="floatnone"><a href="File_Smpl_dynamic_link_dump.html" class="image"><img alt="Smpl dynamic link dump.PNG" src="https://processors.wiki.ti.com/images/9/96/Smpl_dynamic_link_dump.PNG" width="800" height="500" /></a></div></div>
<p>By using SMPL_Commission to create the static linking, the linking process can be skipped since the connection is defined statically:
</p>
<div class="center"><div class="floatnone"><a href="File_Smpl_static_link_dump.html" class="image"><img alt="Smpl static link dump.PNG" src="https://processors.wiki.ti.com/images/8/88/Smpl_static_link_dump.PNG" width="800" height="500" /></a></div></div>
<p><br />
</p>
<h3><span id="How_to_retrieve_the_RSSI_and_LQI_information_in_SimpliciTI?"></span><span class="mw-headline" id="How_to_retrieve_the_RSSI_and_LQI_information_in_SimpliciTI.3F">How to retrieve the RSSI and LQI information in SimpliciTI?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=34" title="Edit section: How to retrieve the RSSI and LQI information in SimpliciTI?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>SimpliciTI supports two way of acquiring the information regarding radio RSSI (Receive Signal Strenght Indication) and LQI (Link Quality Indication):
</p>
<ul><li>For retrieving the RSSI and LQI information of an incoming packet, the SMPL_Ioctl() API function with IOCTL_OBJ_RADIO object IOCTL_ACT_RADIO_SIGINFO action can be used. However it shall be noticed that the function will return only the RSSI and LQI information of the last incoming packet of a link (linkID_t specific) which is read out from the stack using either SMPL_Receive() function or SMPL_Ioctl() function with IOCTL_OBJ_RAD_IO object and IOCTL_ACT_READ action. Basically the stack will copy the RSSI and LQI information which are acquired by the MRFI layer into the connection (linkID_t) specific data structure in the nwk_retrieveFrame() function of nwk_frame.c.</li></ul>
<ul><li>It is also possible to get the information of current RSSI value which is sensed by the radio by calling the SMPL_Ioctl() function with IOCTL_OBJ_RADIO object and IOCTL_ACT_RADIO_RSSI action. This will bring the stack to activate the radio module into RX mode and sample the RSSI register.</li></ul>
<p><br />
</p>
<h3><span id="Is_it_possible_to_combine_Range_Extender_and_End_Device_on_one_device?"></span><span class="mw-headline" id="Is_it_possible_to_combine_Range_Extender_and_End_Device_on_one_device.3F">Is it possible to combine Range Extender and End Device on one device?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=35" title="Edit section: Is it possible to combine Range Extender and End Device on one device?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>According to SimpliciTI Developers Note, it is possible to combine the functionality of End Device and Range Extender by defining both END_DEVICE and RANGE_EXTENDER device types during compilation.
</p><p>There is a bug related to this feature, and please refer here for the workaround: <a href="SimpliciTI.html#Compiling_with_active_END_DEVICE_and_RANGE_EXTENDER_configuration" title="SimpliciTI">SimpliciTI#Compiling_with_active_END_DEVICE_and_RANGE_EXTENDER_configuration</a>.
</p><p><br />
</p>
<h3><span id="Disabling/Enabling_join_on_AP"></span><span class="mw-headline" id="Disabling.2FEnabling_join_on_AP">Disabling/Enabling join on AP</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit&amp;section=36" title="Edit section: Disabling/Enabling join on AP">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For e.g. commissioning like purpose, it is necessary to disable/enable joining process to the AP from ED during run-time. This can be done by using SMPL_Ioctl() function with IOCTL_OBJ_AP_JOIN as follows:
</p>
<ul><li>Disabling joining:</li></ul>
<p>&lt;syntaxhighlight lang='c'&gt;
SMPL_Ioctl(IOCTL_OBJ_AP_JOIN, IOCTL_ACT_OFF, NULL);
&lt;/syntaxhighlight&gt;
</p>
<ul><li>Enabling joininng:</li></ul>
<p>&lt;syntaxhighlight lang='c'&gt;
SMPL_Ioctl(IOCTL_OBJ_AP_JOIN, IOCTL_ACT_ON, NULL);
&lt;/syntaxhighlight&gt;
</p><p><br />
</p>
<!-- 
NewPP limit report
Cached time: 20201130155417
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.106 seconds
Real time usage: 0.116 seconds
Preprocessor visited node count: 143/1000000
Preprocessor generated node count: 148/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:15790-0!canonical and timestamp 20201130155417 and revision id 182464
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>SimpliciTI FAQ</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>SimpliciTI FAQ</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>SimpliciTI FAQ</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>SimpliciTI FAQ</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>SimpliciTI FAQ</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>SimpliciTI FAQ</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>SimpliciTI FAQ</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>SimpliciTI FAQ</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>SimpliciTI FAQ</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;oldid=182464">https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;oldid=182464</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_SimpliciTI.html" title="Category:SimpliciTI">SimpliciTI</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=SimpliciTI+FAQ" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="SimpliciTI_FAQ.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:SimpliciTI_FAQ&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="SimpliciTI_FAQ.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/SimpliciTI_FAQ.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/SimpliciTI_FAQ.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;oldid=182464" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=SimpliciTI_FAQ&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 28 July 2014, at 04:34.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.106","walltime":"0.116","ppvisitednodes":{"value":143,"limit":1000000},"ppgeneratednodes":{"value":148,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130155417","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":248});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/SimpliciTI_FAQ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 05:05:37 GMT -->
</html>
