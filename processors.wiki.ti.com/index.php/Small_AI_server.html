<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Small_AI_server by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 05:20:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Small AI server - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Small_AI_server","wgTitle":"Small AI server","wgCurRevisionId":231432,"wgRevisionId":231432,"wgArticleId":44144,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["AI","Applications","Local AI","Small Servers"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Small_AI_server","wgRelevantArticleId":44144,"wgRequestId":"5da62f7d0c681e8dbf1e3ac5","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Small_AI_server rootpage-Small_AI_server skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Small AI server</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p>This wiki introduces <b>small AI servers</b> for automation, robotics, security, and IoT applications.  Small AI servers are scaled down versions of cloud AI servers, able to perform "Local AI" processing at the edge of the network, independent of the cloud, in very small form-factors, and with very low power consumption.  Included below is a description of a demo that provides local AI speech recognition to control privacy of home and business based products such as the Echo Dot.
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#The_Need_for_Local_AI"><span class="tocnumber">1</span> <span class="toctext">The Need for Local AI</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Cloud_Compatibility_--_Same.2C_But_Smaller"><span class="tocnumber">2</span> <span class="toctext">Cloud Compatibility -- Same, But Smaller</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#High_Performance_Using_coCPUs.E2.84.A2"><span class="tocnumber">3</span> <span class="toctext">High Performance Using coCPUs&#8482;</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Power_Consumption"><span class="tocnumber">4</span> <span class="toctext">Power Consumption</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Small_Form_Factor_Example"><span class="tocnumber">5</span> <span class="toctext">Small Form Factor Example</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Notes_on_Atom_PCIe_Performance"><span class="tocnumber">5.1</span> <span class="toctext">Notes on Atom PCIe Performance</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Ultra_Small_Form-Factors"><span class="tocnumber">5.2</span> <span class="toctext">Ultra Small Form-Factors</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Embedded_AI_Comparison"><span class="tocnumber">6</span> <span class="toctext">Embedded AI Comparison</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Demo:_Privacy_Control_for_the_Echo_Dot_Using_Two-Level_Wakeword"><span class="tocnumber">7</span> <span class="toctext">Demo: Privacy Control for the Echo Dot Using Two-Level Wakeword</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Software"><span class="tocnumber">8</span> <span class="toctext">Software</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Architecture_Diagram"><span class="tocnumber">8.1</span> <span class="toctext">Architecture Diagram</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Software_Model"><span class="tocnumber">8.2</span> <span class="toctext">Software Model</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Additional_Demo_Programs"><span class="tocnumber">8.3</span> <span class="toctext">Additional Demo Programs</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Concurrent_Applications_and_Virtualized_Environment"><span class="tocnumber">9</span> <span class="toctext">Concurrent Applications and Virtualized Environment</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#Host_and_Guest_Drivers"><span class="tocnumber">9.1</span> <span class="toctext">Host and Guest Drivers</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Host_and_Guest_Libs"><span class="tocnumber">9.2</span> <span class="toctext">Host and Guest Libs</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Installing_.2F_Configuring_VMs"><span class="tocnumber">9.3</span> <span class="toctext">Installing / Configuring VMs</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="The_Need_for_Local_AI">The Need for Local AI</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=1" title="Edit section: The Need for Local AI">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Edge and IoT AI applications face key problems:
</p>
<ul><li><b>Training and compression</b> -- deep learning models must be trained and compressed, and inference fully tested, <b>before</b> running on the embedded system</li></ul>
<ul><li><b>Bandwidth</b> -- multiple cameras, even with compressed video data, can exceed the modest upload speeds of many home and business Internet connections</li></ul>
<ul><li><b>Reliability</b> -- Internet connection to the cloud may be unreliable or lost, with backup operation required</li></ul>
<ul><li><b>Privacy</b> -- video and voice data should be streamed continuously to the cloud only as needed, avoiding "Always On" operation that may compromise privacy and security</li></ul>
<p>Local AI can help solve these problems, but requires small, quiet, low power AI servers that are functionally similar to their cloud AI counterparts.  A typical local AI server has the following characteristics:
</p>
<ul><li>Small size -- approximate dimensions of a large book (e.g. a dictionary)</li>
<li>Cloud server functional compatibility, including x86_64 Linux, x86 open source software, and high performance technologies such as DPDK and PCIe</li>
<li>High performance -- around 1 TFLOP</li>
<li>Low power consumption -- under 100 W, with a minimal operating mode of 25 to 35 W</li></ul>
<h2><span id="Cloud_Compatibility_--_Same,_But_Smaller"></span><span class="mw-headline" id="Cloud_Compatibility_--_Same.2C_But_Smaller">Cloud Compatibility -- Same, But Smaller</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=2" title="Edit section: Cloud Compatibility -- Same, But Smaller">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Basic problems with an "Always On" Internet connection are well recognized -- with privacy, bandwidth issues, and unpredictable WiFi reliability at the top of the list.  But there is more to it than that.  What many people don't realize is the ARM chips inside mobile and consumer devices cannot actually perform -- or at best perform a limited amount of -- deep learning algorithms such as speech recognition, image analytics, and neural network classification.  These devices function by streaming raw data to the cloud, where inference occurs and results are sent back.  To get some idea of where ARM devices are on the AI processing scale, in some cases dozens or even 100s of servers in the cloud, using 1000 or more Xeon x86 cores and GPU cores, might be involved in speech recognition for <i><b>just one conversation</b></i>.  Consequently, deep learning models are first designed, trained, and tested / debugged on cloud servers.
</p><p>This results in a need for small, unobtrusive local AI servers that can operate independently of the cloud, yet are functionally compatible with cloud servers.  The process of porting AI software from cloud servers to local AI servers follows this sequence:
</p>
<ul><li>Deep learning models are trained and tested on cloud servers by matching the number of Atom x86 cores and coCPU cores available in the local AI server.  As noted below, coCPU cores (on PCIe cards) can be used in cloud servers also, so training and testing can be precise and expected to match local AI server results</li></ul>
<ul><li>Deep learning models are compressed, using regularization techniques, and inference performance is fully characterized</li></ul>
<ul><li>After inference testing in the cloud, combined software is moved to the local AI server, without changes</li></ul>
<ul><li>Local AI server software may be augmented with WiFi, audio, video, and other modules required for local operation</li></ul>
<p>As this process must be fast and efficient, with possibly numerous iterations, adding intermediate steps to port to ARM or any other fundamentally different CPU and/or platform architecture adds costly and time-consuming effort.
</p>
<h2><span id="High_Performance_Using_coCPUs™"></span><span class="mw-headline" id="High_Performance_Using_coCPUs.E2.84.A2">High Performance Using coCPUs&#8482;</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=3" title="Edit section: High Performance Using coCPUs™">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Unlike GPUs, DSPs, FPGAs, ASICs, and other specialized chips, coCPUs&#8482; can be added to small form-factor servers such as mini-ITX to create cloud-independent, small, local AI servers with 30 to 40 total CPU cores, and still maintain cloud server compatibility and low power consumption.  The local AI server described below has 32 c66x coCPU&#8482; cores, and two (2) x86_64 cores.
</p><p>coCPUs can also be used in the cloud to scale up Xeon x86 based commodity servers to have 100s of cores.  The <a href="HPC.html" title="HPC">HPC wiki</a> discusses this and shows examples of HP and Dell servers with 16 x86 cores and 128 c66x cores, providing 3.2 TFLOPS with 250 W additional power consumption.
</p><p>From a concept point of view, combining x86 and c66x CPUs and running software components necessary for AI applications such as H.264 decode, OpenCV and TensorFlow, is another form of an <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/AI_accelerator">"AI Accelerator"</a>.  The architecture described here favors fast, reliable development:  mature semiconductors, tools and support (TI and Intel), open source software, standard server format, and a wide range of easy-to-use peripherals and storage.
</p>
<h2><span class="mw-headline" id="Power_Consumption">Power Consumption</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=4" title="Edit section: Power Consumption">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A small local AI server should be capable of both a minimal mode, around 25 to 35 W, and a high performance mode, up to 100 W.  The mini-ITX example described below meets this objective.
</p>
<h2><span class="mw-headline" id="Small_Form_Factor_Example">Small Form Factor Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=5" title="Edit section: Small Form Factor Example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The pictures below show a local AI server with:
</p>
<ul><li>Mini-ITX motherboard and case</li>
<li>Dual core Atom (C2358, 1.74 GHz), 4x GbE interfaces, 8 GB DDR3 mem, 1333 MHz</li>
<li>32 coCPU cores (C6678, 1.6 GHz), GbE interface, 8 GB DDR3 mem, 1333 MHz, x8 PCIe</li>
<li>4x USB interfaces</li>
<li>IPMI (dedicated GbE)</li>
<li>Audio I/O interface (via USB)</li>
<li>VGA optional display</li></ul>
<p>&#160;
</p><p><a href="File_Local_AI_server_C2358_32cores_iso_view.html" class="image" title="Local AI server, mini-ITX enclosure, top view"><img alt="Local AI server, mini-ITX enclosure, top view" src="https://processors.wiki.ti.com/images/c/cf/Local_AI_server_C2358_32cores_iso_view.png" width="600" height="492" /></a>
</p><p><i>Local AI server in mini-ITX enclosure, with 32 coCPU cores and dual-core Atom CPU.  coCPU cores<br /> and Atom CPU cores have independent GbE interfaces.  Dimensions are approximately 8" x 9 " x 3".<br />  Power consumption from 35 W to 100 W depending on mode of operation.  The case can sit flat or<br /> stand vertically.</i>
</p><p>&#160;
</p><p><a href="File_Small_AI_server_32cores_iso_view.html" class="image" title="Small AI server, iso view with top of case removed"><img alt="Small AI server, iso view with top of case removed" src="https://processors.wiki.ti.com/images/1/13/Small_AI_server_32cores_iso_view.png" width="600" height="442" /></a>
</p><p><i>Local AI server in mini-ITX enclosure with case lid removed.  PCIe card with 32 c66x coCPU cores<br /> is installed with a standard PCIe riser.  Dual-core Atom CPU and memory are just to the right of<br /> the card.  Note 100 W power supply at left side of the enclosure.</i>
</p><p>&#160;
</p><p><a href="File_Small_AI_server_32cores_top_view.html" class="image" title="Small AI server, top view"><img alt="Small AI server, top view" src="https://processors.wiki.ti.com/images/9/97/Small_AI_server_32cores_top_view.png" width="600" height="465" /></a>
</p><p><i>Local AI server in mini-ITX enclosure with older D510 Atom CPU.  Note the airflow situation, with<br /> the coCPU card at the top of the enclosure and a path for Atom CPU airflow to the right of the<br /> card.</i>
</p><p>&#160;
</p>
<h3><span class="mw-headline" id="Notes_on_Atom_PCIe_Performance">Notes on Atom PCIe Performance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=6" title="Edit section: Notes on Atom PCIe Performance">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In addition to the C2358 CPU based system specified above, an Atom D510 based system has also been tested:
</p>
<ul><li>Dual core Atom (D510, 1.66 GHz), dual GbE interfaces, 2 GB DDR2 mem, 667 MHz</li>
<li>32 coCPU cores (C6678, 1.6 GHz), GbE interface, 8 GB DDR3 mem, 1333 MHz, x8 PCIe</li>
<li>6x USB interfaces</li>
<li>Audio I/O interface</li>
<li>VGA optional display</li></ul>
<p>With Ubuntu 16.04 installed, the D510 proved to have insufficient PCIe performance, caused by the ICH8M bridge chip required to provide PCIe connectivity.  Due to this result, only Atom CPUs with onchip PCIe are recommended.  This <a rel="nofollow" class="external text" href="http://superuser.com/questions/1182508/pcie-transfer-rate/1182571">forum thread</a> has more information.
</p>
<h3><span class="mw-headline" id="Ultra_Small_Form-Factors">Ultra Small Form-Factors</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=7" title="Edit section: Ultra Small Form-Factors">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Combining a nano-ITX Atom motherboard with c66x coCPUs on a mini-PCIe card would produce a box with approximate dimensions 6" x 4" x 2".  Such a mini-PCIe card is not currently available, but potentially could be manufactured by companies such as Advantech and Z3 Technologies, who already have c66x hardware products.
</p>
<h2><span class="mw-headline" id="Embedded_AI_Comparison">Embedded AI Comparison</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=8" title="Edit section: Embedded AI Comparison">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The advantages of a small Atom-based server with 32 to 64 coCPU cores are compelling:   higher performance, immediately run cloud software with no code rewrites, and a wide range of easy-to-use, low-cost peripherals and storage options (i.e. like any other server).  The disadvantage is power consumption.  Even though this approach consumes relatively low power, there are emerging, dedicated "embedded AI" boxes with limited performance, typically containing numerous ARM cores, that can reduce power consumption to the 20 to 30 W range and potentially to under 10W.
</p><p>To achieve portability in the 30 to 75 W range requires a sizable Lithium battery, but this increases overall solution weight.  A typical "generator style" battery   available online provides 100W over 41 amp-hour, with dimensions 6" x 3" x 7" and weight 3.3 lb. As always, such SWaP tradeoffs depend on application requirements.
</p>
<h2><span class="mw-headline" id="Demo:_Privacy_Control_for_the_Echo_Dot_Using_Two-Level_Wakeword">Demo: Privacy Control for the Echo Dot Using Two-Level Wakeword</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=9" title="Edit section: Demo: Privacy Control for the Echo Dot Using Two-Level Wakeword">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To maintain home privacy, and avoid "always on" streaming of all conversation to the cloud, the local AI server performs speech recognition to turn on/off AC power to the Echo Dot.  When the Dot is powered on, it uses cloud AI for normal operation.  The first level wakeword should be a somewhat longer phrase not likely to occur during ordinary conversation nor use of the Dot, for example "Alexa wake up".  Here is a diagram showing the setup:
</p><p>&#160;
</p><p><a href="File_Fronting_Echo_Dot_Demo_Diagram_RevA2.html" class="image" title="Setup diagram for demo showing two-level wakeword for Echo Dot"><img alt="Setup diagram for demo showing two-level wakeword for Echo Dot" src="https://processors.wiki.ti.com/images/2/2a/Fronting_Echo_Dot_Demo_Diagram_RevA2.png" width="800" height="446" /></a>
</p><p>&#160;
</p><p>Notes about the demo:
</p><p>1. Controlling either the microphone or power to the device-under-control (DUC) guarantees privacy.  Other methods such as manually controlling the mute button are prone to human error.  A patent pending method controls the DUC microphone using masking with white noise generated by the local AI server.  The power-control based approach has an intrinsic problem:  the boot-time of the DUC.  After saying the first level wakeword, the user has to wait for the DUC to boot before giving the second level wakeword (for example, "Alexa").  With the Amazon Echo Dot, boot time can take upwards of 1 minute.  The microphone control method allows DUC power to remain "always on" and is considered more user friendly.
</p><p>2. The range and accuracy of speech recognition in the local AI server is far less than what the cloud can do, but is sufficient for the purpose.  For this demo the local AI server only needs to recognize the first level wakeword, although additional speech recognition could be added.
</p>
<h2><span class="mw-headline" id="Software">Software</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=10" title="Edit section: Software">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>As with a cloud AI server, local AI servers can run image analytics software such as OpenCV and deep learning / neural network classification software such as TensorFlow, AlexNet, and GoogLeNet.  Currently <a href="C66x_opencv.html" title="C66x opencv">OpenCV v2.4 has been ported to c66x coCPU cores</a>.
</p>
<h3><span class="mw-headline" id="Architecture_Diagram">Architecture Diagram</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=11" title="Edit section: Architecture Diagram">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Below is an architecture diagram showing image analytics and AI processing performed by x86 CPUs and c66x coCPUs.
</p><p><a href="File_SigSRF_Software_Architecture_Image_Analytics_w_cameras.html" class="image" title="Image analytics software architecture diagram"><img alt="Image analytics software architecture diagram" src="https://processors.wiki.ti.com/images/a/a9/SigSRF_Software_Architecture_Image_Analytics_w_cameras.png" width="600" height="457" /></a>
</p>
<h3><span class="mw-headline" id="Software_Model">Software Model</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=12" title="Edit section: Software Model">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Below is a diagram showing the general coCPU software model for AI and other applications.  Notes about this diagram:
</p>
<ul><li>Application complexity increases from left to right (command line, open source library APIs, user code APIs, heterogeneous programming)</li>
<li>All application types can run concurrently in host or VM instances (see below for VM configuration)</li>
<li>c66x CPUs can make direct DMA access to host memory, facilitating use of DPDK</li>
<li>c66x CPUs are connected directly to the network.  Received packets are filtered by UDP port and distributed to c66x cores at wire speed</li></ul>
<p>&#160;
</p><p><a href="File_HPC_Software_Model_Diagram.html" class="image" title="HPC software model diagram"><img alt="HPC software model diagram" src="https://processors.wiki.ti.com/images/c/c3/HPC_Software_Model_Diagram.png" width="600" height="418" /></a>
</p><p>&#160;
</p><p>The host memory DMA capability is also used to share data between c66x CPUs, for example in an application such as H.265 (HEVC) encoding, where 10s of cores must work concurrently on the same data set.
</p>
<h3><span class="mw-headline" id="Additional_Demo_Programs">Additional Demo Programs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=13" title="Edit section: Additional Demo Programs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Application test and demo programs are available and described in detail on other wiki's in the cloud and server HPC series, including:
</p>
<ul><li>Image analytics processing examples, located on the <a href="C66x_opencv.html" title="C66x opencv">c66x computer vision (OpenCV) wiki</a></li>
<li>Continuous streaming examples (H.264 compression using TI multimedia codecs and streaming over IP/UDP/RTP), located on the <a href="High_Performance_VMs.html" title="High Performance VMs">High Performance VMs wiki</a></li>
<li>Media transcoding examples, located on the <a href="NFV_Transcoding.html" title="NFV Transcoding">NFV Transcoding wiki</a></li>
<li>Hyperpiler demo (c66x heterogeneous programming) examples, located on the <a href="C66x_Heterogeneous_Programming.html" title="C66x Heterogeneous Programming">c66x Heterogeneous Programming wiki</a></li></ul>
<h2><span class="mw-headline" id="Concurrent_Applications_and_Virtualized_Environment">Concurrent Applications and Virtualized Environment</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=14" title="Edit section: Concurrent Applications and Virtualized Environment">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A software stack including drivers, libraries, and virtIO components integrates coCPUs under Linux, whether in local or cloud AI servers.  In a bare-metal environment, concurrent applications are supported. In a KVM + QEMU virtualized environment, cores and network I/O interfaces appear as resources that can be allocated between VMs. VM and host users can share also, as the available pool of cores is handled by a physical layer back-end driver. This flexibility allows AI and HPC applications to scale between cloud, enterprise, and remote vehicle/location servers.
</p>
<h3><span class="mw-headline" id="Host_and_Guest_Drivers">Host and Guest Drivers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=15" title="Edit section: Host and Guest Drivers">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a href="DirectCore.html" title="DirectCore">DirectCore</a> drivers interact with c66x cards from either host instances or VMs.  Host instances use a "physical" driver and VM instances use virtIO "front end" drivers.
</p>
<h3><span class="mw-headline" id="Host_and_Guest_Libs">Host and Guest Libs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=16" title="Edit section: Host and Guest Libs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>DirectCore libraries provide a high level API for applications.  DirectCore libraries abstract all c66x cores as a unified "pool" of cores, allowing multiple users / VM instances to share c66x resources, including NICs.  This applies regardless of the number of cards installed in the server.  This page has <a href="DirectCore.html" title="DirectCore">DirectCore API and source code examples</a>.
</p>
<h3><span id="Installing_/_Configuring_VMs"></span><span class="mw-headline" id="Installing_.2F_Configuring_VMs">Installing / Configuring VMs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit&amp;section=17" title="Edit section: Installing / Configuring VMs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Below is a screen capture showing VM configuration for c66x coCPU cards, using the Ubuntu Virtual Machine Manager (VMM) user interface:
</p><p><a href="File_VMM_C66x_accelerator2.html" class="image" title="VMM dialog showing VM configuration for c66x coCPU cards"><img alt="VMM dialog showing VM configuration for c66x coCPU cards" src="https://processors.wiki.ti.com/images/e/e0/VMM_C66x_accelerator2.png" width="600" height="385" /></a>
</p><p>c66x core allocation is transparent to the number of cards installed in the system; just like installing memory DIMMs of different sizes, c66x cards can be mixed and matched.
</p><p>&#160;
</p>
<!-- 
NewPP limit report
Cached time: 20201130032609
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.066 seconds
Real time usage: 0.071 seconds
Preprocessor visited node count: 67/1000000
Preprocessor generated node count: 72/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:44144-0!canonical and timestamp 20201130032609 and revision id 231432
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Small AI server</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Small AI server</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>Small AI server</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>Small AI server</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>Small AI server</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Small AI server</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Small AI server</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>Small AI server</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>Small AI server</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;oldid=231432">https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;oldid=231432</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_AI.html" title="Category:AI">AI</a></li><li><a href="Category_Applications.html" title="Category:Applications">Applications</a></li><li><a href="Category_Local_AI.html" title="Category:Local AI">Local AI</a></li><li><a href="Category_Small_Servers.html" title="Category:Small Servers">Small Servers</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Small+AI+server" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Small_AI_server.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:Small_AI_server&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Small_AI_server.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Small_AI_server.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Small_AI_server.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;oldid=231432" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Small_AI_server&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 2 November 2017, at 15:51.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.066","walltime":"0.071","ppvisitednodes":{"value":67,"limit":1000000},"ppgeneratednodes":{"value":72,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130032609","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":238});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Small_AI_server by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 05:20:44 GMT -->
</html>
