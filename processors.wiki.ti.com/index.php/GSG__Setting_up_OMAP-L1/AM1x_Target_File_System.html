<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:40:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>GSG: Setting up OMAP-L1/AM1x Target File System - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System","wgTitle":"GSG: Setting up OMAP-L1/AM1x Target File System","wgCurRevisionId":43857,"wgRevisionId":43857,"wgArticleId":3149,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["OMAPL1","AM1x"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System","wgRelevantArticleId":3149,"wgRequestId":"fecc95883cc498398ccce313","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->

                    <script>var w=window;if(w.performance||w.mozPerformance||w.msPerformance||w.webkitPerformance){var d=document;AKSB=w.AKSB||{},AKSB.q=AKSB.q||[],AKSB.mark=AKSB.mark||function(e,_){AKSB.q.push(["mark",e,_||(new Date).getTime()])},AKSB.measure=AKSB.measure||function(e,_,t){AKSB.q.push(["measure",e,_,t||(new Date).getTime()])},AKSB.done=AKSB.done||function(e){AKSB.q.push(["done",e])},AKSB.mark("firstbyte",(new Date).getTime()),AKSB.prof={custid:"295384",ustr:"",originlat:"0",clientrtt:"185",ghostip:"23.11.215.94",ipv6:false,pct:"10",clientip:"163.125.46.158",requestid:"1728e69d",region:"26813",protocol:"",blver:14,akM:"g",akN:"ae",akTT:"O",akTX:"1",akTI:"1728e69d",ai:"181835",ra:"false",pmgn:"",pmgi:"",pmp:"",qc:""},function(e){var _=d.createElement("script");_.async="async",_.src=e;var t=d.getElementsByTagName("script"),t=t[t.length-1];t.parentNode.insertBefore(_,t)}(("https:"===d.location.protocol?"https:":"http:")+"//ds-aksb-a.akamaihd.net/aksb.min.js")}</script>
                    </head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GSG_Setting_up_OMAP-L1_AM1x_Target_File_System rootpage-GSG_Setting_up_OMAP-L1 skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">GSG: Setting up OMAP-L1/AM1x Target File System</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><a href="../Getting_Started_Guide_for_OMAP-L138.html" class="mw-redirect" title="Getting Started Guide for OMAP-L138"><b><big><big>^</big></big></b> Up to main <b>Getting Started Guide for OMAP-L138</b> Table of Contents</a>
</p><p><a href="../Getting_Started_Guide_for_AM1x.html" class="mw-redirect" title="Getting Started Guide for AM1x"><b><big><big>^</big></big></b> Up to main <b>Getting Started Guide for AM18x</b> Table of Contents</a>
</p><p><a href="../Getting_Started_Guide_for_AM17x.html" class="mw-redirect" title="Getting Started Guide for AM17x"><b><big><big>^</big></big></b> Up to main <b>Getting Started Guide for AM17x</b> Table of Contents</a>
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Prerequisites"><span class="tocnumber">1</span> <span class="toctext">Prerequisites</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Exporting_a_Shared_File_System_for_Target_Access"><span class="tocnumber">2</span> <span class="toctext">Exporting a Shared File System for Target Access</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Testing_the_Shared_File_System"><span class="tocnumber">3</span> <span class="toctext">Testing the Shared File System</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Mounting_Root_File_System"><span class="tocnumber">4</span> <span class="toctext">Mounting Root File System</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#From_NFS"><span class="tocnumber">4.1</span> <span class="toctext">From NFS</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#From_USB_Storage"><span class="tocnumber">4.2</span> <span class="toctext">From USB Storage</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#From_SD.2FMMC"><span class="tocnumber">4.3</span> <span class="toctext">From SD/MMC</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Writing_a_Simple_Program_and_Running_it_on_the_EVM"><span class="tocnumber">5</span> <span class="toctext">Writing a Simple Program and Running it on the EVM</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#What.27s_Next.3F"><span class="tocnumber">6</span> <span class="toctext">What's Next?</span></a></li>
</ul>
</div>

<p><span style="color:red"><b>ATTENTION OMAP-L138 DEVELOPERS</b>:  The Generally Available (GA) Linux DVSDK 4.x for the OMAP-L138 device is now available <a rel="nofollow" class="external text" href="http://software-dl.ti.com/dsps/dsps_public_sw/sdo_sb/targetcontent/dvsdk/DVSDK_4_00/latest/index_FDS.html">here</a>.  There are various capabilities and improvements that have been added to this version.  This is the <b>recommended</b> release kit for development which supersedes the SDK 1.00.xx Beta. The majority of the information below is only applicable to the SDK 1.00.xx Beta.</span>
</p><p>The AM17x/AM18x/OMAP-L138 EVM comes with a target file system pre-loaded on the SD card (see EVM installation guide).  However, in order to develop Linux applications it may be necessary to set up a target file system that is NFS mounted to your development workstation.  NFS is ideal during evaluation and development because it allows you to modify the contents of the target file system online without needed to reboot the EVM.  Once you have tested your application, you can store it to a more permanent storage media such as SD/MMC or USB storage for standalone operation.
</p>
<h2><span class="mw-headline" id="Prerequisites">Prerequisites</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=edit&amp;section=1" title="Edit section: Prerequisites">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>A Linux host system to serve the NFS file system</li>
<li>A network connection between the Linux host and the EVM</li>
<li>The Arago file system that is available at <a rel="nofollow" class="external text" href="http://arago-project.org/files/short-term/snapshots/20100318-am18xx/images/da850-omapl138-evm/">Arago Repository</a>. (Dead Link)</li></ul>
<h2><span class="mw-headline" id="Exporting_a_Shared_File_System_for_Target_Access">Exporting a Shared File System for Target Access</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=edit&amp;section=2" title="Edit section: Exporting a Shared File System for Target Access">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><span style="color:red"><b>OMAP-L138 DEVELOPERS</b> - See attention note at the top of the page.</span>
</p><p>Before the board can mount a target file system, you must export that target file system on the host Linux workstation. The file system uses an NFS (Network File System) server. The exported file system will contain the target file system and your executables. These instructions are based on the RedHat Enterprise Linux v4 distribution. For Ubuntu, please check <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/SettingUpNFSHowTo">this page</a>. You may need to modify the steps if you are using another Linux distribution.
</p><p>To export the file system from your NFS server, perform the following steps. You only need to perform these steps once. Following &lt;target_name&gt; needs to be replaced in the below mentioned path corresponding to specific target:
</p>
<table border="1" cellspacing="0" cellpadding="5" width="50%">

<tbody><tr style="background: rgb(221, 255, 221) none repeat scroll 0% 50%;">
<th>Target
</th>
<th>&lt;target_name&gt;
</th></tr>
<tr>
<td>OMAP-L137
</td>
<td>OMAPL137_arm_#_#_#_#
</td></tr>
<tr>
<td>OMAP-L138
</td>
<td>OMAPL138_arm_#_#_#_#
</td></tr>
<tr>
<td>AM18x
</td>
<td>AM1x_arm_#_#_#_#
</td></tr>
<tr>
<td>AM17x
</td>
<td>AM1x_arm_#_#_#_#
</td></tr></tbody></table>
<p><br />
</p>
<ol><li>Log in with a user account on the host Linux workstation</li>
<li>Perform the following commands to prepare a location for the Arago target file system.  For example:
<dl><dd><b>host $</b> cd /home/&lt;useracct&gt;</dd>
<dd><b>host $</b> mkdir -p workdir/filesys</dd>
<dd><b>host $</b> cd workdir/filesys</dd></dl></li>
<li>Switch user to <b>root</b> on the host Linux workstation.
<dl><dd><b>host $</b> su root</dd></dl></li>
<li>Perform the following commands to create a copy of the target file system with permissions set for writing to the shared area as &lt;useracct&gt;.  Substitute you user name for &lt;useracct&gt;.
<dl><dd><font color="red"> For PSP versions earlier than 3.20.00.11, the file system is found in the <i>images/fs</i> directory.  Use the following commands: </font></dd>
<dd><b>host $</b> cp -a /home/&lt;useracct&gt;/&lt;target_name&gt;/DaVinci-PSP-SDK-03.#.#.#/images/fs/nfs.tar.gz .</dd>
<dd><b>host $</b> tar xvfz nfs.tar.gz</dd>
<dd><b>host $</b> chmod 777 -R /home/&lt;useracct&gt;/workdir/filesys</dd>
<dd><br /></dd>
<dd><font color="red"> For PSP versions 3.20.00.11 or later, the file system needs to be downloaded sepeartely from <a rel="nofollow" class="external text" href="http://software-dl.ti.com/dsps/dsps_public_sw/sdo_sb/targetcontent/sdk/omap_l138/1_00/latest/index_FDS.html">the product download page</a> into a temporary directory, such as <b>/tmp</b>. After downloading, use the following commands:</font></dd>
<dd><b>host $</b> cp -a /tmp/arago-demo-image-*.tgz .</dd>
<dd><b>host $</b> tar xvfz arago-demo-image-*.tgz</dd>
<dd><b>host $</b> chmod 777 -R /home/&lt;useracct&gt;/workdir/filesys</dd></dl></li>
<li>Edit the /etc/exports file on the host Linux workstation (not the exports file on the target file system).  Add the following line for exporting the filesys directory, substituting your user name for &lt;useracct&gt;.  Use the full path from root; ~ may not work for exports on all file systems.
<dl><dd>/home/&lt;useracct&gt;/workdir/filesys *(rw,no_root_squash,no_all_squash,sync)</dd>
<dd><br /></dd>
<dd><b>NOTE:</b> Make sure you do not add a space between the <b>*</b> and the <b>(</b> in the above command.</dd></dl></li>
<li>Still as root, use the following commands to make the NFS server aware of the change to its configuration and to invoke an NFS restart.
<dl><dd><b>host $</b> /usr/sbin/exportfs -av</dd>
<dd><b>host $</b> /sbin/service nfs restart</dd>
<dd><br /></dd>
<dd><b>NOTE:</b> Use <b>exportfs -rav</b> to re-export all directories.  Use <b>/etc/init.d/nfs status</b> to verify that the NFS status is running.</dd></dl></li></ol>
<p>For Ubuntu NFS setting, please check <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/SettingUpNFSHowTo">this page</a>
</p>
<ol><li>Verify that the server firewall is turned off:
<dl><dd><b>host $</b> /etc/init.d/iptables status</dd>
<dd>If the firewall is running, disable it:</dd>
<dd><b>host $</b> /etc/init.d/iptables stop</dd>
<dd><b>host $</b> exit</dd></dl></li></ol>
<p>For Ubuntu iptables settings, please check <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/IptablesHowTo">this page</a>
</p>
<h2><span class="mw-headline" id="Testing_the_Shared_File_System">Testing the Shared File System</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=edit&amp;section=3" title="Edit section: Testing the Shared File System">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><span style="color:red"><b>OMAP-L138 DEVELOPERS</b> - See attention note at the top of the page.</span>
</p><p>To test your NFS setup, follow these steps:
</p>
<ol><li>Copy the kernel Image (uImage) from the /home/&lt;useracct&gt;/&lt;target_name&gt;/DaVinci-PSP-SDK-03.#.#.#/images/kernel/&lt;Platform&gt; directory of the SDK software installation to the /tftpboot directory of your Linux host workstation.  This kernel will be used to test the NFS target file system.  If you do not have a TFTP server configured please see the <a href="../Setting_Up_a_TFTP_Server.html" title="Setting Up a TFTP Server"> Setting up a TFTP Server</a> page.
<dl><dd><b>host $</b> cp /home/&lt;useracct&gt;/&lt;target_name&gt;/DaVinci-PSP-SDK-03.#.#.#/images/kernel/&lt;Platform&gt;/uImage /tftpboot</dd></dl></li>
<li>Get the IP address of your host Linux workstation as follows.  Look for the IP address associated with the eth0 ethernet port.
<dl><dd><b>host $</b> /sbin/ifconfig</dd></dl></li>
<li>Open a terminal session to connect to the EVM board via RS-232 using the instructions in the <a href="../OMAP-L137_EVM_Hardware_Setup.html#Connecting_to_a_Console_Window" title="OMAP-L137 EVM Hardware Setup"> Connecting to a Console Window</a> section.  If you have a Windows workstation, you can use TeraTerm.  If you have a Linux workstation, you might use Minicom.  (You may need to turn on line wrap)</li>
<li>Power on the EVM board and abort the automatic boot sequence by pressing a key in the console window.</li>
<li>Set the following environment variables in the console window:
<dl><dd><b>EVM #</b> setenv nfshost &lt;Linux Host IP address&gt;</dd>
<dd><b>EVM #</b> setenv rootpath &lt;directory to mount&gt;
<dl><dd><b>NOTE:</b> The &lt;directory to mount&gt; must match what you specified in step 4 of the <a href="#Exporting_a_Shared_File_System_for_Target_Access"> Exporting a Shared File System for Target Access</a> section.  For example, /home/&lt;useracct&gt;/workdir/filesys.</dd></dl></dd>
<dd><b>EVM #</b> setenv serverip &lt;Linux Host IP address&gt;</dd>
<dd><b>EVM #</b> setenv bootfile uImage</dd>
<dd><b>EVM #</b> setenv bootcmd 'dhcp;tftp;bootm'</dd>
<dd><b>EVM #</b> setenv bootargs console=ttyS2,115200n8 noinitrd rw ip=dhcp root=/dev/nfs nfsroot=${nfshost}:${rootpath},nolock mem=32M
<dl><dd><b>NOTE:</b> that the <i>setenv bootargs</i> command should be typed on a single line.  Also note that you should avoid using the numeric keypad to enter numbers, as it can sometimes insert extra invisible characters.</dd></dl></dd>
<dd><br /></dd>
<dd><b>NOTE:</b> The use of parenthesis for variable substitution is being deprecated for new U-boot releases - use curly braces {} instead. Check <a rel="nofollow" class="external free" href="http://www.denx.de/wiki/view/DULG/CommandLineParsing">http://www.denx.de/wiki/view/DULG/CommandLineParsing</a></dd>
<dd><br /></dd>
<dd><b>Hints:</b> You may want to use the <i>printenv</i> command to print a list of your environment variables.  You can also save these <i>setenv</i> commands in a .txt file from which you can paste them in the future.</dd></dl></li>
<li>Save the environment so that you do not have to retype these commands every time you cycle power on the EVM board:
<dl><dd><b>EVM #</b> saveenv</dd></dl></li>
<li>Boot the board using NFS:
<dl><dd><b>EVM #</b> boot</dd>
<dd><br /></dd>
<dd><b>NOTE:</b> The first boot of this file system may take a while to complete while security keys are being generated.  Subsequent boots will not have this delay.</dd></dl></li>
<li>You can now log in as "root" in the target with no password required.</li></ol>
<h2><span class="mw-headline" id="Mounting_Root_File_System">Mounting Root File System</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=edit&amp;section=4" title="Edit section: Mounting Root File System">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><span style="color:red"><b>OMAP-L138 DEVELOPERS</b> - See attention note at the top of the page.</span>
</p><p>This section will cover how to set the U-Boot environment variables to mount the root file system from various storage media.
</p>
<h3><span class="mw-headline" id="From_NFS">From NFS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=edit&amp;section=5" title="Edit section: From NFS">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In order to boot Linux with the file system mounted from NFS you will need to have first exported an NFS target file system.  For more information on how to do this please see the page <b><a href="../GSG__Installing_the_Software_for_OMAP-L138.html" class="mw-redirect" title="GSG: Installing the Software for OMAP-L138">here</a></b>.  This section also assumes that you are using DHCP to obtain the ip address for the board.  If you are using static IP you will need to modify the bootargs to set the <i>ipaddr</i> variable appropriately.
</p>
<dl><dd><b>EVM #</b> setenv nfshost &lt;ip address on nfs host&gt;</dd>
<dd><b>EVM #</b> setenv rootpath &lt;directory to mount&gt;</dd>
<dd><b>EVM #</b> setenv bootargs console=ttyS2,115200n8 noinitrd rw ip=dhcp root=/dev/nfs nfsroot=${nfshost}:${rootpath},nolock mem=32M</dd></dl>
<h3><span class="mw-headline" id="From_USB_Storage">From USB Storage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=edit&amp;section=6" title="Edit section: From USB Storage">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In order to boot Linux with the root file system mounted from a USB storage device you will need to set the following <i>bootargs</i>.  For more information on configuring a USB storage device with a root file system please see <a href="../Creating_filesystems_on_removable_media.html" title="Creating filesystems on removable media"> Creating file systems on removable media</a>
</p>
<dl><dd><b>EVM #</b> setenv bootargs console=ttyS2,115200n8 noinitrd rw ip=dhcp root=/dev/sda2 rootfstype=ext2 mem=32M</dd></dl>
<h3><span id="From_SD/MMC"></span><span class="mw-headline" id="From_SD.2FMMC">From SD/MMC</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=edit&amp;section=7" title="Edit section: From SD/MMC">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In order to boot Linux with the root file system mounted from a USB storage device you will need to set the following <i>bootargs</i>.  For more information on configuring a USB storage device with a root file system please see <a href="../Creating_filesystems_on_removable_media.html" title="Creating filesystems on removable media"> Creating file systems on removable media</a>
</p>
<dl><dd><b>EVM #</b> setenv bootargs console=ttyS2,115200n8 noinitrd rw ip=dhcp root=/dev/mmcblk0p1 rootfstype=ext2 mem=32M</dd></dl>
<h2><span class="mw-headline" id="Writing_a_Simple_Program_and_Running_it_on_the_EVM">Writing a Simple Program and Running it on the EVM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=edit&amp;section=8" title="Edit section: Writing a Simple Program and Running it on the EVM">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><span style="color:red"><b>OMAP-L138 DEVELOPERS</b> - See attention note at the top of the page.</span>
</p><p>Make sure that you have performed the steps to <a href="#Exporting_a_Shared_File_System_for_Target_Access"> export a shared file system for target access</a> and install the Code Sourcery Tools.
</p><p>Perform the following steps on the NFS host system as user (not as root). The steps below assume that the CodeSourcery tools are already present in your $PATH variable. Information on how to add the tools to your $PATH can be obtained form the Getting Started Guide for the CodeSourcery tools.
</p>
<ol><li><b>host $</b> mkdir -p /home/&lt;useracct&gt;/workdir/filesys/opt/hello</li>
<li><b>host $</b> cd /home/&lt;useracct&gt;/workdir/filesys/opt/hello</li>
<li>Create a file called hello.c with the following contents:
<dl><dd><br /></dd>
<dd>#include &lt;stdio.h&gt;</dd>
<dd><br /></dd>
<dd>int main() {
<dl><dd>printf("Hello World!\n");</dd>
<dd>return 0;</dd></dl></dd>
<dd>}</dd></dl></li>
<li><b>host $</b> arm-none-linux-gnueabi-gcc hello.c -o hello
<dl><dd><br /></dd></dl></li></ol>
<p>Perform the following steps on the target board.  You may use either the target's console window or a telnet session.
</p>
<ol><li><b>target $</b> cd /opt/hello</li>
<li>Run <i>hello</i>:
<dl><dd><b>target $</b> ./hello</dd>
<dd>The output should be: Hello World!</dd></dl></li></ol>
<h2><span id="What's_Next?"></span><span class="mw-headline" id="What.27s_Next.3F">What's Next?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=edit&amp;section=9" title="Edit section: What&#039;s Next?">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Please continue on to the <a href="../Getting_Started_Guide_for_OMAP-L1.html#Building_software_components" title="Getting Started Guide for OMAP-L1"> Building software components for OMAP-L1</a>  or to <a href="../Getting_Started_Guide_for_AM18x.html#Building_software_components" class="mw-redirect" title="Getting Started Guide for AM18x"> Building software components for AM18x </a> section of the Getting Started Guide.
</p>
<!-- 
NewPP limit report
Cached time: 20201130040003
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.039 seconds
Real time usage: 0.040 seconds
Preprocessor visited node count: 42/1000000
Preprocessor generated node count: 54/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:3149-0!canonical and timestamp 20201130040003 and revision id 43857
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="../File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>GSG: Setting up OMAP-L1/AM1x Target File System</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>GSG: Setting up OMAP-L1/AM1x Target File System</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>GSG: Setting up OMAP-L1/AM1x Target File System</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>GSG: Setting up OMAP-L1/AM1x Target File System</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>GSG: Setting up OMAP-L1/AM1x Target File System</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>GSG: Setting up OMAP-L1/AM1x Target File System</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>GSG: Setting up OMAP-L1/AM1x Target File System</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>GSG: Setting up OMAP-L1/AM1x Target File System</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>GSG: Setting up OMAP-L1/AM1x Target File System</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="../File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;oldid=43857">https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;oldid=43857</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="../Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="../Category_OMAPL1.html" title="Category:OMAPL1">OMAPL1</a></li><li><a href="../Category_AM1x.html" title="Category:AM1x">AM1x</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=GSG%3A+Setting+up+OMAP-L1%2FAM1x+Target+File+System" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="../Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="AM1x_Target_File_System.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk"><span><a href="../Talk_GSG__Setting_up_OMAP-L1/AM1x_Target_File_System.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="AM1x_Target_File_System.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="../Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="../Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="../Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="../Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="../Special_WhatLinksHere/GSG__Setting_up_OMAP-L1/AM1x_Target_File_System.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../Special_RecentChangesLinked/GSG__Setting_up_OMAP-L1/AM1x_Target_File_System.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;oldid=43857" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 26 October 2010, at 15:13.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="../Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.039","walltime":"0.040","ppvisitednodes":{"value":42,"limit":1000000},"ppgeneratednodes":{"value":54,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130040003","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":227});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/GSG:_Setting_up_OMAP-L1/AM1x_Target_File_System by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:40:23 GMT -->
</html>
