<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/User:Clintonr by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 07:13:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>User:Clintonr - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"User","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":2,"wgPageName":"User:Clintonr","wgTitle":"Clintonr","wgCurRevisionId":133193,"wgRevisionId":133193,"wgArticleId":19904,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Flash","Boot","SPI","OMAPL1","AM1x","OMAPL1x Topic Boot"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"User:Clintonr","wgRelevantArticleId":19904,"wgRequestId":"37397b171c812e9c3f68ca23","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgRelevantUserName":"Clintonr"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-2 ns-subject page-User_Clintonr rootpage-User_Clintonr skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">User:Clintonr</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#TI_Flash_and_Boot_Utilities"><span class="tocnumber">1</span> <span class="toctext">TI Flash and Boot Utilities</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Obtaining_the_software"><span class="tocnumber">2</span> <span class="toctext">Obtaining the software</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Compiling"><span class="tocnumber">3</span> <span class="toctext">Compiling</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Running"><span class="tocnumber">4</span> <span class="toctext">Running</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Serial_Flasher_Options"><span class="tocnumber">5</span> <span class="toctext">Serial Flasher Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Restoring_the_OMAP-L137_EVM_SPI_Flash"><span class="tocnumber">6</span> <span class="toctext">Restoring the OMAP-L137 EVM SPI Flash</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Restoring_the_DA830_or_DA830_Wi-Fi_EVMs_SPI_Flash"><span class="tocnumber">7</span> <span class="toctext">Restoring the DA830 or DA830 Wi-Fi EVMs SPI Flash</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Modifications_for_Custom_Boards"><span class="tocnumber">8</span> <span class="toctext">Modifications for Custom Boards</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#FAQ"><span class="tocnumber">9</span> <span class="toctext">FAQ</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Is_there_a_size_limit_to_the_image_I_can_flash.3F"><span class="tocnumber">9.1</span> <span class="toctext">Is there a size limit to the image I can flash?</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Can_the_tool_flash_other_boot_media_besides_those_listed_above.3F"><span class="tocnumber">9.2</span> <span class="toctext">Can the tool flash other boot media besides those listed above?</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Can_I_use_this_tool_if_I.27m_using_something_other_than_a_24_MHz_input_clock.3F"><span class="tocnumber">9.3</span> <span class="toctext">Can I use this tool if I'm using something other than a 24 MHz input clock?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#License"><span class="tocnumber">10</span> <span class="toctext">License</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="TI_Flash_and_Boot_Utilities">TI Flash and Boot Utilities</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=1" title="Edit section: TI Flash and Boot Utilities">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The following software supports the OMAP-L137, C6747, AM1707 and DA830 families of devices.
</p><p>This package contains a set of utilities running from the command-line on Windows for flashing the various flash types on the the OMAP-L137 and DA830 EVM via the serial port. 
</p><p>The Serial Flashing Host Utility (which offers the same functionality as a previous program called DVFlasher)
executable is called sfh_OMAP-L137.exe.
</p><p>These programs each encapsulate a distinct binary UBL which is transferred via the UART.  This implies that the chip must be
operating in the UART boot mode, showing the BOOTME prompt.  
</p><p>NOTE: The assumption is made that the UART of the device 
operates at 115200, 8N1.  If the oscillator used with the device does not match the one used on the EVM (e.g. on a custom 
platform, or OMAPL137_v1), the baud rate assumption may be incorrect.
</p>
<h2><span class="mw-headline" id="Obtaining_the_software">Obtaining the software</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=2" title="Edit section: Obtaining the software">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The latest software can be download from  
<a rel="nofollow" class="external text" href="http://sourceforge.net/projects/dvflashutils/files/OMAP-L137/">here</a>.
</p>
<h2><span class="mw-headline" id="Compiling">Compiling</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=3" title="Edit section: Compiling">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A makefile is included for compiling the host and target parts of each utility.
The target portions are built first since they are embedded into the the host
executables.  These target portions are loaded to the OMAP-L137 or DA830 device via the UART
boot mode.
</p><p>Note that the pre-built executables have been tested to work on the EVMs. It is not necessary to rebuild them unless changes need to be made for a custom board.
</p><p><i><b>Under Windows</b></i>
</p><p>Please see the following page for detailed instructions for rebuilding the utilities in included in this package:
</p><p><a rel="nofollow" class="external text" href="Rebuilding_the_Flash_and_Boot_Utils_Package.html">http://processors.wiki.ti.com/index.php/Rebuilding_the_Flash_and_Boot_Utils_Package</a>
</p><p><i><b>Under Linux</b></i>
</p><p>The Mono Framework must be installed and in the path.  RPMs are available 
at '<a rel="nofollow" class="external free" href="http://www.mono-project.com/Downloads'">http://www.mono-project.com/Downloads'</a>.  Then go to the GNU directory of the package and run:
</p>
<pre>    make
 
</pre>
<p>The above instructions assume the that GNU ARM cross-compiler tools (arm-none-linux-gnueabi-gcc, 
etc.) are in the current PATH.
</p><p>The C6x Compiler Tools are also required to build some components. These are available free of charge at <a rel="nofollow" class="external free" href="https://www-a.ti.com/downloads/sds_support/TICodegenerationTools/download.htm">https://www-a.ti.com/downloads/sds_support/TICodegenerationTools/download.htm</a>.  You will need to add the bin directory to your PATH and to set the environment variables as directed by the installer.
</p>
<h2><span class="mw-headline" id="Running">Running</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=4" title="Edit section: Running">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><i><b>Under Windows</b></i>
This utility can be run from the command line under Windows with 
the .Net Framework 2.0 or later installed through the following steps:
</p>
<ol>
<li>Set the boot pins of the EVM to UART2 boot mode. This is done by setting boot switches on the OMAP-L137 or DA830 EVM according to the following table:
<br />
<i>Note</i>: DA830 and DA830 Wi-Fi EVMs use the 'revisions after B' configuration
<br />
<b>For all revisions after B:</b> 
<table style="color: black; background-color: rgb(238,238,238)" cellspacing="2" cellpadding="4" border="1">

<tbody><tr>
<td align="left">Pin#
</td>
<td align="center">7
</td>
<td align="center">2
</td>
<td align="center">1
</td>
<td align="center">0
</td>
<td align="center">3
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td>
<td align="center">OFF
</td></tr></tbody></table>
<p><b>For revisions A and B:</b> 
</p>
<table style="color: black; background-color: rgb(238,238,238)" cellspacing="2" cellpadding="4" border="1">

<tbody><tr>
<td align="left">Pin#
</td>
<td align="center">7
</td>
<td align="center">2
</td>
<td align="center">1
</td>
<td align="center">0
</td>
<td align="center">3
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td>
<td align="center">ON
</td></tr></tbody></table>
</li><li>Connect a serial cable from the host computer to the OMAP-L137 or DA830 EVM. Note that for OMAPL137_v1 the host computer must be able to run at a UART baud rate of 230400.
</li><li>Test your UART connection by opening HyperTerminal and connecting to the correct COM port at 115200 (or 230400). When the reset button is pressed on the EVM, the words "BOOTME" should appear on the terminal. If not, recheck the cable connection, baud settings, and boot pins of the EVM. Please note that many PC serial ports do not support a baud rate of 230400. In these cases, a USB-&gt;Serial adapter should be used.
</li><li>Disconnect from HyperTerminal.
</li><li>Open a command prompt on the host computer and change directory to where the flashing utility was saved (ex. c:\flasher).
</li><li>Run the flashing utility with this command:
<ul><li><b>C:\flasher&gt;sfh_OMAP-L137.exe [options]</b></li></ul>
</li><li> Reset the board
</li></ol>
<p><i><b>Under Linux</b></i>
</p><p>The serial flasher can be run on a Linux machine with the latest open-source Mono Framework installed. The steps are identical to the Windows environment except the command:
</p>
<ul><li><b>mono ./sfh_OMAP-L137.exe [options]</b></li></ul>
<h2><span class="mw-headline" id="Serial_Flasher_Options">Serial Flasher Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=5" title="Edit section: Serial Flasher Options">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>There are four modes for using the serial flasher:
</p>
<ol>	
<li>Erase the target flash type - This will erase the entire contents of the flash.
	
<ul><li><b>C:\flasher&gt;sfh_OMAP-L137.exe -erase</b></li></ul>

</li><li>Flash the memory with a single application image - This will place an application image at address 0x0 of the flash.

<ul><li><b>C:\flasher&gt;sfh_OMAP-L137.exe -flash_noubl  &lt;binary application file&gt;	</b></li></ul>

</li><li> Flash the memory with a UBL and application image placing the UBL at address 0x0 and an application image, such as u-boot, at address 0x10000 by default. This is used for the AM1707 device.

<ul><li><b>C:\flasher&gt;sfh_OMAP-L137.exe -flash &lt;UBL binary file&gt; &lt;binary application file&gt;	</b></li>
<li>Note: If one of the following target types is specified on the command line, the corresponding load addresses are used by the utility:
<ul><li>targetType = DA830: DSP+ARM UBL placed as 0x0 and application image placed at 0x8000 (allows for separate DSP image load)</li>
<li>targetType = DA830_pa_boot: DSP+ARM UBL combined with DSP image placed at 0x0 and application image placed at 0xA0000</li>
<li>targetType = DA830WIFI: DSP+ARM UBL placed as 0x0 and application image placed at 0x8000</li></ul></li></ul>


</li><li>Flash the memory with a DSP UBL, ARM UBL, and application image - This will place a DSP AIS file at address 0x0 of the flash, an ARM UBL at address 0x2000, and an application image, such as u-boot, at address 0x8000. This is used for the OMAPL137_v1 and OMAPL137_v2 devices.
	
<ul><li><b>C:\flasher&gt;sfh_OMAP-L137.exe -flash_dsp  &lt;DSP UBL AIS file&gt; &lt;ARM UBL binary file&gt; &lt;binary application file&gt;</b></li></ul>
</li></ol>	
<p>Additional options are shown below:
</p>
<pre>  -targetType        &#160;: Specifies exact target type within OMAP-L137 (OMAPL137_v2 [default], OMAPL137_v1, C6747, AM1707) 
                        or DA830 (DA830, DA830_pa_boot, DA830WIFI) families
  -flashType         &#160;: Specifies exact flash type (default SPI_MEM)
  -p &lt;COM PORT NAME&gt; &#160;: Allows specifying com port other than default 'COM1' or '/dev/ttyS0'.
  -h                 &#160;: Show help text.
  -v                 &#160;: See verbose output from OMAP-L137.
  -baud &lt;BAUD RATE&gt;  &#160;: Allows specifying baud rate other than default (115200)
  -APPStartAddr      &#160;: Changes entry point of application (default 0xC1080000)
  -APPLoadAddr       &#160;: Changes load address of application (default 0xC1080000)
  -APPFlashBlock     &#160;: Changes the block to flash the image into (only for -flash_noubl and -flash modes)
</pre>
<p>Once any command is run, the "Waiting for BOOTME..." prompt shows. Power cycle the board or press the reset button to continue.
</p><p>Please note, for the AM1707, the ARM UBL must come from the /gnu/ubl/ directory of this release (i.e. ubl_AM1707_SPI_MEM.bin). The serial flasher is not compatible with the UBLs found in the PSP release.
</p><p>For the OMAPL137_v1 and OMAPL137_v2, the DSP and ARM UBLs should come from the PSP release directory.
</p>
<h2><span class="mw-headline" id="Restoring_the_OMAP-L137_EVM_SPI_Flash">Restoring the OMAP-L137 EVM SPI Flash</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=6" title="Edit section: Restoring the OMAP-L137 EVM SPI Flash">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>If the contents of the OMAP-L137 SPI flash become corrupted, they can be restored through the following steps:
</p>
<ol>
<li>Set the boot pins to UART2 boot mode. This is done by setting the boot switches on the OMAP-L137 EVM according to the following table:
 

<table style="color: black; background-color: rgb(238,238,238)" cellspacing="2" cellpadding="4" border="1">

<tbody><tr>
<td align="left">Pin#
</td>
<td align="center">7
</td>
<td align="center">2
</td>
<td align="center">1
</td>
<td align="center">0
</td>
<td align="center">3
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td>
<td align="center">OFF
</td></tr></tbody></table>
</li><li>Obtain the DSP UBL AIS file (dsp-spi-ais.bin), the ARM UBL binary file (ubl-spi.bin), and the u-boot binary file (u-boot.bin).
<ul><li><b>Pre-built images are located in the "images" directory of the PSP installation</b></li></ul>

</li><li>Run the following command to flash the UBL and u-boot binary files:
<ul><li><b>C:\flasher&gt;sfh_OMAP-L137.exe -spiflash_dsp &lt;DSP UBL AIS file&gt; &lt;ARM UBL binary file&gt; &lt;u-boot binary file&gt;</b></li></ul>

</li><li>Reset the board 

</li><li>After the UBL and u-boot files have been flashed, set the boot pins to SPI0 boot mode and reboot the board.  This is done by setting the boot switches on the OMAP-L137 EVM according to the following table:

<table style="color: black; background-color: rgb(238,238,238)" cellspacing="2" cellpadding="4" border="1">

<tbody><tr>
<td align="left">Pin#
</td>
<td align="center">7
</td>
<td align="center">2
</td>
<td align="center">1
</td>
<td align="center">0
</td>
<td align="center">3
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center">OFF
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td></tr></tbody></table>
</li><li>One u-boot has loaded, follow the instructions in the Getting Started Guide to copy the Linux kernel and filesystem to the SPI flash.
<ul><li><b><a href="Updating/Restoring_the_OMAP-L137_Kernel_Image.html" title="Updating/Restoring the OMAP-L137 Kernel Image">Updating the Kernel Image</a></b></li></ul>

</li></ol>
<h2><span class="mw-headline" id="Restoring_the_DA830_or_DA830_Wi-Fi_EVMs_SPI_Flash">Restoring the DA830 or DA830 Wi-Fi EVMs SPI Flash</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=7" title="Edit section: Restoring the DA830 or DA830 Wi-Fi EVMs SPI Flash">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>If the contents of the DA830 or DA830 Wi-Fi EVMs SPI flash become corrupted, they can be restored through the following steps:
</p>
<ol>
<li>Set the boot pins to UART2 boot mode. This is done by setting the boot switches on the EVM according to the following table:
 

<table style="color: black; background-color: rgb(238,238,238)" cellspacing="2" cellpadding="4" border="1">

<tbody><tr>
<td align="left">Pin#
</td>
<td align="center">7
</td>
<td align="center">2
</td>
<td align="center">1
</td>
<td align="center">0
</td>
<td align="center">3
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td>
<td align="center">OFF
</td></tr></tbody></table>
</li><li>Obtain the DSP+ARM UBL file and the u-boot binary file.

</li><li>Run the following command to flash the UBL and u-boot binary files:
<ul><li><b>C:\flasher&gt;sfh_OMAP-L137.exe -flash &lt;DSP+ARM UBL file&gt; &lt;u-boot binary file&gt; -targetType &lt;DA830 or DA830WIFI&gt;</b></li></ul>

</li><li>Reset the board 

</li><li>After the UBL and u-boot files have been flashed, set the boot pins to SPI0 boot mode and reboot the board.  This is done by setting the boot switches on the EVM according to the following table:

<table style="color: black; background-color: rgb(238,238,238)" cellspacing="2" cellpadding="4" border="1">

<tbody><tr>
<td align="left">Pin#
</td>
<td align="center">7
</td>
<td align="center">2
</td>
<td align="center">1
</td>
<td align="center">0
</td>
<td align="center">3
</td></tr>
<tr>
<td align="left">Position
</td>
<td align="center">OFF
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td>
<td align="center">ON
</td>
<td align="center">OFF
</td></tr></tbody></table>
</li><li>Once u-boot has loaded, follow the instructions in the Getting Started Guide to copy the Linux kernel and filesystem to the SPI flash.
<ul><li><b><a href="Updating/Restoring_the_OMAP-L137_Kernel_Image.html" title="Updating/Restoring the OMAP-L137 Kernel Image">Updating the Kernel Image</a></b></li></ul>

</li></ol>
<h2><span class="mw-headline" id="Modifications_for_Custom_Boards">Modifications for Custom Boards</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=8" title="Edit section: Modifications for Custom Boards">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The default settings used by the tools apply only to the EVMs. For custom boards, changes will most likely be required, and the tools must be rebuilt. The custom changes should be made to the files in the OMAP-L137/Common/src and OMAP-L137/Common/include directories. Common changes include: 
</p>
<ul><li>SDRAM Configuration
<ul><li>device.c: Modify the parameters passed to the function DEVICE_ExternalMemInit to match the SDRAM timing requirements for the custom board</li></ul></li></ul>
<ul><li>UART Settings
<ul><li>device_uart.h: Modify the #define DEVICE_UART_PERIPHNUM to set which UART is connected to the host PC.</li>
<li>Note that flow control is not used, so only the RX and TX lines need to be connected for boot and flashing purposes.</li></ul></li></ul>
<ul><li>SPI Settings
<ul><li>device_spi.h: Modify the global macros to select the appropriate peripheral and chip select numbers.</li></ul></li></ul>
<ul><li>PLL Settings (for non 24 MHz input clocks)
<ul><li>device.c: Modify the parameters passed into the function DEVICE_PLL0Init and DEVICE_PLL1Init to set the proper PLL output frequencies</li>
<li>device_uart.c: Modify the 'divider' field in DEVICE_UART_config to achieve 115200 baud rate</li></ul></li></ul>
<ul><li>Adding New Target Type
<ul><li>..\OMAP-L137\Common\src\device_name.cs: Add new target type to 'deviceTypes' list</li>
<li>..\OMAP-L137\device.mak: Add new target type to 'DSP_DEVICETYPES' list</li>
<li>..\OMAP-L137\GNU\sft\build\makefile: Add compilation definition for new target type</li>
<li>..\OMAP-L137\GNU\ubl\build\makefile: Add compilation definition for new target type</li>
<li>..\Common\sft\src\uartboot.c: Edit or add target type considerations (such as load address offsets)</li></ul></li></ul>
<h2><span class="mw-headline" id="FAQ">FAQ</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=9" title="Edit section: FAQ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span id="Is_there_a_size_limit_to_the_image_I_can_flash?"></span><span class="mw-headline" id="Is_there_a_size_limit_to_the_image_I_can_flash.3F">Is there a size limit to the image I can flash?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=10" title="Edit section: Is there a size limit to the image I can flash?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No, as long as it can fit into external SDRAM there is no limit. Keep in mind that flashing large images at 115200 baud will take a very long time
</p>
<h3><span id="Can_the_tool_flash_other_boot_media_besides_those_listed_above?"></span><span class="mw-headline" id="Can_the_tool_flash_other_boot_media_besides_those_listed_above.3F">Can the tool flash other boot media besides those listed above?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=11" title="Edit section: Can the tool flash other boot media besides those listed above?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>By default, no. The code would have to be modified and rebuilt to support other boot media.
</p>
<h3><span id="Can_I_use_this_tool_if_I'm_using_something_other_than_a_24_MHz_input_clock?"></span><span class="mw-headline" id="Can_I_use_this_tool_if_I.27m_using_something_other_than_a_24_MHz_input_clock.3F">Can I use this tool if I'm using something other than a 24 MHz input clock?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=12" title="Edit section: Can I use this tool if I&#039;m using something other than a 24 MHz input clock?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Unfortunately no. The ROM bootloader assume a 24 MHz input clock and sets up the internal dividers accordingly.
</p>
<h2><span class="mw-headline" id="License">License</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit&amp;section=13" title="Edit section: License">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>These tools are provided as freeware, with no guarantee.
</p>
<!-- 
NewPP limit report
Cached time: 20201201041712
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.039 seconds
Real time usage: 0.040 seconds
Preprocessor visited node count: 68/1000000
Preprocessor generated node count: 96/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 52/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:19904-0!canonical and timestamp 20201201041712 and revision id 133193
 -->
</div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;oldid=133193">https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;oldid=133193</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_Flash.html" title="Category:Flash">Flash</a></li><li><a href="Category_Boot.html" title="Category:Boot">Boot</a></li><li><a href="Category_SPI.html" title="Category:SPI">SPI</a></li><li><a href="Category_OMAPL1.html" title="Category:OMAPL1">OMAPL1</a></li><li><a href="Category_AM1x.html" title="Category:AM1x">AM1x</a></li><li><a href="https://processors.wiki.ti.com/index.php?title=Category:OMAPL1x_Topic_Boot&amp;action=edit&amp;redlink=1" class="new" title="Category:OMAPL1x Topic Boot (page does not exist)">OMAPL1x Topic Boot</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=User%3AClintonr" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-user" class="selected"><span><a href="User_Clintonr.html" title="View the user page [c]" accesskey="c">User page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=User_talk:Clintonr&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="User_Clintonr.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/User_Clintonr.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/User_Clintonr.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-contributions"><a href="Special_Contributions/Clintonr.html" title="A list of contributions by this user">User contributions</a></li><li id="t-log"><a href="Special_Log/Clintonr.html">Logs</a></li><li id="t-userrights"><a href="Special_UserRights/Clintonr.html">View user groups</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;oldid=133193" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=User:Clintonr&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 21 February 2013, at 15:28.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.039","walltime":"0.040","ppvisitednodes":{"value":68,"limit":1000000},"ppgeneratednodes":{"value":96,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":52,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201201041712","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":235});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/User:Clintonr by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 07:13:11 GMT -->
</html>
