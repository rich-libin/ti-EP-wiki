<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Zigbee_Known_Issues_and_Proposed_Fixes by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 03:20:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Zigbee Known Issues and Proposed Fixes - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Zigbee_Known_Issues_and_Proposed_Fixes","wgTitle":"Zigbee Known Issues and Proposed Fixes","wgCurRevisionId":236858,"wgRevisionId":236858,"wgArticleId":45998,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Zigbee"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Zigbee_Known_Issues_and_Proposed_Fixes","wgRelevantArticleId":45998,"wgRequestId":"22ee66595e6c04b1c6927e3a","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Zigbee_Known_Issues_and_Proposed_Fixes rootpage-Zigbee_Known_Issues_and_Proposed_Fixes skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Zigbee Known Issues and Proposed Fixes</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Z-Stack_3.0.1_Issues.2FFixes"><span class="tocnumber">2</span> <span class="toctext">Z-Stack 3.0.1 Issues/Fixes</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Memory_Leak_in_zcl.c"><span class="tocnumber">2.1</span> <span class="toctext">Memory Leak in zcl.c</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Network_association_issues_after_prior_APS_Remove_or_Leave_Request"><span class="tocnumber">2.2</span> <span class="toctext">Network association issues after prior APS Remove or Leave Request</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Soft_Reset.2FFreezing.2FStack_Overflow_due_to_BDB_REPORTING_on_CC2530.2FCC2531"><span class="tocnumber">2.3</span> <span class="toctext">Soft Reset/Freezing/Stack Overflow due to BDB_REPORTING on CC2530/CC2531</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#OTA_Upgrade_from_ZHA_1.2_to_Z3.0_results_in_broken_device"><span class="tocnumber">2.4</span> <span class="toctext">OTA Upgrade from ZHA 1.2 to Z3.0 results in broken device</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#IEEE_Address_of_CC2538ZNP_is_reported_incorrectly"><span class="tocnumber">2.5</span> <span class="toctext">IEEE Address of CC2538ZNP is reported incorrectly</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Modifying_CC2538_Linker_to_utilize_all_32k_RAM_causes_lockup"><span class="tocnumber">2.6</span> <span class="toctext">Modifying CC2538 Linker to utilize all 32k RAM causes lockup</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#ZED_does_not_receive_Broadcast_sent_to_MAC_dst_0xFFFF_from_parent"><span class="tocnumber">2.7</span> <span class="toctext">ZED does not receive Broadcast sent to MAC dst 0xFFFF from parent</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#NWK.2FAPS_packet_retries.2Ffailure_when_ZED_polls_during_commissioning_.28Transport_Key.2C_Simple_Descriptor_Request.2C_etc.29"><span class="tocnumber">2.8</span> <span class="toctext">NWK/APS packet retries/failure when ZED polls during commissioning (Transport Key, Simple Descriptor Request, etc)</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#ZED_does_not_go_back_to_low_power_state_after_losing_parent_and_attempting_recovery"><span class="tocnumber">2.9</span> <span class="toctext">ZED does not go back to low power state after losing parent and attempting recovery</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#ZCL_ID_mixup_for_Chatting_.2B_Voice_Over_Zigbee"><span class="tocnumber">2.10</span> <span class="toctext">ZCL ID mixup for Chatting + Voice Over Zigbee</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#CC2530.2F1_ZNP_device_sporadically_returns_ZMemError"><span class="tocnumber">2.11</span> <span class="toctext">CC2530/1 ZNP device sporadically returns ZMemError</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#ZC_sends_ZEDs_Leave_Reqs_after_MAC_Association"><span class="tocnumber">2.12</span> <span class="toctext">ZC sends ZEDs Leave Reqs after MAC Association</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#APS_ACK_transID_parameter_error_if_using_zcl_TransID"><span class="tocnumber">2.13</span> <span class="toctext">APS ACK transID parameter error if using zcl_TransID</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#BDB_reporting_doesn.27t_support_read.2Fwrite_attribute_data_callback_functions"><span class="tocnumber">2.14</span> <span class="toctext">BDB reporting doesn't support read/write attribute data callback functions</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Errors_due_to_BDB_header_build_types"><span class="tocnumber">2.15</span> <span class="toctext">Errors due to BDB header build types</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Low_power_mode_not_entered_upon_ZED_rejoin"><span class="tocnumber">2.16</span> <span class="toctext">Low power mode not entered upon ZED rejoin</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Low_power_mode_not_entered_upon_ZED_factory_new_before_commissioning"><span class="tocnumber">2.17</span> <span class="toctext">Low power mode not entered upon ZED factory new before commissioning</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#ZED_poll_rate_set_incorrectly_if_reset_from_a_leave_request_with_rejoin_enabled"><span class="tocnumber">2.18</span> <span class="toctext">ZED poll rate set incorrectly if reset from a leave request with rejoin enabled</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Memory_leak_in_the_F.26B_function_of_BDB"><span class="tocnumber">2.19</span> <span class="toctext">Memory leak in the F&amp;B function of BDB</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Large_number_of_Address_Manager_entries_results_in_long_ZC_startup_times"><span class="tocnumber">2.20</span> <span class="toctext">Large number of Address Manager entries results in long ZC startup times</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Inclusion_of_HAL_PA_LNA_CC2592_did_not_propagate_to_ZNP_project"><span class="tocnumber">2.21</span> <span class="toctext">Inclusion of HAL_PA_LNA_CC2592 did not propagate to ZNP project</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This page contains known issues on the published Zigbee Software releases from TI. TI has a software release candidates and all fixes may not be available to developers as soon as they are implemented. The purpose of this page is to provide developers information of the issues and fixes in case an issue is found on the published software before a new release is made. This will help developers fix problems before they are fixed in released Zigbee releases from TI.
</p>
<h2><span id="Z-Stack_3.0.1_Issues/Fixes"></span><span class="mw-headline" id="Z-Stack_3.0.1_Issues.2FFixes">Z-Stack 3.0.1 Issues/Fixes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=2" title="Edit section: Z-Stack 3.0.1 Issues/Fixes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Memory_Leak_in_zcl.c">Memory Leak in zcl.c</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=3" title="Edit section: Memory Leak in zcl.c">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
Memory leak in zcl_HandleExternal()
<br /><br />
Proposed Fix:
</p>
<pre>zcl_HandleExternal()
{
...
#ifdef BDB_REPORTING
    if(pCmd-&gt;zclHdr.commandID == ZCL_CMD_CONFIG_REPORT)
    {
      bdb_ProcessInConfigReportCmd(pCmd);
      osal_msg_deallocate((uint8 *)pCmd); // ++++++++++++++ ADD THIS CODE
      return TRUE;          
    }
    if(pCmd-&gt;zclHdr.commandID == ZCL_CMD_READ_REPORT_CFG)
    {
      bdb_ProcessInReadReportCfgCmd(pCmd);
      osal_msg_deallocate((uint8 *)pCmd); // ++++++++++++++ ADD THIS CODE
      return TRUE;
    }
#endif
...
}
</pre>
<h3><span class="mw-headline" id="Network_association_issues_after_prior_APS_Remove_or_Leave_Request">Network association issues after prior APS Remove or Leave Request</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=4" title="Edit section: Network association issues after prior APS Remove or Leave Request">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
Under some conditions when an APS Remove/Leave Request is sent to a device to remove itself or another device, NV will not be cleared properly and new network associates will not work due to the old APS key from the TC Link Key exchange staying persistent in NV.
<br /><br />
Proposed Fix:
</p>
<pre>// in ZDApp.c
UINT16 ZDApp_event_loop( uint8 task_id, UINT16 events )
{
...
  if ( events &amp; ZDO_DEVICE_RESET )
  {
#ifdef ZBA_FALLBACK_NWKKEY
    if ( devState == DEV_END_DEVICE_UNAUTH )
    {
      ZDSecMgrFallbackNwkKey();
    }
    else
#endif
    {
      // Set the NV startup option to force a "new" join.
      zgWriteStartupOptions( ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE | ZCD_STARTOPT_DEFAULT_CONFIG_STATE ); /// ++++ MODIFY THIS LINE ++++

      // The device has been in the UNAUTH state, so reset
      // Note: there will be no return from this call
      SystemResetSoft();
    }
  }
...
}
</pre>
<h3><span id="Soft_Reset/Freezing/Stack_Overflow_due_to_BDB_REPORTING_on_CC2530/CC2531"></span><span class="mw-headline" id="Soft_Reset.2FFreezing.2FStack_Overflow_due_to_BDB_REPORTING_on_CC2530.2FCC2531">Soft Reset/Freezing/Stack Overflow due to BDB_REPORTING on CC2530/CC2531</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=5" title="Edit section: Soft Reset/Freezing/Stack Overflow due to BDB REPORTING on CC2530/CC2531">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
The default size of the XDATA stack is 0x300 (768 bytes), and with the addition of BDB_REPORTING in an application, sometimes the callstack will become too large and overflow the XDATA stack.
<br /><br />
Proposed Fix:<br />
Increase the size of the XDATA stack in the project options to <b>at least 0x400</b>:
</p><p><a href="File_SampleLight_XDATA_Stack_0x400_31JAN2018.html" class="image"><img alt="SampleLight XDATA Stack 0x400 31JAN2018.png" src="https://processors.wiki.ti.com/images/b/bb/SampleLight_XDATA_Stack_0x400_31JAN2018.png" width="728" height="608" /></a>
</p><p><br />
</p>
<h3><span class="mw-headline" id="OTA_Upgrade_from_ZHA_1.2_to_Z3.0_results_in_broken_device">OTA Upgrade from ZHA 1.2 to Z3.0 results in broken device</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=6" title="Edit section: OTA Upgrade from ZHA 1.2 to Z3.0 results in broken device">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
When doing an OTA upgrade from ZHA 1.2 to Z3.0, the usage of some NV items have changed between versions and the network security information is formatted in a different way. Because of this, it is necessary that we "upgrade" some NV security items when doing this upgrade.
</p><p>Proposed Fix:<br /> 
</p><p>Some code below already exists in Z-Stack and is provided as context. Add all the code changes for this fix are under the compile flag <b>UPGRADE_SECURITY_NV_ITEMS</b>
</p>
<pre>// in ZGlobals.c


/*********************************************************************
 * LOCAL FUNCTIONS
 */
...
#ifdef UPGRADE_SECURITY_NV_ITEMS
static void zgUpgradeSecurityNVItems( void );
#endif // UPGRADE_SECURITY_NV_ITEMS
...

uint8 zgInit( void )
{
...
#ifndef NONWK
  if ( ZG_SECURE_ENABLED )
  {
    // Initialize the Pre-Configured Key to the default key
    zgPreconfigKeyInit( setDefault );

    // Initialize NV items for all Keys: NWK, APS, TCLK and Master
    ZDSecMgrInitNVKeyTables( setDefault );
  }
#endif // NONWK

#ifdef UPGRADE_SECURITY_NV_ITEMS
  zgUpgradeSecurityNVItems();
#endif // UPGRADE_SECURITY_NV_ITEMS

  // Clear the Config State default
  if ( setDefault )
  {
    zgWriteStartupOptions( ZG_STARTUP_CLEAR, ZCD_STARTOPT_DEFAULT_CONFIG_STATE );
  }
...
}

#ifdef UPGRADE_SECURITY_NV_ITEMS
static void zgUpgradeSecurityNVItems( void )
{
  //Nv configuration to allow upgrade from HA1.2 to Z3.0

  uint8 isOnANetwork = 1;
  //Read bdb attribute
  if(osal_nv_read(ZCD_NV_BDBNODEISONANETWORK, 0, sizeof(uint8), &amp;isOnANetwork) == SUCCESS)
  {
    //After upgrade, this parameter will be 0, then update properly as it is in a network.
    //If the device was not in a network and is upgraded, the BDB will handle the network 
    //configuration status and will performing FN reset.
    
    nwkSecMaterialDesc_t  nwkSecMaterialDesc;
    nwkActiveKeyItems     keyItems;
    uint8                 keyAttributes;
    uint8                 tempKey[SEC_KEY_LEN];
    
    osal_memset(tempKey, 0x00, SEC_KEY_LEN);
    
    //Get the network frame counter from old NV item, also check if old key exists.
    //if it doesn't, we can assume that this is factory new Z3.0 device instead of 
    //upgraded ZHA 1.2 device
    osal_nv_read( ZCD_NV_NWKKEY, 0, sizeof( nwkActiveKeyItems ),(void *)&amp;keyItems );
    
    if( osal_memcmp(tempKey, keyItems.active.key, SEC_KEY_LEN) )
    {
      // device is factory new, don't do anything 
    }
    // else if node is not on a network currently and is not factory new Z3.0 device, 
    // it must be ZHA 1.2 -&gt; Z3.0.1 upgraded device
    else if(!isOnANetwork)
    {
      //If none of these parameters can be configured by Nv operations BDB will be able to initialize or handle.
      
      //set bdbNodeIsOnANetwork attribute to 1 indicating that we need to resume our network state
      isOnANetwork = 0x01;
      osal_nv_write( ZCD_NV_BDBNODEISONANETWORK, 0, sizeof(uint8), &amp;isOnANetwork );
      
      //Set the network frame counter in new NV item, frame counter will be incremented by 1000+250 in ZDApp_RestoreNwkSecMaterial() 
      //to ensure that its outgoing packets can be used by devices in its previous network
      nwkSecMaterialDesc.FrameCounter = keyItems.frameCounter; 
      
      //Retrieve Extended PANID from NIB in NV
      osal_nv_read( ZCD_NV_NIB, osal_offsetof(nwkIB_t,extendedPANID), Z_EXTADDR_LEN, &amp;nwkSecMaterialDesc.extendedPanID );
      
      //Set the BDB network security material, BDB state machine will restore network state if this is a valid entry
      osal_nv_write( ZCD_NV_NWK_SEC_MATERIAL_TABLE_START, 0, sizeof(nwkSecMaterialDesc_t), &amp;nwkSecMaterialDesc );  
      
      //indicate to BDB that our previous nwk was non-R21, so don't expect TC Link Key exchange
      keyAttributes = ZG_NON_R21_NWK_JOINED;
      osal_nv_write(ZCD_NV_TCLK_TABLE_START, osal_offsetof(APSME_TCLKDevEntry_t,keyAttributes), sizeof(uint8), &amp;keyAttributes); 
    }
  }
}
#endif // UPGRADE_SECURITY_NV_ITEMS
</pre>
<h3><span class="mw-headline" id="IEEE_Address_of_CC2538ZNP_is_reported_incorrectly">IEEE Address of CC2538ZNP is reported incorrectly</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=7" title="Edit section: IEEE Address of CC2538ZNP is reported incorrectly">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
MSB and LSB of IEEE address are flipped when using the CC2538ZNP project. This is due to the placement of the IEEE address in Flash changing between test and production versions of the CC2538 SoC devices. Non-ZNP CC2538ZNP projects are not affected because they use a different ZMain.c file, which already has the fix for this applied.
</p><p>Proposed Fix:<br /> 
</p>
<pre>// in ZMain.c for CC2538ZNP

/******************************************************************************
 * LOCAL DEFINITIONS
 */

// TI IEEE Organizational Unique Identifier
#define IEEE_OUI 0x00124B

...

// replace zmain_ext_addr() with the definition below
static void zmain_ext_addr( void )
{
  uint8 nullAddr[Z_EXTADDR_LEN] = {0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF};
  uint8 writeNV = TRUE;

  // First check whether a non-erased extended address exists in the OSAL NV.
  if ((SUCCESS&#160;!= osal_nv_item_init(ZCD_NV_EXTADDR, Z_EXTADDR_LEN, NULL))  ||
      (SUCCESS&#160;!= osal_nv_read(ZCD_NV_EXTADDR, 0, Z_EXTADDR_LEN, aExtendedAddress)) ||
      (osal_memcmp(aExtendedAddress, nullAddr, Z_EXTADDR_LEN)))
  {
    // Attempt to read the extended address from the location in the last flash
    // page where the commissioning tools know to reserve it.
    if (!osal_memcmp((uint8 *)HAL_FLASH_IEEE_ADDR, nullAddr, Z_EXTADDR_LEN))
    {
      (void)osal_memcpy(aExtendedAddress, (uint8 *)HAL_FLASH_IEEE_ADDR, Z_EXTADDR_LEN);
    }
    else
    {
      // Disable prefetch when reading from Information Page.
      uint32 fctl = HWREG(FLASH_CTRL_FCTL);
      HWREG(FLASH_CTRL_FCTL) = fctl &amp; ~(FLASH_CTRL_FCTL_PREFETCH_ENABLE);

      // Copy 64-bit extended address from the Information Page
      (void)osal_memcpy(aExtendedAddress, (uint8*)HAL_INFO_IEEE_ADDR, Z_EXTADDR_LEN);
      if (!osal_memcmp(aExtendedAddress, nullAddr, Z_EXTADDR_LEN))
      {
        uint32 oui = IEEE_OUI;
        // IEEE OUI is located in the upper 3 bytes of an 8-byte extended address
        // Early Test CC2538EMs had the TI OUI located in the 2nd word,
        // Production CC2538 devices have the TI OUI located in the 1st word
        if (osal_memcmp(&amp;aExtendedAddress[1], &amp;oui, 3))
        {
          // OUI found in 1st word, swap words to place OUI in upper bytes
          (void)osal_memcpy(aExtendedAddress, &amp;aExtendedAddress[4], Z_EXTADDR_LEN/2);
          (void)osal_memcpy(&amp;aExtendedAddress[4], (uint8*)HAL_INFO_IEEE_ADDR, Z_EXTADDR_LEN/2);
        }
      }
      else  // No valid extended address was found.
      {
        uint8 idx;

#if&#160;!defined ( NV_RESTORE )
        writeNV = FALSE;  // Make a temporary IEEE address, not saved in NV
#endif

       /* Create a sufficiently random extended address for expediency.
        * Note: this is only valid/legal in a test environment and
        *       must never be used for a commercial product.
        */
        for (idx = 0; idx &lt; (Z_EXTADDR_LEN - 2);)
        {
          uint16 randy = osal_rand();
          aExtendedAddress[idx++] = LO_UINT16(randy);
          aExtendedAddress[idx++] = HI_UINT16(randy);
        }
        // Next-to-MSB identifies ZigBee device type.
#if ZG_BUILD_COORDINATOR_TYPE &amp;&amp;&#160;!ZG_BUILD_JOINING_TYPE
        aExtendedAddress[idx++] = 0x10;
#elif ZG_BUILD_RTRONLY_TYPE
        aExtendedAddress[idx++] = 0x20;
#else
      aExtendedAddress[idx++] = 0x30;
#endif
      // MSB has historical signficance.
        aExtendedAddress[idx] = 0xF8;
      }

      // Restore flash control to previous state
      HWREG(FLASH_CTRL_FCTL) = fctl;
    }

    if (writeNV)
    {
      (void)osal_nv_write(ZCD_NV_EXTADDR, 0, Z_EXTADDR_LEN, aExtendedAddress);
    }
  }

  // Set the MAC PIB extended address according to results from above.
  (void)ZMacSetReq(MAC_EXTENDED_ADDRESS, aExtendedAddress);
}

...
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Modifying_CC2538_Linker_to_utilize_all_32k_RAM_causes_lockup">Modifying CC2538 Linker to utilize all 32k RAM causes lockup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=8" title="Edit section: Modifying CC2538 Linker to utilize all 32k RAM causes lockup">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
Some CC2538 parts have 32k of RAM, but the first 16k is disabled by default in our linker file since only the second 16k is retained in all power modes. The first 16k of RAM loses its contents when the device enters PM2. If you are designing a device which never goes into low power mode, it is fine to reclaim this RAM for application usage. You can do this by changing the following in the linker file: 
</p>
<pre>//
// Define a region for the on-chip SRAM.
//
define region SRAM = mem:[from 0x20000000 to 0x20007FFF]; // 0x20004000 --&gt; 0x20000000
</pre>
<p>However, in some applications, increasing the RAM to this value will cause Z-Stack to lock up.
</p><p><br />
Proposed Fix:
</p><p>Move the run-time stack to the end of RAM. Find the code below in your linker file and make the following change:
</p>
<pre>//
// Indicate that the noinit values should be left alone.  This includes the
// stack, which if initialized will destroy the return address from the
// initialization code, causing the processor to branch to zero and fault.
//
do not initialize { section .noinit };
place at end of SRAM { section .noinit }; // ++++++++++ ADD THIS LINE ++++++++++
</pre>
<h3><span class="mw-headline" id="ZED_does_not_receive_Broadcast_sent_to_MAC_dst_0xFFFF_from_parent">ZED does not receive Broadcast sent to MAC dst 0xFFFF from parent</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=9" title="Edit section: ZED does not receive Broadcast sent to MAC dst 0xFFFF from parent">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
In Zigbee, if a broadcast message is sent to destination address 0xFFFF, all devices (Rx-always-on AND sleepy) will receive this message. This means that parent routing devices must buffer broadcasts sent to 0xFFFF for any of their sleepy ZED children. In Z-Stack, if you have a single ZR/ZC node that has more than (32 - MAX_NEIGHBOR_ENTRIES) direct sleepy ZED children, each ZED beyond this number will not be able to receive the broadcast message. MAX_NEIGHBOR_ENTRIES is 16 by default for routing devices in Z-Stack.
</p><p>Proposed Fix:<br />
There is no perfect fix available for this right now since this implementation is in the pre-compiled Z-Stack libraries, but there are some workarounds we can suggest:
</p>
<ol><li>Do not send broadcast messages to destination 0xFFFF, only use 0xFFFC/0xFFFD (MAC dst addr for rx-always-on devices only) and send unicast messages to sleepy ZED nodes.
<ul><li>This is the preferred method, since you will not have to limit your device table size as a result.</li></ul></li>
<li>Limit the number of sleepy ZED nodes per ZC/ZR to a maximum of 16
<ul><li>This is good practice for large networks anyway, for a robust mesh network topology you should always aim for one ZR for every 10-15 ZEDs</li></ul></li>
<li>Decrease MAX_NEIGHBOR_ENTRIES from 16 to a smaller value
<ul><li>Not recommended, MAX_NEIGHBOR_ENTRIES determines the size of your neighbor table, which is a list of ZR devices that are within RF range of you. Larger neighbor table = easier Zigbee route discovery = more robust mesh networking. TI Z-Stack was tested with MAX_NEIGHBOR_ENTRIES=16 to be a good value for most Zigbee networking situations.</li></ul></li></ol>
<h3><span id="NWK/APS_packet_retries/failure_when_ZED_polls_during_commissioning_(Transport_Key,_Simple_Descriptor_Request,_etc)"></span><span class="mw-headline" id="NWK.2FAPS_packet_retries.2Ffailure_when_ZED_polls_during_commissioning_.28Transport_Key.2C_Simple_Descriptor_Request.2C_etc.29">NWK/APS packet retries/failure when ZED polls during commissioning (Transport Key, Simple Descriptor Request, etc)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=10" title="Edit section: NWK/APS packet retries/failure when ZED polls during commissioning (Transport Key, Simple Descriptor Request, etc)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
Sometimes ZC will fail to send out a NWK/APS layer packet during network commissioning, e.g. Transport Key, to a joining ZED, and this requires the ZED to poll again to get the packet. This will not cause functionality issues for the joining device since it will retry and eventually get the packet, but it is not ideal to need to retry to receive the same packet multiple times. This issue is caused by a race condition involving a blocking NV write operation that happens on the ZC after a new device joins the network.
</p><p>Proposed Fix:<br />
Change the value of ZDAPP_UPDATE_NWK_NV_TIME from it's default of 700 (ms) to a larger value, like 3500. This will cause the NV write operation to start at a later time and thus not interfere with network commissioning.
</p>
<h3><span class="mw-headline" id="ZED_does_not_go_back_to_low_power_state_after_losing_parent_and_attempting_recovery">ZED does not go back to low power state after losing parent and attempting recovery</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=11" title="Edit section: ZED does not go back to low power state after losing parent and attempting recovery">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
After the API <b>bdb_ZedAttemptRecoverNwk()</b> is called from the application to attempt for a ZED to rejoin the network, the receiver is not turned back off, which causes ZED to leave RX on during idle and not go into a low power state.
</p><p>Proposed fix:<br />
Modify the function <b>bdb_parentLost()</b> in bdb.c:
</p>
<pre>void bdb_parentLost(void)
{
#if ZG_BUILD_ENDDEVICE_TYPE
  if(ZG_DEVICE_ENDDEVICE_TYPE)
  {
    while(pBDBListNwk)
    {
      bdb_nwkDescFree(pBDBListNwk);
    }
    
    nwk_desc_list_free();  
    if(bdbCommissioningProcedureState.bdbCommissioningState&#160;!= BDB_PARENT_LOST)
    {
      //If parent lost during TCLK exchange, then report TCLK exchange fail
      if(bdbCommissioningProcedureState.bdbCommissioningState == BDB_COMMISSIONING_STATE_TC_LINK_KEY_EXCHANGE)
      {
        bdb_reportCommissioningState(BDB_COMMISSIONING_STATE_TC_LINK_KEY_EXCHANGE, FALSE);
        return;
      }
      bdbCommissioningProcedureState.bdb_ParentLostSavedState = bdbCommissioningProcedureState.bdbCommissioningState;
      
    }
    bdbCommissioningProcedureState.bdbCommissioningState = BDB_PARENT_LOST;
    NLME_OrphanStateSet();
    ZDApp_ChangeState( DEV_NWK_ORPHAN );

    // turn receiver off while in orphan state
    byte temp = FALSE;                   // ++++++++++++++ ADD THIS CODE
    ZMacSetReq(ZMacRxOnIdle, &amp;temp);     // ++++++++++++++ ADD THIS CODE

    bdb_reportCommissioningState(BDB_PARENT_LOST,FALSE);
  }
#endif
}

</pre>
<p><br />
</p>
<h3><span id="ZCL_ID_mixup_for_Chatting_+_Voice_Over_Zigbee"></span><span class="mw-headline" id="ZCL_ID_mixup_for_Chatting_.2B_Voice_Over_Zigbee">ZCL ID mixup for Chatting + Voice Over Zigbee</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=12" title="Edit section: ZCL ID mixup for Chatting + Voice Over Zigbee">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
ZCL IDs are swapped
</p><p>Proposed fix:<br />
</p>
<pre>// this is how it is now

#define ZCL_CLUSTER_ID_TELECOMMUNICATIONS_CHATTING           0x0904

#define ZCL_CLUSTER_ID_TELECOMMUNICATIONS_VOICE_OVER_ZIGBEE  0x0905

// IDs should be swapped like this:

#define ZCL_CLUSTER_ID_TELECOMMUNICATIONS_CHATTING           0x0905

#define ZCL_CLUSTER_ID_TELECOMMUNICATIONS_VOICE_OVER_ZIGBEE  0x0904
</pre>
<h3><span id="CC2530/1_ZNP_device_sporadically_returns_ZMemError"></span><span class="mw-headline" id="CC2530.2F1_ZNP_device_sporadically_returns_ZMemError">CC2530/1 ZNP device sporadically returns ZMemError</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=13" title="Edit section: CC2530/1 ZNP device sporadically returns ZMemError">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
Sometimes in our Zigbee Linux Gateway solution, a CC2530/1 ZNP device will return a failure message with the status ZMemError, like below.
</p>
<pre>[14:52:12.119,309] [GATEWAY/LSTN] PKTTYPE: [                  Z_STACK&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;GATEWAY         ] afDataReq
[14:52:12.120,400] [GATEWAY/LSTN] PKTBODY:                                                          cmdID = AF_DATA_REQ
[14:52:12.122,748] [GATEWAY/LSTN] PKTBODY:                                                          dstAddr&#160;:
[14:52:12.123,831] [GATEWAY/LSTN] PKTBODY:                                                            addrMode = SHORT
[14:52:12.125,632] [GATEWAY/LSTN] PKTBODY:                                                            shortAddr = 0x0000EC56 (60502)
[14:52:12.126,453] [GATEWAY/LSTN] PKTBODY:                                                            endpoint = 0x00000001 (1)
[14:52:12.126,601] [GATEWAY/LSTN] PKTBODY:                                                            panID = 0x00000000 (0)
[14:52:12.128,656] [GATEWAY/LSTN] PKTBODY:                                                          srcEndpoint = 0x00000004 (4)
[14:52:12.128,963] [GATEWAY/LSTN] PKTBODY:                                                          clusterID = 0x00000402 (1026)
[14:52:12.129,108] [GATEWAY/LSTN] PKTBODY:                                                          transID = 0x00000011 (17)
[14:52:12.129,856] [GATEWAY/LSTN] PKTBODY:                                                          options&#160;:
[14:52:12.130,114] [GATEWAY/LSTN] PKTBODY:                                                          radius = 0x0000001E (30)
[14:52:12.130,282] [GATEWAY/LSTN] PKTBODY:                                                          payload (hex string) = 00:11:06:00:00:00:29:3C:00:84:03:64:00
[14:52:12.130,864] [Z_STACK/LSTN] PKTTYPE: [         NPISRVR&lt;&lt;Z_STACK                           ] [SREQ] 21:24:02:02:56:EC:00:08:02:10:F3:EE:01:00:00:04:02:04:11:00:1E:0D:00:00:11:06:00:00:00:29:3C:00:84:03:64:00
[14:52:12.131,305] [NPISRVR/MAIN] PKT_HEX: [SOCZIGB&lt;&lt;NPISRVR                                    ] [send] 21:24:02:02:56:EC:00:08:02:10:F3:EE:01:00:00:04:02:04:11:00:1E:0D:00:00:11:06:00:00:00:29:3C:00:84:03:64:00
[14:52:12.145,118] [NPISRVR/U_RX] PKT_HEX: [SOCZIGB&gt;&gt;NPISRVR                                    ] [SRSP] 01:64:02:10
[14:52:12.145,559] [NPISRVR/MAIN] PKT_HEX: [         NPISRVR&gt;&gt;Z_STACK                           ] [ucst] 01:64:02:10
[14:52:12.146,349] [Z_STACK/LSTN] PKTTYPE: [                  Z_STACK&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;GATEWAY         ] zstackDefaultRsp
[14:52:12.146,499] [Z_STACK/LSTN] PKTBODY:                                                          cmdID = AF_DATA_REQ
[14:52:12.146,567] [Z_STACK/LSTN] PKTBODY:                                                          status = ZMemError
[14:52:12.148,151] [GATEWAY/LSTN] PKTTYPE: [                                    GATEWAY&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;CON007] GwZigbeeGenericCnf
[14:52:12.148,413] [GATEWAY/LSTN] PKTBODY:                                                          cmdId = ZIGBEE_GENERIC_CNF
[14:52:12.148,556] [GATEWAY/LSTN] PKTBODY:                                                          status = STATUS_FAILURE
[14:52:12.148,679] [GATEWAY/LSTN] PKTBODY:                                                          sequenceNumber = 0x000001A1 (417)
</pre>
<p>Proposed fix:<br />
Increase the size of the heap in the CC2530/1 ZNP project. By default, it is <b>2170 bytes</b> for the ZNP project which is too small for some applications.
</p><p>You can increase the size of the heap by adding this compile flag to your project's Preprocessor Defined Symbols:
</p><p><b>MAXMEMHEAP=2800</b>
</p><p>To further increase the heap (or for general RAM/Flash optimizations) check this wiki page:
<a rel="nofollow" class="external free" href="http://www.ti.com/lit/swra635">http://processors.wiki.ti.com/index.php/Optimizing_Flash_and_RAM_Usage_of_Z-Stack_for_CC2530</a>
</p>
<h3><span class="mw-headline" id="ZC_sends_ZEDs_Leave_Reqs_after_MAC_Association">ZC sends ZEDs Leave Reqs after MAC Association</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=14" title="Edit section: ZC sends ZEDs Leave Reqs after MAC Association">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
When trying to join a large number of ZEDs at once, ZC will sometimes send ZEDs Leave (w/ Rejoin) Requests. This is due to the network layer data buffers overflowing. If ZC is unable to buffer the Transport Key packet to the ZED due to lack of space in the network layer data buffers (for buffering indirect messages for sleepy children), ZC will discard the Transport Key and then remove the device from it's association table. Then, the next time that ZED polls the ZC for data, the ZC will send it a Leave Request because the ZC believes it is "rogue" since that ZED is not in it's association table.
</p><p>Proposed fix:<br />
1. Stagger the joining of ZED devices, i.e. make your join event sporadic (osal_rand()&#160;% 30000) &lt;--- random amount of time between 0 and 30 seconds
</p><p>2. Join less ZEDs at once
</p><p>3. Increase the number of network layer data buffers, if RAM permits:
</p>
<pre>// in nwk_globals.c
// doubling the size of all the buffers:

// Maximums for the data buffer queue
#define NWK_MAX_DATABUFS_WAITING    16 //8     // Waiting to be sent to MAC
#define NWK_MAX_DATABUFS_SCHEDULED  10 //5     // Timed messages to be sent
#define NWK_MAX_DATABUFS_CONFIRMED  10 //5     // Held after MAC confirms
#define NWK_MAX_DATABUFS_TOTAL      24 //12    // Total number of buffers
</pre>
<h3><span class="mw-headline" id="APS_ACK_transID_parameter_error_if_using_zcl_TransID">APS ACK transID parameter error if using zcl_TransID</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=15" title="Edit section: APS ACK transID parameter error if using zcl TransID">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
zcl_TransID is used as the parameter of AF_DataRequest() in zcl_SendCommand() but is always zero.  It was only used since it doesn't affect the APS frame and since the APS header has the correct sequence number only the APS ACK validation is affected.  Therefore zcl_TransID becomes obsolete after being removed from this function.
</p><p>Proposed fix:<br />
Use APS_Counter instead since this variable is incremented each time an APS frame is generated in APSDE_FrameHdrSet() and has the count of APS frames
</p>
<pre>// in External Variables section of zcl.c
extern uint8 APS_Counter;

// in zcl_SendCommand() of zcl.c
// Fill in the command frame
zcl_memcpy( pBuf, cmdFormat, cmdFormatLen );

status = AF_DataRequest( destAddr, epDesc, clusterID, msgLen, msgBuf,
                         &amp;APS_Counter, options, AF_DEFAULT_RADIUS);
zcl_mem_free ( msgBuf );
</pre>
<h3><span id="BDB_reporting_doesn't_support_read/write_attribute_data_callback_functions"></span><span class="mw-headline" id="BDB_reporting_doesn.27t_support_read.2Fwrite_attribute_data_callback_functions">BDB reporting doesn't support read/write attribute data callback functions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=16" title="Edit section: BDB reporting doesn&#039;t support read/write attribute data callback functions">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
The current BDB reporting implementation doesn't support attributes that use a callback function to read/write attribute data.
</p><p>Proposed fix:<br />
Replace bdb_RepFindAttrEntry() in bdb_reporting.c
</p>
<pre>uint8 gAttrDataValue[BDBREPORTING_MAX_ANALOG_ATTR_SIZE];

static uint8 bdb_RepFindAttrEntry( uint8 endpoint, uint16 cluster, uint16 attrID, zclAttribute_t* attrRes )
{
  epList_t *epCur = epList;
  uint8 i;

  zcl_memset(gAttrDataValue, 0, BDBREPORTING_MAX_ANALOG_ATTR_SIZE);
  for ( epCur = epList; epCur&#160;!= NULL; epCur = epCur-&gt;nextDesc )
  {
    if( epCur-&gt;epDesc-&gt;endPoint == endpoint )
    {
      zclAttrRecsList* attrItem = zclFindAttrRecsList( epCur-&gt;epDesc-&gt;endPoint );
      
      if( (attrItem&#160;!= NULL) &amp;&amp; ( (attrItem-&gt;numAttributes &gt; 0) &amp;&amp; (attrItem-&gt;attrs&#160;!= NULL) ) )
      {
        for ( i = 0; i &lt; attrItem-&gt;numAttributes; i++ )
        {
          if ( ( attrItem-&gt;attrs[i].clusterID == cluster ) &amp;&amp; ( attrItem-&gt;attrs[i].attr.attrId ==  attrID ) )
          {
            uint16 dataLen;

            attrRes-&gt;attrId = attrItem-&gt;attrs[i].attr.attrId;
            attrRes-&gt;dataType = attrItem-&gt;attrs[i].attr.dataType;
            attrRes-&gt;accessControl = attrItem-&gt;attrs[i].attr.accessControl;

            dataLen = zclGetDataTypeLength(attrRes-&gt;dataType);
            zcl_ReadAttrData( endpoint, cluster, attrRes-&gt;attrId, gAttrDataValue, &amp;dataLen );
            attrRes-&gt;dataPtr = gAttrDataValue;
            return BDBREPORTING_TRUE;
          }
        }
      }
    }
  }
  return BDBREPORTING_FALSE;
 }
</pre>
<h3><span class="mw-headline" id="Errors_due_to_BDB_header_build_types">Errors due to BDB header build types</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=17" title="Edit section: Errors due to BDB header build types">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
Some identifiers are left undefined if -DZSTACK_DEVICE_BUILD="(DEVICE_BUILD_ROUTER | DEVICE_BUILD_ENDDEVICE)" (from znp.cfg).
</p><p>Proposed fix:<br />
Replace bdb.h include and macros sections:
</p>
<pre>#if (ZG_BUILD_JOINING_TYPE || (ZSTACK_DEVICE_BUILD == DEVICE_BUILD_ROUTER) || (ZSTACK_DEVICE_BUILD == DEVICE_BUILD_ENDDEVICE)) // ++ CHANGE THIS LINE
//Optional
  #if defined ( INTER_PAN ) &amp;&amp; ( defined ( BDB_TL_INITIATOR ) || defined ( BDB_TL_TARGET ) )
    #define BDB_TOUCHLINK_CAPABILITY_ENABLED 1
  #else
    #define BDB_TOUCHLINK_CAPABILITY_ENABLED 0
  #endif
#else
  #if defined ( INTER_PAN ) &amp;&amp; ( defined ( BDB_TL_INITIATOR ) || defined ( BDB_TL_TARGET ) )
    #error TouchLink cannot be enabled for coordinator. Please make sure not to define either BDB_TL_INITIATOR or BDB_TL_TARGET
  #endif
#endif

/*********************************************************************
 * MACROS
 */
  
// bdbNodeCommissioningCapability MACROS  
#if (ZG_BUILD_COORDINATOR_TYPE) 
  #define BDB_NETWORK_STEERING_CAPABILITY (BDB_NETWORK_STEERING_CAPABILITY_ENABLED&lt;&lt;0)
  #define BDB_NETWORK_FORMATION_CAPABILITY (BDB_NETWORK_FORMATION_CAPABILITY_ENABLED&lt;&lt;1)
  #define BDB_FINDING_BINDING_CAPABILITY (BDB_FINDING_BINDING_CAPABILITY_ENABLED&lt;&lt;2)
  #define BDB_TOUCHLINK_CAPABILITY (0&lt;&lt;3) //ZC cannot perform TL proceedure
#endif
#if (ZG_BUILD_JOINING_TYPE || (ZSTACK_DEVICE_BUILD == DEVICE_BUILD_ROUTER )) // ++ CHANGE THIS LINE
  #define BDB_NETWORK_STEERING_CAPABILITY (BDB_NETWORK_STEERING_CAPABILITY_ENABLED&lt;&lt;0)
  #define BDB_NETWORK_FORMATION_CAPABILITY (BDB_ROUTER_FORM_DISTRIBUTED_NWK_ENABLED&lt;&lt;1)
  #define BDB_FINDING_BINDING_CAPABILITY (BDB_FINDING_BINDING_CAPABILITY_ENABLED&lt;&lt;2)
  #define BDB_TOUCHLINK_CAPABILITY (BDB_TOUCHLINK_CAPABILITY_ENABLED&lt;&lt;3) 
#endif    
#if (ZG_BUILD_ENDDEVICE_TYPE)
  #define BDB_NETWORK_STEERING_CAPABILITY      (BDB_NETWORK_STEERING_CAPABILITY_ENABLED&lt;&lt;0)
  #define BDB_NETWORK_FORMATION_CAPABILITY     (0&lt;&lt;1)                                       //ZED cannot form nwk
  #define BDB_FINDING_BINDING_CAPABILITY       (BDB_FINDING_BINDING_CAPABILITY_ENABLED&lt;&lt;2)
  #define BDB_TOUCHLINK_CAPABILITY             (BDB_TOUCHLINK_CAPABILITY_ENABLED&lt;&lt;3)      
#endif  
</pre>
<p>Modify f8wCoord.cfg by commenting coordinator setting and adding router and device build:
</p>
<pre>/* Coordinator Settings */
//-DZDO_COORDINATOR // Coordinator Functions
//-DRTR_NWK

/* Generic All-in-One Settings */
-DZSTACK_DEVICE_BUILD="(DEVICE_BUILD_ROUTER | DEVICE_BUILD_ENDDEVICE)"

/* Other Settings */
-DNWK_AUTO_POLL
</pre>
<p>Change the device library with -C $PROJ_DIR$\..\..\..\Libraries\TI2530DB\bin\AllDevice-Pro.lib and replace all instances of <b>#if ( ZSTACK_ROUTER_BUILD ) || defined ( ZBIT )</b> with <b>#if ( ZSTACK_ROUTER_BUILD ) || (ZG_BUILD_ENDDEVICE_TYPE) || defined ( ZBIT )</b>
</p>
<h3><span class="mw-headline" id="Low_power_mode_not_entered_upon_ZED_rejoin">Low power mode not entered upon ZED rejoin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=18" title="Edit section: Low power mode not entered upon ZED rejoin">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
The ZED device state is incorrectly set during rejoin, therefore bypassing the entry into standby and remaining active.  This results in higher current consumption than should be expected.
</p><p>Proposed fix:<br />
Change DEV_END_DEVICE to DEV_NWK_SEC_REJOIN_CURR_CHANNEL inside the BDB_PARENT_LOST and BDB_INITIALIZATION cases of bdb_reportCommissioningState from bdb.c
</p>
<h3><span class="mw-headline" id="Low_power_mode_not_entered_upon_ZED_factory_new_before_commissioning">Low power mode not entered upon ZED factory new before commissioning</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=19" title="Edit section: Low power mode not entered upon ZED factory new before commissioning">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
High current consumption at ZED startup from factory new before being commissioned into a network.
</p><p>Proposed fix:<br />
Change the following inside osal_pwrmgr.c:
</p>
<pre>#include "ZGlobals.h"
void osal_pwrmgr_init( void )
{
#if&#160;!defined USE_ICALL &amp;&amp;&#160;!defined OSAL_PORT2TIRTOS
#if defined POWER_SAVING &amp;&amp; ZSTACK_END_DEVICE_BUILD                  
  pwrmgr_attribute.pwrmgr_device = PWRMGR_BATTERY;   // Default to power conservation for ZED if power saving enabled.
#else
  pwrmgr_attribute.pwrmgr_device = PWRMGR_ALWAYS_ON; // No power conservation for routing devices.
#endif
#endif /* USE_ICALL */
  pwrmgr_attribute.pwrmgr_task_state = 0;            // Cleared.  All set to conserve
#if defined USE_ICALL || defined OSAL_PORT2TIRTOS
  pwrmgr_initialized = TRUE;
#endif /* defined USE_ICALL || defined OSAL_PORT2TIRTOS */
}
</pre>
<h3><span class="mw-headline" id="ZED_poll_rate_set_incorrectly_if_reset_from_a_leave_request_with_rejoin_enabled">ZED poll rate set incorrectly if reset from a leave request with rejoin enabled</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=20" title="Edit section: ZED poll rate set incorrectly if reset from a leave request with rejoin enabled">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
ZED will poll using REJOIN_POLL_RATE instead of POLL_RATE after being reset due to a parent leave request where the rejoin option was set.
</p><p>Proposed fix:<br />
In ZDApp_ProcessNetworkJoin of ZDApp.c, remove <b>NLME_SetPollRate( zgRejoinPollRate );</b> from <b>if (nwkStatus == ZSuccess)</b> and place in the <b>else</b> statement instead.  One must also set the zgRejoinPollRate when device state is DEV_END_DEVICE_UNAUTH
</p>
<pre>if ( ZG_SECURE_ENABLED &amp;&amp; ( ZDApp_RestoreNwkKey( TRUE ) == false ) )
{
  if ( ZSTACK_END_DEVICE_BUILD )
  {
     NLME_SetPollRate( zgRejoinPollRate );
  }
  // wait for auth from trust center
  ZDApp_ChangeState( DEV_END_DEVICE_UNAUTH );
</pre>
<p>Optimally, also place <b>NLME_SetPollRate( ZDApp_SavedPollRate );</b> inside of ZDO_JoinConfirmCB.
</p>
<h3><span id="Memory_leak_in_the_F&amp;B_function_of_BDB"></span><span class="mw-headline" id="Memory_leak_in_the_F.26B_function_of_BDB">Memory leak in the F&amp;B function of BDB</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=21" title="Edit section: Memory leak in the F&amp;B function of BDB">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
Memory leak in <b>bdb_ProcessSimpleDesc()</b>
</p><p>Proposed fix:<br />
Add <b>bdb_zclSimpleDescClusterListClean( &amp;bdb_FindingBindingTargetSimpleDesc );</b> before returning if the Simple Descriptor Response was not requested by BDB F&amp;B
</p>
<pre>  //Just for safety check this is a valid entry
  if(pCurr&#160;!= NULL) 
  {
    uint8 extAddr[Z_EXTADDR_LEN]; 
    
    if(AddrMgrExtAddrLookup( pCurr-&gt;data.addr.shortAddr, extAddr ))
    {
      isRespondantReadyToBeAdded = TRUE;
    }
    else
    {
      //Save the simple desc to don't ask for it again
      pCurr-&gt;SimpleDescriptor = &amp;bdb_FindingBindingTargetSimpleDesc;
    }
    (void)extAddr;  //dummy
  }
  else
  {
    //This simple desc rsp was not requested by BDB F&amp;B
    bdb_zclSimpleDescClusterListClean( &amp;bdb_FindingBindingTargetSimpleDesc );  // +++ ADD THIS CODE
    return;
  } 
</pre>
<h3><span class="mw-headline" id="Large_number_of_Address_Manager_entries_results_in_long_ZC_startup_times">Large number of Address Manager entries results in long ZC startup times</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=22" title="Edit section: Large number of Address Manager entries results in long ZC startup times">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
When increasing the number of <b>NWK_MAX_ADDRESSES</b> values stored in the <b>ZCD_NV_ADDRMGR</b> item (through increasing <b>ZDSECMGR_TC_DEVICE_MAX</b> and <b>NWK_MAX_DEVICE_LIST</b>), the large number of <b>osal_nv_write</b> calls required to initialize the NV items during <b>NLME_InitNV()</b> will cause a long delay in startup time.
</p><p>Proposed fix:<br />
Initialize large portions of the Address Manager NV item instead of one byte at a time, an example of which can be accomplished by modifying ZDApp.c as such:
</p>
<pre>#define ADDR_MGR_ENTRY_SIZE     12
uint8 Custom_AddrMgr_InitNV(void);
//...
uint8 ZDOInitDeviceEx( uint16 startDelay, uint8 mode)
{
//...
  else
  {
    // Wipe out the network state in NV
    Custom_AddrMgr_InitNV();  //ADD THIS LINE
    NLME_InitNV();
    NLME_SetDefaultNV();
    // clear NWK key values
    ZDSecMgrClearNVKeyValues();
  }
//...
uint8 ZDApp_RestoreNetworkState( void )
{
  uint8 nvStat;

  nvStat = Custom_AddrMgr_InitNV();
  nvStat |= NLME_InitNV();
//...
uint8 Custom_AddrMgr_InitNV( void )
{
  uint8 ret = SUCCESS;
  uint8  status, ctrl[NWK_MAX_ADDRESSES*ADDR_MGR_ENTRY_SIZE];
  uint16 size, index, offset;

  // Initialize the NIB NV item
  if ( osal_nv_item_init( ZCD_NV_NIB, sizeof(nwkIB_t), &amp;_NIB ) == NV_OPER_FAILED )
    ret |= NV_NIB_INIT_FAILURE;

  size = (uint16)( ADDR_MGR_ENTRY_SIZE * NWK_MAX_ADDRESSES );

  status = osal_nv_item_init( ZCD_NV_ADDRMGR, size, NULL );

  if (status == NV_ITEM_UNINIT) 
  {
    for ( index = 0; index &lt; NWK_MAX_ADDRESSES; index++ )
    {
      ctrl[index] = 0x00;
    }
    for ( index = 0; index &lt; ADDR_MGR_ENTRY_SIZE; index++ )
    {
      offset = NWK_MAX_ADDRESSES * index;
      osal_nv_write( ZCD_NV_ADDRMGR, offset, NWK_MAX_ADDRESSES, &amp;ctrl );
    }
  };

  if ( status == NV_OPER_FAILED ) ret |= NV_ADDR_MGR_INIT_FAILURE;
  
  return ( ret );
}
</pre>
<p><b>HAL_NV_PAGE_CNT</b> and <b>OSAL_NV_PHY_PER_PG</b> will also need to increase accordingly.  <b>OSAL_NV_PHY_PER_PG</b>*2048 must be greater than <b>NWK_MAX_ADDRESSES</b>*12 (the size of <b>AddrMgrEntryData_t</b>) and the CC2538.icf <b>FLASH</b> and <b>NV_MEM</b> regions should compensate for changes to <b>HAL_NV_PAGE_CNT</b>
</p>
<h3><span class="mw-headline" id="Inclusion_of_HAL_PA_LNA_CC2592_did_not_propagate_to_ZNP_project">Inclusion of HAL_PA_LNA_CC2592 did not propagate to ZNP project</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;section=23" title="Edit section: Inclusion of HAL PA LNA CC2592 did not propagate to ZNP project">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Issue description:<br />
Consideration for cases involving <b>HAL_PA_LNA_CC2592</b> inside of hal_board_cfg.h were not applied to the ZNP project as compared to all Home Automation examples.  Therefore, if building the ZNP project with <b>HAL_PA_LNA_CC2592</b> defined and the CC2592 connected to the CC253x device there will be radio communication issues.
</p><p>Proposed fix:<br />
Add <b>HAL_PA_LNA_CC2592 </b> to hal_board_cfg.h as so:
</p>
<pre>// #ifdef HAL_PA_LNA //----------------Remove the line ---------
#if defined HAL_PA_LNA || defined HAL_PA_LNA_CC2592 // ++++++ ADD This line ++++++++
#define HAL_BOARD_PA_LNA_INIT() st(GPIOPinTypeGPIOOutput(HGM_BASE, HGM_PIN); )
#else
#define HAL_BOARD_PA_LNA_INIT()
#endif

/* ----------- RF-frontend Connection Initialization ---------- */
//#if defined HAL_PA_LNA || defined HAL_PA_LNA_CC2590 //----------Remove the line -----
#if defined HAL_PA_LNA || defined HAL_PA_LNA_CC2590 || defined HAL_PA_LNA_CC2592
//++++++++ADD the above Line ++++++++++
extern void MAC_RfFrontendSetup(void);
#define HAL_BOARD_RF_FRONTEND_SETUP() MAC_RfFrontendSetup()
#else
#define HAL_BOARD_RF_FRONTEND_SETUP()
#endif
  // Initialize the NIB NV item
  if ( osal_nv_item_init( ZCD_NV_NIB, sizeof(nwkIB_t), &amp;_NIB ) == NV_OPER_FAILED )
    ret |= NV_NIB_INIT_FAILURE;

  size = (uint16)( ADDR_MGR_ENTRY_SIZE * NWK_MAX_ADDRESSES );

  status = osal_nv_item_init( ZCD_NV_ADDRMGR, size, NULL );

  if (status == NV_ITEM_UNINIT) 
  {
    for ( index = 0; index &lt; NWK_MAX_ADDRESSES; index++ )
    {
      ctrl[index] = 0x00;
    }
    for ( index = 0; index &lt; ADDR_MGR_ENTRY_SIZE; index++ )
    {
      offset = NWK_MAX_ADDRESSES * index;
      osal_nv_write( ZCD_NV_ADDRMGR, offset, NWK_MAX_ADDRESSES, &amp;ctrl );
    }
  };

  if ( status == NV_OPER_FAILED ) ret |= NV_ADDR_MGR_INIT_FAILURE;
  
  return ( ret );
}
</pre>
<p>This fix only applies to the ZNP project as the Home Automation examples already have this fix
</p>
<!-- 
NewPP limit report
Cached time: 20201130220725
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.061 seconds
Real time usage: 0.063 seconds
Preprocessor visited node count: 255/1000000
Preprocessor generated node count: 476/1000000
Postexpand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip postexpand size: 22082/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:45998-0!canonical and timestamp 20201130220725 and revision id 236858
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Zigbee Known Issues and Proposed Fixes</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Zigbee Known Issues and Proposed Fixes</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>Zigbee Known Issues and Proposed Fixes</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>Zigbee Known Issues and Proposed Fixes</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>Zigbee Known Issues and Proposed Fixes</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Zigbee Known Issues and Proposed Fixes</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Zigbee Known Issues and Proposed Fixes</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>Zigbee Known Issues and Proposed Fixes</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>Zigbee Known Issues and Proposed Fixes</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;oldid=236858">https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;oldid=236858</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_Zigbee.html" title="Category:Zigbee">Zigbee</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Zigbee+Known+Issues+and+Proposed+Fixes" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Zigbee_Known_Issues_and_Proposed_Fixes.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Zigbee_Known_Issues_and_Proposed_Fixes.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Zigbee_Known_Issues_and_Proposed_Fixes.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Zigbee_Known_Issues_and_Proposed_Fixes.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;oldid=236858" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Zigbee_Known_Issues_and_Proposed_Fixes&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 17 October 2019, at 11:59.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.061","walltime":"0.063","ppvisitednodes":{"value":255,"limit":1000000},"ppgeneratednodes":{"value":476,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":22082,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130220725","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":231});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Zigbee_Known_Issues_and_Proposed_Fixes by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 03:20:34 GMT -->
</html>
