<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/AM335x_Android_Device_Tree_Integration by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:11:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>AM335x Android Device Tree Integration - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"AM335x_Android_Device_Tree_Integration","wgTitle":"AM335x Android Device Tree Integration","wgCurRevisionId":218105,"wgRevisionId":218105,"wgArticleId":16969,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["AM335x","Android","Sitara Android"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"AM335x_Android_Device_Tree_Integration","wgRelevantArticleId":16969,"wgRequestId":"47883264d4113714d4ad9f3b","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["sysop"],"wgRestrictionMove":["sysop"]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-AM335x_Android_Device_Tree_Integration rootpage-AM335x_Android_Device_Tree_Integration skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">AM335x Android Device Tree Integration</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><b><big><big><big><span style="color:red">Content is no longer maintained and is being kept for reference only!</span></big></big></big></b>
<br />
<br />
<br /> 
</p><p><a href="File_TIBanner.html" class="image"><img alt="TIBanner.png" src="https://processors.wiki.ti.com/images/c/cd/TIBanner.png" width="667" height="87" /></a> <br /> 
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#What_is_supported"><span class="tocnumber">2</span> <span class="toctext">What is supported</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Steps_to_evaluate"><span class="tocnumber">3</span> <span class="toctext">Steps to evaluate&#160;</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Getting_Sources"><span class="tocnumber">3.1</span> <span class="toctext">Getting Sources</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Downloading_Patches"><span class="tocnumber">3.1.1</span> <span class="toctext">Downloading Patches</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Downloading_Android_Sources"><span class="tocnumber">3.1.2</span> <span class="toctext">Downloading Android Sources</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Compiling_Sources"><span class="tocnumber">3.2</span> <span class="toctext">Compiling Sources</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Toolchain_setup"><span class="tocnumber">3.2.1</span> <span class="toctext">Toolchain setup</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Applying_DT_patches"><span class="tocnumber">3.2.2</span> <span class="toctext">Applying DT patches</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Preparing_Bootable_MMC_Card"><span class="tocnumber">3.3</span> <span class="toctext">Preparing Bootable MMC Card</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Evaluating_DT_support"><span class="tocnumber">3.4</span> <span class="toctext">Evaluating DT support</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Booting_the_test_platform"><span class="tocnumber">3.4.1</span> <span class="toctext">Booting the test platform</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#How_to_check_Device_Tree_Support"><span class="tocnumber">3.4.2</span> <span class="toctext">How to check Device Tree Support</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#Boot_Loader_Loading_seperate_DTB_files_along_with_Kernel_Image"><span class="tocnumber">3.5</span> <span class="toctext">Boot Loader Loading seperate DTB files along with Kernel Image</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Modifying_and_Re-building_the_Boot_Loader"><span class="tocnumber">3.5.1</span> <span class="toctext">Modifying and Re-building the Boot Loader</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Modifying_and_Re-building_Kernel"><span class="tocnumber">3.5.2</span> <span class="toctext">Modifying and Re-building Kernel</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Booting_uImage_with_seperate_device_tree_blob"><span class="tocnumber">3.5.3</span> <span class="toctext">Booting uImage with seperate device tree blob</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Pin_Ctrl_driver_support"><span class="tocnumber">4</span> <span class="toctext">Pin Ctrl driver support</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Steps_to_add_pinctrl_driver_support"><span class="tocnumber">4.1</span> <span class="toctext">Steps to add pinctrl driver support</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Booting_uImage_with_seperate_device_tree_blos"><span class="tocnumber">4.2</span> <span class="toctext">Booting uImage with seperate device tree blos</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="#Booting_with_am335x-evm.dtb"><span class="tocnumber">4.2.1</span> <span class="toctext">Booting with am335x-evm.dtb</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Booting_with_beaglebone.dtb"><span class="tocnumber">4.2.2</span> <span class="toctext">Booting with beaglebone.dtb</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#FrameBuffer_driver_with_Device_tree_and_Pinctrl"><span class="tocnumber">5</span> <span class="toctext">FrameBuffer driver with Device tree and Pinctrl</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#Steps_to_Integrate"><span class="tocnumber">5.1</span> <span class="toctext">Steps to Integrate</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Booting_AM335x_EVM_with_uImage_and_device_tree_blob"><span class="tocnumber">5.2</span> <span class="toctext">Booting AM335x EVM with uImage and device tree blob</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#Limitations"><span class="tocnumber">6</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-1 tocsection-27"><a href="#References"><span class="tocnumber">7</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-28"><a href="#Future_Work"><span class="tocnumber">8</span> <span class="toctext">Future Work</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction">Introduction<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><b><big><big><big><span style="color:red">Content is no longer maintained and is being kept for reference only!</span></big></big></big></b>
<br />
<br />
</p><p>This is an effort to integrate the Device Tree(DT) support to am335x android kernel of rowboat open source project. 
</p><p>This work is a based on the latest <a rel="nofollow" class="external text" href="http://software-dl.ti.com/dsps/dsps_public_sw/sdo_tii/TI_Android_DevKit/TI_Android_ICS_4_0_3_DevKit_3_0_1/index_FDS.html">AM335x Android Devkit release</a><br /> 
</p><p>The DT patches have been validated on BeagleBone(an opensource am335x platform).<br /> 
</p><p>Also this wiki assume that the user has followed the <a rel="nofollow" class="external text" href="TI-Android-ICS-4.0.3-DevKit-3.0-5.html#Hardware_Requirements">Hardware Requirements</a> and the <a rel="nofollow" class="external text" href="TI-Android-ICS-4.0.3-DevKit-3.0-5.html#Host_.28PC.29_setup_requirements">Software Requirements</a> for the same release.<br /> 
</p>
<h1><span class="mw-headline" id="What_is_supported">What is supported<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=2" title="Edit section: What is supported">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li>Booting AM335x with Device Tree(DT)</li>
<li>DT support for GPIO<br /></li>
<li>DT support for LEDS<br /></li></ul>
<h1><span class="mw-headline" id="Steps_to_evaluate">Steps to evaluate&#160;</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=3" title="Edit section: Steps to evaluate ">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Getting_Sources">Getting Sources<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=4" title="Edit section: Getting Sources">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Downloading_Patches">Downloading Patches<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=5" title="Edit section: Downloading Patches">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Download the DT support patches from <a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/images/4/47/Dt_patches.tar.gz">HERE</a><br /></li></ul>
<h3><span class="mw-headline" id="Downloading_Android_Sources">Downloading Android Sources<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=6" title="Edit section: Downloading Android Sources">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Download latest am335x android sources from gitorious.org/rowboat</li>
<li>Follow the guide lines from the <a rel="nofollow" class="external text" href="TI-Android-ICS-4.0.3-DevKit-3.0-5.html#Getting_Source_.26_Toolchain">Am335x android DevKit DevelopersGuide</a><br /></li></ul>
<p>For this experiment the user can just download the android kernel and the prebuilt images, 
</p>
<ul><li>Download latest am335x kernel sources from <a rel="nofollow" class="external free" href="git://gitorious.org/rowboat/kernel.git">git://gitorious.org/rowboat/kernel.git</a>, checkout branch rowboat-am335x-kernel-3.2<br /></li>
<li>Download BeagleBone Prebuilt Images from this Link.</li></ul>
<p><a rel="nofollow" class="external text" href="http://software-dl.ti.com/dsps/dsps_public_sw/sdo_tii/TI_Android_DevKit/TI_Android_ICS_4_0_3_DevKit_3_0_1/exports/beaglebone.tar.gz">http://software-dl.ti.com/dsps/dsps_public_sw/sdo_tii/TI_Android_DevKit/TI_Android_ICS_4_0_3_DevKit_3_0_1/exports/beaglebone.tar.gz</a><br /> 
</p>
<ul><li>Download RAMDISK file system from this Link.</li></ul>
<p><a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/images/5/5a/Ramdisk-pm.gz">http://processors.wiki.ti.com/images/5/5a/Ramdisk-pm.gz</a>
</p>
<h2><span class="mw-headline" id="Compiling_Sources">Compiling Sources<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=7" title="Edit section: Compiling Sources">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Toolchain_setup">Toolchain setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=8" title="Edit section: Toolchain setup">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Setup the toolchain path to point to arm-eabi- tools in prebuilt/linux-x86/toolchain/arm-eabi-4.4.3/bin</li></ul>
<pre>$ export PATH=&lt;android source path&gt;/prebuilt/linux-x86/toolchain/arm-eabi-4.4.3/bin:$PATH

</pre> 
<h3><span class="mw-headline" id="Applying_DT_patches">Applying DT patches</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=9" title="Edit section: Applying DT patches">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Extract the downloaded Dt_patches.tar.gz to &lt;android source path&gt;/dt_patches 
</p>
<pre>$ tar -xvzf  Dt_patches.tar.gz &lt;android source path&gt;/
</pre> 
<p>Apply the DT&#160;patches on kernel using "git am" command<br /> 
</p>
<pre>$ cd &lt;android source path&gt;/kernel

$ git am &lt;android source path&gt;/dt_patches/*
</pre> 
<p>To Build Android Linux Kernel 
</p>
<ul><li>Change directory to kernel</li></ul>
<pre>$ cd &lt;android source path&gt;/kernel </pre> 
<ul><li>Execute following commands</li></ul>
<pre>$ make ARCH=arm CROSS_COMPILE=arm-eabi- distclean
$ make ARCH=arm CROSS_COMPILE=arm-eabi- am335x_evm_android_defconfig
$ make ARCH=arm CROSS_COMPILE=arm-eabi- uImage uImage-dtb.am335x-evm</pre> 
<p>This will generate dtb(device tree blob) appended uImage-dtb.am335x-evm (kernel image) in kernel/arch/arm/boot folder<br /> 
</p>
<h2><span class="mw-headline" id="Preparing_Bootable_MMC_Card">Preparing Bootable MMC Card<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=10" title="Edit section: Preparing Bootable MMC Card">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Here we prepare the MMC card with the prebuilt images and replace the kernel image for DT demostration<br /> 
</p><p>Procedure to populate MMC/SD Card 
</p>
<ul><li>Get an SD Card of minimum size 2GBytes (Class4 minimum) and a USB Card reader</li>
<li>Insert the USB SD Card reader (with SD Card) in your host Linux PC</li>
<li>Prepare the MMC/SD card with pre-built images beaglebone.tar.gz downloaded from TI release page</li></ul>
<pre>$ tar -xvzf beaglebone.tar.gz

$ cd beaglebone

$ sudo ./mkmmc-android.sh /dev/sd&lt;device&gt;
</pre> 
<ul><li>Above step will create a bootable MMC/SD card with three partitions namely boot, rootfs and data. <br /></li>
<li>Copy the dtb(device tree blob) to the boot partition<br /></li></ul>
<pre>$ cp &lt;android source path&gt;/kernel/arch/arm/boot/uImage-dtb.am335x-evm /media/boot/</pre> 
<ul><li>Copy the RAMDISK image ramdisk-pm.gz to the boot partition<br /></li></ul>
<pre>$ cp ramdisk-pm.gz /media/boot/
</pre> 
<ul><li>Now this MMC/SD card can be unmounted and used for booting the platform</li></ul>
<h2><span class="mw-headline" id="Evaluating_DT_support">Evaluating DT support<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=11" title="Edit section: Evaluating DT support">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The target platform can either be booted with a RAMDISK or Android File System. 
</p>
<h3><span class="mw-headline" id="Booting_the_test_platform">Booting the test platform<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=12" title="Edit section: Booting the test platform">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Connect USB cable to the mini-USB port(P3) on BeagleBone to the Host PC and have a Terminal software like TeraTerm, Minicom or Hyperterminal.<br /></li>
<li>Please refer <a rel="nofollow" class="external text" href="BeagleBone-Android-DevKit_Guide.html">BeagleBone-Android-DevKit Guide</a> for detailed instructions for serial port setup. <br /></li>
<li>Insert Micro SD card into MMC/SD slot on the BeagleBone.<br /></li>
<li>Power ON the BeagleBone by connecting power cable to (P5). <br /></li>
<li>Press any key at the boot-loader prompt<br /></li></ul>
<pre>U-Boot#
</pre> 
<ul><li>Type the follwing on the U-boot prompt for booting with RAMDISK File System<br /></li></ul>
<pre>U-Boot# setenv bootcmd 'mmc rescan 0; fatload mmc 0 81000000 uImage-dtb.am335x-evm; fatload mmc 0 82000000 ramdisk-pm.gz; bootm 81000000'
U-Boot# setenv bootargs 'console=ttyO0,115200n8 mem=128M root=/dev/ram rw initrd=0x82000000,16MB ramdisk_size=65536 earlyprintk=serial debug'
U-Boot# boot
</pre> 
<ul><li>Type the follwing on the U-boot prompt for booting Android File System</li></ul>
<pre>U-Boot# setenv bootargs 'console=ttyO0,115200n8 androidboot.console=ttyO0 mem=256M root=/dev/mmcblk0p2 rw rootfstype=ext4 rootwait init=/init ip=off'
U-Boot# setenv bootcmd 'mmc rescan&#160;; fatload mmc 0 82000000 uImage; bootm 82000000'
U-Boot# boot
</pre> 
<h3><span class="mw-headline" id="How_to_check_Device_Tree_Support">How to check Device Tree Support<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=13" title="Edit section: How to check Device Tree Support">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>On Boot Log check the line<br /></li></ul>
<pre>[ 0.000000] Machine: Generic AM33XX (Flattened Device Tree), model: TI AM335x EVM</pre> 
<p>This indicate that the machine init happened in the device tree model 
</p>
<ul><li>On Boot Log check the lines<br /></li></ul>
<pre>[ 1.872619] DEBUG*** gpio-leds device tree data

[ 1.877349] DEBUG*** led.gpio 56

[ 1.881713] DEBUG*** led.active_low 0

[ 1.885986] DEBUG*** led.name beaglebone::status1

[ 1.891876] DEBUG*** led.default_trigger heartbeat

[ 1.896881] DEBUG*** led.default_state 0
</pre> 
<p>This indicate that the leds-gpio driver has parsed the information from the device tree and used it for creating the leds. 
</p>
<ul><li>The user LED left to the reset button starts blinking as soon as the boot is finished to indicate that the heartbeat led started functioning. <br /></li>
<li>After booting check the directory /sys/class/gpio<br /></li></ul>
<pre># ls /sys/class/gpio
export gpiochip0 gpiochip32 gpiochip64 gpiochip96 unexport
</pre> 
<p>The gpiochip entries are essentially populated from DT<br /> 
</p>
<h2><span class="mw-headline" id="Boot_Loader_Loading_seperate_DTB_files_along_with_Kernel_Image">Boot Loader Loading seperate DTB files along with Kernel Image<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=14" title="Edit section: Boot Loader Loading seperate DTB files along with Kernel Image">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In the earlier section,we followed an approach of appending the dtb(device tree blob) to the kernel image.<br />
</p><p>Here are the steps to get u-boot(boot loader) loading the seperate dtb files along with the uImage. For this the u-boot and the uImage has to be modified further.<br />
</p><p>Follow the instructions below to add this support to boot loader and kernel<br />
</p>
<h3><span class="mw-headline" id="Modifying_and_Re-building_the_Boot_Loader">Modifying and Re-building the Boot Loader<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=15" title="Edit section: Modifying and Re-building the Boot Loader">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Change directory to u-boot in android source path<br /></li></ul>
<pre>$ cd &lt;android source path&gt;/u-boot</pre> 
<ul><li>Apply this patch from <a rel="nofollow" class="external free" href="http://processors.wiki.ti.com/images/1/1b/Dt_uboot_patch.tar.gz">http://processors.wiki.ti.com/images/1/1b/Dt_uboot_patch.tar.gz</a><br /></li></ul>
<pre>$ git am Dt_uboot_patch/*</pre> 
<ul><li>Build u-boot<br /></li></ul>
<pre>$ make CROSS_COMPILE=arm-eabi- distclean
$ make CROSS_COMPILE=arm-eabi- am335x_evm_config
$ make CROSS_COMPILE=arm-eabi-
</pre> 
<ul><li>Copy the new u-boot image to the boot partition<br /></li></ul>
<pre>$ cp u-boot.img /media/boot/
</pre>
<h3><span class="mw-headline" id="Modifying_and_Re-building_Kernel">Modifying and Re-building Kernel<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=16" title="Edit section: Modifying and Re-building Kernel">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li class="mw-empty-elt"></li></ul>
<p>Change to kernel directory
</p>
<pre>$ cd &lt;android source path&gt;/kernel</pre>
<ul><li class="mw-empty-elt"></li></ul>
<p>Apply these patches from <a rel="nofollow" class="external free" href="http://processors.wiki.ti.com/images/4/47/Dt_addtional_patches.tar.gz">http://processors.wiki.ti.com/images/4/47/Dt_addtional_patches.tar.gz</a><br />
</p>
<pre>$ git am Dt_addtional_patches/*</pre>
<ul><li class="mw-empty-elt"></li></ul>
<p>Build kernel and two device tree blobs.
</p>
<pre>$ make ARCH=arm CROSS_COMPILE=arm-eabi- distclean
$ make ARCH=arm CROSS_COMPILE=arm-eabi- am335x_evm_android_defconfig
$ make ARCH=arm CROSS_COMPILE=arm-eabi- uImage am335x-evm.dtb beaglebone.dtb
</pre>
<p>The two dtb files am335x-evm.dtb and beaglebone.dtb will boot on same beaglebone but with different GPIOs for heartbeat LED.<br />
</p>
<ul><li class="mw-empty-elt"></li></ul>
<p>Copy the images to the boot partition
</p>
<pre>$ cp arch/arm/boot/uImage arch/arm/boot/beaglebone.dtb arch/arm/boot/am335x-evm.dtb /media/boot/</pre>
<h3><span class="mw-headline" id="Booting_uImage_with_seperate_device_tree_blob">Booting uImage with seperate device tree blob<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=17" title="Edit section: Booting uImage with seperate device tree blob">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Follow the steps in Booting the test platform to start booting the Beaglebone.<br />
</p>
<ul><li class="mw-empty-elt"></li></ul>
<p>Press any key at the boot-loader prompt
</p>
<pre>U-Boot#</pre>
<ul><li class="mw-empty-elt"></li></ul>
<p>Type the follwing on the U-boot prompt for booting with&#160;am335x-evm.dtb blob
</p>
<pre>U-Boot# mmc rescan&#160;; fatload mmc 0 82000000 uImage;fatload mmc 0 80000000 am335x-evm.dtb
U-Boot# setenv bootargs 'console=ttyO0,115200n8 androidboot.console=ttyO0 mem=256M root=/dev/mmcblk0p2 rw rootfstype=ext4 rootwait init=/init ip=off'
U-Boot# fdt addr 80000000; fdt resize; bootm 82000000 - 80000000</pre>
<p>Observe that user LED 4 is blinking as heartbeat.<br />
</p>
<ul><li class="mw-empty-elt"></li></ul>
<p>Type the follwing on the U-boot prompt for booting with beaglebone.dtb blob
</p>
<pre>U-Boot# mmc rescan&#160;; fatload mmc 0 82000000 uImage;fatload mmc 0 80000000 beaglebone.dtb
U-Boot# setenv bootargs 'console=ttyO0,115200n8 androidboot.console=ttyO0 mem=256M root=/dev/mmcblk0p2 rw rootfstype=ext4 rootwait init=/init ip=off'
U-Boot# fdt addr 80000000; fdt resize; bootm 82000000 - 80000000</pre>
<p>Observe that user LED 3 is blinking as heartbeat.<br />
</p>
<h1><span class="mw-headline" id="Pin_Ctrl_driver_support">Pin Ctrl driver support<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=18" title="Edit section: Pin Ctrl driver support">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>In this section we explain how we add/evaluate a simple pinctrl driver which can 
</p>
<ul><li>Fetch a set of padconf/pinmux settings from the device tree</li>
<li>Setup the board pins with these settings upon boot</li></ul>
<p>This way, we can specify a different set of padconf/pinmux in each device tree and the pinctrl driver will set them accordingly on boot.<br /> 
</p><p>Here are the steps to demonstrate the use of this new pinctrl driver. We follow the same approach of boot Loader loading seperate DTB files along with Kernel Image.<br /> 
</p>
<h2><span class="mw-headline" id="Steps_to_add_pinctrl_driver_support">Steps to add pinctrl driver support<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=19" title="Edit section: Steps to add pinctrl driver support">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>Follow the section on <a rel="nofollow" class="external free" href="AM335x_Android_Device_Tree_Integration.html#Modifying_and_Re-building_the_Boot_Loader">http://processors.wiki.ti.com/index.php/AM335x_Android_Device_Tree_Integration#Modifying_and_Re-building_the_Boot_Loader</a> to update the boot loader with device tree support<br /></li>
<li>Next update the kernel with the new set of DT+PinCtrl patches<br /></li>
<li>Change to fresh kernel directory</li></ul>
<pre>$ cd &lt;android source path&gt;/kernel</pre> 
<ul><li>Apply these patches from <a rel="nofollow" class="external free" href="http://processors.wiki.ti.com/images/f/f8/Dt_pinctrl_patches.tar.gz">http://processors.wiki.ti.com/images/f/f8/Dt_pinctrl_patches.tar.gz</a></li></ul>
<pre>$ git am Dt_pinctrl_patches/*</pre> 
<p>NOTE: These set of patches include Basic DT as well as Pin Ctrl support. Explicit pin muxing for GPIO1_23 and GPIO1_24 in board file has been removed as they were present in the earlier set of patches. Here we do the pinmuxing GPIOs seperately from the device tree data. <br /> 
</p>
<ul><li>Build kernel and two device tree blobs.</li></ul>
<pre>$ make ARCH=arm CROSS_COMPILE=arm-eabi- distclean
$ make ARCH=arm CROSS_COMPILE=arm-eabi- am335x_evm_android_defconfig
$ make ARCH=arm CROSS_COMPILE=arm-eabi- uImage
$ make ARCH=arm CROSS_COMPILE=arm-eabi- am335x-evm.dtb beaglebone.dtb
</pre> 
<ul><li>The two dtb files am335x-evm.dtb and beaglebone.dtb will boot on same beaglebone with the following differences<br />
<ul><li>am335x-evm device tree include pinmux data for board pin GPMC_A8(GPIO1_24) whereas beaglebone device tree include pinmux data for board pin GPMC_A7(GPIO1_23)<br /></li>
<li>They have different GPIOs for heartbeat LED.<br /></li></ul></li>
<li>Copy the images to the boot partition</li></ul>
<pre>$ cp arch/arm/boot/uImage arch/arm/boot/beaglebone.dtb arch/arm/boot/am335x-evm.dtb /media/boot/
</pre> 
<h2><span class="mw-headline" id="Booting_uImage_with_seperate_device_tree_blos">Booting uImage with seperate device tree blos</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=20" title="Edit section: Booting uImage with seperate device tree blos">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Follow the steps in "<b>Booting the test platform</b>" to start booting the Beaglebone.<br /> 
</p>
<ul><li>Press any key at the boot-loader prompt</li></ul>
<pre>U-Boot#
</pre> 
<h3><span class="mw-headline" id="Booting_with_am335x-evm.dtb">Booting with am335x-evm.dtb<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=21" title="Edit section: Booting with am335x-evm.dtb">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Type the follwing on the U-boot prompt for booting with am335x-evm.dtb blob</li></ul>
<pre>U-Boot# mmc rescan&#160;; fatload mmc 0 82000000 uImage;fatload mmc 0 80000000 am335x-evm.dtb
U-Boot# setenv bootargs 'console=ttyO0,115200n8 androidboot.console=ttyO0 mem=256M root=/dev/mmcblk0p2 rw rootfstype=ext4 rootwait init=/init ip=off'
U-Boot# fdt addr 80000000; fdt resize; bootm 82000000 - 80000000
</pre> 
<ul><li>Observe that user LED 4 is blinking as heartbeat.</li>
<li>After console comes up type the command "dmesg" to see that the pinctrl-simple driver configure the pinmux for GPIO1_24 padconf<br /></li></ul>
<pre>root@android:/ # dmesg
....
&lt;7&gt;[ 0.275665] pinctrl-simple 44e10800.pinmux: request pin 24 (44e10860) for 44e10800.pinmux
</pre> 
<h3><span class="mw-headline" id="Booting_with_beaglebone.dtb">Booting with beaglebone.dtb<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=22" title="Edit section: Booting with beaglebone.dtb">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li>Type the follwing on the U-boot prompt for booting with beaglebone.dtb blob</li></ul>
<pre>U-Boot# mmc rescan&#160;; fatload mmc 0 82000000 uImage;fatload mmc 0 80000000 beaglebone.dtb
U-Boot# setenv bootargs 'console=ttyO0,115200n8 androidboot.console=ttyO0 mem=256M root=/dev/mmcblk0p2 rw rootfstype=ext4 rootwait init=/init ip=off'
U-Boot# fdt addr 80000000; fdt resize; bootm 82000000 - 80000000</pre> 
<ul><li>Observe that user LED 3 is blinking as heartbeat.<br /></li>
<li>After console comes up type the command "dmesg" to see that the pinctrl-simple driver configure the pinmux for GPIO1_23 padconf</li></ul>
<pre>root@android:/ # dmesg
....
&lt;7&gt;[    0.275604] pinctrl-simple 44e10800.pinmux: request pin 23 (44e1085c) for 44e10800.pinmux
</pre>
<h1><span class="mw-headline" id="FrameBuffer_driver_with_Device_tree_and_Pinctrl">FrameBuffer driver with Device tree and Pinctrl<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=23" title="Edit section: FrameBuffer driver with Device tree and Pinctrl">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>In this section we explain how we integrate device tree support to da8xx_lcdc(am335x) framebuffer driver 
</p><p>We add support for the framebuffer driver to 
</p>
<ul><li>Fetch a set of panel settings from the device tree blob
<ul><li>Settings specific to the display panel being used, like width, heght, timing etc</li></ul></li>
<li>Fetch a set of lcd config settings from device tree blob
<ul><li>Settings specific to the lcd panel to board connection, bits per pixel(bpp), ac_bias, dma burst size etc</li></ul></li>
<li>Fetch the LCD pinmux details from the device tree blob and configure on probe</li></ul>
<p>This way all panel, board pinmux specifics of framebuffer driver are moved to device tree. 
</p><p>Here are the steps to integrate. We follow the approach of boot Loader loading device tree blob along with Kernel Image. We evaluate this on AM335X evm instead of beaglebone.<br /> 
</p>
<h2><span class="mw-headline" id="Steps_to_Integrate">Steps to Integrate</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=24" title="Edit section: Steps to Integrate">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>Follow the section on <a rel="nofollow" class="external free" href="AM335x_Android_Device_Tree_Integration.html#Modifying_and_Re-building_the_Boot_Loader">http://processors.wiki.ti.com/index.php/AM335x_Android_Device_Tree_Integration#Modifying_and_Re-building_the_Boot_Loader</a> to update the boot loader with device tree support</li>
<li>Next update the kernel with the new set of DT+PinCtrl patches</li>
<li>Change to fresh kernel directory(freshly cloned from gitorious.org/rowboat)<br /></li></ul>
<pre>$ cd &lt;android source path&gt;/kernel</pre> 
<ul><li>Apply these patches from <a rel="nofollow" class="external free" href="http://processors.wiki.ti.com/images/5/50/Dt_lcdc_patches.tar.gz">http://processors.wiki.ti.com/images/5/50/Dt_lcdc_patches.tar.gz</a></li></ul>
<pre>$ git am Dt_lcdc_patches/*</pre> 
<p>NOTE: These set of patches include Basic DT, Pin Ctrl and LCDC support. <br /> 
</p>
<ul><li>&#160; Build kernel and create kernel image and a device tree blob for am335xevm.</li></ul>
<pre>$ make ARCH=arm CROSS_COMPILE=arm-eabi- distclean
$ make ARCH=arm CROSS_COMPILE=arm-eabi- am335x_evm_android_defconfig
$ make ARCH=arm CROSS_COMPILE=arm-eabi- uImage
$ make ARCH=arm CROSS_COMPILE=arm-eabi- am335x-evm.dtb</pre> 
<ul><li>The dtb file am335x-evm.dtb is created to boot on am335xevm with the lcdc dt support.<br /></li>
<li>Copy the images to the boot partition of the SD&#160;card<br /></li></ul>
<pre>$ cp arch/arm/boot/uImage arch/arm/boot/beaglebone.dtb arch/arm/boot/am335x-evm.dtb /media/boot/</pre>
<h2><span class="mw-headline" id="Booting_AM335x_EVM_with_uImage_and_device_tree_blob">Booting AM335x EVM with uImage and device tree blob <br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=25" title="Edit section: Booting AM335x EVM with uImage and device tree blob">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>Connect the Serial cable and the Power Cable on AM335X EVM<br /></li>
<li>Connect to the board through a terminal software like TeraTerm, Minicom or Hyperterminal to see the console messages.<br /></li>
<li>Insert SD card into MMC/SD slot on the AM335X EVM.<br /></li>
<li>Power ON the AM335X EVM<br /></li>
<li>Press any key at the boot-loader prompt<br /></li></ul>
<pre>U-Boot#
</pre> 
<ul><li>Type the follwing on the U-boot prompt for booting with am335x-evm.dtb blob</li></ul>
<pre>U-Boot# mmc rescan&#160;; fatload mmc 0 82000000 uImage;fatload mmc 0 80000000 am335x-evm.dtb
U-Boot# setenv bootargs 'console=ttyO0,115200n8 androidboot.console=ttyO0 mem=256M root=/dev/mmcblk0p2 rw rootfstype=ext4 rootwait init=/init ip=off'
U-Boot# fdt addr 80000000; fdt resize; bootm 82000000 - 80000000
</pre> 
<ul><li>Observe that the LCDC is coming up with Android Home screen.</li>
<li>After console comes up type the command "dmesg" to see that<br /></li></ul>
<pre>root@android:/ # dmesg
....
</pre> 
<ul><li>LCDC&#160;pinumx configuration is being done<br /></li></ul>
<pre>&lt;7&gt;[ 0.300140] pinctrl core: add 1 pinmux maps
&lt;7&gt;[ 0.300170] pinctrl-simple 44e10800.pinmux: found group selector 1 for lcdc_pins
&lt;7&gt;[ 0.300170] pinctrl-simple 44e10800.pinmux: request pin 41 (44e108a4) for display.4
&lt;7&gt;[ 0.300201] pinctrl-simple 44e10800.pinmux: request pin 42 (44e108a8) for display.4
&lt;7&gt;[ 0.300201] pinctrl-simple 44e10800.pinmux: request pin 43 (44e108ac) for display.4
&lt;7&gt;[ 0.300231] pinctrl-simple 44e10800.pinmux: request pin 44 (44e108b0) for display.4
&lt;7&gt;[ 0.300231] pinctrl-simple 44e10800.pinmux: request pin 45 (44e108b4) for display.4

...............

&lt;7&gt;[ 0.300567] pinctrl-simple 44e10800.pinmux: enabling function1 lcdc_pins
</pre> 
<ul><li>LCDC Panel Data being fetched from DT and printed<br /></li></ul>
<pre>&lt;6&gt;[ 0.299957] da8xx_lcdc display.4: GLCD: Found TFC_S9700RTWV35TR_01B panel
&lt;4&gt;[ 0.299957] PANEL INFO lcdc_info-&gt;width 800
&lt;4&gt;[ 0.299987] PANEL INFO lcdc_info-&gt;height 480
&lt;4&gt;[ 0.299987] PANEL INFO lcdc_info-&gt;hfp 39
&lt;4&gt;[ 0.299987] PANEL INFO lcdc_info-&gt;hbp 39 

&lt;7&gt;[ 0.275665] pinctrl-simple 44e10800.pinmux: request pin 24 (44e10860) for 44e10800.pinmux

................</pre> 
<ul><li>LCDC Controller data being fetched from DT and printed<br /></li></ul>
<pre>&lt;4&gt;[ 0.300659] LCD CFG lcd_cfg-&gt;ac_bias 255
&lt;4&gt;[ 0.300659] LCD CFG lcd_cfg-&gt;ac_bias_intrpt 0
&lt;4&gt;[ 0.300689] LCD CFG lcd_cfg-&gt;dma_burst_sz 16
&lt;4&gt;[ 0.300689] LCD CFG lcd_cfg-&gt;bpp 32 

............</pre>
<h1><span class="mw-headline" id="Limitations">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=26" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>In framebuffer support, the patches are not reviewed to put the proper error checks.<br />
</p><p><br />
</p>
<h1><span class="mw-headline" id="References">References<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=27" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><u>Different DT efforts from linux-omap-pm branches </u><br /> 
</p><p><a rel="nofollow" class="external free" href="http://gitorious.org/omap-pm/linux/trees/for_3.2/5_omap_dt_i2c_twl">http://gitorious.org/omap-pm/linux/trees/for_3.2/5_omap_dt_i2c_twl</a><br /> 
</p><p>and<br /> 
</p><p><a rel="nofollow" class="external free" href="http://gitorious.org/omap-pm/linux/trees/for_3.4/dt_gpio">http://gitorious.org/omap-pm/linux/trees/for_3.4/dt_gpio</a><br /> 
</p><p><u>TI-Android-ICS-4.0.3-DevKit-3.0.1 Links</u><br /> 
</p><p><a rel="nofollow" class="external free" href="TI-Android-ICS-4.0.3-DevKit-3.0-8.html">http://processors.wiki.ti.com/index.php/TI-Android-ICS-4.0.3-DevKit-3.0.1_UserGuide</a><br /> 
</p><p><a rel="nofollow" class="external free" href="TI-Android-ICS-4.0.3-DevKit-3.0-5.html">http://processors.wiki.ti.com/index.php/TI-Android-ICS-4.0.3-DevKit-3.0.1_DevelopersGuide</a>
</p><p><b><a href="https://processors.wiki.ti.com/index.php?title=Pinctrl_Support&amp;action=edit&amp;redlink=1" class="new" title="Pinctrl Support (page does not exist)">Pinctrl Support</a></b>
</p><p><a href="https://processors.wiki.ti.com/index.php?title=Pinctrl-simple_driver&amp;action=edit&amp;redlink=1" class="new" title="Pinctrl-simple driver (page does not exist)">pinctrl-simple driver</a>
<a rel="nofollow" class="external free" href="https://lkml.org/lkml/2012/5/2/275">https://lkml.org/lkml/2012/5/2/275</a>
</p><p><a href="https://processors.wiki.ti.com/index.php?title=Mainline_kernel&amp;action=edit&amp;redlink=1" class="new" title="Mainline kernel (page does not exist)">Mainline kernel</a>
</p><p><a rel="nofollow" class="external free" href="http://git.kernel.org/?p=linux/kernel/git/torvalds/linux.git;a=tag;h=refs/tags/v3.4">http://git.kernel.org/?p=linux/kernel/git/torvalds/linux.git;a=tag;h=refs/tags/v3.4</a>
</p>
<h1><span class="mw-headline" id="Future_Work">Future Work</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;section=28" title="Edit section: Future Work">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Will update soon<br />
</p>
<!-- 
NewPP limit report
Cached time: 20201130170217
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.079 seconds
Real time usage: 0.081 seconds
Preprocessor visited node count: 509/1000000
Preprocessor generated node count: 1000/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 6711/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:16969-0!canonical and timestamp 20201130170217 and revision id 218105
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>AM335x Android Device Tree Integration</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>AM335x Android Device Tree Integration</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>AM335x Android Device Tree Integration</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>AM335x Android Device Tree Integration</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>AM335x Android Device Tree Integration</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>AM335x Android Device Tree Integration</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>AM335x Android Device Tree Integration</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>AM335x Android Device Tree Integration</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>AM335x Android Device Tree Integration</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;oldid=218105">https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;oldid=218105</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_AM335x.html" title="Category:AM335x">AM335x</a></li><li><a href="Category_Android.html" title="Category:Android">Android</a></li><li><a href="Category_Sitara_Android.html" title="Category:Sitara Android">Sitara Android</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=AM335x+Android+Device+Tree+Integration" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="AM335x_Android_Device_Tree_Integration.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:AM335x_Android_Device_Tree_Integration&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="AM335x_Android_Device_Tree_Integration.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/AM335x_Android_Device_Tree_Integration.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/AM335x_Android_Device_Tree_Integration.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;oldid=218105" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=AM335x_Android_Device_Tree_Integration&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 28 June 2016, at 13:55.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.079","walltime":"0.081","ppvisitednodes":{"value":509,"limit":1000000},"ppgeneratednodes":{"value":1000,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":6711,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130170217","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":234});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/AM335x_Android_Device_Tree_Integration by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:11:16 GMT -->
</html>
