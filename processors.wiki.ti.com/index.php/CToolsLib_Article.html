<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/CToolsLib_Article by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:08:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>CToolsLib Article - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"CToolsLib_Article","wgTitle":"CToolsLib Article","wgCurRevisionId":88046,"wgRevisionId":88046,"wgArticleId":14225,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"CToolsLib_Article","wgRelevantArticleId":14225,"wgRequestId":"ec385a24474ee220a8e92972","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-CToolsLib_Article rootpage-CToolsLib_Article skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">CToolsLib Article</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Core_Trace_Modules"><span class="tocnumber">2</span> <span class="toctext">Core Trace Modules</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#DSPTraceLib"><span class="tocnumber">2.1</span> <span class="toctext">DSPTraceLib</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#AETLib"><span class="tocnumber">2.2</span> <span class="toctext">AETLib</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#ETMLib"><span class="tocnumber">2.3</span> <span class="toctext">ETMLib</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#ETBLib"><span class="tocnumber">2.4</span> <span class="toctext">ETBLib</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#System_Trace_Modules"><span class="tocnumber">3</span> <span class="toctext">System Trace Modules</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#STMLib"><span class="tocnumber">3.1</span> <span class="toctext">STMLib</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#CPTLib"><span class="tocnumber">3.2</span> <span class="toctext">CPTLib</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#SCILib"><span class="tocnumber">3.3</span> <span class="toctext">SCILib</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#PMICMILib"><span class="tocnumber">3.4</span> <span class="toctext">PMICMILib</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#For_Technical_Support_or_Comments"><span class="tocnumber">4</span> <span class="toctext">For Technical Support or Comments</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>CToolsLib provides a set of fundamental libraries for the configuration and control of debug and profiling trace modules common to CI and OMAP devices. Trace modules exist at two levels within TI devices supporting core trace and system trace. Core trace at a minimum provides program counter and instruction timing, and in the case of TI DSPs core memory accesses and core events. System Trace provides multi-core application instrumentation (for both printf logging and binary data), and depending on the device, power and bus profiling data.  This article will provide a brief overview of each module and associated library, introduce the library supported use-cases, and show how the libraries can be combined to provide additional features.
</p>
<h2><span class="mw-headline" id="Core_Trace_Modules">Core Trace Modules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=2" title="Edit section: Core Trace Modules">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Core trace CTools Libraries enable use-cases beyond application development profiling and debugging. Customers have integrated the core trace libraries into their production application code to provide remote exception visibility within fielded systems. This is especially important to customers who get charged for dropped calls and equipment down-time in remote locations. Another common use case is for detailed profiling and performance analysis integrated in the customer’s validation systems to assure new software modules or modifications are meeting performance requirements.
</p>
<h3><span class="mw-headline" id="DSPTraceLib">DSPTraceLib</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=3" title="Edit section: DSPTraceLib">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:502px;"><a href="File_TracewithETBDVTAnalyzer.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/a/ae/TracewithETBDVTAnalyzer.jpg" width="500" height="453" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_TracewithETBDVTAnalyzer.html" class="internal" title="Enlarge"></a></div>Core Trace PC and Timing</div></div></div>
<p>DSPTraceLib provides for configuration and control of DSP core trace module. The library provides APIs to configure the trace module, enable and disable trace data flow, and a state function that allows clients to terminate core trace gracefully on demand (rather than through an AET trigger). DSP core trace consists of multiple streams of data from the core’s program counter (PC), instruction timing, core memory accesses and core events (such as stalls and interrupts). DSPTraceLib by itself can not initiate trace data export from the core. Trace triggers configured with the Advance Event Triggering (AET) module are required to trigger the export of trace data.
</p><p>The screen shot to the right shows a simple core trace session with source correlation, function execution graph and function profile windows.
</p>
<h3><span class="mw-headline" id="AETLib">AETLib</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=4" title="Edit section: AETLib">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>AETLib provides a configuration API for the Advance Event Triggering (AET) module. The AET module is made up of comparators and trigger builders that are combined to provide complex trigger events. Trigger events can then be used to form watchpoints or trace triggers.  Watchpoints can be used to halt core execution when the trigger conditions is satisfied, or exported as cross triggers to other cores or devices. Trace triggers are used to start and end trace generation. Trace triggers can be setup on the program counter, memory accesses or core events. Triggers can be setup on individual PC or data addresses or ranges, and triggers on data values can be masked. Each trigger can be used to enable or disable a single stream or multiple streams (PC, Timing, memory accesses or events) simultaneously. When enabling multiple streams care does have to be taken to not overflow the trace export buffer.  
</p><p>In the case of programming AETLib for exception visibility, two trace jobs are required; a Trace On job to start PC trace immediately and an End All trace job to terminate PC trace when the exception vector is executed. 
</p>
<h3><span class="mw-headline" id="ETMLib">ETMLib</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=5" title="Edit section: ETMLib">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>ETMLib provides both core trace configuration and triggering functions for ARM ETM and PTM modules. The ETM and PTM modules utilize comparators to form start, stop and range trace triggers with the PC, and in the ETM case data accesses. In the case of the ETM, triggers can be setup to enable and disable the export of PC, PC with cycle accurate timing, PC with data trace, and PC with cycle accurate timing and data trace. With the PTM only PC and PC with cycle accurate timing trace export are supported. ETMLib provides basic APIs to setup triggers that control the flow of trace data for the most common use cases:
</p>
<ul><li>Trace on (immediately)</li>
<li>Start trace on PC</li>
<li>Stop trace on PC</li>
<li>Trace PC in a range (inclusive or exclusive)</li>
<li>Trace data accesses to a specific location (must use a PC trigger to start trace)</li>
<li>Trace data accesses within a address range (must use a  PC trigger to start trace)</li></ul>
<p>ETMLib also provides separate trace enable and disable controls that can be used to isolate core trace to a small region of code or allow trace across the entire application.
</p>
<h3><span class="mw-headline" id="ETBLib">ETBLib</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=6" title="Edit section: ETBLib">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>ETBLib provides configuration and trace data extraction APIs for both ARM Core-Sight and TI Embedded Trace Buffers (ETB). ETBs are used to capture both core trace and system trace. For some devices each core may have a dedicated ETB for core trace and a chip level ETB for system trace, while other devices have a single ETB for both core trace and system trace data. Trace funnels are used in devices that support multiple core and system trace streams to export trace data to a single ETB. ETBLib is used to configure any buffer options (circular or stop when full), enable trace capture, flush the input buffers when trace capture is disabled and then extract the captured trace data to system memory. In some devices DMA channels can be used effectively to extend the size of the captured data with system memory.
</p><p>Typically when using ETMLib for an ARM application or DSPTraceLib and AETLib for a DSP applications, remote operation may be required such as in the exception tracking use-case. When using an ETB for remote operation the customer must transport the data back to a host for decoding and visualization TI’s tools include a decode utility (td.exe) that provides text or csv formats for import to Excel, and a binary to Trace Data File (bin2tdf) utility used to format the data for importing to CCS for display with Trace Analyzer.
</p><p>For use cases, such as application profiling, where larger buffers than the ETB support are required, trace data can be exported out the pins (not supported by all devices).  Core trace data can be captured with an XDS560T. Both Core and System Trace can be captured with the next generation XDS Trace Pro. The XDS560v2 System Trace can be used in cases where only system trace capture is needed. In these cases DSPTraceLib and AETLib are used in the customer validation system to profile modifications and certify they meet timing requirements.
</p>
<h2><span class="mw-headline" id="System_Trace_Modules">System Trace Modules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=7" title="Edit section: System Trace Modules">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>System Trace data is provided by TI’s STM v1.0 (System Trace Module) or ARM’s STM v2.0 (System Trace Macrocell). In both cases STM provides message formatting, message interleaving, time-stamping and transport of messages. STM masters are made up of both software masters (DSP and MPU cores) and hardware masters. STM Hardware message generation is typically used to provide system level profile data for power, clocks and buses statistics. For software masters data can be broadcast on any of N channels to categorize data or to provide thread safety. Software messages are typically used for multi-core application instrumentation which is a very productive debug and software maintenance capability.
</p><p>STM’s transport performance is orders of magnitude faster (80MB/sec to 100MB/sec) than CIO or UARTS. Another significant STM advantage is that it’s available much earlier in the development cycle than traditional device communication mechanisms. When used with an ETB, STM can also be remotely captured for in-field applications. STM instrumentation can also be utilized to supplement STM HW profiling data, marking the occurrence of important events.
</p><p>The following libraries are used to generate software messages for application instrumentation or to configure hardware profiling STM message generation. Any combination of these libraries can be used together as long as the device provides support for the module. In cases where the device supports an ETB at the system level (most modern devices) these libraries can be combined with ETBLib in an application to support remote capture of STM message data. 
</p>
<h3><span class="mw-headline" id="STMLib">STMLib</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=8" title="Edit section: STMLib">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:502px;"><a href="File_STMLib_example.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/0/01/STMLib_example.png" width="500" height="300" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_STMLib_example.html" class="internal" title="Enlarge"></a></div>STMLib Application Instrumentation Example</div></div></div>
<p>STMLib provides APIs for application software instrumentation. STMLib provides transfer functions for compressed printf and logging, character buffers, and binary data (individual values or arrays). Logging functions are restricted to a format string and a fixed number of integers, significantly increasing performance over the compressed printf. The character buffer transport supports applications that have an existing string based logging infrastructure. 
</p><p>The Trace Analyzer display at the right shows an example STMLib generated printf, logging and binary data transfers.
</p>
<h3><span class="mw-headline" id="CPTLib">CPTLib</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=9" title="Edit section: CPTLib">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:502px;"><a href="File_CPTLib_CorePac1L2.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/5/59/CPTLib_CorePac1L2.png" width="500" height="323" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_CPTLib_CorePac1L2.html" class="internal" title="Enlarge"></a></div>CP Tracer CorePac 1 L2 Bus Statistics</div></div></div>
<p>CPTLib provides use-case based APIs for configuration and control of the Common Platform Tracer (CPT) modules. CPT modules are located on strategic slave buses, and provide periodic bus statistics and bus events that are transported over STM
CPT data generation is completely unobtrusive to the slave buses data flow. The statistic information is based on four counters; two throughput counters, a transaction counter and a wait counter. The periodic bus status provides a flag per master indicating the master that made at least a single access to the slave bus during the sample period.  The CPT can generate event messages for any combination of new request, last read and last write events that are generated on demand. For throughput counting and new request events, slave bus accesses can be qualified and filtered by master to focus on a specific data source. Qualifiers include; Address ranges within a 32 bit address space (for &gt; 32-bit buses the upper bits can be selected), access type (CPU Inst, CPU data, DMA data), and access direction (Read/Write). Multiple events can be enabled at the same time, although this is not recommended due to the high probability of STM message overflow.
</p><p>The plot to the right was generated from CP tracer data collected from a TCI6616 device’s Corepac1’s L2 CP Tracer.
</p><p>CPTLib provides use-case level APIs to make configuration and control easy. Control is facilitated through enable and disable functions that allow the user to isolate STM data generation relative to their application. A single instance of the library can support multiple instances of physical CP Tracers. Configuration includes selecting the use case, selecting masters to filter and setting up qualifiers. CTPLib is dependent on the STMLib to provide CPTLib logging messages and meta data. Meta data provides processing options and context information (use case selection, device operating frequency) used for decoding the data.
</p><p>The CPTLib helper functions facilitate the following three use cases; System Bandwidth, Total Bandwidth and Master Bandwidth. The System Bandwidth use-case programs all (selected) CP Tracers to provide bandwidth utilization simultaneously providing a system wide view of bus utilization. The Total Bandwidth and Master Bandwidth use-cases provide detail information for individual buses. The Total Bandwidth Use Case allows the user to compare the bandwidth utilization by one master (or group of masters) against all other active masters. The Master Bandwidth Use Case allows the user to compare the bandwidth utilization by one master (or group of masters) against another master (or group of masters). The Total Bandwidth and Master Bandwidth use-cases provide the following statistics for an individual bus:
</p>
<ul><li>Throughput in MBytes/sec of selected master</li>
<li>Throughput as a percentage of selected master verses all other masters (or selected master)</li>
<li>Transaction count</li>
<li>Average access size</li>
<li>Average latency</li></ul>
<h3><span class="mw-headline" id="SCILib">SCILib</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=10" title="Edit section: SCILib">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:502px;"><a href="File_SCILib_example_raw.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/b/be/SCILib_example_raw.png" width="500" height="237" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_SCILib_example_raw.html" class="internal" title="Enlarge"></a></div>OMAP4430 SDRAM Statistic Collector setup for EMIF1 and EMIF 2 Statistics - Raw View</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:502px;"><a href="File_SCILib_example_plot.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/b/ba/SCILib_example_plot.png" width="500" height="244" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_SCILib_example_plot.html" class="internal" title="Enlarge"></a></div>OMAP4430 SDRAM Statistic Collector setup for EMIF1 and EMIF 2 Statistics - Plot</div></div></div>
<p>SCILib provides APIs for application configuration and control of the Statistic Collector module. These devices instantiate two types of Statistic Collector modules. The SDRAM module provides load statistics and Master modules provide both load and latency statistics. A Statistic Collector module is made up of a set of counters and filters. When enabled the counter values are exported periodically through STM. For each counter a probe (bus source) must be selected from which different bus transaction events can be chosen to count (such as clocks, transfer, wait, busy, and packet). How the event is counted must also be configured (such as for filter hit, min/max hit, event type (payload length, pressure or latency), and AND/OR of filters). Each counter can have zero, one or two filter sets associated with it that can be used to selected specific master or slave addresses, read or write cycle types, or error cycles. Each individual filter has match and mask components for each filter element allowing for very complex filter combination. 
</p><p>The screen shots to the right show throughput data captured for the SDRAM module set up for EMIF1 and EMIF2 activity  running on an OMAP4430 A9.  STMLib logging messages show when the SDMA unit is active.
</p><p>SCILib presents a use-case based API that allows the user to register a specific use-case with the library:
</p>
<ul><li>Throughput</li>
<li>Average Burst Length</li>
<li>Request Link Occupancy</li>
<li>Response Link Occupancy</li>
<li>Average Latency (Master only)</li></ul>
<p>In addition to selecting the use-case, the use-case registration API allows the user to select a probe, and optionally one or two filters. The registration function finds a free counter that meets the requirements of the request and programs the use-case, probe and filters (but does not enable the counter). Separate registration functions are used for registering SDRAM and Master use-cases due to differences in programming requirements. Once the use-case is registered, the global enable and disable functions are used to control when the Statistic Counters are actively generating STM messages. SCILib is dependent on the STMLib to provide meta data. Meta data provides processing options and context information (use case selection, sample window size) used for decoding the data.
</p>
<h3><span class="mw-headline" id="PMICMILib">PMICMILib</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=11" title="Edit section: PMICMILib">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:502px;"><a href="File_PMICMILib_example.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/9/9f/PMICMILib_example.png" width="500" height="259" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_PMICMILib_example.html" class="internal" title="Enlarge"></a></div>OMAP4430 Initial Power and Clock States</div></div></div>
<p>PMICMILib provides APIs for application configuration and control of the Power Management Instrumentation (PMI) and Clock Management Instrumentation (CMI) modules in OMAP devices.  The PMI and CMI modules are very similar to each other hence the reason the APIs are merged into a single library (although they can be built independent of each other). Both the PMI and CMI modules operate in Event mode where power and clock state changes are exported periodically through STM messages. The PMI and CMI modules can be configured to generate STM messages for specific domain state changes.  The CMI Module can also be configured for Activity mode which provides with STM messages the percentage of clocks active during the sample period. With STMLib the PMI and CMI modules can also be enabled and disabled allowing the client to modulate when STM messages are generated. 
</p><p>The screenshot at the right shows the initial event power and clock states from the OMAP4430’s Power Module (PM) and two Clock Modules (CM1 and CM2). This example also shows STMLib logging used to supplement the PMI and CMI data.
</p>
<h2><span class="mw-headline" id="For_Technical_Support_or_Comments">For Technical Support or Comments</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit&amp;section=12" title="Edit section: For Technical Support or Comments">edit</a><span class="mw-editsection-bracket">]</span></span></h2>

<!-- 
NewPP limit report
Cached time: 20201130185703
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.053 seconds
Real time usage: 0.058 seconds
Preprocessor visited node count: 46/1000000
Preprocessor generated node count: 52/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:14225-0!canonical and timestamp 20201130185703 and revision id 88046
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>CToolsLib Article</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>CToolsLib Article</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>CToolsLib Article</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>CToolsLib Article</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>CToolsLib Article</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>CToolsLib Article</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>CToolsLib Article</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>CToolsLib Article</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>CToolsLib Article</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;oldid=88046">https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;oldid=88046</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=CToolsLib+Article" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="CToolsLib_Article.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:CToolsLib_Article&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="CToolsLib_Article.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/CToolsLib_Article.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/CToolsLib_Article.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;oldid=88046" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=CToolsLib_Article&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 1 December 2011, at 17:21.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.053","walltime":"0.058","ppvisitednodes":{"value":46,"limit":1000000},"ppgeneratednodes":{"value":52,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130185703","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":239});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/CToolsLib_Article by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 06:08:40 GMT -->
</html>
