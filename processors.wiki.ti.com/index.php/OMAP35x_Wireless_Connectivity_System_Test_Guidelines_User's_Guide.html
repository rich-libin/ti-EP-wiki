<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 05:13:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>OMAP35x Wireless Connectivity System Test Guidelines User's Guide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User's_Guide","wgTitle":"OMAP35x Wireless Connectivity System Test Guidelines User's Guide","wgCurRevisionId":44038,"wgRevisionId":44038,"wgArticleId":5663,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Wireless Connectivity"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User's_Guide","wgRelevantArticleId":5663,"wgRequestId":"8840cc532cdaa2a77ee57180","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User_s_Guide rootpage-OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User_s_Guide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">OMAP35x Wireless Connectivity System Test Guidelines User's Guide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p>This document describes the recommended system test guidelines for the OMAP3 and the 1271 chipset. It requires basic knowledge of Bluetooth™ (BT) and Wireless Local Area Network (WLAN) specifications, and provides a low-cost setup. 
</p><p>Literature Number: SPRUGT7
</p><p>January 2010
</p><p><b>Note:</b> Throughout this document, characters in <span style="color: blue">blue</span> represent output form the CLI and the kernel. Characters in <span style="color: red">red</span> indicate what the user types. Characters in black show the CLI menu. 
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Test_Strategy"><span class="tocnumber">1</span> <span class="toctext">Test Strategy</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Tested_System"><span class="tocnumber">1.1</span> <span class="toctext">Tested System</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Test_Setup"><span class="tocnumber">2</span> <span class="toctext">Test Setup</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Recommended_Test_Setup"><span class="tocnumber">2.1</span> <span class="toctext">Recommended Test Setup</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Testing_Tools"><span class="tocnumber">2.2</span> <span class="toctext">Testing Tools</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Test_Categories"><span class="tocnumber">2.3</span> <span class="toctext">Test Categories</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Test_Plan"><span class="tocnumber">3</span> <span class="toctext">Test Plan</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Security"><span class="tocnumber">3.1</span> <span class="toctext">Security</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Functionality"><span class="tocnumber">3.2</span> <span class="toctext">Functionality</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#"><span class="tocnumber">3.2.1</span> <span class="toctext"></span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Performance"><span class="tocnumber">3.3</span> <span class="toctext">Performance</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#BT_Testing"><span class="tocnumber">3.4</span> <span class="toctext">BT Testing</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#BT_Inquiry_Scan"><span class="tocnumber">3.5</span> <span class="toctext">BT Inquiry Scan</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#BT_.E2.80.93_WLAN_Coexistence"><span class="tocnumber">3.6</span> <span class="toctext">BT – WLAN Coexistence</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Reliability"><span class="tocnumber">3.7</span> <span class="toctext">Reliability</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Stability"><span class="tocnumber">3.8</span> <span class="toctext">Stability</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Using_Iperf"><span class="tocnumber">4</span> <span class="toctext">Using Iperf</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#TCP_Iperf_Command"><span class="tocnumber">4.1</span> <span class="toctext">TCP Iperf Command</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#UDP_Iperf_Command"><span class="tocnumber">4.2</span> <span class="toctext">UDP Iperf Command</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Iperf_with_QoS_Tagging"><span class="tocnumber">4.3</span> <span class="toctext">Iperf with QoS Tagging</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#QoS_Support_in_Windows"><span class="tocnumber">5</span> <span class="toctext">QoS Support in Windows</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Test_Strategy">Test Strategy</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=1" title="Edit section: Test Strategy">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Tested_System">Tested System</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=2" title="Edit section: Tested System">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The system tested is the WiLink 6 WLAN and BT firmware running on WL1271 hardware (HW). These components are controlled by a driver running on an OMAP™ platform. The system is operated by an application running on a PC called <b>wlan_cu</b>.
</p><p>The interface between the OMAP board and the WL1271 is a four-bit SDIO.
</p>
<h2><span class="mw-headline" id="Test_Setup">Test Setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=3" title="Edit section: Test Setup">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Recommended_Test_Setup">Recommended Test Setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=4" title="Edit section: Recommended Test Setup">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following figure shows the recommended test setup.
</p><p><a href="File_System_Test_-_Figure1.html" class="image"><img alt="System Test - Figure1.jpg" src="https://processors.wiki.ti.com/images/6/64/System_Test_-_Figure1.jpg" width="557" height="334" /></a>
</p><p><b>Figure 1: Recommended Test Setup</b>
</p>
<h3><span class="mw-headline" id="Testing_Tools">Testing Tools</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=5" title="Edit section: Testing Tools">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following tools are required for testing:
</p>
<ul><li>Console application.</li>
<li>WLAN Sniffer: The sniffer is an IEEE 802.11 protocol analyzer, capable of receiving and decoding WLAN traffic over the air.</li>
<li>Iperf:<b> </b>A traffic generator. The Iperf tool generates data at a given rate. It runs as an embedded components on the host. Iperf supports transport Layer 4 TCP and UDP protocols.</li>
<li>Two access points (APs).</li>
<li>One WiFi station (STA).</li>
<li>BT Advanced Audio Distribution Profile (A2DP) sink (BT headsets support A2DP).</li>
<li>Handset with BT that supports FTP.</li></ul>
<h3><span class="mw-headline" id="Test_Categories">Test Categories</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=6" title="Edit section: Test Categories">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The table below summarizes the test categories that are fully or partially described in this document.
</p><p><b>Table 1: Test Categories</b>
</p>
<table cellspacing="2" border="2">
<tbody><tr>
<th bgcolor="#99ccff">Test Category
</th>
<th bgcolor="#99ccff">Covered in This Document
</th>
<th bgcolor="#99ccff">Not Covered in This Document
</th></tr>
<tr>
<td>Functionality</td>
<td>X</td>
<td>
</td></tr>
<tr>
<td>Security</td>
<td>X</td>
<td>
</td></tr>
<tr>
<td>Performance</td>
<td>X</td>
<td>
</td></tr>
<tr>
<td>Basic Features</td>
<td>X</td>
<td>
</td></tr>
<tr>
<td>Reliability</td>
<td>X</td>
<td>
</td></tr>
<tr>
<td>Stability</td>
<td>X</td>
<td>
</td></tr>
<tr>
<td>Radio Frequency (RF) Performance</td>
<td></td>
<td>X
</td></tr>
<tr>
<td>Interoperability</td>
<td></td>
<td>X
</td></tr>
<tr>
<td>Certification Tests</td>
<td></td>
<td>X
</td></tr>
</tbody></table>
<h2><span class="mw-headline" id="Test_Plan">Test Plan</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=7" title="Edit section: Test Plan">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Security">Security</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=8" title="Edit section: Security">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Security test validates the use of security connections, including WEP, WPA-PSK and WPA2-PSK, as well as the behavior of the system under test (SUT) when attempting to connect with incorrect security settings.
</p><p><b>WEP</b>
</p>
<ul><li>Configure the AP and SUT to WEP with Open System authentication using a 64-bit key index 1. You may run the following commands on the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ Privacy Authentication 0</li>
<li>/ Privacy encRyption 1</li>
<li>/ Privacy Wep add 0123456789 1 1</li>
<li>/ Connection Connect YourSSID</li></ul></dd></dl></dd></dl>
<pre>.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassph
rase, cerTificate, Supplicant/, Wep/
a 0

Setting privacy authentication to 0
.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassph
rase, cerTificate, Supplicant/, Wep/
r
0 - None, 1 - WEP, 2 - TKIP, 3 – AES

.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassph
rase, cerTificate, Supplicant/, Wep/
r 1

Setting privacy encryption to 1

.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassph
rase, cerTificate, Supplicant/, Wep/
w

.../Wep&gt; Add, Remove, Get default key id
a

Add WEP: Add &lt;Key Value (0..64 chars)&gt;
&lt;Tx Key Index)&gt;
&lt;Default Key (yes - 1 /no - 0)&gt;
[key type (hex | text) [hex] (0..5 chars)]

.../Wep&gt; Add, Remove, Get default key id
a 88f2c58643 1 1 hex

.../Connection&gt; Bssid_list, Connect, Disassociate, Status, Full_bssid_list, wPs/
c peterpan

14
Trying to associate with SSID ’peterpan’
OK
************ NEW CONNECTION ************
-- SSID  = peterpan
-- BSSID = 0-f-b5-e6-ed-fc
****************************************
Associated with 00:0f:b5:e6:ed:fc
CTRL-EVENT-CONNECTED - Connection to 00:0f:b5:e6:ed:fc completed (reauth) [id=14 
id_str=]
</pre>
<ul><li>Configure the IP address on the SUT using the following command from the Linux shell:</li></ul>
<dl><dd><dl><dd><a href="File_System_Test_-_Figure1-1.html" class="image"><img alt="System Test - Figure1-1.jpg" src="https://processors.wiki.ti.com/images/b/b7/System_Test_-_Figure1-1.jpg" width="395" height="40" /></a></dd></dl></dd></dl>
<ul><li>Send a ping from the PC behind the AP to the SUT.</li></ul>
<p>Expected result:
</p><p>The SUT successfully connects the AP, and the SUT replies to the ping.
</p><p><br />
<i>WPA PSK</i>
</p>
<ul><li>Configure the AP and SUT to WPA authentication with TKIP encryption. You may run the following commands on the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ Privacy Authentication 4</li>
<li>/ Privacy encRyption 2</li>
<li>/ Privacy Psk 12345678</li>
<li>/ Connection Connect SSID</li></ul></dd></dl></dd></dl>
<pre>.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassphrase, cerTificate, Supplicant/, Wep/
a 4
Setting privacy authentication to 4 
.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassphrase, cerTificate, Supplicant/, Wep/
r
0 - None, 1 - WEP, 2 - TKIP, 3 - AES
Encryption = 0
.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassphrase, cerTificate, Supplicant/, Wep/
r 2
Setting privacy encryption to 2
.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassphrase, cerTificate, Supplicant/, Wep/
p osopanda

Setting PSKPassphrase to osopanda

&gt; Driver/, Connection/, Management/, Show/, Privacy/, scAn/, roaminG/, qOs/, poWer/, 
eVents/, Bt coexsistence/, Report/, dEbug/, biT/, aboUt, Quit
c c peterpan

.../Connection&gt; Bssid_list, Connect, Disassociate, Status, Full_bssid_list, wPs/
Trying to associate with SSID ’peterpan’
OK
Associated with 00:0f:b5:e6:ed:fc
************ NEW CONNECTION ************
-- SSID  = peterpan
-- BSSID = 0-f-b5-e6-ed-fc
****************************************
WPA: Key negotiation completed with 00:0f:b5:e6:ed:fc [PTK=TKIP GTK=TKIP]
CTRL-EVENT-CONNECTED - Connection to 00:0f:b5:e6:ed:fc completed (reauth) [id=23 id_str=]
</pre>
<ul><li>Send a ping from the PC behind the AP to the SUT.</li></ul>
<p>Expected result:
</p><p>The SUT successfully connects the AP, and the SUT replies to the ping.
</p><p><br />
<i>WPA2 PSK</i>
</p>
<ul><li>Configure the AP and SUT to WPA2 authentication with AES encryption. You may run the following commands on the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ Privacy Authentication 7</li>
<li>/ Privacy encRyption 3</li>
<li>/ Privacy Psk 12345678</li>
<li>/ Connection Connect SSID</li></ul></dd></dl></dd></dl>
<pre>.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassph
rase, cerTificate, Supplicant/, Wep/
a 7
Setting privacy authentication to 7
.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassphrase, cerTificate, Supplicant/, Wep/
r 3
Setting privacy encryption to 3
.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassphrase, cerTificate, Supplicant/, Wep/
p aabbccddee
Setting PSKPassphrase to aabbccddee
.../Privacy&gt; Authentication, Eap, encRyption, Keytype, Mixedmode, aNywpamode, 
Credentials, pskPassphrase, cerTificate, Supplicant/, Wep/
/ c c peterpan
&gt; Driver/, Connection/, Management/, Show/, Privacy/, scAn/, roaminG/, qOs/, 
poWer/, eVents/, Bt coexsistence/, Report/, dEbug/, biT/, aboUt, Quit
.../Connection&gt; Bssid_list, Connect, Disassociate, Status, Full_bssid_list, wPs/
0
Trying to associate with SSID ’peterpan’
OK
Associated with 00:0f:b5:e6:ed:fc
************ NEW CONNECTION ************
-- SSID  = peterpan
-- BSSID = 0-f-b5-e6-ed-fc
****************************************
WPA: Key negotiation completed with 00:0f:b5:e6:ed:fc [PTK=CCMP GTK=CCMP]
CTRL-EVENT-CONNECTED - Connection to 00:0f:b5:e6:ed:fc completed (auth) [id=0 id_str=]
</pre>
<ul><li>Send a ping from the PC behind the AP to the SUT.</li></ul>
<p>Expected result:
</p><p>The SUT successfully connects the AP, and the SUT replies to the ping.
</p><p><br />
<i>Negative Security Test</i>
</p>
<ul><li>Configure the AP and SUT to WPA2 authentication with AES encryption.</li>
<li>Configure the SUT to use a different key than that defined on the AP.</li>
<li>You may run the following commands on the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ Privacy Authentication 7</li>
<li>/ Privacy encRyption 3</li>
<li>/ Privacy Psk 1234567<b>9</b></li>
<li>/ Connection Connect SSID</li></ul></dd></dl></dd></dl>
<ul><li>Send a ping from the PC behind the AP to the SUT.</li></ul>
<p>Expected results:
</p><p>The SUT tries to connect to the AP, but connection cannot be established. The SUT does not reply to the pings.
</p>
<h3><span class="mw-headline" id="Functionality">Functionality</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=9" title="Edit section: Functionality">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Functionality test category validates the system-level functionality of the features and overall system performance. To verify performance compliance with specifications and/or predefined system requirements, each feature is tested in several different scenarios.
</p><p>Each feature is tested according to a specified, detailed test method. The test description includes the tests described below.
</p><p><br />
<b>Scanning</b>
</p><p>The Scanning test validates the ability of the SUT to discover and track APs and STAs within its range in various modes.
</p><p><br />
<i>Application Scan</i>
</p><p>The Application Scan is executed by the application level upon the driver. This scan inserts the APs in the SUT range into the Basic Service Set ID (BSSID) list. This test performs the following operations:
</p>
<ul><li>Enables more than one AP to run in your environment.</li>
<li>Runs an application scan on the SUT. You may use the following commands from the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ scAn Start</li></ul></dd></dl></dd></dl>
<pre>&gt; Driver/, Connection/, Management/, Show/, Privacy/, scAn/, roaminG/, qOs/, poWer/, 
eVents/, Bt coexsistance/, Report/, dEbug/, biT/, aboUt, Quit
a
.../scAn&gt; Start, sTop, Wextstart, configApp/, configpEriodic/, configPolicy/
s
Application scan started
</pre>
<ul><li>On the WLAN sniffer, observes that the SUT sends probe requests when running the application scan.</li>
<li>Reads the BSSID list. You may use the following commands from the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ Connection Bssid_list</li></ul></dd></dl></dd></dl>
<pre>.../Connection&gt; Bssid_list, Connect, Disassociate, Status, Full_bssid_list, wPs/
b

BssId List: Num=1
         MAC        Privacy Rssi  Mode    Channel    SSID
 00.0f.b5.e6.ed.fc     0    -62  Infra      3        peterpan
</pre>
<ul><li>Turns off one of the APs and runs the scan command again.</li></ul>
<dl><dd><dl><dd>Reads the BSSID list.</dd></dl></dd></dl>
<p>Expected result:
</p><p>The SUT removes the APs from the BSSID list.
</p><p><br />
<i>Background Scan</i>
</p><p>The Background Scan runs in order to discover and track APs with the same SSID and insert them into the AP Neighbor list that the SUT uses for roaming. This test performs the following operations:
</p>
<ul><li>Enables more than one AP to run in your environment.</li>
<li>Configures the same Service Set Identifier (SSID) for all APs with WPA2 security and the same Pre-shared Key (PSK) by running a Scan command . You should see two APs with the same SSID in your BSSID list.</li></ul>
<pre>.../Connection&gt; Bssid_list, Connect, Disassociate, Status, Full_bssid_list, wPs/
b

BssId List: Num=2
         MAC        Privacy Rssi  Mode    Channel    SSID
 00.0f.b5.e6.ed.fc     1    -65  Infra      6        peterpan
*00.23.69.37.c3.9f     1    -65  Infra     11        peterpan
</pre>
<ul><li>Connects the SUT to one of the APs.</li>
<li>Your SUT is configured by default to run a background scan. You may review it using the following command:</li></ul>
<dl><dd><dl><dd><ul><li>/ scAn configPolicy Display</li></ul></dd></dl></dd></dl>
<pre>.../configPolicy&gt; Global, Band/, Display, cLear, Store, bsslisT
d

Scan Policy:
Normal scan interval: 10000, deteriorating scan interval: 5000
Max track attempt failures: 3
BSS list size: 4, number of BSSes to start discovery: 1
Number of configured bands: 1

Band: 2.4 GHz
RSSI Threshold: -80 dBm
Number of channels for each discovery interval: 3

Tracking Method:
Scan type: Active Normal Scan
Max channel dwell time: 30000, Min channel dwell time: 15000
ET condition: ET disabled  , ET number of frames: 0
Probe request number: 3, probe request rate: Auto    , TX level: 205

Discovery Method:
Scan type: Active Normal Scan
Max channel dwell time: 30000, Min channel dwell time: 15000
ET condition: ET disabled  , ET number of frames: 0
Probe request number: 3, probe request rate: Auto    , TX level: 205

Immediate Scan Method:
Scan type: Active Normal Scan
Max channel dwell time: 30000, Min channel dwell time: 15000
ET condition: ET disabled  , ET number of frames: 0
Probe request number: 3, probe request rate: Auto    , TX level: 205

Channel list:   1   2   3   4   5   6   7   8   9  10  11  12  13  14
.../configPolicy&gt; Global, Band/, Display, cLear, Store, bsslisT
</pre>
<ul><li>On the WLAN sniffer, observe that the SUT sends probe requests according to the Scan Policy – Channel, Rate and the number of probe requests.</li>
<li>The SUT should find the second AP and display it in a neighbor list called BSS List for future roaming purposes:</li></ul>
<dl><dd><dl><dd><ul><li>/ scAn configPolicy Display</li></ul></dd></dl></dd></dl>
<pre>.../configPolicy&gt; Global, Band/, Display, cLear, Store, bsslisT
t

BSS List:
BSSID              Band     Channel  RSSI  Neighbor?
-----------------------------------------------------
00.0f.b5.e6.ed.fc  2.4 GHz  6        -65   No
</pre>
<p>Expected result:
</p><p>The second AP appears in the table.
</p><p><b>Note: </b>You should use the same setup for the next test.
</p><p><br />
<b>Roaming</b>
</p><p>The Roaming test validates the ability of the SUT to roam to other APs for common roaming triggers, described below, and to continue handling the traffic:
</p>
<ul><li>BSS Loss</li>
<li>Low Receive Signal Strength Indication (RSSI)</li></ul>
<p><br />
<i>Roaming Trigger – BSS Loss</i>
</p>
<ul><li>Use the same setup from the previous section.</li>
<li>Verify that you see the second AP on the Neighbor APs list.</li>
<li>Enable roaming on the SUT using the following command:</li></ul>
<dl><dd><dl><dd><ul><li>/ roaminG Enable</li></ul></dd></dl></dd></dl>
<pre>&gt; Driver/, Connection/, Management/, Show/, Privacy/, scAn/, roaminG/, qOs/, poWer/, 
eVents/, Bt coexsistence/, Report/, dEbug/, biT/, aboUt, Quit
/ g e
.../roaminG&gt; Enable, Disable, Low pass filter, Quality threshold, Get , Thresholds/
Roaming is enabled
</pre>
<ul><li>Run a continuous ping from the PC behind the APs to the SUT.</li>
<li>Unplug the AP you are connected to from the power supply.</li></ul>
<p>Expected result:
</p><p>The SUT roams to other APs and ping resumes.
</p><p><br />
<i>Roaming Trigger – Low RSSI</i>
</p>
<ul><li>Connect the AP to the power supply again.</li>
<li>Use the same setup from the previous section.</li>
<li>Verify that you see the second AP on the Neighbor APs list.</li>
<li>Run a continuous ping from the PC behind the APs to the SUT.</li>
<li>Decrease the signal received from the AP using one of the following methods:</li></ul>
<dl><dd><dl><dd><ul><li>Walk far from the AP to which you are connected and approach the other AP.</li>
<li>Remove the antenna from the AP to which you are currently connected.</li>
<li>Use an attenuator to decrease the AP signal.</li></ul></dd></dl></dd></dl>
<p>Expected result:
</p><p>The SUT roams to the second AP and ping resumes.
</p><p><br />
<b>Low-Power Mode</b>
</p><p>This test verifies the ability of the system to use automatic power-save mode. In this power mode, the SUT should remain in Power Save mode for low data rates and should exit from Power Save mode when a high data rate is running.
</p>
<ul><li>Configure the SUT to use Automatic Power Save mode.</li></ul>
<dl><dd><dl><dd><ul><li>/ poWer set_Power_mode 0</li></ul></dd></dl></dd></dl>
<pre>.../poWer&gt; set_Power_mode, set_powersave_powerLevel, set_deFault_powerlevel, 
set_doZe_mode_in_auto, traffic_Thresholds, eNable, Disable
P 0

Power mode: 0
0 - AUTO, 1 - ACTIVE, 2 - SHORT_DOZE, 3 - LONG_DOZE
</pre>
<ul><li>Connect the SUT to the AP.</li>
<li>Observe the sniffer and verify that the SUT sends null data with the power-save bit on right after the connection is established.</li>
<li>Send a ping from the SUT to the PC behind the AP.</li>
<li>Observe on the sniffer that the SUT receives a PS Poll packet before each packet from the AP.</li>
<li>Start high data rate TCP traffic using Iperf from your SUT to the PC behind the AP. You may refer to <a href="#Using_Iperf"><i>Using Iperf</i></a> for more information.</li>
<li>Observe on the sniffer that there are no PS-Poll packets.</li>
<li>Stop the Iperf command using Ctrl+C.</li>
<li>Send a ping from the PC behind the AP to the SUT. Observe on the sniffer that a PS Poll is sent by the SUT before any packet from the AP.</li></ul>
<p>Expected result:
</p><p>The SUT enters and exits from Power Save mode according to the traffic type.
</p><p><br />
<b>QoS</b>
</p><p>The QoS test category verifies that the SUT is capable of transmitting and receiving data with the correct tagging. In order to run QoS traffic from the PC behind the AP, you should add a key to the registry. You may refer to <a href="#QoS_Support_in_Windows"><i>QoS Support in Windows</i></a> for more details.
</p><p><br />
<i>Transmit Voice</i>
</p>
<ul><li>Connect the SUT to the AP that supports QoS.</li>
<li>Run Iperf UDP in a Voice queue from the SUT to the PC behind the AP and observe the sniffer. You may refer to <a href="#Using_Iperf"><i>Using Iperf</i></a> for more details.</li></ul>
<p>Expected result:
</p><p>Packets from the SUT are tagged as Voice packets.
</p><p><br />
<i>Receive Voice</i>
</p>
<ul><li>Connect the SUT to the AP that supports QoS.</li>
<li>Run Iperf from the PC behind the AP to the SUT in Voice queue and observe the sniffer. You may refer to <a href="#Using_Iperf"><i>Using Iperf</i></a> for more details.</li></ul>
<p>Expected result:
</p><p>Packets sent to the SUT are tagged as Voice packets and the SUT acknowledges them successfully.
</p><p><br />
<b>Ad Hoc (IBSS)</b>
</p><p>The <i>ad hoc</i> test validates the ability of the SUT to create or join a peer-to-peer connection with other stations.
</p><p><br />
<i>Create IBSS Network</i>
</p>
<ul><li>Configure the SUT from the wlan_cu to create an Independent Basic Service Set (IBSS) network using the following command lines:</li></ul>
<dl><dd><dl><dd><ul><li>/ Management Mode 0</li>
<li>/ Management Channel 6</li>
<li>/ Connection Connect MyIBSS</li></ul></dd></dl></dd></dl>
<pre>/ m m 0	
.../Management&gt; connect moDe, Channel, Rate, Mode, Frag, rTs, prEamble, sLot, 
rAdio on/off, Info, siGnal, snr ratiO, tX_power_table, tx_power_dBm_div10, 
tx_poWer_level, 802_11d_h/, beacoN/, adVanced/
Current mode = AD-Hoc
0 - AD-Hoc, 1 - Infr., 2 - Auto
c 6
&gt; Driver/, Connection/, Management/, Show/, Privacy/, scAn/, roaminG/, qOs/, poWer/, 
eVents/, Bt coexsistance/, Report/, dEbug/, biT/, aboUt, Quit
C c MyIBSS
.../Connection&gt; Bssid_list, Connect, Disassociate, Status, Full_bssid_list, wPs/
Trying to associate with SSID \’MyIBSS\’
OK
%%%%    SELF SELECT SUCCESS, bssid: 02.00.00.72.09.04&#160;%%%%
/ c s 
==========================
Status  &#160;: running
MAC     &#160;: 08.00.28.12.34.56
SSID    &#160;: MyIBSS
BSSID   &#160;: 02.00.00.72.09.04
Channel &#160;: 6
==========================
</pre>
<p>Expected result:
</p><p>The SUT sends beacons on the correct channel with the correct SSID. The WiFi station connects successfully to the SUT and replies to a ping.
</p>
<h4><span class="mw-headline" id=""></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=10" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><i>Join IBSS Network</i>
</p>
<ul><li>Configure the WiFi station to create an IBSS network.</li>
<li>Execute an Application Scan command from the wlan_cu to discover the IBSS network you created.</li>
<li>Connect the SUT to the IBSS network you created using an SSID that you select. You may use the following commands from the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ Management Mode 0</li>
<li>/ Connection Connect MyChosenSSID</li></ul></dd></dl></dd></dl>
<ul><li>Configure a static IP address on both stations.</li>
<li>Run a Ping command from the SUT to the WiFi station.</li></ul>
<p>Expected result:
</p><p>The SUT successfully joins the IBSS network and replies to a ping.
</p><p><br />
<b>Recovery</b>
</p><p>This test validates the recovery feature in the WiLink system. The recovery process is performed by the driver when an issue arises with the system, such as when the last command was not completed within the expected time frame.
</p><p>The process resets the system HW and boots the system to the same setup as before the recovery.
</p>
<ul><li>Connect the SUT to the AP.</li>
<li>Run a ping from the PC behind the AP to the SUT.</li>
<li>Execute a software (SW) recovery trigger that simulates the real recovery operation using the following line on the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ dEbug Print 2002</li>
<li>.../dEbug&gt; Print, Fw debug</li></ul></dd></dl></dd></dl>
<pre>p 2002
CuCmd_PrintDriverDebug: FUN_ID: 2002
***** recovery trigger: MBOX_FAILURE *****, ts=6048520
.....drvMain_Recovery, ts=6048525
SDIO clock Configuration is now set to 24Mhz
CHIP VERSION... set 1273 chip top registers
Working on a 1273 PG 2.0 board.
Starting to process NVS...
NVS found, EEPROM Image addr=0xc34a0000, EEPROM Len=0x0x14c
Chip ID is 0x4030111.
FEM Type 1
Starting to download firmware...
Starting to download firmware...
Starting to download firmware...
Starting to download firmware...
Starting to download firmware...
Starting to download firmware...
Finished downloading firmware.
Firmware running.
--------------------------------------------------------------------
Driver Version &#160;: WiLink_Driver_6.1.0.0.84
Firmware Version: Rev 6.1.0.0.204
Station ID     &#160;: 08-00-28-12-34-56
--------------------------------------------------------------------

Interrogate TX/RX parameters
.....drvMain_RecoveryNotify: End Of Recovery, ts=6049019
</pre>
<p>Expected result:
</p><p>The SUT executes the recovery, returns to a normal operation and replies to a ping after the recovery.
</p><p><br />
<b>Flight Mode</b>
</p><p>The Flight mode test verifies the proper behavior of the SUT while enabling and disabling the WLAN with different traffic types and connection modes.
</p>
<ul><li>Connect the SUT to the AP.</li>
<li>Send a continuous ping command from the PC behind the AP to the SUT.</li>
<li>Put the station in Flight mode. You may use the following commands from the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ Driver Stop</li></ul></dd></dl></dd></dl>
<pre>.../Driver&gt; Start, sTop, stAtus
t
.../Driver&gt; Start, sTop, stAtus
a
Driver is stopped!
</pre>
<ul><li>Exit the SUT from Flight mode. You may use the following commands from the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ Driver Start</li></ul></dd></dl></dd></dl>
<pre>.../Driver&gt; Start, sTop, stAtus
s

SDIO clock Configuration is now set to 24Mhz
CHIP VERSION... set 1273 chip top registers
Working on a 1273 PG 2.0 board.
Starting to process NVS...
No Nvs, Setting default MAC address
pHwInit-&gt;uEEPROMCurLen: 1c
Chip ID is 0x4030111.
FEM Type 1
Starting to download firmware...
Starting to download firmware...
Starting to download firmware...
Starting to download firmware...
Starting to download firmware...
Starting to download firmware...
Finished downloading firmware.
Firmware running.

--------------------------------------------------------------------
Driver Version &#160;: WiLink_Driver_6.1.0.0.84
Firmware Version: Rev 6.1.0.0.204
Station ID     &#160;: 08-00-28-12-34-56
--------------------------------------------------------------------

Interrogate TX/RX parameters
</pre>
<p>Expected result:
</p><p>The SUT does not reply to a ping when in Flight mode, but resumes ping replies after exiting from this state.
</p><p><br />
<b>Hidden SSID</b>
</p><p>This test validates the ability of the station to connect to an AP that does not advertise the SSID in the beacons.
</p>
<ul><li>Configure the AP to Hidden SSID mode with the SSID value <b>MyHiddenSSID</b>. In this state, the AP does not advertise the SSID in the beacons.</li>
<li>Execute a Scan command from the wlan_cu. You may use the following command:</li></ul>
<dl><dd><dl><dd><ul><li>/ scAn Start</li></ul></dd></dl></dd></dl>
<ul><li>You should get the following output in the BSSID List:</li></ul>
<pre>.../Connection&gt; Bssid_list, Connect, Disassociate, Status, Full_bssid_list, wPs/
b

BssId List: Num=1
         MAC        Privacy Rssi  Mode    Channel    SSID
 00.15.2b.78.f1.90     1    -61  Infra      1        ****
</pre>
<ul><li>Connect the SUT to the AP. You may use the following lines in the wlan_cu:</li></ul>
<dl><dd><dl><dd><ul><li>/ Connection Connect MyHiddenSSID</li></ul></dd></dl></dd></dl>
<ul><li>Run a ping from the PC behind the AP to the SUT.</li></ul>
<p>Expected result:
</p><p>The SUT successfully connects to the AP and replies to a ping.
</p>
<h3><span class="mw-headline" id="Performance">Performance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=11" title="Edit section: Performance">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This test category validates the performance of the system in different scenarios. It verifies that behavior complies with predefined system requirements.
</p><p><b>Throughput</b>
</p><p><b>1</b>	Configure the AP to 802.11b mode, such that it supports only the following rates:  1 Mbps, 2 Mbps, 5.5 Mbps and 11 Mbps.
</p><p><b>2</b>	Connect the SUT to the AP. You may use the following line on the wlan_cu:
</p>
<dl><dd><dl><dd><ul><li>/ Connection Connect MySSID</li></ul></dd></dl></dd></dl>
<p><b>3</b>	Run an Iperf command for an Rx TCP test and then a Tx TCP test.
</p><p><b>4</b>	Record the results in a table, such as that shown in Table 2 below.
</p><p><b>5</b>	Configure the AP to 11g mode, and repeat Steps <b>2</b>-<b>4</b> above. Record the results in a table, such as that shown in Table 2 below.
</p><p><b>6</b>	Configure the AP to 11n mode, and repeat Steps <b>2</b>-<b>4</b> above. Record your results in a table, such as that shown in Table 2 below.
</p><p><b>Table 2: Throughput Test Results</b>
</p>
<table cellspacing="2" border="2">
<tbody><tr>
<th bgcolor="#99ccff">Ap Configuration
</th>
<th bgcolor="#99ccff">Transmit (Station to AP)
</th>
<th bgcolor="#99ccff">Receive (AP to Station)
</th>
<th bgcolor="#99ccff">Expected Results
</th></tr>
<tr>
<td>802.11b</td>
<td></td>
<td></td>
<td>&gt; 5 Mbps
</td></tr>
<tr>
<td>802.11g</td>
<td></td>
<td></td>
<td>&gt; 15 Mbps
</td></tr>
<tr>
<td>802.11n</td>
<td></td>
<td></td>
<td>&gt; 20 Mbps
</td></tr>
</tbody></table>
<p><b>Note: </b>You may get low throughput results when the environment is busy with many WLAN transmissions. Texas Instruments recommends that you select the least-occupied channel.
</p><p><br />
<b>Range Test</b>
</p><p>The Range test verifies system performance for a variable range from the AP.
</p>
<ul><li>Connect the SUT to the AP.</li>
<li>Run a continuous ping from the PC behind the AP to the SUT.</li>
<li>Move far away from the AP location in such a way that the receive signal at the SUT decreases until the SUT disconnects.</li></ul>
<dl><dd><dl><dd>You may get a similar effect by decreasing the output power of the AP using a differential RF attenuator connected to the antenna port of the AP or the SUT.</dd></dl></dd></dl>
<ul><li>You may use the RSSI by typing the following on the wlan_cu, as follows:</li></ul>
<dl><dd><dl><dd><ul><li>/ Management signal</li></ul></dd></dl></dd></dl>
<pre>.../Management&gt; connect moDe, Channel, Rate, Mode, Frag, rTs, prEamble, sLot, rAdio on/off, 
Info, siGnal, snr ratiO, tX_power_table, tx_power_dBm_div10, tx_poWer_level, 802_11d_h/, beacoN/, adVanced/
g
Current dataRSSI=0  beaconRssi=-81
</pre>
<ul><li>Return the SUT to the appropriate AP range.</li></ul>
<p>Expected result:
</p><p>A ping is replied to for a valid receive signal of -85dBm and below.
The SUT reconnects again after returning the AP range, and replies to a ping.
</p><p><br />
<b>Packet Error Rate</b>
</p><p>The Transmit Packet Error Rate (PER) test verifies that the SUT transmits in high quality with a low PER when using a WLAN sniffer.
</p>
<ul><li>Configure the AP to the least-occupied channel. You may use the WLAN sniffer for this purpose.</li>
<li>Connect the SUT to the AP.</li>
<li>Run Iperf UDP of 1 Mbps for one minute from the SUT to the PC behind the AP. Record the sniffer trace for the entire session.</li>
<li>Run Iperf UDP of 1Mbps for one minute from the PC behind the AP to the SUT. Record the sniffer trace for the entire session.</li></ul>
<p>Expected result:
</p><p>The number of data packets with a Retry flag is less than 5% of the total packets.
</p>
<h3><span class="mw-headline" id="BT_Testing">BT Testing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=12" title="Edit section: BT Testing">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>BT testing tests the basic operation of the BT stack and the functionality of the BT Device Under Test (DUT). The  WLAN should be turned off during BT tests.
</p><p><br />
<b>A2DP Profile</b>
</p><p>For this test, BT should be able to connect an A2DP-supported headset and an audio file should be played with high quality.
</p><p>Configure the BT DUT to an A2DP source by running the following commands on the Linux shell: 
</p>
<ul><li>After loading the device, type the following from the Linux prompt:</li></ul>
<pre>

/ # export LD_LIBRARY_PATH=/WiLink_Demo_Target/lib:$LD_LIBRARY_PATH
/ # /WiLink_Demo_Target/sbin/hciattach /dev/ttyS1 texas 3000000 
Found a Texas Instruments’ chip!
Firmware file&#160;: /lib/firmware/TIInit_7.2.31.bts
Loaded BTS script version 1
texas: changing baud rate to 3000000, flow control to 1
Device setup complete
/ # /WiLink_Demo_Target/sbin/hciconfig
hci0:   Type: UART
        BD Address: 00:00:00:00:00:00 ACL MTU: 0:0 SCO MTU: 0:0
        DOWN
        RX bytes:0 acl:0 sco:0 events:0 errors:0
        TX bytes:0 acl:0 sco:0 commands:0 errors:0
/ # WiLink_Demo_Target/sbin/hciconfig hci0 up
/ # WiLink_Demo_Target/sbin/hciconfig hci0 piscan
/ # WiLink_Demo_Target/sbin/hciconfig
hci0:   Type: UART
        BD Address: 00:21:BA:FA:BF:86 ACL MTU: 1021:4 SCO MTU: 180:4
        UP RUNNING PSCAN ISCAN
        RX bytes:359 acl:0 sco:0 events:11 errors:0
        TX bytes:50 acl:0 sco:0 commands:11 errors:0
/ # WiLink_Demo_Target/bin/hcitool scan
Scanning ...
        00:13:E7:48:3C:95       MCS-IL-X0052323 AVRCP Test APP
        00:03:C9:87:29:83       n/a
        00:12:62:02:22:5A       Yuval cell
        00:1C:A4:57:25:E8       K610i
        00:12:D2:96:99:EA       Nokia 6230i
        00:22:A5:B9:67:65       TI Android Bluetooth
        00:12:1C:BB:05:46       Parrot MK6000v1.01c
        00:16:41:B4:A8:C7       Shlomi_PC
        00:1A:6B:77:1D:F4       CBC0664
        00:12:62:26:0A:D6       Nokia 6230
        00:14:A4:DF:B0:3E       MCS086596
        00:10:C6:C2:D3:7F       CN
        00:17:E3:10:B9:6B       Assaf’s cell.
        00:1F:5D:5D:3C:EA       Asher Golomb phone
        00:1D:28:6D:AD:0A       K610i ohad
/ # rm /WiLink_Demo_Target/var/run/messagebus.pid
/ # /WiLink_Demo_Target/bin/dbus-daemon –system
/ # /WiLink_Demo_Target/sbin/bluetoothd -n &amp;
/etc # bluetoothd[1523]: Bluetooth daemon 4.40
bluetoothd[1523]: Starting SDP server
bluetoothd[1523]: Can’t create GN bridge
bluetoothd[1523]: HCI dev 0 registered
bluetoothd[1523]: HCI dev 0 up
bluetoothd[1523]: Starting security manager 0
bluetoothd[1523]: Adapter /org/bluez/1523/hci0 has been enabled
bluetoothd[1523]: Failed to access HAL
</pre>
<ul><li>Create or edit the file <b>asound.conf </b>on the target file system under the directory <b>/etc/ </b>with the following content in it:</li></ul>
<pre>/ # cat /etc/asound.conf
pcm.!bluetooth {
                type bluetooth
                device 00:12:1C:BB:05:46 / This should be your BT A2DP sinc BD Address
}
pcm.!default {
                type plug
                slave.pcm "bluetooth"
}
/ # /WiLink_Demo_Target/sbin/agent --path /org/bluez/agent 0000 &amp; / 0000 is the pass key 
of your BT Sink device
/# /WiLink_Demo_Target/bin/dbus-send --system --print-reply --dest=org.bluez / 
org.bluez.Manager.DefaultAdapter
method return sender=:1.0 -&gt; dest=:1.2 reply_serial=2
   object path "/org/bluez/1523/hci0"
/# /WiLink_Demo_Target/sbin/sdptest -i hci0 00:12:1C:BB:05:46
bluetoothd[1523]: link_key_request (sba=00:21:BA:FA:BF:86, dba=00:12:1C:BB:05:46)
00 06 00 06 12 34 56 78  11 22 33 44 11 11 22 22
55 55 55 55 55 55 66 66  55 55 66 67
/# /home/root/alsa_install/bin/aplay -Dplug:bluetooth /home/root/alsa_install/bin/seaman.wav / 
Plays the File seaman.wav under 
the path /home/root/alsa_install/bin
</pre>
<p>Expected result:
</p><p>The file plays successfully and music sounds clear.
</p><p><br />
<b>Object Push Profile</b>
</p><p>Using an Object Push Profile (OPP), BT should be able to send or receive a file saved on the OMAP to a remote device (for example, a mobile phone).
</p>
<ul><li>Configure the BT DUT to connect to an OPP-supported BT device by running the following commands on the Linux shell:</li></ul>
<pre>/ # export LD_LIBRARY_PATH=/WiLink_Demo_Target/lib:$LD_LIBRARY_PATH

/ # /WiLink_Demo_Target/sbin/hciattach /dev/ttyS1 texas 3000000 
Found a Texas Instruments’ chip!
Firmware file&#160;: /lib/firmware/TIInit_7.2.31.bts
Loaded BTS script version 1
texas: changing baud rate to 3000000, flow control to 1
Device setup complete
/ # /WiLink_Demo_Target/sbin/hciconfig
hci0:   Type: UART
        BD Address: 00:00:00:00:00:00 ACL MTU: 0:0 SCO MTU: 0:0
        DOWN
        RX bytes:0 acl:0 sco:0 events:0 errors:0
        TX bytes:0 acl:0 sco:0 commands:0 errors:0
/ # /WiLink_Demo_Target/sbin/hciconfig hci0 up
/ # /WiLink_Demo_Target/sbin/hciconfig hci0 piscan
/ # /WiLink_Demo_Target/sbin/hciconfig
hci0:   Type: UART
        BD Address: 00:21:BA:FA:BF:86 ACL MTU: 1021:4 SCO MTU: 180:4
        UP RUNNING PSCAN ISCAN
        RX bytes:359 acl:0 sco:0 events:11 errors:0
        TX bytes:50 acl:0 sco:0 commands:11 errors:0
/ # /WiLink_Demo_Target/bin/hcitool scan
Scanning ...
        00:13:E7:48:3C:95       MCS-IL-X0052323 AVRCP Test APP
        00:03:C9:87:29:83       n/a
        00:12:62:02:22:5A       Yuval cell
        00:1C:A4:57:25:E8       K610i
        00:12:D2:96:99:EA       Nokia 6230i
        00:22:A5:B9:67:65       TI Android Bluetooth
        00:12:1C:BB:05:46       Parrot MK6000v1.01c
        00:16:41:B4:A8:C7       Shlomi_PC
        00:1A:6B:77:1D:F4       CBC0664
        00:12:62:26:0A:D6       Nokia 6230
        00:14:A4:DF:B0:3E       MCS086596
        00:10:C6:C2:D3:7F       CN
        00:17:E3:10:B9:6B       Assaf’s cell.
        00:1F:5D:5D:3C:EA       Asher Golomb phone
        00:1D:28:6D:AD:0A       K610i ohad
/ # rm /WiLink_Demo_Target/var/run/messagebus.pid
/ # /WiLink_Demo_Target/bin/dbus-daemon –system
/ # /WiLink_Demo_Target/sbin/bluetoothd -n &amp;
/etc # bluetoothd[1523]: Bluetooth daemon 4.40
bluetoothd[1523]: Starting SDP server
bluetoothd[1523]: Can’t create GN bridge
bluetoothd[1523]: HCI dev 0 registered
bluetoothd[1523]: HCI dev 0 up
bluetoothd[1523]: Starting security manager 0

bluetoothd[1523]: Adapter /org/bluez/1523/hci0 has been enabled
bluetoothd[1523\]: Failed to access HAL
/ # /WiLink_Demo_Target/bin/sdptool browse local / Prints the DUT supported profiles
/ # /WiLink_Demo_Target/bin/sdptool browse 00:24:03:3D:2F:C0 
/ enter the BD Address of the 
device you are working with
'''Service Name: OBEX Object Push'''
Service RecHandle: 0x10001
Service Class ID List:
  "OBEX Object Push" (0x1105)
Protocol Descriptor List:
  "L2CAP" (0x0100)
  "RFCOMM" (0x0003)
    Channel: '''9				'''/ copy the channel \# fot the next command
  "OBEX" (0x0008)
Language Base Attr List:
  code_ISO639: 0x656e
  encoding:    0x6a
  base_offset: 0x100
Profile Descriptor List:
  "OBEX Object Push" (0x1105)
    Version: 0x0100

</pre>
<ul><li>Copy the channel from the OPP to the next command:</li></ul>
<pre>/WiLink_Demo_Target/bin/sdptool add --channel=CH OPUSH 
/ # /WiLink_Demo_Target/bin/sdptool add --channel='''9 '''OPUSH
</pre>
<ul><li>Using the following command, send a file from the BT DUT to the BT device:</li></ul>
<pre>/WiLink_Demo_Target/bin/ussp-push {BTADDR@[BTCHAN]} LocalFile RemoteFile 
/ # /WiLink_Demo_Target/bin/ussp-push 00:24:03:3D:2F:C0@'''9''' SourceFile.jpg DestFile.jpg
</pre>
<p>Expected result:
</p><p>The file is received successfully and can be opened.
</p><p><br />
<b>BT Inquiry and Inquiry Scan</b>
</p><p>This test validates the ability of the BT device to scan all remote devices and to be discoverable by other devices.
</p><p><br />
<i>BT Inquiry</i>
</p><p>Enable an Inquiry scan on the BT devices available in your environment. For some devices, this option is called <i>Find Me</i> or <i>Make Your Device Discoverable</i>.
</p>
<ul><li>Start the Bluetooth from the Linux shell using the following commands:</li></ul>
<pre>/ # export LD_LIBRARY_PATH=/WiLink_Demo_Target/lib:$LD_LIBRARY_PATH
/ # /WiLink_Demo_Target/sbin/hciattach /dev/ttyS1 texas 3000000 
Found a Texas Instruments’ chip!
Firmware file&#160;: /lib/firmware/TIInit_7.2.31.bts
Loaded BTS script version 1
texas: changing baud rate to 3000000, flow control to 1
Device setup complete
/ # /WiLink_Demo_Target/sbin/hciconfig
hci0:   Type: UART
        BD Address: 00:00:00:00:00:00 ACL MTU: 0:0 SCO MTU: 0:0
        DOWN
        RX bytes:0 acl:0 sco:0 events:0 errors:0
        TX bytes:0 acl:0 sco:0 commands:0 errors:0
/ # /WiLink_Demo_Target/sbin/hciconfig hci0 up
/ # /WiLink_Demo_Target/sbin/hciconfig hci0 piscan
/ # /WiLink_Demo_Target/sbin/hciconfig
hci0:   Type: UART
        BD Address: 00:21:BA:FA:BF:86 ACL MTU: 1021:4 SCO MTU: 180:4
        UP RUNNING PSCAN ISCAN
        RX bytes:359 acl:0 sco:0 events:11 errors:0
        TX bytes:50 acl:0 sco:0 commands:11 errors:0
</pre>
<ul><li>Run the Inquiry using the following command:</li></ul>
<pre>/ # /WiLink_Demo_Target/bin/hcitool scan
Scanning ...
        00:13:E7:48:3C:95       MCS-IL-X0052323 AVRCP Test APP
        00:03:C9:87:29:83       n/a
        00:12:62:02:22:5A       Yuval cell
        00:1C:A4:57:25:E8       K610i
        00:12:D2:96:99:EA       Nokia 6230i
        00:22:A5:B9:67:65       TI Android Bluetooth
        00:12:1C:BB:05:46       Parrot MK6000v1.01c
        00:16:41:B4:A8:C7       Shlomi_PC
        00:1A:6B:77:1D:F4       CBC0664
        00:12:62:26:0A:D6       Nokia 6230
        00:14:A4:DF:B0:3E       MCS086596
        00:10:C6:C2:D3:7F       CN
        00:17:E3:10:B9:6B       Assaf’s cell.
        00:1F:5D:5D:3C:EA       Asher Golomb phone
        00:1D:28:6D:AD:0A       K610i ohad
</pre>
<ul><li>Leave this configuration for the next step.</li></ul>
<p>Expected result:
</p><p>An Inquiry command returns the list of BT devices in the range.
</p>
<h3><span class="mw-headline" id="BT_Inquiry_Scan">BT Inquiry Scan</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=13" title="Edit section: BT Inquiry Scan">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Enable an Inquiry scan on the BT DUT using the script below.
</p>
<ul><li>Run the following commands to enable an Inquiry Scan:</li></ul>
<pre>/ # /WiLink_Demo_Target/sbin/hciconfig hci0 piscan
/ # /WiLink_Demo_Target/sbin/hciconfig
hci0:   Type: UART
        BD Address: 00:21:BA:FA:BF:86 ACL MTU: 1021:4 SCO MTU: 180:4
        UP RUNNING PSCAN ISCAN
        RX bytes:359 acl:0 sco:0 events:11 errors:0
        TX bytes:50 acl:0 sco:0 commands:11 errors:0
</pre>
<ul><li>Run Inquiry command from the BT handset.</li></ul>
<p>Expected result:
</p><p>The Inquiry command from the BT handset returns the BT DUT Bluetooth device address.
</p>
<h3><span id="BT_–_WLAN_Coexistence"></span><span class="mw-headline" id="BT_.E2.80.93_WLAN_Coexistence">BT – WLAN Coexistence</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=14" title="Edit section: BT – WLAN Coexistence">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Coexistence tests validate the BT WLAN coexistence algorithm by mixing the WLAN and BT scenarios described below. Audio quality should not be affected from WLAN activity.
</p><p><br />
<b>WLAN Scan While BT is Idle</b>
</p>
<ul><li>Enable the BT device.</li>
<li>Run an Application Scan command using the wlan_cu and read the BSSID List.</li>
<li>Repeat the previous step 10 times.</li></ul>
<p>Expected result:
</p><p>The BSSID list contains all APs in the range.
</p><p><br />
<b>WLAN Scan While BT is Connected to an A2DP Sink</b>
</p>
<ul><li>Connect the BT device to an A2DP sink.</li>
<li>Run an Application Scan command and read the BSSID List.</li>
<li>Repeat the previous step 10 times.</li></ul>
<p>Expected result:
</p><p>The BSSID list contains all APs in the range. The BT connection remains active.
</p><p><br />
<b>WLAN Runs Traffic While BT Transfers a File</b>
</p>
<ul><li>Connect the BT device to a BT handset.</li>
<li>Start transferring a 5Mbyte file from the BT DUT to the BT handset using OPP.</li>
<li>Connect the SUT to the AP and run Iperf TCP from the SUT to the PC behind the AP.</li></ul>
<p>Expected result:
</p><p>The file is received successfully by the BT handset. The SUT runs Iperf with no issue.
</p><p><br />
<b>WLAN Runs Traffic While BT Configured to A2DP</b>
</p>
<ul><li>Connect the BT device to a BT A2DP sink.</li>
<li>Start playing a music file from the BT DUT.</li>
<li>While the music plays, connect the SUT to the AP and run Iperf TCP from the PC behind the AP to SUT.</li></ul>
<p>Expected result:
</p><p>The music sounds clear. The SUT receives Iperf with no issue.
</p><p><br />
<b>WLAN Flight Mode While BT Configured to A2DP</b>
</p>
<ul><li>Connect the BT device to a BT A2DP sink.</li>
<li>Start playing a music file from the BT DUT.</li>
<li>Connect the SUT to the AP.</li>
<li>Send a continuous ping from the PC behind the AP to the SUT.</li>
<li>While the music plays, disable the WLAN driver and enable it again.</li>
<li>Repeat the last action five times.</li></ul>
<p>Expected result:
</p><p>The music sounds clear during the entire test. The SUT replies to a ping each time the driver starts, and does not reply when the driver stops.
</p><p><br />
<b>WLAN with WPA2-PSK While BT Configured to A2DP</b>
</p>
<ul><li>Connect the BT device to a BT A2DP sink.</li>
<li>Start playing a music file from the BT DUT.</li>
<li>Configure the AP to WPA2-PSK.</li>
<li>Connect the SUT to the AP.</li>
<li>Send a continuous ping from the PC behind the AP to the SUT.</li>
<li>While the music plays, disconnect the SUT from the AP and reconnect it again.</li>
<li>Repeat the last action five times.</li></ul>
<p>Expected result:
</p><p>The music sounds clear. The SUT replies to a ping each time it is connected to the AP.
</p><p><br />
<b>BT A2DP Connection While WLAN is Idle</b>
</p>
<ul><li>Enable the SUT and leave it disconnected.</li>
<li>Connect the BT device to a BT A2DP sink.</li>
<li>Turn off the BT sink device, and turn it on again.</li>
<li>Repeat the last action five times.</li></ul>
<p>Expected result:
</p><p>The BT DUT reconnects each time the BT handset is restarted.
</p><p><br />
<b>BT OPP Connection While the WLAN Runs Traffic</b>
</p>
<ul><li>Connect the SUT to the AP.</li>
<li>Run Iperf TCP from the SUT to the PC behind the AP.</li>
<li>While traffic is running, connect the BT DUT to a BT handset using OPP.</li>
<li>Disconnect the BT connection and reconnect it again. You can do so by shutting down the handset.</li>
<li>Repeat the last action five times.</li></ul>
<p>Expected result:
</p><p>The BT DUT reconnects each time with the BT handset. The SUT handles the traffic for the entire test session.
</p><p><br />
<b>BT Inquiry While the WLAN Runs Traffic</b>
</p>
<ul><li>Connect the SUT to the AP.</li>
<li>Run Iperf TCP from the PC behind the AP to the SUT.</li>
<li>Configure the BT A2DP sink device and the BT handset to run an Inquiry scan (<i>find me</i> state).</li>
<li>While traffic is running over the WLAN, run an Inquiry command on the BT DUT.</li>
<li>Repeat the last action five times.</li></ul>
<p>Expected result:
</p><p>The BT DUT performs an inquiry on the two BT devices. The SUT handles the traffic for the entire test session.
</p><p><br />
<b>WLAN Traffic When a BT A2DP Connection is Lost</b>
</p>
<ul><li>Connect the BT device to a BT A2DP sink.</li>
<li>Start playing a music file from the BT DUT.</li>
<li>Connect the SUT to the AP.</li>
<li>Run Iperf TCP from the PC behind the AP to the SUT.</li>
<li>While the music plays, take the BT sink device far away from the BT DUT until the BT DUT disconnects from the BT sink.</li>
<li>Return the BT A2DP sink device to the range of the BT DUT.</li>
<li>Reconnect the BT device to the BT A2DP sink.</li></ul>
<p>Expected result:
</p><p>The SUT continues to handle traffic when the BT is disconnected. The BT A2DP sink reconnects to the BT DUT.
</p>
<h3><span class="mw-headline" id="Reliability">Reliability</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=15" title="Edit section: Reliability">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Reliability test category verifies system robustness and tests the response of system components to specific scenarios over time.
</p><p><b>Repeated Association</b>
</p>
<ul><li>Configure the AP to WPA PSK.</li>
<li>Connect the SUT to the AP.</li>
<li>Run a ping from the SUT to the PC behind the AP.</li>
<li>Disconnect the SUT from the AP. You may use the following command on the wlan_cu:</li></ul>
<dl><dd><ul><li>/ Connection Disconnect</li></ul></dd></dl>
<ul><li>Repeat the last three actions 20 times.</li></ul>
<p>Expected result:
</p><p>The SUT successfully reconnects 20 times and replies to a ping each time.
</p><p><br />
<b>Repeated AP Activation</b>
</p>
<ul><li>Configure the AP to WEP 40 bits.</li>
<li>Connect the SUT to the AP.</li>
<li>Run a ping from the SUT to the PC behind the AP.</li>
<li>Unplug the AP from power supply.</li>
<li>Plug in the AP to the power supply.</li>
<li>Repeat the last two actions 20 times.</li></ul>
<p>Expected result:
</p><p>The SUT reconnects to the AP each time it is up and replies to a ping.
</p>
<h3><span class="mw-headline" id="Stability">Stability</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=16" title="Edit section: Stability">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Stability test verifies system stability over time and verifies the robustness of the system. The test cases run over a long period in different system scenarios and configurations.
</p><p><br />
<b>Stability Setup 1</b>
</p>
<ul><li>Configure the AP to WPA2 PSK.</li>
<li>Connect the SUT to the AP.</li>
<li>Run TCP traffic using an Iperf command from the SUT to the PC behind the AP.</li>
<li>Leave the setup running for eight hours.</li></ul>
<p>Expected result:
</p><p>Traffic remains until the end of the test, and no major issue is observed. The SUT remains connected to the AP for the entire test.
</p><p><br />
<b>Stability Setup 2</b>
</p>
<ul><li>Configure the AP to WPA PSK.</li>
<li>Connect the SUT to the AP.</li>
<li>Run UDP traffic using an Iperf command from the PC behind the AP to the SUT.</li>
<li>Leave the setup running for eight hours.</li></ul>
<p>Expected result:
</p><p>Traffic remains until the end of the test, and no major issue is observed. The SUT remains connected to the AP for the entire test.
</p><p><br />
<b>Stability Setup 3</b>
</p>
<ul><li>Configure the AP to WPA PSK security.</li>
<li>Connect the SUT to the AP.</li>
<li>Run TCP traffic using an Iperf command from the PC behind the AP to the SUT.</li>
<li>Connect the BT DUT to an A2DP device.</li>
<li>Play a *.mp3 file repeatedly.</li>
<li>Leave the setup running for one hour.</li></ul>
<p>Expected result:
</p><p>Traffic remains until the end of the test, and no major issue is observed. Music plays clearly for the entire session.
</p>
<h2><span class="mw-headline" id="Using_Iperf">Using Iperf</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=17" title="Edit section: Using Iperf">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Iperf is a freeware traffic generation tool. It is a client/server application that should run on both peers, and generates UDP and TCP traffic from the client to the server, according to the configuration described in this appendix.
You should run the server before the client.
</p>
<h3><span class="mw-headline" id="TCP_Iperf_Command">TCP Iperf Command</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=18" title="Edit section: TCP Iperf Command">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>TCP Client Command:</b> This command should be run on the peer the generates and transmits the data.
</p>
<pre>./Iperf –c ’Destination IP’ –I ’Interval’ –p ’TCP Port’ –t ’Time in Seconds’</pre>
<p><b>For Example:</b> Running a TCP client from the SUT to the PC behind the AP.
</p>
<pre># . perff–-c 192.168.1.10–-I 2–-p 6000–-t 90
Client connecting to 192.168.1.10, TCP port 6000
TCP window size: 16.0 kByte (default)
------------------------------------------------------------
</pre>
<p><b>TCP Server Command:</b> This command should be run on the peer that receives the data.
</p>
<pre>./Iperf –s –I ’Interval’ –p ’TCP Port’ </pre>
<p><b>For Example: </b>Running the TCP server to the SUT.
</p>
<pre># . perff–-s–-i2–-p 6000
Server listening on TCP port 6000
TCP window size: 85.3 kByte (default)
------------------------------------------------------------
</pre>
<h3><span class="mw-headline" id="UDP_Iperf_Command">UDP Iperf Command</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=19" title="Edit section: UDP Iperf Command">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>UDP Client Command:</b> This command should be run on the peer that generates and transmits the data.
</p>
<pre>./Iperf –c ’Destination IP’ –u –b ’bandwidth’ –i ’Interval’ –p ’UDP Port’ –t ’Time in Seconds’ </pre>
<p><b>For Example:</b> Running UDP 1Mbps traffic from the SUT.
</p>
<pre># . perff–-c 192.168.1.10–-u–-b 1M–-i 2–-p 6000–-t 90
Client connecting to 192.168.1.10, UDP port 6000
Sending 1470 byte datagrams
UDP buffer size: 99.0 kByte (default)
------------------------------------------------------------
</pre>
<p><b>UDP Server Command:</b> This command should be run on the peer that receives the data.
</p>
<pre>./Iperf –s –I –u ’Interval’ –p ’UDP Port’ </pre>
<p><b>For Example:</b> Running the UDP server on the SUT.
</p>
<pre>\# . perff–-s–-i 2–-p 6000–-u
Server listening on UDP port 6000
Receiving 1470 byte datagrams
UDP buffer size: 99.0 kByte (default)
------------------------------------------------------------
</pre>
<h3><span class="mw-headline" id="Iperf_with_QoS_Tagging">Iperf with QoS Tagging</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=20" title="Edit section: Iperf with QoS Tagging">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Tagging should be run only on the client side. The rest of the command is identical to that on the standard Iperf client. No server modification is required.
</p>
<pre>./Iperf –c ‘Destination IP’ –S ‘Tag’ –u –b ‘bandwidth’ –i ‘Interval’ –p ‘UDP Port’ –t 
‘Time in Seconds’</pre>
<p><b>For Example:</b> Running 100K voice traffic from the SUT to the PC behind the AP.
</p>
<pre># . perff–-c 192.168.1.10–-S 224–-u–-b 100K–-i 2–-p 6000–-t 90
Client connecting to 192.168.1.10, UDP port 6000
Sending 1470 byte datagrams
UDP buffer size: 99.0 kByte (default)
------------------------------------------------------------
</pre>
<h2><span class="mw-headline" id="QoS_Support_in_Windows">QoS Support in Windows</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;section=21" title="Edit section: QoS Support in Windows">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In order to use the QoS on your Windows PC, you should add a key in the Windows registry. Follow the procedure below to do so.
</p><p><b>To add a key to the Windows registry:</b>
</p><p>1	Select <b>Start &gt; Run</b>.
</p><p>2	In the window that opens, enter <b>regedit</b> and click <b>OK</b>. The <b>Registry Editor</b> window is displayed:
</p><p><a href="File_System_test_Guidelines_-_A1.html" class="image"><img alt="System test Guidelines - A1.jpg" src="https://processors.wiki.ti.com/images/d/d1/System_test_Guidelines_-_A1.jpg" width="682" height="373" /></a>
</p><p><b>Figure 2: Registry Window</b>
</p><p>3	Locate the following path in the tree:
</p>
<pre>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters</pre>
<p>4	Right-click in the right pane of the window and select <b>New &gt; DWORD Value</b>, as shown below:
</p><p><a href="File_System_test_Guidelines_-_A2.html" class="image"><img alt="System test Guidelines - A2.jpg" src="https://processors.wiki.ti.com/images/8/82/System_test_Guidelines_-_A2.jpg" width="238" height="132" /></a>
</p><p><b>Figure 3: DWORD Right-click Option</b>
</p><p>The following window is displayed:
</p><p><a href="File_System_test_Guidelines_-_A3.html" class="image"><img alt="System test Guidelines - A3.jpg" src="https://processors.wiki.ti.com/images/1/16/System_test_Guidelines_-_A3.jpg" width="324" height="199" /></a>
</p><p><b>Figure 4: Edit DWORD Value Window</b>
</p><p>5	In the <b>Value name</b> field, enter <b>DisableUserTOSSetting</b>.
</p><p>6	In the <b>Value data</b> field, enter 0.
</p><p>7	Restart the PC.
</p><p><a href="File_HomepageIcon.html" class="image"><img alt="HomepageIcon.jpg" src="https://processors.wiki.ti.com/images/5/52/HomepageIcon.jpg" width="45" height="45" /></a><b><a href="https://processors.wiki.ti.com/index.php?title=OMAP35xx_Wireless_Connectivity&amp;action=edit&amp;redlink=1" class="new" title="OMAP35xx Wireless Connectivity (page does not exist)">HOME</a></b>
</p>
<!-- 
NewPP limit report
Cached time: 20201130200409
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.099 seconds
Real time usage: 0.104 seconds
Preprocessor visited node count: 394/1000000
Preprocessor generated node count: 792/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 19960/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:5663-0!canonical and timestamp 20201130200409 and revision id 44038
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>OMAP35x Wireless Connectivity System Test Guidelines User&#39;s Guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>OMAP35x Wireless Connectivity System Test Guidelines User&#39;s Guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>OMAP35x Wireless Connectivity System Test Guidelines User&#39;s Guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>OMAP35x Wireless Connectivity System Test Guidelines User&#39;s Guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>OMAP35x Wireless Connectivity System Test Guidelines User&#39;s Guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>OMAP35x Wireless Connectivity System Test Guidelines User&#39;s Guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>OMAP35x Wireless Connectivity System Test Guidelines User&#39;s Guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>OMAP35x Wireless Connectivity System Test Guidelines User&#39;s Guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>OMAP35x Wireless Connectivity System Test Guidelines User&#39;s Guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;oldid=44038">https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;oldid=44038</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_Wireless_Connectivity.html" title="Category:Wireless Connectivity">Wireless Connectivity</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=OMAP35x+Wireless+Connectivity+System+Test+Guidelines+User%27s+Guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;oldid=44038" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 27 October 2010, at 21:00.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.099","walltime":"0.104","ppvisitednodes":{"value":394,"limit":1000000},"ppgeneratednodes":{"value":792,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":19960,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130200409","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":233});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/OMAP35x_Wireless_Connectivity_System_Test_Guidelines_User%27s_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 05:13:23 GMT -->
</html>
