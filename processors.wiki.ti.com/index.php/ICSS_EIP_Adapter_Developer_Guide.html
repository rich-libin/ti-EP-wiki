<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/ICSS_EIP_Adapter_Developer_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 08:44:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>ICSS EIP Adapter Developer Guide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ICSS_EIP_Adapter_Developer_Guide","wgTitle":"ICSS EIP Adapter Developer Guide","wgCurRevisionId":236360,"wgRevisionId":236360,"wgArticleId":41573,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages with broken file links"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"ICSS_EIP_Adapter_Developer_Guide","wgRelevantArticleId":41573,"wgRequestId":"8bb3d07e76947e556386c80e","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ICSS_EIP_Adapter_Developer_Guide rootpage-ICSS_EIP_Adapter_Developer_Guide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">ICSS EIP Adapter Developer Guide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#About_this_Guide"><span class="tocnumber">1</span> <span class="toctext">About this Guide</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Recommended_Reading"><span class="tocnumber">1.1</span> <span class="toctext">Recommended Reading</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Glossary_of_terms"><span class="tocnumber">2</span> <span class="toctext">Glossary of terms</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#About_EIP_Adapter_on_PRU-ICSS"><span class="tocnumber">3</span> <span class="toctext">About EIP Adapter on PRU-ICSS</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Sources"><span class="tocnumber">4</span> <span class="toctext">Sources</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Features_.26_Capabilities"><span class="tocnumber">5</span> <span class="toctext">Features &amp; Capabilities</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Device_Capabilities"><span class="tocnumber">5.1</span> <span class="toctext">Device Capabilities</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Design"><span class="tocnumber">6</span> <span class="toctext">Design</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Half_Duplex"><span class="tocnumber">6.1</span> <span class="toctext">Half Duplex</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Switching"><span class="tocnumber">6.2</span> <span class="toctext">Switching</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#DLR"><span class="tocnumber">6.3</span> <span class="toctext">DLR</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#PTP.2F1588"><span class="tocnumber">6.4</span> <span class="toctext">PTP/1588</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#QoS"><span class="tocnumber">6.5</span> <span class="toctext">QoS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Molex_Stack"><span class="tocnumber">7</span> <span class="toctext">Molex Stack</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Memory_Map"><span class="tocnumber">8</span> <span class="toctext">Memory Map</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Hardware_Resource_Usage"><span class="tocnumber">9</span> <span class="toctext">Hardware Resource Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#Interrupts"><span class="tocnumber">9.1</span> <span class="toctext">Interrupts</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Timers"><span class="tocnumber">9.2</span> <span class="toctext">Timers</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Instruction_memory_and_Data_Memory"><span class="tocnumber">9.3</span> <span class="toctext">Instruction memory and Data Memory</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#Porting_your_own_EIP_Stack"><span class="tocnumber">10</span> <span class="toctext">Porting your own EIP Stack</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#Application_Interface"><span class="tocnumber">11</span> <span class="toctext">Application Interface</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#Initialization"><span class="tocnumber">12</span> <span class="toctext">Initialization</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#Board_and_Hardware_Initialization"><span class="tocnumber">12.1</span> <span class="toctext">Board and Hardware Initialization</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Mapping_the_Interrupts"><span class="tocnumber">12.2</span> <span class="toctext">Mapping the Interrupts</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Allocating_Memory_for_Structues"><span class="tocnumber">12.3</span> <span class="toctext">Allocating Memory for Structues</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Registering_the_callbacks"><span class="tocnumber">12.4</span> <span class="toctext">Registering the callbacks</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Configuring_Switch_parameters"><span class="tocnumber">12.5</span> <span class="toctext">Configuring Switch parameters</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Common_Settings"><span class="tocnumber">12.6</span> <span class="toctext">Common Settings</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#AM335x"><span class="tocnumber">12.7</span> <span class="toctext">AM335x</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#AM437x"><span class="tocnumber">12.8</span> <span class="toctext">AM437x</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31"><a href="#Basic_self_debugging"><span class="tocnumber">13</span> <span class="toctext">Basic self debugging</span></a>
<ul>
<li class="toclevel-2 tocsection-32"><a href="#EDS_File_Installation_and_Verification_with_RSLinx"><span class="tocnumber">13.1</span> <span class="toctext">EDS File Installation and Verification with RSLinx</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Conformance_Testing_.28ODVA_CTT_v12.29"><span class="tocnumber">13.2</span> <span class="toctext">Conformance Testing (ODVA CTT v12)</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Molex_EIP_Tool"><span class="tocnumber">13.3</span> <span class="toctext">Molex EIP Tool</span></a>
<ul>
<li class="toclevel-3 tocsection-35"><a href="#TCP.2FIP_Object"><span class="tocnumber">13.3.1</span> <span class="toctext">TCP/IP Object</span></a></li>
<li class="toclevel-3 tocsection-36"><a href="#Ethernet_Link_Object"><span class="tocnumber">13.3.2</span> <span class="toctext">Ethernet Link Object</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-37"><a href="#Device_Performance_Testing"><span class="tocnumber">13.4</span> <span class="toctext">Device Performance Testing</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Communication_between_EtherNet.2FIP_Adapter_and_Scanner_devices"><span class="tocnumber">13.5</span> <span class="toctext">Communication between EtherNet/IP Adapter and Scanner devices</span></a></li>
</ul>
</li>
</ul>
</div>

<h3><span class="mw-headline" id="About_this_Guide">About this Guide</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=1" title="Edit section: About this Guide">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Recommended_Reading">Recommended Reading</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=2" title="Edit section: Recommended Reading">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Before reading this developers should review the following wikis if they haven't already. Most of the material will be cross-referenced and will not be repeated.
</p>
<ol><li><a rel="nofollow" class="external text" href="Processor_SDK_RTOS_ICSS-EMAC-Design.html">ICSS EMAC LLD Design</a>&#160;: This discusses the firmware and driver architecture in detail. This wiki will reference it often.</li>
<li><a href="AM335x_SYSBIOS_Industrial_SDK_Getting_Started_Guide.html" title="AM335x SYSBIOS Industrial SDK Getting Started Guide">Industrial SDK Getting Started Guide</a>&#160;: Introduction to Industrial SDK and how to run the examples</li>
<li><a href="ICSS_PTP_1588_Developer_Guide.html" title="ICSS PTP 1588 Developer Guide">PTP/1588 Developer Guide</a>&#160;: PTP/1588 Developer guide</li></ol>
<p><br />
This wiki is provided to help developers use the EtherNet/IP adapter application, provide general information on the architecture and adapt it to their needs. 
</p><p>EtherNet/IP is a set of protocols that sit on top of regular Ethernet (802.3) TCP/IP stack and support standard TCP/IP traffic. These protocols are grouped under the umbrella term CIP (Common Industrial Protocol).  They provide a means for developing Industrial communication solutions. The standard body is for EtherNet/IP is ODVA (Open DeviceNet Vendor Association).
</p><p>Since most of the EtherNet/IP protocol sits above the TCP/IP stack it can be thought of as a standard TCP/IP switch with a CIP stack layer on top of the TCP/IP layer. There are a few additional protocols like PTP-1588 and DLR which work at layer 2 and are integrated into the switch firmware and driver but they are not essential to a basic EtherNet/IP application, only the CIP + TCP/IP stack is essential. The CIP stack provided with the EIP application is from a third party named <a rel="nofollow" class="external text" href="http://www.molex.com/molex/industry/industryMenu.action">Molex</a>. The stack contained in the Industrial SDK is provided as a demo and comes with a 1 hour time limit. To use the application beyond the 1 hour time limit user must restart the application.
</p><p>To use the Molex EtherNet/IP stack in your commercial project please contact Molex to obtain a commercial license. This guide also has material to enable developers to port their own EtherNet/IP stack and use it.
</p><p>There is a <a rel="nofollow" class="external text" href="http://www.ti.com.cn/cn/lit/wp/spry249a/spry249a.pdf">white paper</a> which explicitly discusses the EtherNet/IP implementation on AM335x, it covers the theoretical aspects and discusses the implementation in general, but being a white paper does not dig deep into the implementation details. 
</p><p>This wiki will not cover the theoretical aspects of EtherNet/IP and CIP since this is covered in the white paper.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Glossary_of_terms">Glossary of terms</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=3" title="Edit section: Glossary of terms">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<table border="1" cellspacing="0" cellpadding="4" rules="all" style="margin:1em 1em 1em 0; border:solid 1px #aaa; border-collapse:collapse;empty-cells:show;">
  
<caption><i>Glossary of EtherNet/IP terms</i>
</caption>
<tbody><tr>
<th>Terms
</th>
<th>Abbreviation
</th></tr>
<tr>
<td>EIP
</td>
<td>Ethernet IP
</td></tr>
<tr>
<td>TC
</td>
<td>Transparent clock
</td></tr>
<tr>
<td>OC
</td>
<td>Ordinary clock
</td></tr>
<tr>
<td>TS
</td>
<td>Timestamp
</td></tr>
<tr>
<td>Slave
</td>
<td>EIP application belonging to adapter class
</td></tr>
<tr>
<td>EMAC
</td>
<td>Two port EMAC
</td></tr>
<tr>
<td>Switch
</td>
<td>Either EtherNet/IP or HSR/PRP
</td></tr>
<tr>
<td>RPI
</td>
<td>Requested Packet Interval
</td></tr>
<tr>
<td>DLR
</td>
<td>Device Level Ring&#160;: A redundancy protocol
</td></tr>
<tr>
<td>CIP
</td>
<td>Common Industrial Protocol
</td></tr>
<tr>
<td>ODVA
</td>
<td>Open DeviceNet Vendor Association
</td></tr>
<tr>
<td>BC/MC/UC
</td>
<td>Broadcast/Multicast/Unicast
</td></tr>
<tr>
<td>ACD
</td>
<td>Address Collision Detection
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="About_EIP_Adapter_on_PRU-ICSS">About EIP Adapter on PRU-ICSS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=4" title="Edit section: About EIP Adapter on PRU-ICSS">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The EIP application is basically a standard 2 port Ethernet switch, more commonly known as a relay. The IEP application shares much of it's design with the ICSS EMAC that is described in <a href="Processor_SDK_RTOS_ICSS-EMAC-Design.html" title="Processor SDK RTOS ICSS-EMAC-Design">here</a>.
</p><p>However there are a few differences from the EMAC design:
</p>
<ul><li>Port to port forwarding&#160;: There are two types of forwarding that are supported: cut through and delayed cut through</li>
<li>Collision on Port and Host queues&#160;: Since both ports can simultaneously write to the same Host queue, collisions can happen. A collision buffer is provided for this purpose. The EMAC does not contain this feature..</li>
<li>Device Level Ring&#160;: This is a redundancy protocol that is used in EtherNet/IP devices. DLR is based on ring topology and requires forwarding hence it is exclusive to switches.</li>
<li>PTP/1588&#160;: IEEE Time Synchronization protocol. EtherNet/IP uses the Drives profile of PTP-1588. It is discussed in depth <a href="ICSS_PTP_1588_Developer_Guide.html" title="ICSS PTP 1588 Developer Guide">here</a>. PTP OC is not exclusive to switches. It can be implemented in a MAC. This is not implemented I the ICSS EMAC in TI's Industrial SDK presently.</li></ul>
<p>More details on these in the design section.
</p><p>These differences (particularly the difference between a switch and EMAC) are also captured in the EMAC Design guide <a href="Processor_SDK_RTOS_ICSS-EMAC-Design.html#EMAC_and_Switch" title="Processor SDK RTOS ICSS-EMAC-Design">here</a>.
</p><p>The EIP implementation is made up of three parts
</p>
<ol><li>Firmware&#160;: Firmware implements the Switching layer, Statistics, DLR and PTP</li>
<li>Driver&#160;: Some portions of DLR and PTP lie here. Learning/FDB is also a part of this.</li>
<li>EtherNet/IP stack&#160;: From Molex</li></ol>
<h3><span class="mw-headline" id="Sources">Sources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=5" title="Edit section: Sources">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The EtherNet IP specific files are located under <b>$(IA_SDK_HOME)/protocols/ethernetip_adapter</b>
</p>
<h3><span id="Features_&amp;_Capabilities"></span><span class="mw-headline" id="Features_.26_Capabilities">Features &amp; Capabilities</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=6" title="Edit section: Features &amp; Capabilities">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The EIP Adapter application has been certified by ODVA in it's lab and the declaration of conformity certificate is shown below for reference. The same is available from ODVA's website <a rel="nofollow" class="external text" href="https://marketplace.odva.org/products/883-tmdsice3359-am3359-industrial-communications-engine">here</a>
</p><p><a href="File_EIP_DOC.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/6/6f/EIP_DOC.png" width="708" height="694" /></a>
</p>
<h4><span class="mw-headline" id="Device_Capabilities">Device Capabilities</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=7" title="Edit section: Device Capabilities">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li><b>Ethernet/IP Capabilities</b>
<ul><li>Explicit Messaging and Implicit Messaging</li>
<li>UCMM</li>
<li>Class 1 and Class 3 Connection</li></ul></li>
<li><b>Object classes supported</b>
<ul><li>Identity Object</li>
<li>Message Router Object</li>
<li>Assembly Object</li>
<li>Connection Manager Object</li>
<li>Ethernet Link Object</li>
<li>TCP/IP Interface Object</li>
<li>QOS Object</li>
<li>Device Level Ring Object</li></ul></li>
<li><b>Supported Connections</b>
<ul><li>Exclusive Owner Connection</li>
<li>Input Only Connection</li>
<li>Listen Only Connection</li></ul></li>
<li><b>Total CIP connections</b>&#160;: 9
<ul><li>IO Messaging&#160;: 6</li>
<li>Explicit Messaging&#160;: 3</li></ul></li>
<li><b>PHY Configuration</b>
<ul><li>Duplex&#160;: Half/Full/Auto</li>
<li>Speed&#160;: 10/100/Auto</li></ul></li>
<li><b>Device Configuration</b>&#160;: EDS File (<a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/images/7/71/TI-AM335x_EIP_adapter_sample_EDS_ICSS.zip">here</a>)</li>
<li><b>QoS scheme</b>&#160;: 3-bit VLAN PCP
<ul><li>No of levels supported&#160;: 8</li>
<li>Number of queues&#160;: 4. 2 QoS levels per queue</li></ul></li>
<li><b>Statistics</b>
<ul><li>Interface counters supported per port</li></ul></li>
<li><b>Conformance</b>&#160;: CT 13 compliant</li>
<li><b>Min RPI supported</b>&#160;: 1ms</li>
<li><b>Device Level Ring</b>
<ul><li>Beacon Based</li>
<li>Min. beacon interval&#160;: 200 us</li>
<li>Min. beacon timeout&#160;: 400 us</li>
<li>Self configuring</li></ul></li>
<li><b>PTP/1588</b>
<ul><li>Supports Drives Profile&#160;: E2E clock.</li>
<li>PTP over UDP</li>
<li>Transparent Clock supported</li>
<li>Ordinary Clock supported</li>
<li>Single and Two step clock supported</li></ul></li>
<li><b>Learning/FDB</b>&#160;: Yes
<ul><li>1024 entries per port</li>
<li>Learning table on DDR</li></ul></li>
<li><b>Storm Prevention</b>&#160;: Yes. Configurable per port</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Design">Design</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=8" title="Edit section: Design">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>As mentioned before EIP is based on the <a href="Processor_SDK_RTOS_ICSS-EMAC-Design.html" title="Processor SDK RTOS ICSS-EMAC-Design">EMAC LLD design</a> and shares most of the design elements from queues to interrupts to statistics. The key differences are listed below
</p>
<h4><span class="mw-headline" id="Half_Duplex">Half Duplex</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=9" title="Edit section: Half Duplex">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Half Duplex support is provided in the firmware. To enable support, the flag <code>halfDuplexEnable</code> must be enabled in EMAC Config. Half Duplex support is not available on a per port basis so the switch does not support Half Duplex on one port and a Full Duplex connection on another. The same is true for 10Mbps mode.
</p><p><br />
</p>
<h4><span class="mw-headline" id="Switching">Switching</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=10" title="Edit section: Switching">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>If a packet is not meant for consumption by the Host, it is forwarded to the other port subject to rules of forwarding. The rules are same for all packets except specific protocol frames which have their own set of rules. Before discussing rules of forwarding, we will discuss forwarding modes here. 
</p><p><b>Forwarding Modes </b>
</p>
<ol><li><b>Cut-Through</b> Data is received on Rx FIFO and copied directly to Tx FIFO. There are no queues involved. It's the fastest mode of data transfer since no data copying is involved.</li>
<li><b>Delayed Cut-Through</b> Data is first received into the port queues (Refer to EMAC Design guide) and then forwarded. This is a slower operation compared to cut-through but allows full inspection of the packet.</li></ol>
<p>The key differences are listed below.
</p>
<table border="1" cellspacing="0" cellpadding="4" rules="all" style="margin:1em 1em 1em 0; border:solid 1px #aaa; border-collapse:collapse;empty-cells:show;">
  
<caption><i>Cut Through vs Delayed Cut Through</i>
</caption>
<tbody><tr>
<th>Cut-Through
</th>
<th>Delayed Cut-Through
</th></tr>
<tr>
<td>Rx FIFO to Tx FIFO copy
</td>
<td>Rx FIFO --&gt; Port Queues --&gt; Tx FIFO
</td></tr>
<tr>
<td>Faster
</td>
<td>Slower
</td></tr>
<tr>
<td>Packet is not inspected completely before Tx
</td>
<td>Packet is fully inspected before Tx
</td></tr>
<tr>
<td>CRC check is not done before Tx
</td>
<td>If CRC/FCS error is present packet is dropped
</td></tr>
<tr>
<td>Depends on availability of FIFO. If Host is transmitting on same port then it does not work
</td>
<td>Since it is queue based, this option is always available.
</td></tr></tbody></table>
<p>As always the switch needs to decide when to forward the packets and how, this is done inside the firmware by waiting for a certain number of bytes and then applying the forwarding rules. The number of bytes firmware waits for and the forwarding rules are different for each protocol example. For instance for EtherNet/IP this is 22 bytes because some DLR packet information is available only on the 22nd byte.
</p><p>The number of bytes firmware waits for decides the resident time for a packet inside the switch. Since the PRU is a fully deterministic architecture this is a known number. The illustration below explains how this is calculated.
</p><p><a href="File_Forwarding_Latency1.html" class="image" title="798×599px"><img alt="798×599px" src="https://processors.wiki.ti.com/images/1/17/Forwarding_Latency1.png" width="923" height="664" /></a>
</p><p>Using the calculation above, resident delay for a cut-through frame on EIP firmware is 22 * 80 + 640 + 160 = 2560ns or 2.5 us. The resident delay for a delayed cut-through packet varies depending on scheduling delays. For a 66 byte PTP frame the delay is around 9-10 us based on experimental results.
</p><p><b>General Forwarding Rules</b>
</p>
<ol><li><b>Broadcast frames</b>  Frames are first run through the Storm Prevention check and then get cut-through (subject to link availability on other port) as well as get forwarded to Host.</li>
<li><b>Multicast frames</b>  DLR and PTP frames bypass Storm Prevention check and have their own rules of forwarding which will be discussed later. Other frames are treated like Broadcast (forward to host and cut-through)</li>
<li><b>Unicast frame to Host</b>  UC frames matching interface MAC get forwarded to Host</li>
<li><b>Unicast frames not to Host</b>  UC frames not matching interface MAC get cut-through</li>
<li><b>Cut-Through decision but other port is occupied</b>  Frame gets delayed cut-through</li></ol>
<p><br />
</p>
<h4><span class="mw-headline" id="DLR">DLR</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=11" title="Edit section: DLR">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>DLR stands for Device Level Ring. It is a Layer 2 redundancy protocol which is independent of CIP. It relies on circulation of periodic frames through the network called Beacons or Announce frames to monitor the health of the network, a variety of other frames are used to find out where the fault is and which devices participate in the network. A detailed discussion on DLR is beyond the scope of this guide so only a basic introduction is provided. A good introduction to the DLR protocols is provided in this youtube <a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=q8jkLGKFTK8">video</a>
</p><p>DLR network consists of
</p>
<ol><li><b>DLR Supervisor</b>&#160;: A supervisor is responsible for sending out periodic frames called Beacons or Announce frames at regular intervals to monitor the network for faults. A controller or PLC is typically the DLR supervisor. The main job of a DLR supervisor is to detect transition from ring to linear topology and open one of it's ports for communication which is usually closed in a ring configuration to prevent a loop.</li>
<li><b>DLR Slave</b>&#160;: A DLR slave forwards beacon/announce frames from one port to other without any modification, it also checks for continuous reception of DLR frames and if any is missed it reports the status to supervisor. The EIP Adapter application is a DLR slave.</li></ol>
<p>All DLR frames contain the protocol identifier 0x80E1 (comes immediately after destination MAC) which is how the firmware identifies the protocol.  Once frame type is identified as DLR, the flow changes from normal frame to one for DLR processing.
</p><p><b>Frame Types</b>
</p>
<ol><li><b>Beacon</b>&#160;: Is the most common frame type and used to monitor ring health. It is sent out periodically on both the ports by the Supervisor based on the ring parameter <i>beaconInterval</i>. The lowest possible value for this is 100us. The beacons are transmitted simultaneously from both ports and reach the opposite ports of same device after traversing the entire network, this is how the supervisor confirms that ring is functional. Failure to observe a beacon within a specified interval called <i>beaconTimeout</i> triggers a state change to Fault. This type of frame is cut-through.</li></ol>
<ol><li><b>Announce</b>&#160;: Analogous to Beacon but much slower, this is for legacy networks. EIP Adapter does not support this mode. All Announce frames get cut-through.</li>
<li><b>Sign On</b>&#160;: This contains information about every node on the network. This is sent on one port by the Supervisor and gets trapped by every node on the network, the devices then add their own information and send it over the other port. These frames are sent to the Host over Host queues, the Host adds it's own information and then transmits it over the other port.</li>
<li><b>Locate Fault</b>&#160;: This is a frame sent by the Supervisor in response to a missed beacon or any other fault event. All devices are supposed to report their neighbor status on receiving this frame. EIP Adapter cuts-through this frame and generates Neighbor Check Requests for neighboring devices.</li>
<li><b>Neighbor Check Request</b>&#160;: This is a frame that is generated by every node including the supervisor in response to a fault generating event on the network. A device is supposed to consume this frame and generate a neighbor check request. Our application forwards this frame to Host for a response. A device generates 3 such frames on each port at intervals of 100ms and if no response is received then a status is reported to Supervisor that corresponding port has an issue.</li>
<li><b>Neighbor Check Response</b>&#160;: A device is supposed to consume this frame. If this frame isn't received after 3 requests then a neighbor status frame is sent indicating the port on which device is faulty. This frame is not forwarded.</li>
<li><b>Link Status/Neighbor Status</b>&#160;: This is sent by a device to supervisor to indicate a link break or an issue with adjacent device. This frame is cut-through.</li></ol>
<p><b>Timers</b>
</p><p>DLR uses lots of timers because it has to keep track of when every beacon arrives and whether there has been a timeout, there's also a timeout related to neighbor check response. The lowest beacon interval according to the standard (and what the application supports) is 100us and with a minimum 2x timeout interval the minimum value for timeout comes to 200us. Thus the minimum resolution for a DLR Beacon timeout timer should be 200us. This is only possible with either watchdog timers (internal to PRUSS) or DMTimers (on the SoC). 
</p><p>The DMTimer ISR is configured to get triggered on expiry of the count (counts downwards). Every time a beacon is received in firmware the timer is triggered to restart, this prevents the ISR from getting hit. 
</p><p>On the older Industrial SDK based releases DLR uses DMTimer 4 and 5 as beacon timeout timers for Port 0 and 1 respectively but for Processor SDK based releases this has been moved to the watchdog timers IEP_PD_WD and IEP_PDI_WD. The watchdog clock divider is set to 10us in the PRU-ICSS register PRUSS_IEP_WD_PREDIV so the granularity of timeout 
</p>
<pre>timer is  10us. Thus A value of 405 us cannot be configured as timeout value, it can either be 400 us or 410 us.
</pre>
<p>For the neighbor check response timers we use software timers since the requirement is very lax (100 ms). SysBIOS provides API's for configuring software timers which are used here, if porting to another operating system this must be taken care of.
</p><p>The timers and their ISR's are listed below
</p>
<ol><li><i>beaconTimerPort0()</i>
<ol><li>Beacon timeout timer for Port 0.</li>
<li>Timer Handle is <i>dlrTimer_PORT0</i></li></ol></li>
<li><i>beaconTimerPort1()</i>
<ol><li>Beacon timeout timer for Port 1.</li>
<li>Timer Handle is <i>dlrTimer_PORT1</i></li></ol></li>
<li><i>neighborTimeoutISR0()</i>
<ol><li>ISR for Neighbor Timeout Timer on Port0.</li>
<li>Timer Handle name is <i>dlrNeighborTimeoutClock[0]</i></li></ol></li>
<li><i>neighborTimeoutISR1()</i>
<ol><li>ISR for Neighbor Timeout Timer on Port1.</li>
<li>Timer Handle name is <i>dlrNeighborTimeoutClock[1]</i></li></ol></li></ol>
<p>The timers with their default values are configured in the DLR initialization API <b>initDLR()</b>. The beacon timeout timers are configured with network parameters received from the master when the first beacon is received.
</p><p><b>Interrupts</b>
</p><p>There are four interrupt contexts to DLR
</p>
<ol><li><b>Related to timers</b>&#160;: When timers expire they trigger an ISR. Total of four timer related ISR's are applicable to DLR. They are covered above.</li>
<li><b>Related to link break</b>&#160;: Certain DLR events need to be processed when a link break occurs. EMAC LLD has one <a href="Processor_SDK_RTOS_ICSS-EMAC-Design.html#Link_Interrupt" title="Processor SDK RTOS ICSS-EMAC-Design">link ISR per port</a> to handle this. A DLR callback is registered for the link ISR which is specific to this. There is one callback per port, these are identical and only differ in terms of which port they belong to.
<ol><li><b>EIP_DLR_Port0ProcessLinkBrk()</b> Link break callback for Port 0.</li>
<li><b>EIP_DLR_Port1ProcessLinkBrk()</b> Link break callback for Port 1.</li></ol></li>
<li><b>Related to state change processing</b> DLR mostly uses a fast ISR scheme for communicating with the host where firmware parses the fields, copies the data to preset locations and triggers an interrupt for the ARM. There is one ISR for each port. The acceptable latency of the ISR is determined by the beacon interval. If running at minimum level i.e. 100us, the ISR must be triggered and completed within that time.
<ol><li><b>EIP_DLR_Port0ISR()</b>&#160;: Fast ISR for Port 0</li>
<li><b>EIP_DLR_Port1ISR()</b>&#160;: Fast ISR for Port 1</li></ol></li>
<li>Related to standard Rx interrupt which uses the Host queues&#160;: Some DLR packets need to be processed by the Host and as per the spec are sent to the highest priority queue. They are handled by a DLR specific callback. This callback is the function <b>EIP_DLR_processDLRFrame()</b></li></ol>
<p><b>State Machine and DLR Actions</b>
</p><p>A DLR Ring has three states (two as per standard). The state information is stored in shared RAM at the location pointed by <b>DLR_STATE_MACHINE_OFFSET</b> (See memory map for details)
</p>
<ol><li><b>No DLR</b>&#160;: This is the state right after boot up and in the absence of any DLR frames. It's not an official classification, at this stage the beacon timeout timers are configured with default values and all flags are in a reset state. Corresponds to <b>DLR_IDLE_STATE_VAL</b></li>
<li><b>Fault</b>&#160;: When the first beacon is received this is the state of state machine. A field in the DLR frame corresponds to this and is set by the Supervisor. When a supervisor receives two beacon frames that have traversed the entire network and reached opposing ports it changes this state to Normal. A fault state also occurs when a collision is detected or network is reset. When the first DLR beacon is received and the state machine is in reset state the DLR beacon timeout interval is copied and the DLR timeout timer is configured with the value in the Fast ISR. Corresponds to the value <b>DLR_FAULT_STATE_VAL</b></li>
<li><b>Normal</b>&#160;: Indicates that ring is up and functional. This corresponds to the value <b>DLR_NORMAL_STATE_VAL</b></li></ol>
<p>Besides the state machine two other variables are of importance.
</p>
<ol><li>Events common to both ports&#160;: <b>DLR_COMMON_EVENTS_OFFSET</b> is the memory location which corresponds to this. The values stored in this variable and the actions corresponding to it are
<ol><li>DLR_RING_NORMAL_TRANSITION &#160;: Node has transitioned from Fault to Normal. Perform appropriate actions. Look for the flag <b>DLR_RING_NORMAL_TRANSITION_MASK</b> in the code.</li>
<li>DLR_RING_FAULT_TRANSITION  &#160;: Node has transitioned from Reset to Fault. Configure the timers. Look for the flag <b>DLR_RING_FAULT_TRANSITION_MASK</b></li>
<li>DLR_STOP_BOTH_TIMERS &#160;: Stop both beacon timeout timers.</li>
<li>DLR_PORT0_BEACON_RCVD&#160;: First beacon received for Port 0</li>
<li>DLR_PORT1_BEACON_RCVD&#160;: First beacon received for Port 1</li>
<li>DLR_RESET_EVENT_OCCURED&#160;: Reset the state machine</li></ol></li>
<li>Events symmetrical but unique to each port&#160;: The memory location corresponding to this is <b>DLR_PORT_EVENTS_OFFSET</b>. Common events are
<ol><li>DLR_LOCFAULT_RCVD           &#160;:  Locate Fault Packet received.</li>
<li>DLR_NCREQ_RCVD              &#160;:  Neighbor Check request packet received</li>
<li>DLR_NCRES_RCVD              &#160;:  Neighbor Check response packet received</li>
<li>DLR_START_TIMER             &#160;:  Start the beacon timeout timer corresponding to the port</li>
<li>DLR_RING_FAULT_RCVD         &#160;:  Beacon received with ring status set to fault, transition to fault state</li>
<li>DLR_DROP_PACKET             &#160;:  Internal to firmware implementation</li>
<li>DLR_UPDATE_SUP_CFG          &#160;:  Supervisor has changed, update params</li>
<li>DLR_HOST_FWD                &#160;:  Internal to firmware implementation</li>
<li>DLR_TIMER_RUNNING           &#160;:  When beacon timeout timer is started this is set</li>
<li>IS_A_DLR_FRAME              &#160;:  Internal to firmware implementation</li>
<li>COMPARE_SUP_PRED            &#160;:  Internal to firmware implementation</li>
<li>UPDATE_NEW_SUP_CFG          &#160;:  Internal to firmware implementation</li>
<li>DLR_FLUSH_TABLE_RCVD        &#160;:  Flush table packet received. Flush learning table</li>
<li>DLR_SEND_LEARNING_UPDATE    &#160;:  Send learning update frame.</li></ol></li></ol>
<p><b>QoS</b>
</p><p>All DLR frames when they are sent to Host go on the highest priority queue. A callback function <b>EIP_DLR_processDLRFrame()</b> in the EIP application for the highest priority queue specifically handles this.
</p><p><b>Interface</b>
</p><p>All DLR information relevant to the stack is stored in the structure <i>dlrStruct</i> which maps directly to the DLR object as defined in the standard, attribute ID's refer to the corresponding ID's for DLR Object. The macro <b>IS_A_DLR_SUPERVISOR</b> has been kept for future use and cannot be enabled right now.
</p><p>The structure is used as a global in <i>icss_dlr.c</i>. A third party stack can declare this as an extern to access the member variables.
</p>
<pre>/**
* @brief DLR parent structure through which all other structures can be accessed
*/
typedef struct
{
   /**Supervisor config. Attribute ID 4*/
   superConfig supConfig;
   /**Supervisor address. Attribute ID 10*/
   activeSuperAddr addr;
   /**State Machine variables. Attributes 1 through 3*/
   dlrStateMachineVar SMVariables;
   #ifdef IS_A_DLR_SUPERVISOR
   /**Attribute ID's 6 and 7*/
   lastActiveNode activeNode[2];
   #endif
   /**DLR Capabilities, flag
   The Map is as follows
    * 0&#160;: Announce Based Ring Node
    * 1&#160;: Beacon based Ring Node
    * 2-4&#160;: Reserved
    * 5&#160;: Supervisor capable
    * 6&#160;: Redundant capable
    * 7&#160;: Flush Table frame capable
    * 8-31&#160;: Reserved
    */
   /**DLR Capabilities of the device. Attribute ID 12*/
   uint32_t dlrCapabilities;
   /**Active Supervisor precedence. Attribute ID 11*/
   uint8_t activeSuperPred;
   /**DLR Port 0 Interrupt number for ARM*/
   uint8_t port0IntNum;
   /**DLR Port 1 Interrupt number for ARM*/
   uint8_t port1IntNum;
   #ifdef IS_A_DLR_SUPERVISOR
   /**Number of Ring Faults since power up. Attribute ID 5*/
   uint32_t numRingFaultsPowerUp;
   /**Number of ring participants. Attribute ID 8*/
   uint16_t ringParticipantsCount;
   /**pointer to array of structures. Attribute ID 9*/
   protocolParticipants **ringNodes;
   #endif
} dlrStruct;
</pre>
<p><b>Initialization</b>
</p><p>DLR is initialized using the API <i>initDLR()</i> and started with the API call <i>startDLR()</i>. A call to the API <i>stopDLR()</i> disables DLR feature in the firmware. Initialization needs to be done only on startup. DLR can be enabled and disabled at runtime.
</p><p>The IP address for DLR node is configured through the API <i>addDLRModuleIPAddress(uint32_t ipAddress)</i>. Developer needs to call this once an IP address has been acquired or else DLR frames will not carry an IP address.
</p><p><br />
</p>
<h4><span id="PTP/1588"></span><span class="mw-headline" id="PTP.2F1588">PTP/1588</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=12" title="Edit section: PTP/1588">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>EtherNet/IP uses End 2 End mode for measuring line delay and uses UDP messages over IPv4 (Annex D). All PTP/1588 information including implementation details is provided in the <a href="ICSS_PTP_1588_Developer_Guide.html" title="ICSS PTP 1588 Developer Guide">PTP developer guide</a>.
</p><p>PTP/1588 in EtherNet/IP has been provided to enable CIP Sync feature in EtherNet/IP. This feature is unavailable at the moment because the stack does not support it however if someone wishes to implement the feature the PTP/1588 driver provides all relevant parameters.
</p>
<h4><span class="mw-headline" id="QoS">QoS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=13" title="Edit section: QoS">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Refer to this <a href="Processor_SDK_RTOS_ICSS-EMAC-Design.html#Quality_of_Service_and_Queues" title="Processor SDK RTOS ICSS-EMAC-Design">guide</a> to understand how QoS works in EMAC-LLD. There are primarily two callbacks associated with the main Rx interrupt
</p>
<ol><li>Real Time (RT) Callback&#160;: <code>rxRTCallBack</code> For high priority protocol frames.</li>
<li>Non-Real Time Callback&#160;: <code>rxCallBack</code>For other frames.</li></ol>
<p>The decision to send which frame to which callback is completely configurable from <i>main.c</i>. The variable <code>ethPrioQueue</code> is set to the queue priority above which a frame goes to the TCP/IP stack callback. For EtherNet/IP this is set to <i>ICSS_EMAC_QUEUE4</i> which means Queue 4 and above (does not exist) goes to NDK (TCP/IP) stack. Any other queue goes to the RT callback. If the variable is configured to <i>ICSS_EMAC_QUEUE3</i> then Queue 3 and 4 will go to NDK.
</p><p>The diagram below shows the mapping for EtherNet/IP
</p><p><a href="File_EIP_QoS.html" class="image" title="320×222px"><img alt="320×222px" src="https://processors.wiki.ti.com/images/7/7d/EIP_QoS.png" width="875" height="604" /></a>
</p><p><b>Host Receive queues</b>
</p>
<ul><li>Queue 1&#160;:
<ul><li>PTP and DLR frames are received on this queue.</li>
<li>This is called the Real Time (RT) queue and is linked to the RT callback <code>rxRTCallBack</code></li>
<li>If a frame isn't DLR or PTP it goes to the TCP/IP stack</li></ul></li>
<li>Queue 2&#160;: Same behavior as Queue 1</li>
<li>Queue 3&#160;: Same behavior as Queue 1 &amp; 2</li>
<li>Queue 4&#160;: Mapped to NDK</li></ul>
<p><b>Transmit queues</b>
</p>
<ul><li>Queue 1
<ul><li>PTP and DLR frames are sent on this frame</li></ul></li>
<li>Queue 2&#160;: Regular queue. No mapping</li>
<li>Queue 3&#160;: Same as Queue 2</li>
<li>Queue 4&#160;: Same as Queue 3</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Molex_Stack">Molex Stack</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=14" title="Edit section: Molex Stack">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The application uses Molex EtherNet/IP stack ver. 3.3.3. Since the stack is only for evaluation purposes the application only runs for an hour. To get the full version for the stack please contact Molex.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Memory_Map">Memory Map</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=15" title="Edit section: Memory Map">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>DLR Memory Map</b>
</p><p>DLR uses 48 bytes in ICSS Shared RAM and 5 bytes each in PRU0 and PRU1 Data RAM. The data in shared RAM data sits right on top of <a href="ICSS_PTP_1588_Developer_Guide.html#Memory_Map" title="ICSS PTP 1588 Developer Guide">PTP data</a>. The map is provided below 
</p>
<table border="1" cellspacing="0" cellpadding="4" rules="all" style="margin:1em 1em 1em 0; border:solid 1px #aaa; border-collapse:collapse;empty-cells:show;">
  
<caption><i><b>DLR</b></i>
</caption>
<tbody><tr>
<th>Shared Memory Offset
</th>
<th>Value
</th>
<th>PRU0 DRAM Offset
</th>
<th>Value
</th>
<th>PRU1 DRAM Offset
</th>
<th>Value
</th></tr>
<tr>
<td>0x140 - 0x170
</td>
<td>Used for storing common events and other variables
</td>
<td>0x200 - 0x205
</td>
<td>Used for storing Port events and Neighbor check request retries for Port 0
</td>
<td>0x200 - 0x205
</td>
<td>Same as for Port 0
</td></tr>
<tr>
<td>DLR_COMMON_EVENTS_OFFSET
</td>
<td>0x140 - Stores events common to DLR. See above for more information.
</td>
<td>DLR_PORT_EVENTS_OFFSET
</td>
<td>0x200 - Stores Port events for Port 0
</td>
<td>DLR_PORT_EVENTS_OFFSET
</td>
<td>Same as for Port 0
</td></tr>
<tr>
<td>DLR_STATE_MACHINE_OFFSET
</td>
<td>0x144 - Stores state machine values. See above
</td>
<td>DLR_NCREQ_NUM_RETRIES_OFFSET
</td>
<td>0x204 - Num times a neighbor check request
<p>has been resent
</p>
</td>
<td>DLR_NCREQ_NUM_RETRIES_OFFSET
</td>
<td>Same as for Port 0
</td></tr>
<tr>
<td>DLR_BEACON_TIMEOUT_OFFSET
</td>
<td>0x148 - Stores beacon timeout value
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>DLR_BEACON_INTERVAL_OFFSET
</td>
<td>0x14C - Stores beacon interval value
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>DLR_VLAN_ID_SUPID_OFFSET
</td>
<td>0x150 - Stores VLAN ID and Supervisor ID
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>DLR_ACTIVE_SUP_MAC_0123
</td>
<td>0x154 - MAC ID of Supervisor
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>DLR_SIGNON_PKT_RCVD_OFFSET
</td>
<td>0x15C - SignOn frame rcvd ack
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>DLR_ENABLED_OFFSET
</td>
<td>0x160 - Writing 1 here enables DLR
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>DLR_ACTIVE_SUP_IP_OFFSET
</td>
<td>0x164 -IP address of supervisor
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>DLR_LOOP_DETECTED_OFFSET
</td>
<td>0x168 -Loop detected in network (no DLR case)
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td></tr>
</tbody></table>
<p><b>PTP/1588 Memory Map</b>
</p><p>EtherNet/IP supports E2E Transparent Clock and Ordinary Clock. The memory map is documented <a href="ICSS_PTP_1588_Developer_Guide.html#Memory_Map" title="ICSS PTP 1588 Developer Guide">here</a>. Only the common and E2E specific mapping are applicable.
</p><p><b>Media Counters Memory Map</b>
</p><p>The map is provided below 
</p><p>SQE_Test_Errors&#160;: SQE test errors are applicable to very old legacy devices where the transceiver is different from NIC, as such they are not supported in firmware or hardware
</p><p>Carrier_Sense_Errors&#160;: Not supported in firmware, CSError can be read from PHY registers directly. On TLK110 for example the registers FCSCR (0x14) and PHYSTS (0x10) provide this status
</p>
<table border="1" cellspacing="0" cellpadding="4" rules="all" style="margin:1em 1em 1em 0; border:solid 1px #aaa; border-collapse:collapse;empty-cells:show;">
  
<caption><i><b>Media Counters</b></i>
</caption>
<tbody><tr>
<th>DMEM0/1 Offset
</th>
<th>Value
</th></tr>
<tr>
<td>0x1F50
</td>
<td>Late_Collisions
</td></tr>
<tr>
<td>0x1F54
</td>
<td>Single_Collisions
</td></tr>
<tr>
<td>0x1F58
</td>
<td>Multiple_Collisions
</td></tr>
<tr>
<td>0x1F5C
</td>
<td>Excessive_Collisions
</td></tr>
<tr>
<td>0x1F60
</td>
<td>Alignment_Errors
</td></tr>
<tr>
<td>0x1F68
</td>
<td>MAC_Receive_Errors
</td></tr>
<tr>
<td>0x1F70
</td>
<td>Deferred_Transmissions
</td></tr>
<tr>
<td>0x1F74
</td>
<td>MAC_Transmit_Errors
</td></tr>
<tr>
<td>0x1F78
</td>
<td>Frame_Too_Long
</td></tr>
<tr>
<td>0x1F80
</td>
<td>FCS_Errors
</td></tr>
</tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="Hardware_Resource_Usage">Hardware Resource Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=16" title="Edit section: Hardware Resource Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Interrupts">Interrupts</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=17" title="Edit section: Interrupts">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>EtherNet/IP uses 
</p>
<ul><li>Two identical interrupts from PRU-ICSS to ARM for DLR
<ul><li>The interrupts must be serviced in less than T microseconds assuming T is the min beacon timeout for DLR. TI's sysBios services them in less than 100us.</li></ul></li>
<li>Two interrupts from PRU-ICSS to ARM for PTP/1588
<ul><li>The interrupts must be serviced within the Sync interval for the network.</li>
<li>If Sync interrupt is processed with a lot of delay it has a direct bearing on the jitter.</li></ul></li>
<li>One interrupt from PRU-ICSS to ARM for Receive on all queues. This is common to all switch implementations.
<ul><li>Refer to the ICSS <a href="Processor_SDK_RTOS_ICSS-EMAC-Design.html" title="Processor SDK RTOS ICSS-EMAC-Design">EMAC Design guide</a>.</li></ul></li></ul>
<p>The specific interrupt numbers are provided <a href="ICSS_EIP_Adapter_Developer_Guide.html#Mapping_the_Interrupts" title="ICSS EIP Adapter Developer Guide">below</a> and mapping can be understood by looking at the file X_pruss_intc_mapping.h file
</p>
<h4><span class="mw-headline" id="Timers">Timers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=18" title="Edit section: Timers">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>As explained previously DLR uses the on board DMTimer (GPTimer under new notation) 4 &amp; 5 for beacon timeout so another application cannot use them.
</p>
<ul><li>DMTimers
<ul><li>Resolution required in microseconds</li>
<li>Min resolution&#160;: 200 us (minimum DLR beacon timeout value)</li>
<li>Two. 4 &amp; 5</li>
<li>BIOS API's are used to configure, start and stop the timers.</li></ul></li>
<li>Generic timers
<ul><li>Resolution required in milliseconds</li>
<li>Min resolution&#160;: 100 ms (neighbor timeout)</li>
<li>Configured using BIOS API's</li></ul></li></ul>
<h4><span class="mw-headline" id="Instruction_memory_and_Data_Memory">Instruction memory and Data Memory</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=19" title="Edit section: Instruction memory and Data Memory">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Please refer to the data sheet and memory map.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Porting_your_own_EIP_Stack">Porting your own EIP Stack</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=20" title="Edit section: Porting your own EIP Stack">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Porting an EIP Stack generally requires porting of Socket implementation and providing APIs in application to inform about the application status and volatile storage information. Socket implementation adaptation is not in the scope of this document
</p><p>The current Ethernet/IP application is specific to Molex Stack and need to be changed accordingly to use it along with other stacks. Developer needs to modify following files to make the application work with new EIP stack. 
</p>
<ul><li>hal.c - This file has functions which configure Ethernet Link,TCP/IP and QOS object properties. Features like Statistics, saving information to non volatile storage are also done here. Following table has the mapping of Ethernet/IP Object and the APIs used to get or set the attribute values</li></ul>
<table border="1" cellspacing="0" cellpadding="4" rules="all" style="margin:1em 1em 1em 0; border:solid 1px #aaa; border-collapse:collapse;empty-cells:show;">
  
<caption><i>Ethernet/IP Object details to API mapping</i>
</caption>
<tbody><tr>
<th>Ethernet/IP Object
</th>
<th>API to get/set attribute values
</th></tr>
<tr>
<td>Identity (0x01)
</td>
<td>EIPAPP_resetImplement
</td></tr>
<tr>
<td rowspan="2">Connection Manager(0x06)
</td>
<td>EIPHAL_getIncarnID
</td></tr>
<tr>
<td>EIPHAL_setIncarnID
</td></tr>
<tr>
<td rowspan="2">QOS(0x48)
</td>
<td>EIPHAL_setQoSValues
</td></tr>
<tr>
<td>EIPHAL_getQoSValues
</td></tr>
<tr>
<td rowspan="10">TCP/IP(0xF5)
</td>
<td>EIPHAL_getConfigurationControl
</td></tr>
<tr>
<td>EIPHAL_setConfigurationControl
</td></tr>
<tr>
<td>EIPHAL_getInterfaceConfiguration
</td></tr>
<tr>
<td>EIPHAL_setInterfaceConfiguration
</td></tr>
<tr>
<td>EIPHAL_setACDEnable
</td></tr>
<tr>
<td>EIPHAL_getACDEnable
</td></tr>
<tr>
<td>EIPHAL_getInterfaceConfigACDStatus
</td></tr>
<tr>
<td>EIPHAL_setLastConflictDetails
</td></tr>
<tr>
<td>EIPHAL_getLastConflictDetails
</td></tr>
<tr>
<td>EIPHAL_getMediaCounters
</td></tr>
<tr>
<td rowspan="8">Ethernet Link(0xF6)
</td>
<td>EIPHAL_getInterfaceSpeed
</td></tr>
<tr>
<td>EIPHAL_getInterfaceFlags
</td></tr>
<tr>
<td>EIPHAL_getInterfaceCounters
</td></tr>
<tr>
<td>EIPHAL_getPhysicalAddress
</td></tr>
<tr>
<td>EIPHAL_getInterfaceControl
</td></tr>
<tr>
<td>EIPHAL_setInterfaceControl
</td></tr>
<tr>
<td>EIPHAL_getInterfaceStarupType
</td></tr>
<tr>
<td>EIPHAL_getPhysicalAddress
</td></tr></tbody></table>
<ul><li>user_acd_ndk.c - This file has functions that interface between lower layers and ACD Stack . ACD stack needs to call following APIs to implement ACD mechanism
<ul><li>EIPACD_sendArpFrame - function to send out ARP frames</li>
<li>EIPACD_conflictDetected - function to save the Conflict parameters to non volatile memory</li>
<li>EIPACD_event -function to be called by ACD stack to inform application of ACD events</li></ul></li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Application_Interface">Application Interface</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=21" title="Edit section: Application Interface">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h3><span class="mw-headline" id="Initialization">Initialization</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=22" title="Edit section: Initialization">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Initialization involves
</p>
<ul><li>Board and Hardware Initialization</li>
<li>Mapping the interrupts</li>
<li>Allocating memory for the structures</li>
<li>Registering the callbacks</li>
<li>Configuring Switch parameters</li></ul>
<h4><span class="mw-headline" id="Board_and_Hardware_Initialization">Board and Hardware Initialization</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=23" title="Edit section: Board and Hardware Initialization">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>This part is application specific. In Processor SDK the main API to call is <code>Board_Init()</code> with predefined flags which initialize each specific HW module of choice. For example in EtherNet/IP adapter application the modules which are configured by this are
</p>
<ul><li>Pin Mux</li>
<li>Timers</li>
<li>UART</li></ul>
<p>The following code performs this task
</p>
<pre>Board_init(BOARD_INIT_PINMUX_CONFIG | BOARD_INIT_MODULE_CLOCK | BOARD_INIT_UART_STDIO);
</pre>
<p>Some modules like I2C's are not initialized by this. They are initialized with the call
</p>
<pre>Board_i2cLedInit();
</pre>
<p>For more about pinmux and hardware specific initialization please consult the <a href="Industrial_SDK_EMAC_Porting_Guide.html" title="Industrial SDK EMAC Porting Guide">EMAC-LLD Porting Guide</a>. 
</p>
<h4><span class="mw-headline" id="Mapping_the_Interrupts">Mapping the Interrupts</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=24" title="Edit section: Mapping the Interrupts">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The EtherNet/IP adapter uses the following PRU-ICSS Interrupts
</p>
<table border="1" cellspacing="0" cellpadding="4" rules="all" style="margin:1em 1em 1em 0; border:solid 1px #aaa; border-collapse:collapse;empty-cells:show;">

<caption><i><b>Stack/application interrupts</b></i>
</caption>
<tbody><tr>
<th>Firmware Interrupt
</th>
<th>Host Interrupt
</th>
<th>Remarks
</th></tr>
<tr>
<td>Rx Interrupt
</td>
<td>PRU_ICSS_EVTOUT0
</td>
<td>Notifies host when firmware has stored
<p>a frame in host receive queue
</p>
</td></tr>
<tr>
<td>DLR Port 0 Interrupt
</td>
<td>PRU_ICSS_EVTOUT1
</td>
<td>Raised when there is a state change in DLR on Port 0
</td></tr>
<tr>
<td>DLR Port 1 Interrupt
</td>
<td>PRU_ICSS_EVTOUT2
</td>
<td>Raised when there is a state change in DLR on Port 1
</td></tr>
<tr>
<td>PTP/1588 Sync Interrupt
</td>
<td>PRU_ICSS_EVTOUT3
</td>
<td>Raised when PTP/1588 Sync frame is received
</td></tr>
<tr>
<td>PTP/1588 Delay Response Interrupt
</td>
<td>PRU_ICSS_EVTOUT4
</td>
<td>When a delay request sent by device is
<p>acknowledged with a delay response.
</p>
</td></tr>
<tr>
<td>LINK0 Interrupt
</td>
<td>PRU_ICSS_EVTOUT6
</td>
<td>Interrupt is raised when the Link on
<p>MII0 port comes up or goes down
</p>
</td></tr>
<tr>
<td>LINK1 Interrupt
</td>
<td>PRU_ICSS_EVTOUT6
</td>
<td>Interrupt is raised when the Link on
<p>MII1 port comes up or goes down
</p>
</td></tr>
</tbody></table>
<p>The interrupt numbers are configured at the start of application, this along with the interrupt mapping contained in <i>tieip_pruss_intc_mapping.h</i> is used to program the PRUSS Interrupt controller and ARM interrupt controller. The interrupt mapping is explained <a href="Processor_SDK_RTOS_ICSS-EMAC-Design.html#Interrupts" title="Processor SDK RTOS ICSS-EMAC-Design">here</a>
</p><p>Sample interrupt initialization code from EtherNet/IP example provided below
</p>
<pre> /*Initialize PTP*/
 ptpConfig.syncIntNum = 23;
 ptpConfig.genericIntNum = 24;
 /*This is unused if E2E mode is used*/
 if(P2P == ptpConfig.type)
 {
    ptpConfig.pDelayRespP1IntNum = 25;
 }
 /*Initialize DLR*/
 dlrObj.port0IntNum = 21;
 dlrObj.port1IntNum = 22;
 /*Initialize Rx interrupt and Link interrupt*/
 switchEmacCfg-&gt;rxIntNum = 20;
 switchEmacCfg-&gt;linkIntNum = 26;
</pre>
<h4><span class="mw-headline" id="Allocating_Memory_for_Structues">Allocating Memory for Structues</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=25" title="Edit section: Allocating Memory for Structues">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Application explicitly allocates memory only for the ICSS EMAC Handle and the Switch configuration. This is done by the following code
</p>
<pre>   /*Create Handle*/
   handle = PRUICSS_create(pruss_config, PRUICSS_INSTANCE);
   /*Allocate memory for Handle*/
   emachandle = (ICSS_EmacHandle)malloc(sizeof(ICSS_EmacConfig));
   /*Switch configuration*/
   ICSSEMAC_InitConfig *switchEmacCfg;
   /*Allocate memory for config structure*/
   switchEmacCfg = (ICSSEMAC_InitConfig *)malloc(sizeof(ICSSEMAC_InitConfig));
</pre>
<p>Memory for specific modules is allocated and handled by the respective module initialization API's. For example <code>initDLR()</code> and <code>ptpInit()</code> handle initialization for DLR and PTP respectively.
</p>
<h4><span class="mw-headline" id="Registering_the_callbacks">Registering the callbacks</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=26" title="Edit section: Registering the callbacks">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The standard callbacks which are common to all switch implementations are allocated by the API <code>ICSSEmacDRVInit()</code> with the following
</p>
<pre>  /* Callback mallocs */
   ICSS_EmacCallBackObject *callBackObj = (ICSS_EmacCallBackObject *)malloc(sizeof(ICSS_EmacCallBackObject));
  /*Learning callback*/
   callBackObj-&gt;learningExCallBack = (ICSS_EmacCallBackConfig *)malloc(sizeof(ICSS_EmacCallBackConfig));
  /*Generic Rx and Tx callbacks for the NDK*/
   callBackObj-&gt;rxCallBack=(ICSS_EmacCallBackConfig*)malloc(sizeof(ICSS_EmacCallBackConfig));
   callBackObj-&gt;txCallBack=(ICSS_EmacCallBackConfig*)malloc(sizeof(ICSS_EmacCallBackConfig));
  /*Default Real time callback*/
   callBackObj-&gt;rxRTCallBack = (ICSS_EmacCallBackConfig *)malloc(sizeof(ICSS_EmacCallBackConfig));
  /*Assign the callbacks*/
   ((ICSS_EmacObject *)handle-&gt;object)-&gt;callBackHandle = callBackObj;
</pre>
<ul><li>Learning callback is used by DLR to disable learning of Supervisor MAC ID. This is a protocol specific requirement. It is set to NULL by default and is mapped to the API <code>checkSupervisorException()</code> in the DLR Initialization API.</li>
<li>Generic Tx and Rx callbacks are mapped to the default TCP/IP Transmit and Receive API's respectively inside the EMAC-LLD.</li>
<li>RT callback is meant for the highest priority queue or which ever queue is configured exclusively for protocol specific frames. Please see the QoS section for how it works with EtherNet/IP.</li></ul>
<p>For protocol specific callbacks a separate callback is registered which overwrites the default and assigns the Real Time callback to a protocol specific API. In EtherNet/IP this API is <code>processProtocolFrames</code> which is a combined callback for PTP and DLR frames. The callback <code>processProtocolFrames()</code> copies the frame to a temporary buffer and parses the protocol field to check if it's a PTP or DLR frame before passing it to the appropriate handler.
</p><p>Callback assignment for EtherNet/IP in <code>eip_driver_init()</code>
</p>
<pre> /*Packet processing callback*/
   ((((ICSS_EmacObject *)
      icssEmacHandle-&gt;object)-&gt;callBackHandle)-&gt;rxRTCallBack)-&gt;callBack =
          (ICSS_EmacCallBack)processProtocolFrames;
   ((((ICSS_EmacObject *)
      icssEmacHandle-&gt;object)-&gt;callBackHandle)-&gt;rxRTCallBack)-&gt;userArg =
          icssEipHandle;
 
</pre>
<h4><span class="mw-headline" id="Configuring_Switch_parameters">Configuring Switch parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=27" title="Edit section: Configuring Switch parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Switch/EMAC parameters are part of the structure <code>ICSSEMAC_InitConfig</code>. The members are explained in <a href="Processor_SDK_RTOS_ICSS-EMAC-Design.html#Configuration_Parameters" title="Processor SDK RTOS ICSS-EMAC-Design">EMAC LLD Design guide</a>
</p><p>For EtherNet/IP configure the parameters as follows.
</p>
<h4><span class="mw-headline" id="Common_Settings">Common Settings</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=28" title="Edit section: Common Settings">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li><code>portMask</code>&#160;: set to <code>ICSS_EMAC_MODE_SWITCH</code></li>
<li><code>ethPrioQueue</code>&#160;: set to Queue 4. <code>ICSS_EMAC_QUEUE4</code></li>
<li><code>halfDuplexEnable</code>&#160;: Enable half duplex by setting to 1</li>
<li><code>enableIntrPacing</code>&#160;: Enable pacing by setting to 1</li>
<li><code>intrPacingMode</code>&#160;: Use pacing mode 1. <code>INTR_PACING_MODE1</code></li>
<li><code>pacingThreshold</code>&#160;: Set to 100</li>
<li><code>learningEn</code>&#160;: Enable by setting to 1</li></ul>
<h4><span class="mw-headline" id="AM335x">AM335x</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=29" title="Edit section: AM335x">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li><code>rxIntNum</code>&#160;: Set to 20 if default mapping is used</li>
<li><code>linkIntNum</code>&#160;: 26 if default mapping is used</li></ul>
<h4><span class="mw-headline" id="AM437x">AM437x</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=30" title="Edit section: AM437x">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li><code>rxIntNum</code>&#160;: Set to 52 if default mapping is used</li>
<li><code>linkIntNum</code>&#160;: 58 if default mapping is used</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Basic_self_debugging">Basic self debugging</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=31" title="Edit section: Basic self debugging">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section is meant to be a self-help guide for users who are trying to evaluate TI’s Ethernet/IP solution and gain some experience with the ISDK and EVM for Ethernet/IP.
</p><p>This document mentions several tools and software packages. The following minimum revisions are required to perform a complete set of the tests described in this document.
</p>
<ol><li>RSLinx (Rockwell Automation) version 2.57 or later</li>
<li>EDITT (Pyramid Solutions), version 1.18 or later <a rel="nofollow" class="external free" href="http://network.pyramidsolutions.com/software-#">http://network.pyramidsolutions.com/software-#</a> Molex EtherNet/IP Tool v2.4 or later (EIPTool.exe)</li>
<li>CIP Tool – a CIP Explicit client that allows the user to build CIP explicit messages. A tool such as Pyramid Solutions’ EIP Scan will suffice.</li>
<li>Molex Plugfest Performance Packet Generator v1.1 or later</li>
<li>NIST Industrial Ethernet Network Performance (IENetP) Test Tool v1.1.2 or later.</li>
<li>Hilscher netAnalyzer PCI-card (NANL-C500-RE) installed in a Microsoft Windows PC.</li></ol>
<p>The test descriptions contained in this section will contain images captured from these tools for illustration. All rights are retained by the producers of these tools.
</p><p><b> Test Platform Description</b>
</p><p>TI EtherNet/IP adapter example is a generic EtherNet/IP adapter module which can be run against an EtherNet/IP Scanner device.  The Application uses a Molex EtherNet/IP stack on top of TI’s NDK TCP/IP stack. The example included in ISDK release package is a limited demo application where the user will be allowed to execute it for one hour at a single stretch.
</p><p>EtherNet/IP adapter implementation is available on low latency ICSS cut-thru switch. On the ICE v2 EVM, the jumper settings must be set appropriately to select ICSS. Jumpers J18 and J19 (Please refer ICE V2 picture below) are used for this purpose. ICSS can be selected by connecting jumper pin between pins 2 &amp; 3.
</p><p><a href="File_Iceeip.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/9/94/Iceeip.jpg" width="522" height="328" /></a>
</p><p><i>ICEv2 EVM marked with ICSS mode jumpers</i>
</p><p><a href="File_Eip-testing.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/8/8b/Eip-testing.png" width="624" height="410" /></a>
</p><p><i>Test setup</i>
<br /><br />
</p>
<h4><span class="mw-headline" id="EDS_File_Installation_and_Verification_with_RSLinx">EDS File Installation and Verification with RSLinx</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=32" title="Edit section: EDS File Installation and Verification with RSLinx">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Here we can verify the correctness of the EDS file parameters. The requirement is that the DUT should be properly detected and listed in RSLinx.
</p><p>Before proceeding with RSLinx, we need to register the EDS file to the tool library using ‘EDS Hardware Installation Tool’. This tool comes along with RSLinx and can be found at <b>(C:\Program Files (x86)\Rockwell Software\RSCommon\RSHWare.exe)</b>. 
</p>
<pre>  <b>NOTE:</b> The EDS file for TI/Molex EIP adapter can be found in ISDK package at
  <b>(ISDK_HOME)\ protocols\ethernetip_adapter\eds</b>. The EDS files for standard 
  devices can be downloaded from Rockwell Automation website 
  <a rel="nofollow" class="external free" href="http://www.ab.com/networks/eds/cgi-bin/search.cgi?network_type=EtherNet/IP">http://www.ab.com/networks/eds/cgi-bin/search.cgi?network_type=EtherNet/IP</a> 
  by searching for the device model name.
</pre>
<p><b>Test Procedure:</b>
1. On startup the Hardware installation tool will provide the option for adding or removing the EDS file (Remove the already existing EDS file and always use the latest updated one). We can search the EDS file by name and remove the already registered one.
</p><p><a href="File_Rsl1.html" class="image" title="190×130px"><img alt="190×130px" src="https://processors.wiki.ti.com/images/9/97/Rsl1.png" width="760" height="520" /></a>
</p><p><i>Removing the already registered EDS file</i>
</p><p>2. Now we can add the latest EDS file into the library using ‘Add’ option
</p><p><a href="File_Rsl2.html" class="image" title="380×260px"><img alt="380×260px" src="https://processors.wiki.ti.com/images/5/50/Rsl2.png" width="744" height="607" /></a>
</p><p><i>Register a new EDS file using ‘Add’ option in the installation tool.</i>
</p><p>3. If there are no syntax errors, it will be represented by a ‘Green’ Check mark near to the file name. We can view the file also by clicking on ‘View File’. Click ‘Next’
</p><p><a href="File_Rsl3.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/5/5a/Rsl3.png" width="514" height="397" /></a>
</p><p><i>The EDS file installation</i>
</p><p>4. The Device is going to be added with a default icon. We can use a custom icon by clicking on ‘Change Icon’
</p><p><a href="File_Rsl4.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/8/81/Rsl4.png" width="514" height="398" /></a>
</p><p><i>Assigning an icon to the DUT</i>
</p><p>5. If there is a vendor specific icon is embedded in the [Device] section of the EDS file, the EDS wizard will show this icon. Click ‘Next’
</p><p><a href="File_Rsl5.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/d/d2/Rsl5.png" width="513" height="401" /></a>
</p><p><i>EDS file with vendor specific Icon</i>
</p><p>6. Click ‘Next’ and finish the EDS installation wizard.
</p><p><a href="File_Rsl6.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/7/7a/Rsl6.png" width="516" height="394" /></a>
</p><p><i>EDS file added successfully</i>
</p><p>7. Launch RSLinx Classic (C:\Program Files (x86)\Rockwell Software\RSLinx\RSLINX) and instantiate the proper communications driver. From the main menu select “Communications” then “Configure Drivers”; pick EtherNet/IP Driver from “Available Drivers” and select “Add New”. You can keep the default name (AB_ETHIP-x) or choose new name. Also, to avoid any confusion, make sure that the “Ethernet devices” driver is not listed in the “Configured Drivers” list. If it is, select the driver and then select “Stop” or “Delete”. 
</p><p><a href="File_Rsl7.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/8/86/Rsl7.png" width="407" height="229" /></a>
</p><p><i>Configuring proper communication driver</i>
</p><p>8. Click On ‘Add New’ and select a name for the Driver. Click OK
</p><p><a href="File_Rsl8.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/7/73/Rsl8.png" width="614" height="365" /></a>
</p><p><i>Configuring driver name.</i>
</p><p>9. Select the proper NIC which is configured in the same subnet as that of the DUT IP address. Click OK
</p><p><a href="File_Rsl9.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/c/cd/Rsl9.png" width="636" height="493" /></a>
</p><p><i>Selecting the NIC</i>
</p><p>10. Now the communication driver is configured properly. Driver status should show ‘Running’. Click ‘Close’.
</p><p><a href="File_Rsl10a.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/b/ba/Rsl10a.png" width="615" height="366" /></a>
</p><p><i>Completing Driver configuration</i>
</p><p><a href="File_Rsl10b.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/2/22/Rsl10b.png" width="380" height="162" /></a>
</p><p><i>Newly configured driver is listed in RSLinx</i>
</p><p>11. Power up the DUT and run the RSWho utility in RSLinx. Open the RSWho window within RSLinx (Connections →RSWho) and browse the network with the DUT using the EtherNet/IP driver. Verify that the DUT is discovered by RSWho and is displayed correctly.
</p><p><a href="File_Rsl11.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/6/65/Rsl11.png" width="391" height="228" /></a>
</p><p><i>Running RSWho</i>
</p><p>12. When the ‘Auto browse’ option is enabled, the tool will automatically browse the network. If any valid DUT is found which is matching with the EDS file information, it will be listed immediately.
</p><p><a href="File_Rsl12.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/0/0c/Rsl12.png" width="1027" height="191" /></a>
</p><p><i>The DUT is detected and displayed'</i>
</p><p>13. Right click on detected device and select ‘Device Properties’. Make sure that the device related information is matching with the EDS file contents.
</p><p><a href="File_Rsl13.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/b/b1/Rsl13.png" width="552" height="565" /></a>
</p><p><i>DUT properties</i>
</p>
<pre>  <b>NOTE 1:</b> Sometimes, the Antivirus running in the test machine (say Symantec) may hinder 
  the discovery of DUT by RSLinx. If the DUT is not detected at all, try disabling antivirus 
  and run RSWho once again.
</pre>
<pre>  <b>NOTE 2:</b> The requirement is that the device is displayed as a recognized device type based 
  on the EDS; the device should not be displayed as a question mark. If the DUT does not show up 
  with this driver but can be detected when the RSLinx Ethernet driver is used, then this either 
  means there is something wrong with the Ethernet settings of the test PC (Firewall, VPN etc.) 
  or the DUT does not properly support the List Identity request. 
</pre>
<pre>  <b>NOTE 3:</b> Shut down RSLinx before proceeding to the next step.
</pre>
<p><br /><br />
</p>
<h4><span id="Conformance_Testing_(ODVA_CTT_v12)"></span><span class="mw-headline" id="Conformance_Testing_.28ODVA_CTT_v12.29">Conformance Testing (ODVA CTT v12)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=33" title="Edit section: Conformance Testing (ODVA CTT v12)">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>Test Setup</b>
Conformance Test Tool is installed in Windows Test Machine. The machine is devoid of Firewall and Antivirus software which may interfere with some of the tests. The DUT connected to the Test machine using an Ethernet cable.
</p><p><a href="File_Ctttool.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/c/c1/Ctttool.PNG" width="698" height="218" /></a>	
</p><p><i> Test Setup for Conformance Testing</i>
</p><p><b>Test Procedure</b>
</p><p>(i) When the tool is launched, it will show a confirmation message. Click OK to proceed
</p><p><a href="File_Odva1.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/4/4a/Odva1.png" width="375" height="259" /></a>		
</p><p><i>ODVA CTT Startup Message</i>
</p><p>(ii) Select Add Device Option. Browse and select the STC file
({IA_SDK_HOME}\examples\ethernetip_adapter\stc) provided along with the release package. 
Provide a name for the device and press 'OK'
</p><p><a href="File_Odva2.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/2/29/Odva2.png" width="361" height="147" /></a>	
</p><p><i>Select/Add a new Device</i>
</p><p><a href="File_Odva3.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/e/e7/Odva3.png" width="959" height="716" /></a>	
</p><p><i> Adding a new Device</i>
</p><p><br />
(iii) Make sure that the Adapter related information (Vendor Name, Device Type, Product code etc…) are read and listed properly by the CTT. Give a log file name so that the CTT log is saved in this name.
</p><p><a href="File_Odva4.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/7/72/Odva4.png" width="959" height="716" /></a>	
</p><p><i>Configuring Device name and CTT log file name</i>
</p>
<pre> <b>NOTE:</b> In-case ‘Texas Instruments’ is not listed as Vendor Name 
  in the tool, the below steps need to be followed.<br />
    1. Open the ‘VID.dat’ file from the Conformance Tool installation directory.
    2. Go to the vendor ID 806 in the file and remove the negative sign (-) in 
       the ENet Column.
    3. Restart the CTT. 
</pre>
<p>(iv) Select Physical data and change the IP Address and MAC address as that of DUT.
</p><p><a href="File_Odva5.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/1/15/Odva5.png" width="579" height="569" /></a>
</p><p><i>Configuring Physical Data to match DUT parameters</i>
</p><p>(v) Now the DUT has been added to the CTT device list. We can edit the parameters as and when required. When more than one device is listed in the device list, select the appropriate one to start the tests.
</p><p><a href="File_Odva6.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/3/38/Odva6.png" width="957" height="716" /></a>		
</p><p><i>The newly added device is listed in Device List</i>
</p><p>(vi) Click on the <a href="File_Runtests.html" class="image"><img alt="Runtests.png" src="https://processors.wiki.ti.com/images/3/3c/Runtests.png" width="31" height="29" /></a>  icon (or Tools -&gt; Run Tests). In the test window, we can select individual development tests under test mode ‘Development’. 
</p><p><a href="File_Odva7.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/e/e4/Odva7.png" width="598" height="435" /></a>	
</p><p><i>CTT Development Test Window</i>
</p><p>(vii) In Conformance Test mode, the tool will automatically select the supported test cases as per the STC file. (Tick ‘Run continuously’ option when continuous iterations are required).
</p><p><a href="File_Odva8.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/b/be/Odva8.png" width="600" height="438" /></a>	
</p><p><i>CTT Conformance Test Window</i>
</p><p><b>IMPORTANT:</b> Make sure that the NIC of the PC in which the CTT is running is configured properly. Ideally the DUT IP and the IP address of the test machine should belong to the same subnet as shown below-
</p><p><a href="File_Odva9.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/6/6d/Odva9.png" width="702" height="498" /></a>	
</p><p><i>Test PC should be configured in the same subnet as that of DUT</i>
</p>
<pre>  <b>NOTE:</b> Additional IP needs to be configured to the test machine 
  before running the CTT tests as follows:
</pre>
<p><a href="File_Odva10.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/2/24/Odva10.png" width="891" height="755" /></a>	
</p><p><i>Configuring additional IP </i>
</p><p>(viii) When the testing is completed, CTT will show the results which will reveal the number of errors and warnings.
</p><p><a href="File_Odva11.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/d/d8/Odva11.png" width="701" height="499" /></a>			
</p><p><i>Final Test Results Window (The number of errors may vary)</i>
</p><p><br />
<br /><br />
</p>
<h4><span class="mw-headline" id="Molex_EIP_Tool">Molex EIP Tool</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=34" title="Edit section: Molex EIP Tool">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>Test Setup</b>
1. The Molex EIP tool can be downloaded from Molex Website and shall be extracted to Windows PC (Installation not required).<br />
2. Launch EIP_Tools.exe<br />
3. The DUT connected to the Test machine over LAN.
</p><p><a href="File_Molexover.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/e/e2/Molexover.PNG" width="830" height="277" /></a>
</p><p><i>Test setup for EIP tool test</i>
</p><p><b>Test Procedure</b>
</p>
<pre>  <b>NOTE:</b> Before proceeding with communicating with DUT, make sure that 
  the test machine NIC is configured in the same subnet as that of DUT.
</pre>
<p><a href="File_Molex1.html" class="image"><img alt="Molex1.png" src="https://processors.wiki.ti.com/images/f/fe/Molex1.png" width="1042" height="450" /></a>	
</p><p><i>Selecting the proper NIC</i>
</p><p>(ii) Configure the DUT IP address and issue a ‘List Identity Request’ to the DUT. If the DUT is detected, it will be listed properly as TI/Molex EIP Adapter Sample.
</p><p><a href="File_Molex2.html" class="image"><img alt="Molex2.png" src="https://processors.wiki.ti.com/images/2/2f/Molex2.png" width="1042" height="395" /></a>
</p><p><i> DUT is detected properly.</i>
</p><p>(iii)Now we can communicate with the DUT using EtherNet/IP Request-Response from different tabs in this tool.
Explicite Message – This is used for verifying explicit Request-Response communication between this tool and the DUT. Status will be highlighted with yellow indicating there is/are unsupported services.
</p><p><a href="File_Molex3.html" class="image"><img alt="Molex3.png" src="https://processors.wiki.ti.com/images/1/1d/Molex3.png" width="1039" height="510" /></a> 
</p><p><i>Explicit Message Window</i>
</p><p>Class – We can read the Revision, Maximum instances and number of instances using ‘Get_Attribute_All’. Use Get_Attribute to read individual parameters. Status will be ‘OK’ highlighted with Green when the communication with the DUT is proper.
</p><p><a href="File_Molex4.html" class="image"><img alt="Molex4.png" src="https://processors.wiki.ti.com/images/8/84/Molex4.png" width="1042" height="400" /></a>
</p><p><i>Class Object Window</i>
</p><p>0x01 Identity – Use Get_Attribute_All to read all the Identity related information from the EtherNet/IP Adapter. All the supported parameters will be shown in the tool. Get_Attribute will read individual parameters also. Unsupported fields will be read and filled as blank.
</p><p><a href="File_Molex5.html" class="image"><img alt="Molex5.png" src="https://processors.wiki.ti.com/images/6/6e/Molex5.png" width="1043" height="745" /></a> 
</p><p><i>0x01 Identity Object Window</i>
</p><p><br />
0x06 Connection Manager – All the supported Connection Manager related parameters will be read and displayed upon a Get_Attribute_All request from the tool.
</p><p><a href="File_Molex6.html" class="image"><img alt="Molex6.png" src="https://processors.wiki.ti.com/images/5/54/Molex6.png" width="1042" height="743" /></a> 
</p><p><i> 0x06 Connection Manager Object Window</i>
</p><p><br />
0x47 DLR – Device Level Ring (DLR) object attributes are queried and displayed. 
</p><p><a href="File_Molex7.html" class="image"><img alt="Molex7.png" src="https://processors.wiki.ti.com/images/3/36/Molex7.png" width="1041" height="743" /></a>
</p><p><i>0x47 DLR Object Window</i>
</p><p><br />
0x48 QoS – QoS object attributes values are displayed.
</p><p><a href="File_Molex8.html" class="image"><img alt="Molex8.png" src="https://processors.wiki.ti.com/images/b/bc/Molex8.png" width="1032" height="735" /></a>	
</p><p><i>0x48 QOS Object Window</i>
</p><p><br />
</p>
<h5><span id="TCP/IP_Object"></span><span class="mw-headline" id="TCP.2FIP_Object">TCP/IP Object</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=35" title="Edit section: TCP/IP Object">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>This object is used to read/write DUT interface settings and their configurations.
The Configuration Control Attribute (Attr. 3) will show whether the DUT uses permanently stored IP or an IP address assigned via DHCP. 
</p><p><a href="File_Molex9.html" class="image"><img alt="Molex9.png" src="https://processors.wiki.ti.com/images/a/a4/Molex9.png" width="1043" height="744" /></a>
</p><p><i>0xF5 TCP/IP Object Window</i>
</p>
<pre>  <b>NOTE:</b> To make the IP Address permanently stored in the DUT memory, select 
  ‘Stored value’ and issue a ‘Set_Attribute’ Command. From the next reboot onwards, 
  the DUT will use the permanently stored IP address (No need to assign IP from 
  the DHCP server). 
</pre>
<pre>  If we want to assign a different IP to the DUT, first change the 
  Configuration Control to DHCP from Stored Value and issue a ‘Set_Attribute’ command.
  Upon restart, the DUT will again wait for the IP address to be assigned from DHCP server.
</pre>
<h5><span class="mw-headline" id="Ethernet_Link_Object">Ethernet Link Object</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=36" title="Edit section: Ethernet Link Object">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Issue a Get_Attibute_All command and all the supported parameters are read and displayed. The Interface Control attribute (Attr. 6) will show the speed and duplicity of the device.
</p><p><a href="File_Molex10.html" class="image"><img alt="Molex10.png" src="https://processors.wiki.ti.com/images/0/09/Molex10.png" width="1043" height="743" /></a>
</p><p><i>0xF6 Ethernet Link object Window</i>
</p>
<pre>  <b>NOTE: </b>Two instances of Link object can be tested by selecting option 
   1 and 2 in the instance drop down box.

   <b>NOTE:</b> When we want to force the DUT speed to 10/100 Mbps or Auto-Negotiate 
   mode, configure this attribute properly and issue a ‘Set_Attribute” command from 
   the tool.
</pre>
<p><a href="File_Molex11.html" class="image"><img alt="Molex11.png" src="https://processors.wiki.ti.com/images/d/de/Molex11.png" width="464" height="105" /></a>
</p><p><i>Forcing the DUT to 100 Mbps mode'</i>
</p><p><a href="File_Molex12.html" class="image"><img alt="Molex12.png" src="https://processors.wiki.ti.com/images/d/dd/Molex12.png" width="472" height="111" /></a>
<i>Forcing the DUT to Auto negotiate mode</i>
</p><p><a href="File_Molex13.html" class="image"><img alt="Molex13.png" src="https://processors.wiki.ti.com/images/7/77/Molex13.png" width="464" height="114" /></a>
</p><p><i>Forcing the DUT to 10 Mbps mode</i>
</p><p><br />
<br /><br />
</p>
<h4><span class="mw-headline" id="Device_Performance_Testing">Device Performance Testing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=37" title="Edit section: Device Performance Testing">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>This test is intended to verify that the DUT behaves is capable of handling network traffic under possible conditions that may occur on a plant-floor EtherNet/IP network. The performance tests conducted during the PlugFests are representative of some situations that may occur on a plant floor, but are not intended to be exhaustive.<br />
1. Tools Used: <br />
</p>
<ul><li>Software scanner tool like Pyramid Solutions’ EIP Scan or Hardware scanner like Rockwell PLC</li>
<li>Molex Plugfest Performance Packet Generator to generate the background traffic.</li>
<li>Hilscher netAnalyzer PCI-card (NANL-C500-RE) to capture the communication trafiic</li>
<li>NIST Industrial Ethernet Network Performance (IENetP) to analyze the traffic captured by netAnalyzer.<br /></li></ul>
<p>2. Test Setup: <br />
When setting up the performance test system, either hardware or software scanner can be used. If a software scanner is chosen, it is important that the scanner software not be run on the same computer as the background traffic generator. The Molex traffic generator and the EIPScan software have been can load down a computer to the point of causing connection issues with the DUT. The performance analysis tool can run on either the computer housing the network tap card or the computer used for the background traffic generator. If using a software scanner, the performance analysis tool should not be run on that computer due to the process intensive analysis that will run extremely slow while the scanner is running.
</p><p><a href="File_Perf1.html" class="image"><img alt="Perf1.PNG" src="https://processors.wiki.ti.com/images/d/d5/Perf1.PNG" width="777" height="357" /></a>
</p><p>""Device performance Testing- Test Setup""
</p><p>3. Performance Test Categories:<br />
There are 5 different types of performance measurements based on the presence or intensity of the background traffic applied. They are as follows-<br />
3.1 Baseline Performance Test<br />
</p>
<ul><li>No Background Traffic</li>
<li>The mean of the device’s measured packet interval (MPI) should be within 10% of the device’s API.</li>
<li>The standard deviation jitter of the device’s MPI should be within 10% of the mean MPI.</li>
<li>The maximum jitter of the device’s MPI should be within 50% of the mean MPI.</li></ul>
<p>3.2 Steady-State Managed Background Traffic Test<br />
</p>
<ul><li>Generate Steady-State Managed Background Traffic using Molex Plugfest Performance Packet Generator</li>
<li>The mean of the device’s measured packet interval (MPI) should be within 10% of the device’s API.</li>
<li>The standard deviation jitter of the device’s MPI should be within 25% of the mean MPI.</li>
<li>The maximum jitter of the device’s MPI should be within 100% of the mean MPI.</li></ul>
<p>3.3 Steady-State Unmanaged Background Traffic Test<br />
</p>
<ul><li>Generate Steady-State Unmanaged Background Traffic using Molex Plugfest Performance Packet Generator</li>
<li>The mean of the device’s measured packet interval (MPI) should be within 10% of the device’s API.</li>
<li>The standard deviation jitter of the device’s MPI should be within 25% of the mean MPI.</li>
<li>The maximum jitter of the device’s MPI should be within 100% of the mean MPI.</li></ul>
<p>3.4 Burst Managed Background Traffic Test<br />
</p>
<ul><li>Generate Burst Managed Background Traffic using Molex Plugfest Performance Packet Generator</li>
<li>The mean of the device’s measured packet interval (MPI) should be within 10% of the device’s API.</li>
<li>The maximum jitter of the device’s MPI should be within 400% of the mean MPI.<br /></li></ul>
<ul><li>Generate Burst Unmanaged Background Traffic using Molex Plugfest Performance Packet Generator</li>
<li>The mean of the device’s measured packet interval (MPI) should be within 10% of the device’s API.</li>
<li>The maximum jitter of the device’s MPI should be within 400% of the mean MPI.</li></ul>
<p><br /> <br />
4. Common Test Procedure: <br />
</p><p>4.1 Start capturing traffic using the network tap card.<br />
</p><p>4.2 Establish a Connected Class 1 I/O connection from the scanner to the DUT at the minimum RPI (fastest RPI speed) that the DUT supports and at the desired connection size.<br /><br />
<b>NOTE:</b> The connection multiplier should be set as high as possible (512x multiplier recommended) to allow the analysis software to measure potential 4x multiplier connection timeouts without the scanner actually shutting down and reestablishing the connection.<br /><br />
</p><p>4.3 Maintain the connection with the DUT for a minimum time (For baseline test, minimum time is 60 seconds. For all other categories, minimum 30 seconds will be enough)<br />
</p><p>4.4 Based on the test category, Generate the corresponding background traffic using ‘Performance Packet Generator’ tool.<br />
</p><p><a href="File_Perf2.html" class="image"><img alt="Perf2.PNG" src="https://processors.wiki.ti.com/images/0/07/Perf2.PNG" width="431" height="423" /></a>
</p><p>""Generating background traffic for performance test""
</p><p><b>NOTE:</b> Capturing the traffic should be started first and then start the I/O connection and background traffic at the same time.<br />
</p><p>5. Capturing the traffic:<br />
Once the traffic is captured for the required time period, convert the capture into a .pcap file so that the file can be used for further analysis.<br />
</p><p><a href="File_Perf3.html" class="image"><img alt="Perf3.PNG" src="https://processors.wiki.ti.com/images/e/ed/Perf3.PNG" width="725" height="582" /></a>
</p><p>""Capturing the traffic""
</p><p><a href="File_Perf4.html" class="image"><img alt="Perf4.PNG" src="https://processors.wiki.ti.com/images/9/9c/Perf4.PNG" width="736" height="468" /></a>
</p><p>""Saving the captured traffic""
</p><p>6. Analyzing the captured traffic:<br />
6.1 Launch the performance analysis tool. Load the capture file that needs to be analyzed using Browse option (or File-&gt;Open)
</p><p><a href="File_Perf6.html" class="image"><img alt="Perf6.PNG" src="https://processors.wiki.ti.com/images/a/a8/Perf6.PNG" width="744" height="439" /></a>
</p><p>"" Loading the capture file to the performance analysis tool""
</p><p>6.2 Load the proper file and click on ‘ANALYZE’ button. <br /><br />
The tool will analyze the capture and the performance data will be displayed in the graphical window. We can see the percentage of maximum jitter and the standard deviation jitter. Compare these data against the allowed percentage limit for a particular test.
</p><p><a href="File_Perf7.html" class="image"><img alt="Perf7.PNG" src="https://processors.wiki.ti.com/images/9/9a/Perf7.PNG" width="736" height="451" /></a>
</p><p>""Performance analysis tool – Output window""
</p>
<pre>  <b>NOTE:</b> If any of the performance data is not met with the specified/allowed 
  limit in particular the test category, increase the RPI used for establishing the 
  I/O connection and re-run the tests.
</pre>
<p><br /><br />
</p><p><br />
</p>
<h4><span id="Communication_between_EtherNet/IP_Adapter_and_Scanner_devices"></span><span class="mw-headline" id="Communication_between_EtherNet.2FIP_Adapter_and_Scanner_devices">Communication between EtherNet/IP Adapter and Scanner devices</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;section=38" title="Edit section: Communication between EtherNet/IP Adapter and Scanner devices">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The EtherNet/IP adapter can be connected and communicated to any standard scanner device by establishing an Exclusive Owner (E/O) Connection. The connection parameters for E/O connection are shown below-
</p>
<table class="wikitable">

<tbody><tr>
<th>Description</th>
<th>Assembly Instance</th>
<th>Data Size (Bytes)
</th></tr>
<tr>
<td>T-&gt;O</td>
<td>101</td>
<td>1
</td></tr>
<tr>
<td>O-&gt;T</td>
<td>102</td>
<td>1
</td></tr>
<tr>
<td>Configuration</td>
<td>103</td>
<td>0
</td></tr></tbody></table>
<p><i>E/O Connection parameters</i>
</p><p><b> I/O Messages Exchange with Rockwell PLC</b>
The Rockwell EtherNet/IP PLC should be setup properly and the PLC can be configured via RSLogix 5000 software (version V20.01.00 and above).
</p><p><b>PLC IP Configuration:</b>
The PLC IP can be configured to the desired subnet from RSlogix5000. Right click on the 1769 PLC -&gt; Properties-&gt; Internet Protocol Tab. Here we can select the appropriate IP settings.
</p><p><a href="File_Scn1.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/9/97/Scn1.png" width="1048" height="570" /></a>
</p><p><i>Configuring the IP address for PLC</i>
</p><p>The steps for establishing I/O connection between the PLC and DUT are as follows - 
(i) Create a new project (File -&gt; New) and give a project name. Select the Expansion I/O as 0 Modules
</p><p><a href="File_Scn2.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/1/1f/Scn2.png" width="885" height="695" /></a>
</p><p><i>Starting new project in RSLogix 5000</i>
</p><p>(ii) Once the project is created, click on Ethernet and select ‘New Module’
</p><p><a href="File_Scn3.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/2/28/Scn3.png" width="384" height="742" /></a>
</p><p><i>Adding a new module to the project</i>
</p><p>(iii) In the ‘Select Module Type’ Window, select Generic Ethernet Module by searching from the list and click on Create.
</p><p><a href="File_Scn4.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/b/b8/Scn4.png" width="1053" height="670" /></a>
</p><p><i>Selecting the module type</i>
</p><p>(iv) In the ‘New Module’ window select Comm Format as ‘Data-SINT’, IP address as DUT IP and Connection parameters as shown below-
</p><p><a href="File_Scn5.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/e/e7/Scn5.png" width="531" height="325" /></a>
</p><p><i>New module configuration</i>
</p><p>(v) In the ‘Connection Tab’ configure the required Requested Packet Interval (RPI) which completes the addition of a new module into the project
</p><p><a href="File_Scn6.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/a/a3/Scn6.png" width="928" height="639" /></a>
</p><p><i>Configuring the connection parameters</i>
</p><p>(vi)Click on the drop-down box near the Offline mark and select ‘Download’ to download the configuration
</p><p><a href="File_Scn7.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/0/03/Scn7.png" width="293" height="315" /></a>
</p><p><i>Downloading the configuration</i>
</p><p>(vii) A confirmation for downloading the configuration will be there. Proceed by clicking OK
</p><p><a href="File_Scn8.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/7/77/Scn8.png" width="407" height="380" /></a>
</p><p><i>– Confirmation while downloading the configuration</i>
</p><p>(viii) Now the I/O connection will be established at the configured RPI. Successful I/O connection will be indicated by ‘I/O OK’ as shown below-
</p><p><a href="File_Scn9.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/3/37/Scn9.png" width="391" height="642" /></a>
</p><p><i>Successful I/O message exchange shown as ‘I/O OK’</i>
</p><p>(ix) When there is problem with the I/O connection (Communication timed out, Unsupported RPI etc…), PLC will show ‘I/O Not Responding’
</p><p><a href="File_Scn10.html" class="image" title="245×240px"><img alt="245×240px" src="https://processors.wiki.ti.com/images/8/8a/Scn10.png" width="392" height="638" /></a>
</p><p><i>Communication problem due to unsupported RPI shown as ‘I/O Not Responding’</i>
</p>
<!-- 
NewPP limit report
Cached time: 20201130202639
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.230 seconds
Real time usage: 0.268 seconds
Preprocessor visited node count: 170/1000000
Preprocessor generated node count: 217/1000000
Post‐expand include size: 906/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.209      1 -total
 66.95%    1.479      6 Template:Prettytable
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:41573-0!canonical and timestamp 20201130202639 and revision id 236360
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>ICSS EIP Adapter Developer Guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>ICSS EIP Adapter Developer Guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>ICSS EIP Adapter Developer Guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>ICSS EIP Adapter Developer Guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>ICSS EIP Adapter Developer Guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>ICSS EIP Adapter Developer Guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>ICSS EIP Adapter Developer Guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>ICSS EIP Adapter Developer Guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>ICSS EIP Adapter Developer Guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;oldid=236360">https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;oldid=236360</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="https://processors.wiki.ti.com/index.php?title=Category:Pages_with_broken_file_links&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages with broken file links (page does not exist)">Pages with broken file links</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=ICSS+EIP+Adapter+Developer+Guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="ICSS_EIP_Adapter_Developer_Guide.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:ICSS_EIP_Adapter_Developer_Guide&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="ICSS_EIP_Adapter_Developer_Guide.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/ICSS_EIP_Adapter_Developer_Guide.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/ICSS_EIP_Adapter_Developer_Guide.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;oldid=236360" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EIP_Adapter_Developer_Guide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 8 March 2019, at 12:06.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.230","walltime":"0.268","ppvisitednodes":{"value":170,"limit":1000000},"ppgeneratednodes":{"value":217,"limit":1000000},"postexpandincludesize":{"value":906,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    2.209      1 -total"," 66.95%    1.479      6 Template:Prettytable"]},"cachereport":{"timestamp":"20201130202639","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":233});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/ICSS_EIP_Adapter_Developer_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 08:45:32 GMT -->
</html>
