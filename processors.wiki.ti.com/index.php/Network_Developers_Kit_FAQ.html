<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Network_Developers_Kit_FAQ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:04:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Network Developers Kit FAQ - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Network_Developers_Kit_FAQ","wgTitle":"Network Developers Kit FAQ","wgCurRevisionId":178741,"wgRevisionId":178741,"wgArticleId":734,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["NDK","FAQ"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Network_Developers_Kit_FAQ","wgRelevantArticleId":734,"wgRequestId":"b36374199cdf4c8ba474242b","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Network_Developers_Kit_FAQ rootpage-Network_Developers_Kit_FAQ skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Network Developers Kit FAQ</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><font size="3"> This topic discusses several common questions when trying to debug TI's NDK (Network Developer's Kit) in C64 and C64+ DSP Processors.
</font></p><p><font size="3"><b>Important!</b> With the recent release of NDK 2.0 and its new set of features, this page will be continuously updated. Please stay tuned.
</font>
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Q:_Licensing_and_availability"><span class="tocnumber">1</span> <span class="toctext"><b>Q:</b> Licensing and availability</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Q:_How_is_NDK_delivered.3F_Does_each_board_have_a_specific_release.3F_Or_is_there_a_common_version_of_NDK_for_all_the_boards.3F"><span class="tocnumber">2</span> <span class="toctext"><b>Q:</b> How is NDK delivered? Does each board have a specific release? Or is there a common version of NDK for all the boards?</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Q:_Why_doesn.27t_my_pre-production_DM648_EVM_work_with_NDK.3F"><span class="tocnumber">3</span> <span class="toctext"><b>Q:</b> Why doesn't my pre-production DM648 EVM work with NDK?</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Q:_Why_does_the_DHCP_client_seems_to_give_up_after_a_certain_period_of_time_if_the_Ethernet_cable_is_disconnected_when_the_NDK_boots_up.3F"><span class="tocnumber">4</span> <span class="toctext"><b>Q:</b> Why does the DHCP client seems to give up after a certain period of time if the Ethernet cable is disconnected when the NDK boots up?</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Q:_Why_can.27t_I_debug_the_EMAC_and_PHY_device_drivers_in_the_NDK_example_projects.3F"><span class="tocnumber">5</span> <span class="toctext"><b>Q:</b> Why can't I debug the EMAC and PHY device drivers in the NDK example projects?</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Q:_What_happens_during_NDK_startup.3F_What_is_the_sequence_of_events.3F"><span class="tocnumber">6</span> <span class="toctext"><b>Q:</b> What happens during NDK startup? What is the sequence of events?</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Q:_Why_does_the_Kernel_Object_Viewer_show_a_.22daemon_Stack_Full.22_warning.3F_.28fixed_in_NDK_1.92.29"><span class="tocnumber">7</span> <span class="toctext"><b>Q:</b> Why does the Kernel Object Viewer show a "daemon Stack Full" warning? (fixed in NDK 1.92)</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Q:_Does_NDK_support_Jumbo_Packets.3F"><span class="tocnumber">8</span> <span class="toctext"><b>Q:</b> Does NDK support Jumbo Packets?</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Q:_C6455_EVM_has_a_Gigabit_EMAC._Does_the_hardware_support_Jumbo_Packets.3F"><span class="tocnumber">9</span> <span class="toctext"><b>Q:</b> C6455 EVM has a Gigabit EMAC. Does the hardware support Jumbo Packets?</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Q:_Does_DM648_EVM_support_Gigabit_Ethernet.3F_What_about_Jumbo_Packets.3F"><span class="tocnumber">10</span> <span class="toctext"><b>Q:</b> Does DM648 EVM support Gigabit Ethernet? What about Jumbo Packets?</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Q:_What_are_the_numbers_shown_in_the_Service_report_messages_for_the_DHCP.3F"><span class="tocnumber">11</span> <span class="toctext"><b>Q:</b> What are the numbers shown in the Service report messages for the DHCP?</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Q:_Why_does_the_http_server_responds_with_the_message_.22HTTP_Error_400_-_Bad_request.22_when_I_try_to_access_it_using_Internet_Explorer.3F_.28fixed_in_release_1.93.29"><span class="tocnumber">12</span> <span class="toctext"><b>Q:</b> Why does the http server responds with the message "HTTP Error 400 - Bad request" when I try to access it using Internet Explorer? (fixed in release 1.93)</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Q:_I_checked_the_troubleshooting_section_in_the_User.27s_Guide_but_NDK_still_cannot_communicate_properly._Is_this_a_priority_issue_between_my_application_and_the_NDK.3F"><span class="tocnumber">13</span> <span class="toctext"><b>Q:</b> I checked the troubleshooting section in the User's Guide but NDK still cannot communicate properly. Is this a priority issue between my application and the NDK?</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Q:_Does_NDK_support_zero-copy_transfers.3F"><span class="tocnumber">14</span> <span class="toctext"><b>Q:</b> Does NDK support zero-copy transfers?</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Q:_Does_the_NDK_only_support_Ethernet_connections.3F_What_about_the_serial_port_of_my_DM642_EVM.3F"><span class="tocnumber">15</span> <span class="toctext"><b>Q:</b> Does the NDK only support Ethernet connections? What about the serial port of my DM642 EVM?</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Q:_I_want_to_sniff_the_network_traffic_using_RAW_packets_just_like_Ethereal_or_Wireshark._Is_this_possible.3F"><span class="tocnumber">16</span> <span class="toctext"><b>Q:</b> I want to sniff the network traffic using RAW packets just like Ethereal or Wireshark. Is this possible?</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#Q:_Does_the_NDK_have_a_hard_limitation_on_the_number_of_sockets.3F"><span class="tocnumber">17</span> <span class="toctext"><b>Q:</b> Does the NDK have a hard limitation on the number of sockets?</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#Q:_I_want_to_use_the_serial_port_on_my_DM642_EVM_but_the_hardware_handshake_does_not_seem_to_work._Is_this_a_driver_issue.3F"><span class="tocnumber">18</span> <span class="toctext"><b>Q:</b> I want to use the serial port on my DM642 EVM but the hardware handshake does not seem to work. Is this a driver issue?</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Q:_Is_C672x_family_of_devices_supported.3F"><span class="tocnumber">19</span> <span class="toctext"><b>Q:</b> Is C672x family of devices supported?</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#Q:_Does_the_NDK_store_network_statistics_that_I_could_use.3F"><span class="tocnumber">20</span> <span class="toctext"><b>Q:</b> Does the NDK store network statistics that I could use?</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#Q:_I_copied_the_device_drivers_supplied_in_my_DM648_EVM_board_to_NDK_1.93_or_1.94._Why_am_I_getting_build_errors.3F"><span class="tocnumber">21</span> <span class="toctext"><b>Q:</b> I copied the device drivers supplied in my DM648 EVM board to NDK 1.93 or 1.94. Why am I getting build errors?</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#Q:_I_migrated_from_a_previous_version_of_NDK_to_1.94._Why_I_am_getting_a_relocation_error_when_I_try_to_use_the_multicast_APIs.3F"><span class="tocnumber">22</span> <span class="toctext"><b>Q:</b> I migrated from a previous version of NDK to 1.94. Why I am getting a relocation error when I try to use the multicast APIs?</span></a></li>
<li class="toclevel-1 tocsection-23"><a href="#Q:_How_to_properly_use_the_SMA_connectors_on_my_DM648EVM_board.3F"><span class="tocnumber">23</span> <span class="toctext"><b>Q:</b> How to properly use the SMA connectors on my DM648EVM board?</span></a></li>
<li class="toclevel-1 tocsection-24"><a href="#Q:_The_NDK_User.27s_Guide_.28SPRU523.29_talks_about_example_projects_inside_the_example_directory.2C_but_I_can_only_find_C_source_files._Are_there_any_ready-to-run_examples_supplied_with_NDK.3F"><span class="tocnumber">24</span> <span class="toctext"><b>Q:</b> The NDK User's Guide (SPRU523) talks about example projects inside the example directory, but I can only find C source files. Are there any ready-to-run examples supplied with NDK?</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="#Q:_I_just_started_development_using_the_NDK._Is_there_a_document_to_help_me.3F"><span class="tocnumber">25</span> <span class="toctext"><b>Q:</b> I just started development using the NDK. Is there a document to help me?</span></a></li>
<li class="toclevel-1 tocsection-26"><a href="#Q:_I_downloaded_the_NDK_1.94_NSP_but_there_are_missing_libraries_and_build_errors_right_from_the_start.21"><span class="tocnumber">26</span> <span class="toctext"><b>Q:</b> I downloaded the NDK 1.94 NSP but there are missing libraries and build errors right from the start!</span></a></li>
<li class="toclevel-1 tocsection-27"><a href="#Q:_The_NDK_I_am_using_is_release_1.92_and_was_included_in_the_CD_that_came_with_my_board._What_do_I_need_to_update_it_to_NDK_1.94.3F"><span class="tocnumber">27</span> <span class="toctext"><b>Q:</b> The NDK I am using is release 1.92 and was included in the CD that came with my board. What do I need to update it to NDK 1.94?</span></a></li>
<li class="toclevel-1 tocsection-28"><a href="#Q:_How_do_I_improve_the_security_of_my_network_application.3F"><span class="tocnumber">28</span> <span class="toctext"><b>Q:</b> How do I improve the security of my network application?</span></a></li>
<li class="toclevel-1 tocsection-29"><a href="#Q:_How_can_I_reduce_the_amount_of_memory_used_by_the_NDK.3F"><span class="tocnumber">29</span> <span class="toctext"><b>Q:</b> How can I reduce the amount of memory used by the NDK?</span></a></li>
<li class="toclevel-1 tocsection-30"><a href="#Q:_I_wonder_if_I_could_extract_some_additional_performance_from_NDK._Are_there_any_tips_to_make_sure_my_system_is_performing_at_top_notch.3F"><span class="tocnumber">30</span> <span class="toctext"><b>Q:</b> I wonder if I could extract some additional performance from NDK. Are there any tips to make sure my system is performing at top notch?</span></a></li>
<li class="toclevel-1 tocsection-31"><a href="#Q:_I_am_using_the_big_endian_libraries_of_NDK_1.94_and_I_am_having_trouble_in_communicating_with_the_network._This_does_not_seem_to_happen_with_the_little_endian_versions."><span class="tocnumber">31</span> <span class="toctext"><b>Q:</b> I am using the big endian libraries of NDK 1.94 and I am having trouble in communicating with the network. This does not seem to happen with the little endian versions.</span></a></li>
<li class="toclevel-1 tocsection-32"><a href="#Q:_I_would_like_to_know_benchmark_results_for_my_boards.3B_where_can_I_find_them.3F"><span class="tocnumber">32</span> <span class="toctext"><b>Q:</b> I would like to know benchmark results for my boards; where can I find them?</span></a></li>
<li class="toclevel-1 tocsection-33"><a href="#Q:_Can_a_processor_handle_multiple_PHY_.3F"><span class="tocnumber">33</span> <span class="toctext"><b>Q:</b> Can a processor handle multiple PHY&#160;?</span></a></li>
<li class="toclevel-1 tocsection-34"><a href="#Q:_Is_there_any_information_that_can_help_if_I_want_to_port_NDK_to_my_custom_hardware_that_uses_a_different_PHY.3F"><span class="tocnumber">34</span> <span class="toctext"><b>Q:</b> Is there any information that can help if I want to port NDK to my custom hardware that uses a different PHY?</span></a></li>
<li class="toclevel-1 tocsection-35"><a href="#Q:_How_do_I_test_the_serial_example_.28PPP_over_uart.29_on_the_DM642_evm_.3F"><span class="tocnumber">35</span> <span class="toctext"><b>Q:</b> How do I test the serial example (PPP over uart) on the DM642 evm&#160;?</span></a></li>
<li class="toclevel-1 tocsection-36"><a href="#Q:_On_the_C647x_evm_the_NDK_was_working_properly._Now_on_my_own_board.2C_I_can.27t_get_it_to_work.2C_even_though_the_hardware_is_the_same._What_should_I_do.3F"><span class="tocnumber">36</span> <span class="toctext"><b>Q:</b> On the C647x evm the NDK was working properly. Now on my own board, I can't get it to work, even though the hardware is the same. What should I do?</span></a></li>
<li class="toclevel-1 tocsection-37"><a href="#Q:_It_seems_that_the_NSP_for_OMAPL137_EVM_is_incompatible_with_the_EDMA3_LLD._How_can_I_fix_it.3F"><span class="tocnumber">37</span> <span class="toctext"><b>Q:</b> It seems that the NSP for OMAPL137 EVM is incompatible with the EDMA3 LLD. How can I fix it?</span></a></li>
<li class="toclevel-1 tocsection-38"><a href="#Q:_DM6437_users_-_check_the_project_settings_for_the_network_client_example"><span class="tocnumber">38</span> <span class="toctext"><b>Q:</b> DM6437 users - check the project settings for the network client example</span></a></li>
<li class="toclevel-1 tocsection-39"><a href="#Q:_Is_it_possible_to_use_NDK_with_CCSv4.3F"><span class="tocnumber">39</span> <span class="toctext"><b>Q:</b> Is it possible to use NDK with CCSv4?</span></a></li>
<li class="toclevel-1 tocsection-40"><a href="#Q:_Why_the_DM648_does_not_work_at_10.2F100Mbps.2C_only_at_1Gbps.3F"><span class="tocnumber">40</span> <span class="toctext"><b>Q:</b> Why the DM648 does not work at 10/100Mbps, only at 1Gbps?</span></a></li>
</ul>
</div>

<h3><span class="mw-headline" id="Q:_Licensing_and_availability"><b>Q:</b> Licensing and availability</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=1" title="Edit section: Q: Licensing and availability">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Please check this <a href="Network_Developers_Kit_Licensing_and_Availability.html" title="Network Developers Kit Licensing and Availability">updated page</a> for information on licensing and availability.
</p>
<h3><span id="Q:_How_is_NDK_delivered?_Does_each_board_have_a_specific_release?_Or_is_there_a_common_version_of_NDK_for_all_the_boards?"></span><span class="mw-headline" id="Q:_How_is_NDK_delivered.3F_Does_each_board_have_a_specific_release.3F_Or_is_there_a_common_version_of_NDK_for_all_the_boards.3F"><b>Q:</b> How is NDK delivered? Does each board have a specific release? Or is there a common version of NDK for all the boards?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=2" title="Edit section: Q: How is NDK delivered? Does each board have a specific release? Or is there a common version of NDK for all the boards?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Please check this <a href="Network_Developers_Kit_Licensing_and_Availability.html" title="Network Developers Kit Licensing and Availability">updated page</a> for information about NDK releases.
</p>
<h3><span id="Q:_Why_doesn't_my_pre-production_DM648_EVM_work_with_NDK?"></span><span class="mw-headline" id="Q:_Why_doesn.27t_my_pre-production_DM648_EVM_work_with_NDK.3F"><b>Q:</b> Why doesn't my pre-production DM648 EVM work with NDK?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=3" title="Edit section: Q: Why doesn&#039;t my pre-production DM648 EVM work with NDK?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>NDK example code works on DM648 production boards with the NDK and drivers provided in the DVSDK.
</p><p>However pre-production boards have some special requirements:
</p>
<ul><li>No pre-configured MAC address. Some initial device driver releases did not assign a MAC address properly, preventing the boards from being able to communicate properly. This can be fixed by using DVSDK release 1.10.00.12 and newer, which includes software for MAC configuration. This is configured in file &lt;evmdm648_init.c&gt; at the following line:</li></ul>
<p>&lt;syntaxhighlight lang="c"&gt;
</p>
<pre>static Uint8 bMacAddr[] = {0x00,0x0e,0x99,0x02,0xaa,0x25};
</pre>
<p>&lt;/syntaxhighlight&gt;
</p>
<ul><li>NDK recognizes a valid link but no IP address is assigned by the DHCP server. This can be overcome by using the latest supplied GEL file that allows access to EMAC configuration registers. Note: depending on the PHY, the activity LED blinks even if the NDK is not running.</li>
<li>DVSDK release used. Certain boards only work with DVSDK 1.10.00.12 or newer. No matter which release is used, it is imperative that BIOS 5.31.07 should be used, since it fixes the DM648 clock rate.</li>
<li>PHY clock frequency setting. Pre-production boards use 125 MHz as the clock frequency for the PHY, but newer DVSDK releases set it to 62.5 MHz used by production boards. This is configured in the EMAC device driver by defining a symbol in the compiler options:</li></ul>
<pre>-d"INPUT_CLOCK_FREQUENCY_62_5MHZ"</pre><p> or </p><pre>-d"INPUT_CLOCK_FREQUENCY_125MHZ"</pre>
<h3><span id="Q:_Why_does_the_DHCP_client_seems_to_give_up_after_a_certain_period_of_time_if_the_Ethernet_cable_is_disconnected_when_the_NDK_boots_up?"></span><span class="mw-headline" id="Q:_Why_does_the_DHCP_client_seems_to_give_up_after_a_certain_period_of_time_if_the_Ethernet_cable_is_disconnected_when_the_NDK_boots_up.3F"><b>Q:</b> Why does the DHCP client seems to give up after a certain period of time if the Ethernet cable is disconnected when the NDK boots up?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=4" title="Edit section: Q: Why does the DHCP client seems to give up after a certain period of time if the Ethernet cable is disconnected when the NDK boots up?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If the Ethernet cable is not connected when the board is booted, the DHCP client service attempts to obtain an address for a certain period of time (around two minutes) and then shuts down. Starting with releases 1.8 and newer, NDK incorporates a DHCP reset function in &lt;client.c&gt; that periodically checks for new servers in case a DHCP is not found right from the start. Basically it creates a task <code>DHCP_reset()</code> in <code>ServiceReport()</code> function that resets the DHCPC service after several minutes if an address is not assigned to the interface.
</p><p>The output then becomes:
</p>
<pre><tt>TCP/IP Stack Example Client
Using MAC Address: 00-0e-99-02-70-04
Service Status: DHCPC   &#160;: Enabled &#160;:         &#160;: 000
Service Status: Telnet  &#160;: Enabled &#160;:         &#160;: 000
Service Status: HTTP    &#160;: Enabled &#160;:         &#160;: 000
Service Status: DHCPC   &#160;: Enabled &#160;: Running &#160;: 000
Link Status: 10Mb/s Half Duplex on PHY 1
Service Status: DHCPC   &#160;: Enabled &#160;: Fault   &#160;: 002
Service Status: DHCPC   &#160;: Disabled&#160;:         &#160;: 000
Service Status: DHCPC   &#160;: Enabled &#160;:         &#160;: 000
Service Status: DHCPC   &#160;: Enabled &#160;: Running &#160;: 000</tt>
</pre>
<p>The updated &lt;client.c&gt; is available in the example code supplied with the Network Support Packages. Together with NDK evaluation releases, they can be downloaded from the <a rel="nofollow" class="external text" href="https://www-a.ti.com/downloads/sds_support/targetcontent/NDK/index.html">NDK Update Advisor</a>. Updating the NDK is not mandatory, since &lt;client.c&gt; file can be used by release 1.7.
</p>
<h3><span id="Q:_Why_can't_I_debug_the_EMAC_and_PHY_device_drivers_in_the_NDK_example_projects?"></span><span class="mw-headline" id="Q:_Why_can.27t_I_debug_the_EMAC_and_PHY_device_drivers_in_the_NDK_example_projects.3F"><b>Q:</b> Why can't I debug the EMAC and PHY device drivers in the NDK example projects?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=5" title="Edit section: Q: Why can&#039;t I debug the EMAC and PHY device drivers in the NDK example projects?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This is because the hardware initialization routines are inside the HAL libraries. For example, the DM6437 EMAC device driver is the library &lt;hal_eth_dm64lc.lib&gt;. Only assembly step-by-step debugging is allowed (more on this below).
</p><p>However, all NDK examples have callback routines from the device driver that help verify if it is working properly. In the case of DM6437, the file &lt;evmdm6437init.c&gt; contains two callback functions:
</p>
<ul><li><code>DM64LCEMAC_getConfig()</code> reports the MAC address was properly assigned to the EMAC and allows you to configure what interrupt source will be used by the EMAC peripheral: variable <code>*pIntVector</code>;</li>
<li><code>DM64LCEMAC_linkStatus()</code> is used to report that a valid link was detected and at what speed.</li></ul>
<p>If device driver source code debugging is really needed, this is possible by including the HAL and low-level source files into the CCS project (typically installed under <tt>%NDK_INSTALL_DIR%/packages/ti/ndk/src/hal/&lt;name_of_the_board&gt;</tt>). The build process will overload the device driver function calls when using the libraries. For additional details about the files that comprise the device driver source code please check <a href="Guidelines_when_porting_NDK_to_different_PHYs.html" title="Guidelines when porting NDK to different PHYs">this page</a>.
</p>
<h3><span id="Q:_What_happens_during_NDK_startup?_What_is_the_sequence_of_events?"></span><span class="mw-headline" id="Q:_What_happens_during_NDK_startup.3F_What_is_the_sequence_of_events.3F"><b>Q:</b> What happens during NDK startup? What is the sequence of events?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=6" title="Edit section: Q: What happens during NDK startup? What is the sequence of events?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Taking as an example the NDK for the DM6437, the sequence of events at startup is below:
</p>
<ul><li>BIOS starts;</li>
<li><code>dm6437_init()</code> in file &lt;evmdm6437init.c&gt; is called by BIOS initialization code (configured in the TCF file under System -&gt; General Settings);</li>
<li><code>main()</code> is called;</li>
<li>BIOS finishes initialization and starts running;</li>
<li><code>StackTest()</code> is called (it is a static TSK configured in the TCF file); a message is printed in the stdout:</li></ul>
<pre><tt>TCP/IP Stack Example Client</tt>
</pre>
<ul><li>Function <code>NC_NetStart()</code> is called by <code>StackTest()</code> and initializes the stack (both device drivers, NDK scheduler and TCP/IP);</li>
<li><code>DM64LCEMAC_getConfig()</code> is called; a message is printed in the stdout:</li></ul>
<pre><tt>Using MAC Address: 00-01-02-03-04-05</tt> (or whatever number is configured)
</pre>
<ul><li><code>ServiceReport()</code> in &lt;client.c&gt; is called as many times as the services configured in the <code>StackTest()</code> function; messages are printed in the stdout following the basic format:</li></ul>
<pre><tt>Service Status: DHCPC	: Enabled	:		: 000
Service Status: Telnet	: Enabled	:		: 000
Service Status: HTTP	: Enabled	:		: 000</tt>
(and so on)
</pre>
<ul><li><code>NetworkOpen()</code> is called and initializes dynamically all the tasks and daemons needed by your application; by default in client project you will see five daemons configured;</li>
<li><code>ServiceReport()</code> is called once again (if DHCP is enabled) to report that this service is properly running; a message is printed in the stdout:</li></ul>
<pre><tt>Service Status: DHCPC	: Enabled	: Running	: 000 </tt>
</pre>
<ul><li><code>DM64LCEMAC_linkStatus()</code> is then called by the device driver after a proper link is detected by the PHY; a message is displayed in the stdout:</li></ul>
<pre><tt>Link Status: 100Mb/s Full Duplex on PHY 1 </tt> (or whatever speed and PHY you are using)
</pre>
<ul><li>NetworkIPAddr is then called when and IP address is assigned by the DHCP server (or is statically configured in &lt;client.c&gt;); a message is printed in the stdout:</li></ul>
<pre><tt>Network Added: If-1:192.168.0.2</tt> (or whatever interface and IP address are configured)
</pre>
<ul><li>The network stack then starts running.</li></ul>
<p>For additional details please see section 3.3 of the <a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spru523">NDK User's Guide (spru523)</a>.
</p>
<h3><span id="Q:_Why_does_the_Kernel_Object_Viewer_show_a_&quot;daemon_Stack_Full&quot;_warning?_(fixed_in_NDK_1.92)"></span><span class="mw-headline" id="Q:_Why_does_the_Kernel_Object_Viewer_show_a_.22daemon_Stack_Full.22_warning.3F_.28fixed_in_NDK_1.92.29"><b>Q:</b> Why does the Kernel Object Viewer show a "daemon Stack Full" warning? (fixed in NDK 1.92)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=7" title="Edit section: Q: Why does the Kernel Object Viewer show a &quot;daemon Stack Full&quot; warning? (fixed in NDK 1.92)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Kernel Object Viewer performs this verification by checking if the pattern 0xBEBEBEBE exists at the end of each task stack. However, since the memory used by the daemon task is not initialized to this value when the program loads, the KOV reports that the stack is full.
</p><p>If you want to test if this is happening in your system, before loading your software you can fill the DSP memory: go to menu Edit -&gt; Memory -&gt; Fill. Be careful not to fill the entire memory space, since the process may take a while to complete.
</p><p>A more efficient workaround is to use the linker command file to fill this memory for you by adding the command <tt>fill = 0xBEBEBEBE</tt> after the <tt>.SDRAM$heap</tt> section. First, locate this section in the linker command file generated automatically by the DSP/BIOS; copy its declaration to the &lt;client.cmd&gt; file; add the command <tt>fill = 0xBEBEBEBE</tt> after its definition; finally, wrap this declaration with the <tt>SECTIONS {}</tt> command (see below an example extracted from the client project):
</p>
<pre> SECTIONS
 {
        .SDRAM$heap: {
        SDRAM$B = .;
        _SDRAM_base = .;
        SDRAM$L = 0x20000;
        _SDRAM_length = 0x20000;
        . += 0x20000;
        } &gt; SDRAM  fill = 0xBEBEBEBE
 }
</pre>
<p>You will get some linker warnings about redefining sections, but you can disregard them for this test. Please keep in mind that this is a workaround to make the instrumentation tools work properly with the NDK 1.8.
</p>
<h3><span id="Q:_Does_NDK_support_Jumbo_Packets?"></span><span class="mw-headline" id="Q:_Does_NDK_support_Jumbo_Packets.3F"><b>Q:</b> Does NDK support Jumbo Packets?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=8" title="Edit section: Q: Does NDK support Jumbo Packets?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><font color="#ff0000">New for NDK 2.0!!!</font> Support for Jumbo packets is now available - the only development board that currently supports it the mezzanine card of the C6455 EVM.
</p><p>Please check the NDK 2.0 Release Notes for additional information on how to enable support.
</p><p>Legacy releases do not support Jumbo Packets.
</p>
<h3><span id="Q:_C6455_EVM_has_a_Gigabit_EMAC._Does_the_hardware_support_Jumbo_Packets?"></span><span class="mw-headline" id="Q:_C6455_EVM_has_a_Gigabit_EMAC._Does_the_hardware_support_Jumbo_Packets.3F"><b>Q:</b> C6455 EVM has a Gigabit EMAC. Does the hardware support Jumbo Packets?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=9" title="Edit section: Q: C6455 EVM has a Gigabit EMAC. Does the hardware support Jumbo Packets?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The EMAC peripheral in C6455 Mezzanine card supports packets up to 65536 bytes (16-bit). This board has a Broadcom BCM5464 external PHY connected in RGMII mode.
</p><p>The EMAC on this device has an internal memory buffer that can hold up to 8 kB, but L2 memory can also be used. Please see section 2.2 of the <a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spru975">EMAC peripheral User's Guide for C6455 (spru975)</a>.
</p><p>Apart from this, the <a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spraa90">SW Operation of Gigabit Ethernet Media Access Controller on TMS320C645x DSP (spraa90)</a> describes in detail the support of jumbo packets on the C6455. It has an entire description of the system and sections 6.3 and 6.4 contain considerations about the available buffer sizes and even PHY limitations.
</p>
<h3><span id="Q:_Does_DM648_EVM_support_Gigabit_Ethernet?_What_about_Jumbo_Packets?"></span><span class="mw-headline" id="Q:_Does_DM648_EVM_support_Gigabit_Ethernet.3F_What_about_Jumbo_Packets.3F"><b>Q:</b> Does DM648 EVM support Gigabit Ethernet? What about Jumbo Packets?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=10" title="Edit section: Q: Does DM648 EVM support Gigabit Ethernet? What about Jumbo Packets?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Yes, the DM648 EVM has a PHY device that supports Gigabit Ethernet speeds, and the NDK device driver provides support for Gigabit Ethernet links.
</p><p>However, the hardware does not support Jumbo Frames (typically around 9000 bytes but can assume any value), since the DM648 EMAC peripheral has a limitation to receive frames up to 2047 bytes (headers included). This is still above the standard value of 1518 bytes.
</p><p>Even so, all NDK releases can transmit regular sized packets faster than 100 Mbps.
</p><p>For additional information please refer to the <a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spruf57">3 Port Switch Ethernet Subsystem User's Guide (spruf57)</a>.
</p>
<h3><span id="Q:_What_are_the_numbers_shown_in_the_Service_report_messages_for_the_DHCP?"></span><span class="mw-headline" id="Q:_What_are_the_numbers_shown_in_the_Service_report_messages_for_the_DHCP.3F"><b>Q:</b> What are the numbers shown in the Service report messages for the DHCP?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=11" title="Edit section: Q: What are the numbers shown in the Service report messages for the DHCP?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The DHCP Client returns a status message at startup. Typically the code 017 is printed at the end of a successful address assignment to NDK. A typical startup sequence is:
</p>
<pre> TCP/IP Stack Example Client
 Using MAC Address: 08-00-28-34-10-67
 Service Status: DHCPC   &#160;: Enabled &#160;:         &#160;: 000
 Service Status: Telnet  &#160;: Enabled &#160;:         &#160;: 000
 Service Status: HTTP    &#160;: Enabled &#160;:         &#160;: 000
 Service Status: DHCPC   &#160;: Enabled &#160;: Running &#160;: 000
 Link Status: 100Mb/s Full Duplex on PHY 1
 Network Added: If-1:192.168.2.4
 Service Status: DHCPC   &#160;: Enabled &#160;: Running &#160;: 017
</pre>
<p>From time to time it is common that code 019 is displayed, after the IP lease time defined by the DHCP server expires and is automatically renewed. NDK then prints the following message at the stdout window:
</p>
<pre> Service Status: DHCPC   &#160;: Enabled &#160;: Running &#160;: 019
</pre>
<p>These running codes are defined in the header file &lt;dhcpif.h&gt;:
</p><p>&lt;syntaxhighlight lang="c"&gt;
</p>
<pre>// Running Codes (State codes are all less than 0x10)
#define DHCPCODE_IPADD          0x11    // Client has added an address
#define DHCPCODE_IPREMOVE       0x12    // IP address removed and CFG erased
#define DHCPCODE_IPRENEW        0x13    // IP renewed, DHCP config space reset
</pre>
<p>&lt;/syntaxhighlight&gt;
</p><p>Sometimes errors occur and NDK prints out the following message:
</p>
<pre> TCP/IP Stack Example Client
 Using MAC Address: 00-0e-99-02-71-57
 Service Status: DHCPC   &#160;: Enabled &#160;:         &#160;: 000
 Service Status: Telnet  &#160;: Enabled &#160;:         &#160;: 000
 Service Status: HTTP    &#160;: Enabled &#160;:         &#160;: 000
 Service Status: DHCPC   &#160;: Enabled &#160;: Running &#160;: 000
 Link Status: 10Mb/s Half Duplex on PHY 1
 Service Status: DHCPC   &#160;: Enabled &#160;: Fault   &#160;: 002
 Service Status: DHCPC   &#160;: Disabled&#160;:         &#160;: 000
 Service Status: DHCPC   &#160;: Enabled &#160;:         &#160;: 000
 Service Status: DHCPC   &#160;: Enabled &#160;: Running &#160;: 000
</pre>
<p>In the case above, the DHCP server is off line and does not acknowledge the IP request.
</p><p>Please see below the error codes defined for the DHCP client defined in &lt;dhcp.h&gt;:
</p><p>&lt;syntaxhighlight lang="c"&gt;
</p>
<pre>// Errors
enum DhcpErrors
{
   DHCP_NOERROR=0,
   DHCP_ERR_ISSET,
   DHCP_ERR_NAK,
   DHCP_ERR_OFFER,
   DHCP_ERR_RECV,
   DHCP_ERR_REQUEST,
   DHCP_ERR_SELECT,
   DHCP_ERR_SEND,
   DHCP_ERR_END
};
</pre>
<p>&lt;/syntaxhighlight&gt;
</p>
<h3><span id="Q:_Why_does_the_http_server_responds_with_the_message_&quot;HTTP_Error_400_-_Bad_request&quot;_when_I_try_to_access_it_using_Internet_Explorer?_(fixed_in_release_1.93)"></span><span class="mw-headline" id="Q:_Why_does_the_http_server_responds_with_the_message_.22HTTP_Error_400_-_Bad_request.22_when_I_try_to_access_it_using_Internet_Explorer.3F_.28fixed_in_release_1.93.29"><b>Q:</b> Why does the http server responds with the message "HTTP Error 400 - Bad request" when I try to access it using Internet Explorer? (fixed in release 1.93)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=12" title="Edit section: Q: Why does the http server responds with the message &quot;HTTP Error 400 - Bad request&quot; when I try to access it using Internet Explorer? (fixed in release 1.93)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This issue happens if you performed a recent upgrade to Windows Vista, or recently updated your Windows XP with Microsoft .NET 3.0 or with Internet Explorer 7.0.
</p><p>This issue started to happen because the .NET Frameworks 3.0 added several types of documents that the Internet Explorer browser can accept in a connection. More technically, when the browser sends an http <tt>GET</tt> command to receive a web page and its contents (like pictures, scripts, etc) it contains some fields that exceed the length of 256 chars. These fields are of type <tt>Accept:</tt> and are specified in the following registry key:
<code>[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Internet Settings\Accepted Documents]</code>
If you look at this registry entry you will see several document types like <tt>application/msword</tt>, <tt>image/jpeg</tt> and others. .NET Frameworks 3.0 added other document types like <tt>application/xaml+xml</tt> that exceed the limit of the embedded web server in the NDK, causing the malfunction.
The short-term workaround in this case is to reduce the number of documents in an <tt>Accept:</tt> line by deleting the new types, the definitive fix is already included in NDK 1.93 Depending on the version, there are patches for previous releases.
</p>
<h3><span id="Q:_I_checked_the_troubleshooting_section_in_the_User's_Guide_but_NDK_still_cannot_communicate_properly._Is_this_a_priority_issue_between_my_application_and_the_NDK?"></span><span class="mw-headline" id="Q:_I_checked_the_troubleshooting_section_in_the_User.27s_Guide_but_NDK_still_cannot_communicate_properly._Is_this_a_priority_issue_between_my_application_and_the_NDK.3F"><b>Q:</b> I checked the troubleshooting section in the User's Guide but NDK still cannot communicate properly. Is this a priority issue between my application and the NDK?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=13" title="Edit section: Q: I checked the troubleshooting section in the User&#039;s Guide but NDK still cannot communicate properly. Is this a priority issue between my application and the NDK?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Could be. Anytime anything is done with the NDK in an infinite (or extended) loop in an application, care is needed. The NDK is designed to operate in one of two different scheduling modes, and with two different corresponding event notification modes. The least intrusive of these is to run the network scheduler (the thread that runs the stack) at the lowest priority, and to poll for network events. As shipped, the NDK runs the scheduler at a low priority, and uses interrupts for events. However, the interrupts only set flags so that the scheduler thread knows there is work to do -- the TCP/IP stack itself will not preempt a higher priority task.
</p><p>Just to illustrate, if you write an application that just spins on <code>sendto()</code> in a loop, and the scheduler is at a lower priority than the application, then the scheduler never runs. This can cause the stack to eventually fail, simply because work gets backlogged to the point where it starts running out of resources.
</p><p>In summary, the priority of your application tasks and NDK will influence communications and (maybe) break the stack.
</p><p>To check if the system is running out of resources due to the application priority, you can experiment the following workaround:
</p><p>There is a call near the top of the stack initialization function that looks as follows:
</p><p>&lt;syntaxhighlight lang="c"&gt;rc = NC_SystemOpen( NC_PRIORITY_LOW, NC_OPMODE_INTERRUPT );&lt;/syntaxhighlight&gt;
</p><p>Try changing it to
</p><p>&lt;syntaxhighlight lang="c"&gt;rc = NC_SystemOpen( NC_PRIORITY_HIGH, NC_OPMODE_INTERRUPT );&lt;/syntaxhighlight&gt;
</p><p>This way you should have communications partially or fully restored in your system.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="File_NDK_scheduling_conflict.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/3/36/NDK_scheduling_conflict.jpg" width="300" height="129" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_NDK_scheduling_conflict.html" class="internal" title="Enlarge"></a></div>NDK_scheduling_conflict.jpg</div></div></div>
<p>If your application breaks due to NDK scheduler preemptions, you should then start optimizing your application to meet the real-time goals. In other words, the system must guarantee a precise execution of NDK’s heartbeat. Despite the fact that PRDs operate at some of the highest priority levels in a BIOS system, their operation may be clogged by other PRDs, SWIs or even Hardware Interrupts. Also, they can be starved by asynchronous execution conflicts.
This problem comes from the fact that CPU usage is actually an average amount per a given time span, but each thread uses 100% of CPU while running leaving no room for other activities. To illustrate, the picture shows a system with two threads running: one video thread that runs for 10ms every 30ms and the NDK PRD thread that runs every 100ms for, say, 20ms. The two threads will clash at roughly every 300ms. The NDK stack will not necessarily crash, but delays should definitely be expected.
This can be solved by reducing the priority of the video processing task - obviously paying attention to other side effects that this may cause.
</p>
<h3><span id="Q:_Does_NDK_support_zero-copy_transfers?"></span><span class="mw-headline" id="Q:_Does_NDK_support_zero-copy_transfers.3F"><b>Q:</b> Does NDK support zero-copy transfers?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=14" title="Edit section: Q: Does NDK support zero-copy transfers?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Zero-copy receive transfers are supported in NDK through the functions <code>recvnc()</code> and <code>recvncfrom()</code>. However, this mechanism is not yet implemented in NDK for sending packets (but it is in the product's roadmap).
</p><p>For additional information, please check section 3.3.2 of NDK&#160;Programmer's Guide (<a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spru524">SPRU524</a>).
</p>
<h3><span id="Q:_Does_the_NDK_only_support_Ethernet_connections?_What_about_the_serial_port_of_my_DM642_EVM?"></span><span class="mw-headline" id="Q:_Does_the_NDK_only_support_Ethernet_connections.3F_What_about_the_serial_port_of_my_DM642_EVM.3F"><b>Q:</b> Does the NDK only support Ethernet connections? What about the serial port of my DM642 EVM?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=15" title="Edit section: Q: Does the NDK only support Ethernet connections? What about the serial port of my DM642 EVM?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The NDK supports the DM642 serial port through the examples provided by its NSP. Please check the directory <tt>%NDK_INSTALL_DIR%\packages\ti\ndk\example\serial</tt> that contains a Serial Client Project and a Router Project. The Serial Client Project is very similar to the Ethernet version of Client Project. The Router Project is a bridge that links between the Ethernet and the serial ports of the DM642 EVM.
</p><p>The serial device driver source code is provided in the NSP and is configured by default to 115200 8N1 with no handshake. In order to make it work with hardware handshake, please see question 18 below.
</p><p>These settings are enabled in line the function <code>void sctrl(void)</code> of the file &lt;sctrl.c&gt;:
</p><p>&lt;syntaxhighlight lang="c"&gt;
</p>
<pre>// Setup the serial port driver
llSerialConfig( 1, 115200,
      HAL_SERIAL_MODE_8N1, HAL_SERIAL_FLOWCTRL_NONE );
</pre>
<p>&lt;/syntaxhighlight&gt;
</p><p>Please see additional details in sections 2.4 and 2.5 of the <a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spru523">NDK User's Guide (spru523)</a>.
</p>
<h3><span id="Q:_I_want_to_sniff_the_network_traffic_using_RAW_packets_just_like_Ethereal_or_Wireshark._Is_this_possible?"></span><span class="mw-headline" id="Q:_I_want_to_sniff_the_network_traffic_using_RAW_packets_just_like_Ethereal_or_Wireshark._Is_this_possible.3F"><b>Q:</b> I want to sniff the network traffic using RAW packets just like Ethereal or Wireshark. Is this possible?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=16" title="Edit section: Q: I want to sniff the network traffic using RAW packets just like Ethereal or Wireshark. Is this possible?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No. However, the RAW packet interface changed.
</p><p><b><font color="#ff0000">Updated for NDK 2.00!</font></b>
For NDK 2.00 there is a new API as part of the <i>Raw Ethernet Module</i> that communicates directly to the Ethernet driver, skipping the TCP and IP protocol layers. Please see section A.17 of the <a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spru524">NDK Programmer's Guide spru524</a>. However its functionality is very similar to the previous RAW interface.
</p><p>After <code>NC_Netstart()</code> is called at the end of <code>StackTest()</code>, the core TCP stack starts to run and only relevant network traffic is sent to the upper layers. Therefore receiving packets like ARP and others are processed internally by the stack. For additional details check <i>Stevens, W. Richard; Fenner, B; Rudoff, A. UNIX Network Programming vol 1. 3rd ed. page 739</i>
</p><p>RAW sockets can still send and receive ICMP packets, though. For an example on how to do it please check the file &lt;conping.c&gt; that is part of the client example project. Its location is usually at:
</p>
<pre>C:\CCStudio_v3.3\ndk_1_93\packages\ti\ndk\example\tools\common\console
</pre>
<p>The main reason this was done is due to the memory and processing constraints of an embedded system. Whenever you capture raw traffic using a network sniffer, the incoming data quickly mounts to several MB. A typical load (30%) on a 100Mbps network can yield 1MB of data in just a few seconds!
</p>
<h3><span id="Q:_Does_the_NDK_have_a_hard_limitation_on_the_number_of_sockets?"></span><span class="mw-headline" id="Q:_Does_the_NDK_have_a_hard_limitation_on_the_number_of_sockets.3F"><b>Q:</b> Does the NDK have a hard limitation on the number of sockets?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=17" title="Edit section: Q: Does the NDK have a hard limitation on the number of sockets?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>No, the NDK does not have a hard limit on the number of sockets. However, memory is the main constraint when designing an application. To allow deterministic behavior, sockets allocate and deallocate fixed-size buffers dynamically from the packet buffer manager (PBM). The PBM has a limited size that depends on the number of buffers configured in the file &lt;pbm.c&gt;. That, in turn depends on the amount of heap memory available.
</p><p>Therefore, if the application has a fairly large amount of sockets open and communicating at a given time, any attempts to communicate may return the error code <b>55</b> (<tt>ENOBUFS</tt> or <i>No buffer space available</i>).
</p><p>The solution is to increase the buffer manager.
</p><p>For additional details on how to do this please see section 5.3 of <a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spru523">NDK User's Guide (spru523)</a>. You will have to rebuild &lt;os.lib&gt; using the &lt;makelib.bat&gt; script provided with NDK.
</p><p>Lastly, the error above may also appear due to scheduler starvation caused by real-time constraints. Please see question 13 above.
</p>
<h3><span id="Q:_I_want_to_use_the_serial_port_on_my_DM642_EVM_but_the_hardware_handshake_does_not_seem_to_work._Is_this_a_driver_issue?"></span><span class="mw-headline" id="Q:_I_want_to_use_the_serial_port_on_my_DM642_EVM_but_the_hardware_handshake_does_not_seem_to_work._Is_this_a_driver_issue.3F"><b>Q:</b> I want to use the serial port on my DM642 EVM but the hardware handshake does not seem to work. Is this a driver issue?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=18" title="Edit section: Q: I want to use the serial port on my DM642 EVM but the hardware handshake does not seem to work. Is this a driver issue?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Yes. The serial and router examples included in the NSP for DM642 EVM provide support for hardware handshake in the serial port. By default this feature is disabled, but it can be controlled via the flags <code>HAL_SERIAL_FLOWCTRL_NONE</code> and <code>HAL_SERIAL_FLOWCTRL_HARDWARE</code> used by the function <code>sctrl()</code> of the source file &lt;sctrl.c&gt;.
</p><p>However, when using the <code>HAL_SERIAL_FLOWCTRL_HARDWARE</code> flag, the board fails to communicate with the host PC via serial port.
</p><p>The programming sequence <i>Set Xoff1, Xon1 to VALUE1, VALUE2</i> at page 32 of the <a rel="nofollow" class="external text" href="http://focus.ti.com/lit/ds/symlink/tl16c752b.pdf">TL16C752B USART datasheet</a> shows exactly how the sequence should be performed.
</p><p>A footnote at page 23 of the same datasheet mentions that, in order to write to the configuration bits of the automatic hardware handshake (Xon/Xoff), the register LCR must be set to <tt>0xBF</tt>.
</p><p>This was overlooked by the current implementation of the device driver source file &lt;ti752.c&gt; located in the folder <tt>%NDK_INSTALL_PATH%\packages\ti\ndk\src\hal\evmdm642\ser_ti752\</tt>.
</p><p>Therefore the changes should be:
</p><p>&lt;syntaxhighlight lang="c"&gt;
static void spInitialize( SDINFO *pi )
{
</p>
<pre>   uint        baudsetting;
   uint        temp;                  // added to enable hardware handshake functionality
</pre>
<p>(...)
</p>
<pre>   if( pi-&gt;FlowCtrl == HAL_SERIAL_FLOWCTRL_HARDWARE )
   {
</pre>
<p>	temp = SREG(pi,UART_LCR);      // added to enable hardware handshake functionality
	SREG(pi, UART_LCR) = 0xBF;     // added to enable hardware handshake functionality
</p>
<pre>       SREG(pi,UART_EFR) = TL16C752_EFR_ENHANCE |
                           TL16C752_EFR_RTSFLOW |
                           TL16C752_EFR_CTSFLOW;
       SREG(pi,UART_LCR) = temp;     // added to enable hardware handshake functionality
       SREG(pi,UART_MCR) = TL16C752_MCR_IRQEN   |
                           TL16C752_MCR_DTR;
   }
</pre>
<p>(...)
&lt;/syntaxhighlight&gt;
</p><p>Once modified, the device driver can be rebuilt using the script &lt;makehal_evmdm642.bat&gt; provided in the NDK installation.
</p>
<h3><span id="Q:_Is_C672x_family_of_devices_supported?"></span><span class="mw-headline" id="Q:_Is_C672x_family_of_devices_supported.3F"><b>Q:</b> Is C672x family of devices supported?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=19" title="Edit section: Q: Is C672x family of devices supported?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For a list of all devices and boards supported by NDK please see question 5 of the <a href="Network_Developers_Kit_Licensing_and_Availability.html" title="Network Developers Kit Licensing and Availability"> NDK licensing page</a>.
</p><p>But the C672x was never supported by any NDK release; therefore, any attempts to do the porting are totally up to you. Please read on for some useful advice:
</p>
<ul><li>The latest NDK release that supports the C67x family of devices is 1.8, therefore this is a good release to be used as a baseline.</li></ul>
<ul><li>This NDK release was built and tested with DSP/BIOS 5.20.01 and CGT 5.1.0. Since CGT 5.1.x releases do not support C672x, you must use CGT 5.3.0 instead. No testing was performed with CGT 6.x releases;</li></ul>
<ul><li>Similarly, the device drivers used by this NDK release were built and tested with CSL release 2, but C672x devices use CSL release 3. The differences are not that significant, but again no testing was performed using this release of CSL.</li></ul>
<ul><li>These device drivers were designed to support specific external MAC/PHY devices connected to the McBSP of C6711 and C6713 DSPs, therefore the porting to C672x will require changes to their source code.</li></ul>
<ul><li>At last, NDK 1.8 was <b>NOT</b> designed to be used with the BIOS in ROM that C672x devices have. It causes linking problems due to long calls between the core stack and the inner BIOS calls.</li></ul>
<p>Again, please keep in mind these are only suggestions to start the porting.
</p>
<h3><span id="Q:_Does_the_NDK_store_network_statistics_that_I_could_use?"></span><span class="mw-headline" id="Q:_Does_the_NDK_store_network_statistics_that_I_could_use.3F"><b>Q:</b> Does the NDK store network statistics that I could use?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=20" title="Edit section: Q: Does the NDK store network statistics that I could use?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Yes, the NDK stores a full set of statistics that can be helpful to debug network traffic and other conditions.
</p><p>The telnet console command <tt>test</tt> shows several statistics for IP, TCP, UDP, ICMP and NAT by accessing specific global variables contained in the NDK core stack. Therefore these variables can also be used in other parts of your code, and usage examples can be found in the file &lt;constat.c&gt; typically located at the directory:
<tt>C:\CCStudio_v3.3\ndk_1_92\packages\ti\ndk\example\tools\common\console</tt>
</p><p>If needed, statistics for IGMP can also be obtained by using the following internal global variables:
</p><p><code>_IGMPOutResponse</code> - any IGMP join/leave/renew (timeout) packets sent to the router
</p><p><code>_IGMPInResponse</code> - any membership reports (0x12 or 0x16) sent from NDK
</p><p><code>_IGMPInQuery</code> - any valid query (type 0x11) sent to all hosts (224.0.0.1)
</p><p><code>_IGMPInQueryGroup</code> - any valid query (type 0x11) sent to the group
</p><p><code>_IGMPInDiscard</code> - discarded IGMP packets due to errors
</p><p>To use these variables you must declared in your source file as:
&lt;syntaxhighlight lang="c"&gt;
extern UINT32 _IGMPOutResponse, _IGMPInResponse, _IGMPInQuery, _IGMPInQueryGroup, _IGMPInDiscard;
&lt;/syntaxhighlight&gt;
</p><p><i>Note:</i> The internal variables above are valid up to NDK 1.94 but you should be aware they may change without notice.
</p>
<h3><span id="Q:_I_copied_the_device_drivers_supplied_in_my_DM648_EVM_board_to_NDK_1.93_or_1.94._Why_am_I_getting_build_errors?"></span><span class="mw-headline" id="Q:_I_copied_the_device_drivers_supplied_in_my_DM648_EVM_board_to_NDK_1.93_or_1.94._Why_am_I_getting_build_errors.3F"><b>Q:</b> I copied the device drivers supplied in my DM648 EVM board to NDK 1.93 or 1.94. Why am I getting build errors?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=21" title="Edit section: Q: I copied the device drivers supplied in my DM648 EVM board to NDK 1.93 or 1.94. Why am I getting build errors?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If the errors you are seeing are similar to:
</p>
<pre>"C:/CCStudio_v3.3/ndk_1_93/packages/ti/ndk/src/hal/evmdm648/ethss_dm648/cpsw3g_ioctl.h", line 250: error:
declaration is incompatible with "uint llPacketIoctl(uint, uint, void *)" (declared at line 52 of
"C:\CCStudio_v3.3\ndk_1_93\packages\ti\ndk\inc\hal/hal.h")

1 error detected in the compilation of "conSwitchCtl.c".

&gt;&gt; Compilation failure
</pre>
<p>NDK releases 1.93 and newer contain a definition for the function <code>llPacketIoctl()</code> located at line 52 of the include file &lt;hal.h&gt; (see below). However, the example NDK device driver supplied with the DM648 DVDP contains a preliminary definition of the same function at line 250 of the include file &lt;cpsw3g_ioctl.h&gt;, therefore the conflict.
</p><p>At &lt;hal.h&gt;:
&lt;syntaxhighlight lang="c"&gt;
_extern uint   llPacketIoctl( uint dev, uint cmd, void *arg);
&lt;/syntaxhighlight&gt;
</p><p>At &lt;cpsw3g_ioctl.h&gt;:
&lt;syntaxhighlight lang="c"&gt;
extern void llPacketIoctl(Uint32 dev, Uint32 cmd, void *param);
&lt;/syntaxhighlight&gt;
</p><p>To fix this you can comment out the second definition above without any loss of functionality.
</p>
<h3><span id="Q:_I_migrated_from_a_previous_version_of_NDK_to_1.94._Why_I_am_getting_a_relocation_error_when_I_try_to_use_the_multicast_APIs?"></span><span class="mw-headline" id="Q:_I_migrated_from_a_previous_version_of_NDK_to_1.94._Why_I_am_getting_a_relocation_error_when_I_try_to_use_the_multicast_APIs.3F"><b>Q:</b> I migrated from a previous version of NDK to 1.94. Why I am getting a relocation error when I try to use the multicast APIs?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=22" title="Edit section: Q: I migrated from a previous version of NDK to 1.94. Why I am getting a relocation error when I try to use the multicast APIs?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If the errors you are seeing are similar to:
</p>
<pre>[Linking...] "C:\CCStudio_v3.3\C6000\cgt6018\bin\cl6x" -@"Custom.lkf"
&lt;Linking&gt;

undefined                        first referenced
 symbol                              in file
---------                        ----------------
_IGMPJoinHostGroup               C:\\CCStudio_v3.3\\ndk_1_94\\packages\\ti\\ndk\\example\\network\\multicast\\host\\dsk6455\\debug\\host-multicast.obj
&gt;&gt;   error: relocation overflow occurred at address 0x00000050 in
&gt;&gt; section
            '.text' of input file
            'C:\\CCStudio_v3.3\\ndk_1_94\\packages\\ti\\ndk\\example\\network\\multicast\\host\\dsk6455\\debug\\host-multicast.obj'.  The 32-bit PC-relative displacement -2203960 at this location is too large to fit into the 21-bit PC-Relative field; the destination address is too far away from the instruction. You may need to add a mask to the assembly instruction or use other target specific assembly features if you really only need the lowest 21 bits of this symbol. Please see the section on Relocation in the Assembly User's Guide.

&gt;&gt;   error: symbol referencing errors -
            'C:/CCStudio_v3.3/ndk_1_94/packages/ti/ndk/example/network/multicast/host/dsk6455/bin/host-multicast.out' not built


&gt;&gt; Compilation failure

Build Complete,
  3 Errors, 0 Warnings, 0 Remarks.
</pre>
<p>As stated in section 3.5 (page 68) the NDK 1.94 Programmer's Guide (SPRU524E), the APIs <code>IGMPJoinHostGroup()</code> and <code>IGMPLeaveHostGroup()</code> are deprecated. The reason is that these APIs did not properly follow the BSD recommendations for joining multicast groups, therefore being replaced by the socket options <tt>IP_ADD_MEMBERSHIP</tt> and <tt>IP_DROP_MEMBERSHIP</tt>.
</p><p>Please see the usage example below:
&lt;syntaxhighlight lang='c'&gt;
char *MulticastAddr = "224.1.2.3";   // Multicast group address
struct ip_mreq	mc_group;            // Socket configuration structure for the multicast group membership
SOCKET   recv = INVALID_SOCKET;      // Receiver socket
</p><p>mc_group.imr_multiaddr.s_addr = inet_addr(MulticastAddr);
mc_group.imr_interface.s_addr = NA.IPAddr;
setsockopt (recv, IPPROTO_IP, IP_ADD_MEMBERSHIP, (void *)&amp;mc_group, sizeof(mc_group));
&lt;/syntaxhighlight&gt;
</p><p><b>Note:</b> you only need to join the multicast group on the receiving sockets.
</p><p>The APIs could not be maintained in NDK 1.94 since they replicated the incoming multicast packets to all sockets in the system, clogging bandwidth.
</p>
<h3><span id="Q:_How_to_properly_use_the_SMA_connectors_on_my_DM648EVM_board?"></span><span class="mw-headline" id="Q:_How_to_properly_use_the_SMA_connectors_on_my_DM648EVM_board.3F"><b>Q:</b> How to properly use the SMA connectors on my DM648EVM board?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=23" title="Edit section: Q: How to properly use the SMA connectors on my DM648EVM board?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you intend to use the SMA connectors without a PHY then you must perform the two modifications below:
</p>
<ul><li>In the file &lt;evmdm648init.c&gt; lines 102-103, enable the SMA connectors by setting the two variables below to true:</li></ul>
<p>&lt;syntaxhighlight lang="c"&gt;
use_SMA_on_port0 = TRUE;
use_SMA_on_port1 = TRUE;
&lt;/syntaxhighlight&gt;
</p>
<dl><dd>This is the same as setting the parameter <tt>CPSW3G_INITPARAM_SPEED0</tt> to <tt>9999u</tt> in the device driver include file &lt;cspw3g_init_cfg.h&gt; line 160.</dd></dl>
<ul><li>In the device driver source file &lt;cpsw3g_core.c&gt; line 500, prevent the flag <tt>pi-&gt;TxOn</tt> to be reset by commenting out its line:</li></ul>
<p>&lt;syntaxhighlight lang='c'&gt;
pi-&gt;TxOn = 0;
&lt;/syntaxhighlight&gt;
</p><p><b>Notes:</b>
</p>
<ol><li>This last modification requires a rebuild of the device driver using the script &lt;makehal_evmdm648.bat&gt; provided in the NDK installation.</li>
<li>NDK 2.0 does not support the use of the SMA connectors on the DM648 EVM.</li></ol>
<h3><span id="Q:_The_NDK_User's_Guide_(SPRU523)_talks_about_example_projects_inside_the_example_directory,_but_I_can_only_find_C_source_files._Are_there_any_ready-to-run_examples_supplied_with_NDK?"></span><span class="mw-headline" id="Q:_The_NDK_User.27s_Guide_.28SPRU523.29_talks_about_example_projects_inside_the_example_directory.2C_but_I_can_only_find_C_source_files._Are_there_any_ready-to-run_examples_supplied_with_NDK.3F"><b>Q:</b> The NDK User's Guide (SPRU523) talks about example projects inside the example directory, but I can only find C source files. Are there any ready-to-run examples supplied with NDK?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=24" title="Edit section: Q: The NDK User&#039;s Guide (SPRU523) talks about example projects inside the example directory, but I can only find C source files. Are there any ready-to-run examples supplied with NDK?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The example directory supplied with NDK core stack contains only the source files common to all boards and platforms. The directory looks similar to:
</p>
<div class="thumb tnone"><div class="thumbinner" style="width:678px;"><a href="File_NDK_example_directory.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/0/0b/NDK_example_directory.JPG" width="676" height="333" class="thumbimage" /></a>  <div class="thumbcaption">Example directory of NDK only</div></div></div>
<p>The complete examples tailored for each board (including a CCS pjt and the BIOS configuration file) are supplied with the NSP or PSP. Once installed, the example directory then becomes:
</p>
<div class="thumb tnone"><div class="thumbinner" style="width:681px;"><a href="File_NDK_example_directory_NSP.html" class="image"><img alt="" src="https://processors.wiki.ti.com/images/2/2b/NDK_example_directory_NSP.JPG" width="679" height="352" class="thumbimage" /></a>  <div class="thumbcaption">Example directory of NSP for DSK6455</div></div></div>
<p><b>Note:</b> Additional details are mentioned in question 5 of the NDK Licensing and Availability page at this wiki.
</p>
<h3><span id="Q:_I_just_started_development_using_the_NDK._Is_there_a_document_to_help_me?"></span><span class="mw-headline" id="Q:_I_just_started_development_using_the_NDK._Is_there_a_document_to_help_me.3F"><b>Q:</b> I just started development using the NDK. Is there a document to help me?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=25" title="Edit section: Q: I just started development using the NDK. Is there a document to help me?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The <a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spraax4">NDK Starter Guide (spraax4)</a> and its <a rel="nofollow" class="external text" href="http://www.ti.com/litv/zip/spraax4">companion labs</a> covers the basics of NDK and includes a step-by-step tutorial on how to develop an application using NDK.
</p>
<h3><span id="Q:_I_downloaded_the_NDK_1.94_NSP_but_there_are_missing_libraries_and_build_errors_right_from_the_start!"></span><span class="mw-headline" id="Q:_I_downloaded_the_NDK_1.94_NSP_but_there_are_missing_libraries_and_build_errors_right_from_the_start.21"><b>Q:</b> I downloaded the NDK 1.94 NSP but there are missing libraries and build errors right from the start!</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=26" title="Edit section: Q: I downloaded the NDK 1.94 NSP but there are missing libraries and build errors right from the start!">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you are opening any of the example projects and sees a message box that mentions missing either &lt;hal_eth_c6455.lib&gt; or &lt;hal_eth_dm642.lib&gt; libraries, you must convert the project to use NIMU device driver architecture. Additional information on how to do this is provided in the device driver's documentation: please see section 1.2 of the NSP User's Guide for your platform: <a rel="nofollow" class="external text" href="http://focus.ti.com/general/docs/techdocsabstract.tsp?abstractName=sprues4a">C6455</a> or <a rel="nofollow" class="external text" href="http://focus.ti.com/general/docs/techdocsabstract.tsp?abstractName=sprues5a">DM642</a>.
</p><p>See below if you want to keep using the legacy llPacket device driver architecture.
</p>
<h3><span id="Q:_The_NDK_I_am_using_is_release_1.92_and_was_included_in_the_CD_that_came_with_my_board._What_do_I_need_to_update_it_to_NDK_1.94?"></span><span class="mw-headline" id="Q:_The_NDK_I_am_using_is_release_1.92_and_was_included_in_the_CD_that_came_with_my_board._What_do_I_need_to_update_it_to_NDK_1.94.3F"><b>Q:</b> The NDK I am using is release 1.92 and was included in the CD that came with my board. What do I need to update it to NDK 1.94?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=27" title="Edit section: Q: The NDK I am using is release 1.92 and was included in the CD that came with my board. What do I need to update it to NDK 1.94?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This applies to the SDKs supplied with the development boards for DM6437, DM648, C6424 and C6452.
The device drivers for NDK 1.92 provided in the SDK or DVSDK are compatible with NDK 1.94 and use the legacy llPacket device driver architecture. Therefore you can simply copy the HAL libraries from the previous version (typically located at <tt>%NDK_INSTALL_DIR%\packages\ti\ndk\lib\hal\</tt>) or download the PSP package.
</p><p>Please check question 6 of the <a href="Network_Developers_Kit_Licensing_and_Availability.html" title="Network Developers Kit Licensing and Availability">NDK Licensing and Availability page</a> for additional details on how to download and install the device drivers included in the PSP package.
</p>
<h3><span id="Q:_How_do_I_improve_the_security_of_my_network_application?"></span><span class="mw-headline" id="Q:_How_do_I_improve_the_security_of_my_network_application.3F"><b>Q:</b> How do I improve the security of my network application?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=28" title="Edit section: Q: How do I improve the security of my network application?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Some of the default settings of the NDK stack do allow for easy detection of the system on the network, for example using ping commands. This is often used in TI EVM applications to detect the presence of an EVM from the host application. However in real applications it might not be desirable to have the network stack answer such messages. It may also protect the stack from security attacks using a flood of messages as it can be configured to ignore messages and not respond at all. That causes less stack process loading too.
</p>
<table cellpadding="4" cellspacing="2" border="1" style="color:black;background-color:#eeeeee;">

<tbody><tr>
<th align="left"><font color="#0000ff"> <b>configuration struct element</b> </font>
</th>
<th align="left"><font color="#0000ff"> <b>configuration macro</b> </font>
</th></tr>
<tr>
<td align="left"><tt>_ipcfg.IcmpDontReplyBCast</tt>
</td>
<td align="left"><tt>CFGITEM_IP_ICMPDONTREPLYBCAST</tt>
</td></tr>
<tr>
<td align="left"><tt>_ipcfg.IcmpDontReplyMCast</tt>
</td>
<td align="left"><tt>CFGITEM_IP_ICMPDONTREPLYMCAST</tt>
</td></tr>
<tr>
<td align="left"><tt>_ipcfg.UdpSendIcmpPortUnreach</tt>
</td>
<td align="left"><tt>CFGITEM_IP_UDPSENDICMPUNREACH</tt>
</td></tr>
<tr>
<td align="left"><tt>_ipcfg.TcpSendRst</tt>
</td>
<td align="left"><tt>CFGITEM_IP_TCPSENDRST</tt>
</td></tr></tbody></table>
<p>See sections 4.4.10 and A 12.2 of the <a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spru524">NDK 1.94 Programmer's Guide</a> for more details.
</p>
<h3><span id="Q:_How_can_I_reduce_the_amount_of_memory_used_by_the_NDK?"></span><span class="mw-headline" id="Q:_How_can_I_reduce_the_amount_of_memory_used_by_the_NDK.3F"><b>Q:</b> How can I reduce the amount of memory used by the NDK?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=29" title="Edit section: Q: How can I reduce the amount of memory used by the NDK?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>See <a href="https://e2e.ti.com/support/processors/f/791/t/947313" title="TI-RTOS Networking Stack Memory Usage">TI-RTOS Networking Stack Memory Usage</a>.
</p>
<h3><span id="Q:_I_wonder_if_I_could_extract_some_additional_performance_from_NDK._Are_there_any_tips_to_make_sure_my_system_is_performing_at_top_notch?"></span><span class="mw-headline" id="Q:_I_wonder_if_I_could_extract_some_additional_performance_from_NDK._Are_there_any_tips_to_make_sure_my_system_is_performing_at_top_notch.3F"><b>Q:</b> I wonder if I could extract some additional performance from NDK. Are there any tips to make sure my system is performing at top notch?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=30" title="Edit section: Q: I wonder if I could extract some additional performance from NDK. Are there any tips to make sure my system is performing at top notch?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Despite the difficulty in answering this general question, performance improvements can frequently be obtained by doing simple things in the general configuration:
</p>
<ul><li>Enable L2 cache and configure the MAR bits to map it to external memory regions. Please check <a href="Enabling_64x%2b_Cache.html" title="Enabling 64x+ Cache">this page</a> for additional details</li>
<li>Place the memory sections for buffers in fast memory. For example, the file &lt;client.cmd&gt; contains the following information:</li></ul>
<p>&lt;syntaxhighlight lang="c"&gt;
/*
// Specify below whether you want these NDK special memory sections to be
// placed in a specific memory section. By default they are placed in the .far space.
//
//   .far:NDK_PACKETMEM - Packet buffer memory (defined in HAL/OS libs)
//   .far:NDK_MMBUFFER   - Scatchpad memory used by mmAlloc()
//   .far:NDK_OBJMEM       - Large arrays (defined by example code only)
</p>
<ul><li>/</li></ul>
<p>&lt;/syntaxhighlight&gt;
</p><p>You can create a memory section for any of them and point to a specific memory region:
&lt;syntaxhighlight lang="c"&gt;
SECTIONS
{
	.far:NDK_PACKETMEM	{}	&gt; IRAM
	.far:NDK_MMBUFFER	{}	&gt; IRAM
	.far:NDK_OBJMEM		{}	&gt; IRAM
}
&lt;/syntaxhighlight&gt;
For details on size requirements please see section 3.1.3 of <a rel="nofollow" class="external text" href="http://www-s.ti.com/sc/techlit/spru523">NDK User's Guide</a>.
</p>
<h3><span class="mw-headline" id="Q:_I_am_using_the_big_endian_libraries_of_NDK_1.94_and_I_am_having_trouble_in_communicating_with_the_network._This_does_not_seem_to_happen_with_the_little_endian_versions."><b>Q:</b> I am using the big endian libraries of NDK 1.94 and I am having trouble in communicating with the network. This does not seem to happen with the little endian versions.</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=31" title="Edit section: Q: I am using the big endian libraries of NDK 1.94 and I am having trouble in communicating with the network. This does not seem to happen with the little endian versions.">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Yes, this is a known issue of NDK 1.94. Please download NDK 1.94.01 from the Update Advisor page.
</p>
<h3><span id="Q:_I_would_like_to_know_benchmark_results_for_my_boards;_where_can_I_find_them?"></span><span class="mw-headline" id="Q:_I_would_like_to_know_benchmark_results_for_my_boards.3B_where_can_I_find_them.3F"><b>Q:</b> I would like to know benchmark results for my boards; where can I find them?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=32" title="Edit section: Q: I would like to know benchmark results for my boards; where can I find them?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Please check the <a href="NDK_benchmarks.html" title="NDK benchmarks">NDK benchmarks page</a>.
</p><p>Pay special attention to the note in <font color="#ff0000">red</font> at that page.
</p>
<h3><span id="Q:_Can_a_processor_handle_multiple_PHY_?"></span><span class="mw-headline" id="Q:_Can_a_processor_handle_multiple_PHY_.3F"><b>Q:</b> Can a processor handle multiple PHY&#160;?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=33" title="Edit section: Q: Can a processor handle multiple PHY ?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Generally it is possible to have several PHYs connected to the EMAC peripheral.
</p><p>Still, you need to check that:
a) the specific sw TCP/IP stack supports it
b) the specific processor EMAC peripheral does not mention differently
</p><p>For connecting multiple phys it is possible to leverage the usage of the MDIO interface; the MDIO module is used for initialization, management and query of the phy status, thus provides also a better way to configure the phy(s) instead of having them configured (statically) in hardware.
So for this to work you will need to have an MDIO interface connected to both (all) phys from the processor side. Also make sure that the MDIO IDs are different for each phy.
</p><p>On the hardware side, all the signals for the N phys will have to be connected together.
</p><p>If a PHY is not active it should be in tri-state on the output and disregard input.
This should be something enforced by the specification (i.e. to disconnect the the data signals once the phy is not active), but it should be also verified in the PHY datasheet
</p><p>On the software side, the TI NDK stack should check to see which one is the active one, turning the other phy off; this will ensure that there will be an isolation of the signals of that phy to the MAC.
If instead you do not plan to use the TI stack then you will need to do this function implementation by yourself.
</p><p>Additional notes:
</p><p>1. The EMAC peripheral contains the MAC address (which of course is not the same as the IP address), but this as for the specifications is not dependent on which phy you use at the moment. So, provided you have one active phy (alive, linked, and configured properly), any packets intended for that EMAC will reach it.
</p><p>2. Up to 32 PHYs can be connected to the MII bus, and have cables plugged in. The driver can then choose to use one at a certain time, and "turn off" the other ones, which means to isolate them from the MII bus (by using MDIO to configure the PHY registers).
</p><p>3. However please note that only one PHY can be active at a given time. Also, only two PHYs can be monitored at the same time by the EMAC layer (because of NDK SW implementation).
</p><p>For more details about the features of the peripheral and the implementation, please refer to the specific processor EMAC reference guide, and to the device datasheets for more details of supported features on a specific device.
</p>
<h3><span id="Q:_Is_there_any_information_that_can_help_if_I_want_to_port_NDK_to_my_custom_hardware_that_uses_a_different_PHY?"></span><span class="mw-headline" id="Q:_Is_there_any_information_that_can_help_if_I_want_to_port_NDK_to_my_custom_hardware_that_uses_a_different_PHY.3F"><b>Q:</b> Is there any information that can help if I want to port NDK to my custom hardware that uses a different PHY?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=34" title="Edit section: Q: Is there any information that can help if I want to port NDK to my custom hardware that uses a different PHY?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Yes. The page below contains several guidelines and "things to look for" when modifying the NDK device drivers to support PHYs not currently supported out-of-the-box.
</p><p><a href="Guidelines_when_porting_NDK_to_different_PHYs.html" title="Guidelines when porting NDK to different PHYs">Guidelines_when_porting_NDK_to_different_PHYs</a>
</p>
<h3><span id="Q:_How_do_I_test_the_serial_example_(PPP_over_uart)_on_the_DM642_evm_?"></span><span class="mw-headline" id="Q:_How_do_I_test_the_serial_example_.28PPP_over_uart.29_on_the_DM642_evm_.3F"><b>Q:</b> How do I test the serial example (PPP over uart) on the DM642 evm&#160;?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=35" title="Edit section: Q: How do I test the serial example (PPP over uart) on the DM642 evm ?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This was tested on NDK 1.94 but applies also to NDK 2.x
</p><p>Since the user guide is not very thorough in describing the host / target setup, below are some more detailed instructions:
</p><p>Gather a null modem uart cable and connect the evm to the Pc. In the default factory settings, no additional hw configuration should be needed on the DM642 board
</p><p>1 - Network settings on the PC side:
On the Pc, go in windows, and choose start &gt; network &gt; network connections
</p><p>select the wizard 'create new connection'
</p><p>then select:  setup an advanced connection &gt;  accept incoming connections
</p><p>check the box communication between two computers using com1
</p><p>- choose the properties and select
</p>
<ul><li>general: port speed 115200 / flow control none</li>
<li>advanced: 8 bits / none parity / 1 stop bit</li></ul>
<p>do not allow virtual private connections
</p><p>- in the 'user' tab create a new user called 'username' and with password 'password' (without the quotes)
</p><p>note: if your pc settings are more restrictive for security reasons, and do not allow to use 'password' as password
you can also go into srctl.c at line 172 and manually change the password to a more complicated one
</p><p>as networking software protocol, make sure tcp /ip  is checked
</p><p>- in the tcp /ip properties, you can use dhcp or for simplicity also assign tcp ip addresses (you can also specify a range)
</p><p>make sure to have at least two addresses if you specify the Ip address ranges manually so that the server (pc) also can get one
</p><p>A screenshot of the Windows/Network connections settings described above can be found in this file <a href="File_PC-side-config_for_ppp_over_uart_NDK_client_example.html" title="File:PC-side-config for ppp over uart NDK client example.pdf">File:PC-side-config for ppp over uart NDK client example.pdf</a>.
</p><p><br />
</p><p>2 - On the CCS side:
open the example\serial\client\dm642\client.pjt application, rebuild, load and run it
</p><p>(if it complains about missing  hal_eth_dm642.lib see
</p><p><a href="Network_Developers_Kit_FAQ.html#Q:_I_downloaded_the_NDK_1.94_NSP_but_there_are_missing_libraries_and_build_errors_right_from_the_start.21" title="Network Developers Kit FAQ">Network_Developers_Kit_FAQ#Q:_I_downloaded_the_NDK_1.94_NSP_but_there_are_missing_libraries_and_build_errors_right_from_the_start.21</a>
</p><p>you can get it from NDK 1.92 NSP package and copy it inside ndk\lib\hal\evmdm642. On NDK 2.x the NSP is already included)
</p><p><br />
when you run the client application, you should see something like this in the CCS output
</p>
<pre>TCP/IP Stack Example HDLC Serial Client
Service Status: Telnet  &#160;: Enabled &#160;:         &#160;: 000
EchoSrv Initialized
DataSrv Initialized
NullSrv Initialized
OobSrv Initialized
SCtrl: Ready, Ports=2
SCtrl: Disconnected (129)
</pre>
<p>after some time, it should print also
</p>
<pre>Network Added: If-1:192.168.6.3
SCtrl: Connected
</pre>
<p><br />
3 - Communication status on the PC side:
on the windows side, in the network connections you should see that the "incoming connections" network adapter says "1 client connected" (the evm)
</p><p>at the same time you should see a new entry called "username" type " incoming" status connected type "communications cable between two computers"
</p><p>note: in the example above the pc (server) was configured to be assigning IP via DHCP addresses which include 192.168.6.3
</p><p><br />
4 - Using Hyper-terminal:
at this point you can start the windows remote terminal:   start &gt; programs &gt; accessories &gt; communication &gt; hyper terminal
</p><p>choose:
</p>
<ul><li>a connection name (as desired, like DM642 evm)</li>
<li>the type should be using tcp/ip (winsock)</li>
<li>the host address is the one printed on the ccs terminal window after the evm has connected to the pc, see above (in this example 192.168.6.3),</li>
<li>the port is default 23 for telnet</li></ul>
<p><br />
the DM642 evm answers with:
</p>
<pre>TCP/IP Stack Example HDLC Serial Client
Welcome connection&#160;: 192.168.6.2:1275
Welcome to the console program.
Enter '?' or 'help' for a list of commands.
&gt;
</pre>
<p>(In this case the pc took the address 192.168.6.2)
</p><p>now you should see the NDK console output redirected to the windows terminal, be able to send commands to it, and receive the output of the commands.
</p><p>at this point (one a connection is established and the DM642 has an ip address) you can also use the windows test applications in ndk_1_94\packages\ti\ndk\winapps, like calling
</p>
<pre>send 192.168.6.3
</pre>
<h3><span id="Q:_On_the_C647x_evm_the_NDK_was_working_properly._Now_on_my_own_board,_I_can't_get_it_to_work,_even_though_the_hardware_is_the_same._What_should_I_do?"></span><span class="mw-headline" id="Q:_On_the_C647x_evm_the_NDK_was_working_properly._Now_on_my_own_board.2C_I_can.27t_get_it_to_work.2C_even_though_the_hardware_is_the_same._What_should_I_do.3F"><b>Q:</b> On the C647x evm the NDK was working properly. Now on my own board, I can't get it to work, even though the hardware is the same. What should I do?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=36" title="Edit section: Q: On the C647x evm the NDK was working properly. Now on my own board, I can&#039;t get it to work, even though the hardware is the same. What should I do?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>See section about the EMAC layer at <a href="Guidelines_when_porting_NDK_to_different_PHYs.html" title="Guidelines when porting NDK to different PHYs">Guidelines_when_porting_NDK_to_different_PHYs</a>
</p>
<h3><span id="Q:_It_seems_that_the_NSP_for_OMAPL137_EVM_is_incompatible_with_the_EDMA3_LLD._How_can_I_fix_it?"></span><span class="mw-headline" id="Q:_It_seems_that_the_NSP_for_OMAPL137_EVM_is_incompatible_with_the_EDMA3_LLD._How_can_I_fix_it.3F"><b>Q:</b> It seems that the NSP for OMAPL137 EVM is incompatible with the EDMA3 LLD. How can I fix it?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=37" title="Edit section: Q: It seems that the NSP for OMAPL137 EVM is incompatible with the EDMA3 LLD. How can I fix it?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Ethernet driver of the NDK Support Package (NSP) 2.0 for EVM6747 / EVMOMAPL-137 uses the BIOS Interrupt vectors 6, and 7 to setup EMAC Rx, and Tx interrupts. The EDMA3 LLD released for this EVM also happens to use the interrupt vector 7 for its interrupt. If using both NDK 2.0 NSP and EDMA3 LLD in your application please ensure that the interrupt vector numbers used in these two drivers do not overlap each other. Otherwise this could lead to unexpected results.
</p><p>The interrupt assignment in EMAC driver can be quickly changed by modifying the <tt>intVectId</tt> parameters in <tt>Interrupt_init()</tt> function of the driver. Also, the definitions for <tt>Disable_DSP_Interrupts()</tt> and <tt>Enable_DSP_Interrupts()</tt> used to enable/disable the EMAC CPU interrupts globally need to be modified to reflect the changed interrupt vector ids.
</p><p><b>For example</b>, to modify the Ethernet driver in NDK to use, say, interrupt vector 5 for EMAC Rx interrrupt and interrupt vector 6 for EMAC Tx interrupt, the following changes would be needed:
</p><p>Step 1: Modify the Ethernet driver’s Interrupt setup code to use the new interrupt vector ids as below:
</p><p>&lt;syntaxhighlight lang="c"&gt;
void Interrupt_init(void)
{
</p>
<pre>   IntSetup    hwi_intSetup;
   Uint32      retVal;
</pre>
<pre>   /* Setup the Rx Int using NDK's Interrupt Manager */
</pre>
<pre>   hwi_intSetup.intVectId = 5;    // ==&gt; Inserted the new Rx Interrupt vector id 5 here
   hwi_intSetup.sysEvtCount = 1;
   hwi_intSetup.sysEvtId[0] = 31;
   hwi_intSetup.pCallbackFxn = &amp;HwRxInt;
   hwi_intSetup.pCallbackArg = 0;
   hwi_intSetup.bEnable = 1;
</pre>
<pre>   retVal = Interrupt_add(&amp;hwi_intSetup);
</pre>
<pre>   if(retVal&#160;!= 0)
       printf("Error setting up Rx Interrupts \n");
</pre>
<pre>   /* Setup the Tx Int using NDK's Interrupt Manager */
</pre>
<pre>   hwi_intSetup.intVectId = 6;    // ==&gt; Inserted the new Tx Interrupt vector id 6 here
   hwi_intSetup.sysEvtCount = 1;
   hwi_intSetup.sysEvtId[0] = 32;
   hwi_intSetup.pCallbackFxn = &amp;HwTxInt;
   hwi_intSetup.pCallbackArg = 0;
   hwi_intSetup.bEnable = 1;
</pre>
<pre>   retVal = Interrupt_add(&amp;hwi_intSetup);
</pre>
<pre>   if(retVal&#160;!= 0)
       printf("Error setting up Tx Interrupts \n");
</pre>
<pre>  BCACHE_invL1pAll();
</pre>
<pre>  Enable_DSP_Interrupts();
</pre>
<p>}
&lt;/syntaxhighlight&gt;
</p><p>Step 2: Modify the <tt>Enable_DSP_Interrupts()</tt> and <tt>Disable_DSP_Interrupts()</tt> macros to reflect the new CPU interrupt vector ids as shown below:
</p><p>&lt;syntaxhighlight lang="c"&gt;
</p>
<ol><li>define     Disable_DSP_Interrupts()    IER &amp;= ~0x60     // ==&gt; 0x60 = ((1 &lt;&lt; 5) | (1 &lt;&lt; 6))</li>
<li>define     Enable_DSP_Interrupts()     IER |= 0x60      // ==&gt; 0x60 = ((1 &lt;&lt; 5) | (1 &lt;&lt; 6))</li></ol>
<p>&lt;/syntaxhighlight&gt;
</p>
<h3><span class="mw-headline" id="Q:_DM6437_users_-_check_the_project_settings_for_the_network_client_example"><b>Q:</b> DM6437 users - check the project settings for the network client example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=38" title="Edit section: Q: DM6437 users - check the project settings for the network client example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>see example\network\client\evmdm6437\client.pjt
</p><p>It seems that the chip type is wrong (currently setup at -D"DM_643", in NDK rel.2.0). It should be changed to -D"DM_6437"
</p>
<h3><span id="Q:_Is_it_possible_to_use_NDK_with_CCSv4?"></span><span class="mw-headline" id="Q:_Is_it_possible_to_use_NDK_with_CCSv4.3F"><b>Q:</b> Is it possible to use NDK with CCSv4?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=39" title="Edit section: Q: Is it possible to use NDK with CCSv4?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Yes, it is possible to use CCSv4 with NDK. Just install NDK to any directory of choice and make sure all installation instructions are followed (including setting the environment variable <tt>NDK_INSTALL_DIR</tt>). Since the existing example NDK projects were designed for CCSv3.3, it is required to import them to CCSv4 by going to menu <tt>Project -&gt; Import Legacy CCSv3.3 Project</tt>. Just make sure to leave the option <i>Copy projects to workspace</i> unchecked at the <i>Import Legacy CCS Project</i> box, since this will avoid any issues with relative paths.
After importing, a message box will alert you to check the file &lt;migration.log&gt; for details that require attention. This file contains the following instruction:
</p>
<dl><dd><dl><dd><tt>!WARNING: File 'client.cmd' explicitly references a TConf-generated linker-command file (line 9). Please remove this reference when migration completes - CCS now automatically handles generated files during project-build.</tt></dd></dl></dd></dl>
<p>Simply edit the linker command file &lt;client.cmd&gt; accordingly.
</p><p>For additional details, please check the page below:
</p>
<dl><dd><a href="https://software-dl.ti.com/ccs/esd/documents/ccs_legacy-project-import.html" title="Importing CCSv3 Projects into CCSv4">Importing_CCSv3_Projects_into_CCSv4</a></dd></dl>
<h3><span id="Q:_Why_the_DM648_does_not_work_at_10/100Mbps,_only_at_1Gbps?"></span><span class="mw-headline" id="Q:_Why_the_DM648_does_not_work_at_10.2F100Mbps.2C_only_at_1Gbps.3F"><b>Q:</b> Why the DM648 does not work at 10/100Mbps, only at 1Gbps?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit&amp;section=40" title="Edit section: Q: Why the DM648 does not work at 10/100Mbps, only at 1Gbps?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This is a known bug introduced in NDK 2.0. Please check the forum post below:
</p>
<dl><dd><a rel="nofollow" class="external free" href="http://e2e.ti.com/support/embedded/f/355/p/57649/205966.aspx">http://e2e.ti.com/support/embedded/f/355/p/57649/205966.aspx</a></dd></dl>

<!-- 
NewPP limit report
Cached time: 20201130031706
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.112 seconds
Real time usage: 0.118 seconds
Preprocessor visited node count: 246/1000000
Preprocessor generated node count: 356/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 3113/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:734-0!canonical and timestamp 20201130031706 and revision id 178741
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Network Developers Kit FAQ</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>Network Developers Kit FAQ</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>Network Developers Kit FAQ</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>Network Developers Kit FAQ</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>Network Developers Kit FAQ</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Network Developers Kit FAQ</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>Network Developers Kit FAQ</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>Network Developers Kit FAQ</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>Network Developers Kit FAQ</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;oldid=178741">https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;oldid=178741</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_NDK.html" title="Category:NDK">NDK</a></li><li><a href="Category_FAQ.html" title="Category:FAQ">FAQ</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Network+Developers+Kit+FAQ" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Network_Developers_Kit_FAQ.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk"><span><a href="Talk_Network_Developers_Kit_FAQ.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Network_Developers_Kit_FAQ.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Network_Developers_Kit_FAQ.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Network_Developers_Kit_FAQ.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;oldid=178741" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Network_Developers_Kit_FAQ&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 11 June 2014, at 10:55.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.112","walltime":"0.118","ppvisitednodes":{"value":246,"limit":1000000},"ppgeneratednodes":{"value":356,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":3113,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20201130031706","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":235});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Network_Developers_Kit_FAQ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 04:04:40 GMT -->
</html>
