<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/ICSS_EMAC_LLD_debug_guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 08:45:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>ICSS EMAC LLD debug guide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ICSS_EMAC_LLD_debug_guide","wgTitle":"ICSS EMAC LLD debug guide","wgCurRevisionId":235573,"wgRevisionId":235573,"wgArticleId":39925,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages with broken file links"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"ICSS_EMAC_LLD_debug_guide","wgRelevantArticleId":39925,"wgRequestId":"f6485ff497489078830fbce7","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["sysop"],"wgRestrictionMove":["sysop"]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ICSS_EMAC_LLD_debug_guide rootpage-ICSS_EMAC_LLD_debug_guide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">ICSS EMAC LLD debug guide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><b><big><big><span style="color:red"> Starting in v4.3, Processor SDK documentation is no longer hosted on processors wiki.</span></big></big></b> <br /><br />
Please bookmark the new links:
</p>
<ul><li>Linux, RT-Linux: <a rel="nofollow" class="external free" href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/index.html">http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/index.html</a></li>
<li>RTOS: <a rel="nofollow" class="external free" href="http://software-dl.ti.com/processor-sdk-rtos/esd/docs/latest/rtos/index.html">http://software-dl.ti.com/processor-sdk-rtos/esd/docs/latest/rtos/index.html</a></li>
<li>Android: <a rel="nofollow" class="external free" href="http://software-dl.ti.com/processor-sdk-android/esd/docs/latest/android/index.html">http://software-dl.ti.com/processor-sdk-android/esd/docs/latest/android/index.html</a></li></ul>
<p><br />
</p>
<div style="width:800px; text-align:justify;"> 
<div style="display:block; clear: both; margin: 10px 0px; padding: 0px; background-color: #ee1d23; text-align:right;"><a href="File_TIBanner.html" class="image"><img alt="TIBanner.png" src="https://processors.wiki.ti.com/images/c/cd/TIBanner.png" width="667" height="87" /></a></div>
<div style="display:block; margin: 5px 0px; padding: 2px 5px; font-size:1.5em; font-weight:bold; text-align:left;">ICSS_EMAC_LLD Debug guide</div>
<div style="display:block; margin: 5px 0px; padding: 2px; color: #666666; font-size:1.0em; font-weight:bold; text-align:right;"></div>
<h2><span class="mw-headline" id="This_Page_is_under_construction">This Page is under construction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=1" title="Edit section: This Page is under construction">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><font size="2">Last updated: <b>09/09/2018</b></font>
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#This_Page_is_under_construction"><span class="tocnumber">1</span> <span class="toctext">This Page is under construction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Introduction"><span class="tocnumber">2</span> <span class="toctext">Introduction</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Assumption"><span class="tocnumber">2.1</span> <span class="toctext">Assumption</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Scope_of_the_document"><span class="tocnumber">2.2</span> <span class="toctext">Scope of the document</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Common_Debugging_Tasks"><span class="tocnumber">3</span> <span class="toctext">Common Debugging Tasks</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Loading_and_running_on_CCS"><span class="tocnumber">3.1</span> <span class="toctext">Loading and running on CCS</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Connecting_the_PRU.27s"><span class="tocnumber">3.2</span> <span class="toctext">Connecting the PRU's</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Check_Link_Status"><span class="tocnumber">3.3</span> <span class="toctext">Check Link Status</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Checking_if_Receive_is_working"><span class="tocnumber">3.4</span> <span class="toctext">Checking if Receive is working</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Checking_if_Transmit_is_working"><span class="tocnumber">3.5</span> <span class="toctext">Checking if Transmit is working</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Check_Statistics"><span class="tocnumber">3.6</span> <span class="toctext">Check Statistics</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Getting_the_values"><span class="tocnumber">3.6.1</span> <span class="toctext">Getting the values</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Example_Usage"><span class="tocnumber">3.6.2</span> <span class="toctext">Example Usage</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Accessing_Memory"><span class="tocnumber">4</span> <span class="toctext">Accessing Memory</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#ICSS_Shared_RAM"><span class="tocnumber">4.1</span> <span class="toctext">ICSS Shared RAM</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#System_Debug"><span class="tocnumber">5</span> <span class="toctext">System Debug</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#SYS.2FBIOS"><span class="tocnumber">5.1</span> <span class="toctext">SYS/BIOS</span></a>
<ul>
<li class="toclevel-3 tocsection-18"><a href="#Using_ROV_to_Debug_RTOS"><span class="tocnumber">5.1.1</span> <span class="toctext">Using ROV to Debug RTOS</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Checking_the_system_performance_using_UIA"><span class="tocnumber">5.1.2</span> <span class="toctext">Checking the system performance using UIA</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Using_SYS.2FBIOS_Timer_to_measure_performance"><span class="tocnumber">5.1.3</span> <span class="toctext">Using SYS/BIOS Timer to measure performance</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href="#NDK"><span class="tocnumber">5.2</span> <span class="toctext">NDK</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#Performing_NDK_tests"><span class="tocnumber">5.2.1</span> <span class="toctext">Performing NDK tests</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Measuring_network_performance"><span class="tocnumber">5.2.2</span> <span class="toctext">Measuring network performance</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#Checking_NDK_Buffers"><span class="tocnumber">5.2.3</span> <span class="toctext">Checking NDK Buffers</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-25"><a href="#Frequently_Encountered_Issues"><span class="tocnumber">6</span> <span class="toctext">Frequently Encountered Issues</span></a>
<ul>
<li class="toclevel-2 tocsection-26"><a href="#Build_Issues"><span class="tocnumber">6.1</span> <span class="toctext">Build Issues</span></a>
<ul>
<li class="toclevel-3 tocsection-27"><a href="#Tools_compatibility"><span class="tocnumber">6.1.1</span> <span class="toctext">Tools compatibility</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#System_Variables"><span class="tocnumber">6.1.2</span> <span class="toctext">System Variables</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#Migration_from_1.1_to_2.1_Industrial_SDK"><span class="tocnumber">6.1.3</span> <span class="toctext">Migration from 1.1 to 2.1 Industrial SDK</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=2" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This is a companion guide to <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html">ICSS EMAC Developer Guide</a>, if you have not read the developer guide it's highly suggested that you do so.
</p><p>Based upon the combined experience of development team, this document covers the most obvious use cases and debug scenarios present in ICSS EMAC LLD. Frequently asked questions from <a rel="nofollow" class="external text" href="https://e2e.ti.com/">E2E</a> forums which are relevant have also been added here. 
</p><p>For individual protocols like Ethernet/IP, Profinet, EtherCat etc separate debugging guides are available which discuss specific use cases.
</p><p>As mentioned previously in developer guide, a discussion of EMAC LLD covers most of the ethernet driver/firmware issues and goes a long way in the understanding of other industrial protocol implementations. This applies to debug guide as well.
</p>
<h3><span class="mw-headline" id="Assumption">Assumption</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=3" title="Edit section: Assumption">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Assumptions are same as those in developer guide. A basic understanding of ICSS Architecture and SoC is assumed, some level of familiarity with Ethernet driver development is also assumed. In addition to this a basic familiarity with the following tools is also assumed.
</p>
<ul><li>Code Composer Studio</li>
<li>Any serial terminal (Putty/Tera Term)</li>
<li>Wireshark or any other packet sniffing tool</li>
<li>Any PC based tool capable of sending packets</li></ul>
<h3><span class="mw-headline" id="Scope_of_the_document">Scope of the document</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=4" title="Edit section: Scope of the document">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This document is meant to help the developer
</p>
<ul><li>Familiarize with common debugging tools and techniques</li>
<li>Identify and resolve frequently faced issues</li></ul>
<h2><span class="mw-headline" id="Common_Debugging_Tasks">Common Debugging Tasks</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=5" title="Edit section: Common Debugging Tasks">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Loading_and_running_on_CCS">Loading and running on CCS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=6" title="Edit section: Loading and running on CCS">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>1. Connect JTAG Emulator to EVM in-case of IDK or Connect USB cable to board in-case of ICE
</p><p>2. Select View-&gt;Target Configurations. Right click on the required configuration in the list and Select Launch
Selected Configuration
</p><p>3. Right Click on the Cortex A9/A8 listed in Debug view and select Connect. (Click View-&gt;Debug to view debug
window, if not visible)
</p><p>4. Select System Reset
</p><p>5. Select Suspend
</p><p>6. Load the GEL file and execute initialization script.
</p><p>7. Once the initialization is completed, Select Run-&gt;Load -&gt;Load Program. Here browse to the required
executable and click OK
</p><p>8. After a successful load, the program is expected to be in suspended state and program counter is pointing to main
function. If the program is not in suspended state&#160;:
</p><p>i. Suspend the application by selecting Run-&gt;Suspend
</p><p>ii. Restart the application by selecting Run-&gt;Restart
</p><p>9. Run the application by selecting Menu-&gt;Run-&gt;Resume. This will execute the application.
</p><p><a href="File_De1.html" class="image"><img alt="De1.png" src="https://processors.wiki.ti.com/images/6/60/De1.png" width="803" height="600" /></a>
</p><p>NOTE
</p><p>• While launching a debug session for the first time, CCS will ask for the CPU to which the program needs to be
loaded. Please select Cortex-A9/A8 and continue.
</p><p>• If TeraTerm does not display an output upon program execution. TeraTerm can be initialized just prior to
program execution by performing steps 1-8 and then
</p><p>Disconnect the terminal session using File -&gt; Disconnect
</p><p>Reconnect the terminal session with File -&gt; New Connection
</p><p>• If there is a valid application in SPI or NOR flash(in their corresponding boot mode), on "System Reset" the
application loads right away. This might cause issues on the application you load via JTAG. To avoid this, put a
hardware breakpoint at 0x402f_0400(in case of MMSCD boot mode) or 0x30000000(in case of qSPI boot mode)
and then do a "System Reset". You can then continue with Step 4 after this step.
</p>
<h3><span id="Connecting_the_PRU's"></span><span class="mw-headline" id="Connecting_the_PRU.27s">Connecting the PRU's</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=7" title="Edit section: Connecting the PRU&#039;s">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h3><span class="mw-headline" id="Check_Link_Status">Check Link Status</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=8" title="Edit section: Check Link Status">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Link Status is available as an array <b>linkStatus</b> in <b>ICSSEMAC_Object</b>. The status is updated in the Link ISR <b>ICSS_EmacLinkISR</b>. It's possible that the link interrupt is configured incorrectly or MDIO is not triggering the interrupts. (see <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Link_Interrupt">here</a> on how to configure Link Interrupt) In which case one needs to put a breakpoint in the ISR <b>ICSS_EmacLinkISR</b> and disconnect or connect the cable on any one port. The breakpoint should get hit, if it does not then there is some issue with the interrupt configuration.
</p><p>PHY status is read and status updated as shown below
</p>
<pre>/*Read Link status for Port 0*/
linkStatus = ENETPhyDevLinkStatus(DEVICE_ID_ENET_PHY_MII, 0, 3);
((ICSSEMAC_Object*)icssEmacHandle-&gt;object)-&gt;linkStatus[0]=(uint8_t)linkStatus;
</pre>
<p>Even if the ISR is hit it's also possible; in case different PHY's (compared to those on EVM) are used that the PHY status registers are read incorrectly, if that's the issue then please consult the porting guide and reference manual for your PHY to figure out where the issue could be.
</p>
<h3><span class="mw-headline" id="Checking_if_Receive_is_working">Checking if Receive is working</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=9" title="Edit section: Checking if Receive is working">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The receive path has been explained previously in the developer guide. See <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Rx_Data_Path">here</a>. Rx issues can manifest themselves in several ways, the following table covers most of them (not exhaustively!)
</p>
<table border="1" cellspacing="0" cellpadding="4" rules="all" style="margin:1em 1em 1em 0; border:solid 1px #aaa; border-collapse:collapse;empty-cells:show;">
  
<caption><b>Receive issues and causes</b>
</caption>
<tbody><tr>
<th>Issue
</th>
<th>Probable Cause
</th></tr>
<tr>
<td>Host not receiving Multicast/Broadcast frames
</td>
<td>Rx interrupt not configured correctly,
<p>Firmware not receiving, 
Storm Prevention enabled
Rx is disabled
</p>
</td></tr>
<tr>
<td>Unicast Packets (for Host)being dropped
</td>
<td>Same as above except Storm Prevention
<p>Interface MAC not configured correctly
</p>
</td></tr>
<tr>
<td>Multicast/Broadcast frames not being forwarded
</td>
<td>Storm Prevention enabled
<p>Firmware not receiving,
Rx is disabled
</p>
</td></tr>
<tr>
<td>Unicast frames (not for Host) not being forwarded
</td>
<td>Firmware not receiving
<p>Rx is disabled
</p>
</td></tr>
<tr>
<td>Driver receiving packets but Raw socket not receiving frames
</td>
<td>NDK issues (there is a known issue, please see below)
</td></tr>
<tr>
<td>Packets are getting dropped
</td>
<td>Storm Prevention enabled
<p>Data is coming in too fast. See Interrupt pacing <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Interrupt_Pacing">section</a> to understand this behavior
</p>
</td></tr></tbody></table>
<p>The first step is to identify the exact problem, to do that please perform these steps in order.
</p>
<ol><li><b>Check if Rx is disabled</b>&#160;: It's possible to disable Rx in firmware through IOCTL. This is controlled through a location in ICSS memory. See <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Memory_Map">memory map</a>. Check this as a very first step. It's not a common error but it's possible that user is invoking the IOCTL by mistake.</li>
<li><b>Check if firmware is receiving packets</b>&#160;: See statistics <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Statistics">this</a> and <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_debug_guide.html#Check_Statistics">this</a> and find out if PRU is receiving the frames. Failure to receive frames in firmware can indicate other issues like corrupted frames, link negotiation failure or PHY related issues.</li>
<li><b>Check if Rx interrupt is being asserted</b>&#160;: This can be one of the reasons why Host would not receive packets. Put a break point in <b>ICSS_EmacRxInterruptHandler</b> and send a single packet using any PC based tool. The ISR should get hit. Refer to this <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Rx_Interrupt">section</a> on how to configure the interrupt properly if interrupt is not being asserted.</li>
<li><b>Check if Packets are being copied in driver</b>&#160;: If the interrupt is asserted but packets do not reach the application, check Host statistics to verify if packets are being received correctly in the driver. Refer to the <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Rx_Data_Path">section</a>on Rx data path and put a breakpoint in <b>RxTask</b>. Step through to verify that the priority is set correctly and packets are being copied properly. If interrupt is being asserted correctly but packet length is zero it indicates some data corruption in the receive queues or firmware behaving incorrectly, this scenario should not occur.</li>
<li><b>Check if NDK is receiving the frames</b>&#160;: If driver is receiving the frames and user cannot see frames in socket then it indicates issues with TCP/IP stack. Refer to <a rel="nofollow" class="external text" href="http://www.ti.com/lit/ug/spru523i/spru523i.pdf">NDK User's guide</a> on correct usage of sockets. The example socket application provided in the developer guide <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Usage">here</a> is known to work though. In addition to this check if NDK buffers have been allocated correctly. If you are using your own TCP/IP stack refer to the Porting Guide and double check.</li>
<li><b>Check if Storm prevention is enabled</b>&#160;: This is one of the most common reasons why throughput may get lowered or if the threshold is set incorrectly packets may not reach Host at all. Check if storm prevention module is enabled by checking the variable <b>suppressionEnabled</b> for both ports. Refer to <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Design_2">this</a> for more details. Additionally one should check the statistics to see if the PRU statistics <b>stormPrevCounter</b> is getting incremented.</li>
<li><b>Check Interface MAC</b>&#160;: The firmware compares the interface MAC written to the PRU memory by the Host against the incoming packets destination MAC to verify if the packet must be forwarded to Host or cut-through. Please refer to the <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Memory_Map">memory map</a> and check if the MAC value is what you are expecting it to be.</li>
<li><b>Queue Overflow</b>&#160;: If too many packets are received on a single queue without Host emptying them out then overflow may occur, packets will be lost in such a scenario. This is somewhat related to throughput issues but may occur independently as well.</li>
<li><b>Check throughput</b>&#160;: This is applicable in case everything else appears to be correct but the number of packets reaching the Host is not 100% of the transmitted value. This can happen because of two reasons. 1. Data rate is too fast and interrupt pacing is disabled. 2. Processing on Host is too slow and driver cannot cope with the rate at which firmware is putting data in the queue. In such a scenario first turn on Interrupt pacing to find if it solves the issue (interrupt pacing has it's own limitations, refer to <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html#Interrupt_Pacing">this</a> to know more about it), if issue is still not resolved then try to find the throughput by comparing the number of packets received on the Host vs that in the firmware.</li></ol>
<p><b>More on Throughput</b>&#160;: If throughput is low then try to find out how the Rx processing on Host can be sped up or if any other high priority task is blocking the execution of <b>RxTask</b>. The EMAC and switch are tested during release to cope with 100% throughput at line rate (960 IPG and 64 byte size packet) so any drop in throughput can only be caused by additional loading on the CPU. Use UIA which comes SYSBIOS for this purpose. Usage given <a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_debug_guide.html#Checking_the_system_performance_using_UIA">here</a>
</p>
<h3><span class="mw-headline" id="Checking_if_Transmit_is_working">Checking if Transmit is working</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=10" title="Edit section: Checking if Transmit is working">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Because of it's nature Tx is much more reliable and there are far fewer issues related to it when compared to Rx. Transmit issues can be classified into two types. See <a href="ICSS_EMAC_LLD_developers_guide.html#Tx_Data_Path" title="ICSS EMAC LLD developers guide">Tx data path</a> for more information.
</p>
<ol><li><b>Cut-through issues</b>&#160;: Packets received on one port and meant to go out of the opposite port. (Not applicable to EMAC)</li>
<li><b>Transmit from Host</b>&#160;: Packets sent out from the Host on any one port.</li></ol>
<p>As a first step please check the statistics on firmware as well as Host to see if any packets have been sent out. Try to trace where the issue is by comparing transmit statistics for Host and firmware.
</p><p>The probable causes for transmit not working are listed below. This can also be used as a checklist for debugging.
</p>
<ol><li><b>Link down</b>&#160;: The link event is mapped to an ISR <b>ICSS_EmacLinkISR</b> which in turn calls another API <b>ICSS_EmacUpdatePhyStatus</b> to update the link status in firmware. If this is not done correctly then it's possible that firmware will read the event as link down even though physically the link is up. Please check the link status to make sure that this is not the case. The Tx API checks for link and will not transmit if the link is down so this issue is more relevant to cut-through/store-forward. More on Link status <a href="ICSS_EMAC_LLD_debug_guide.html#Check_Link_Status" title="ICSS EMAC LLD debug guide">here</a>.</li>
<li><b>Incorrect speed</b>&#160;: The link ISR also checks for speed and duplexity values. The values are written to in the same ISR <b>ICSS_EmacUpdatePhyStatus</b>, if the speed is read incorrectly then it's possible that firmware will not send out packets or may send out garbage. In such a scenario firmware statistics will count the packets as successful transmit but Tx might not actually happen. The quickest way to debug this issue is to read the ICSS memory directly in CCS memory window. Interface speed is written directly in memory at the offset mentioned in <a href="ICSS_EMAC_LLD_developers_guide.html#Memory_Map" title="ICSS EMAC LLD developers guide">memory map</a>, please verify the value (as mentioned in memory map) and compare with the actual interface speed.</li>
<li><b>Incorrect pinmux for Collision/Carrier Sense</b>&#160;:  This is applicable in case of developers using their custom boards, it's important that the collision and carrier sense signals be wired correctly (see ICEv2 <a rel="nofollow" class="external text" href="http://www.ti.com/tool/tmdsice3359#Technical%20Documents">layout</a>) because the transmit code relies on these two signals to implement half duplex functionality and wrong values may result in transmit problems. If there is an issue with pinmuxing these two pins it's recommended that half duplex functionality be disabled. Half Duplex functionality is controlled by the variable <b>halfDuplexEnable</b></li>
<li><b>Queue contention issues</b>&#160;: Looking at the QoS <a href="ICSS_EMAC_LLD_developers_guide.html#Quality_of_Service_and_Queues" title="ICSS EMAC LLD developers guide">scheme</a> it's possible that there is a contention for the transmit queue when both Host and the opposite port are trying to transmit on the same port. In such cases if there are too many packets vying for the contention queue they will be dropped. Such conditions are rare.</li>
<li><b>Queue overflow</b>&#160;: As the name suggests if too many packets are sent out on a single queue then overflow can happen and packets may get lost.</li>
<li><b>NDK transmit</b>&#160;: Issues with NDK buffers may cause issues with Tx, in such cases put a breakpoint in <b>ICSS_EmacTxPacket</b> to see if NDK is calling it.</li></ol>
<h3><span class="mw-headline" id="Check_Statistics">Check Statistics</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=11" title="Edit section: Check Statistics">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Statistics form the core of debugging so this section is very important. A brief introduction to statistics has been provided previously in the statistics <a href="ICSS_EMAC_LLD_developers_guide.html#Statistics" title="ICSS EMAC LLD developers guide">section</a> of developer guide. This part explains how to use it for the purpose of debugging.
</p><p>As previously explained, statistics can be divided into two groups
</p>
<ul><li>On Firmware</li>
<li>Host based</li></ul>
<p>Host statistics are a subset of Firmware based statistics except some specialized statistics like <b>rxUnknownProtocol</b> and <b>linkBreak</b>. This property can be used to find out how many packets are being received in the firmware and how many are reaching Host. 
</p>
<h4><span class="mw-headline" id="Getting_the_values">Getting the values</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=12" title="Edit section: Getting the values">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Statistics are accessible in three ways
</p>
<ul><li><b>IOCTL calls</b>&#160;: IOCTL calls (including an example) have been previously explained <a href="ICSS_EMAC_LLD_developers_guide.html#IOCTL" title="ICSS EMAC LLD developers guide">here</a> in developer guide.</li>
<li><b>Reading directly in memory window</b>&#160;: (This applies only to PRU based statistics). Use the statistics <a href="ICSS_EMAC_LLD_developers_guide.html#Design_3" title="ICSS EMAC LLD developers guide">memory map</a> to find out the offset and look at the memory directly. Information on how to access the ICSS memory is provided <a href="ICSS_EMAC_LLD_debug_guide.html#Accessing_Memory" title="ICSS EMAC LLD debug guide">here</a>.</li>
<li><b>In CCS watch window</b>&#160;: When using CCS the statistics can be read directly through the ICSS EMAC handle. Host statistics are available through <b>hostStat</b> while PRU statistics are available through <b>pruStat</b>. An example code snippet from <b>TxPacketEnqueue</b> API shows host statistics being accessed.</li></ul>
<pre>hostStatistics_t* hostStatPtr;
hostStatPtr = (hostStatistics_t*)((((ICSSEMAC_Object*)icssEmacHandle-&gt;object)-&gt;hostStat));
/*Access port specific statistics by incrementing the pointer*/
hostStatPtr += (portNumber - 1);
ICSS_EmacUpdateTxStats(macAddr,(unsigned int)lengthOfPacket, hostStatPtr);
</pre>
<p><b>NOTE&#160;:</b> Since they are void members they need to be typecast to access the members in CCS watch window.
</p>
<h4><span class="mw-headline" id="Example_Usage">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=13" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Described below are some scenarios which involve multiple statistics, this will help the developer understand how to use statistics.
</p><p><b>Example 1:</b>
For example assume that 100k multicast packets of size 64 bytes each are sent to Port 1 of switch (EtherNet/IP adapter example) and storm prevention is enabled such that 10k out of those 100k packets are dropped, out of those 990k, 10k packets have CRC error so the total number of packets reaching Host is only 980k but 990k packets get cut-through (multicast packets are cut-through except some protocol specific packets) because CRC is not verified for cut-through frames. For this example the statistics will look like this (only relevant fields have been populated)
</p>
<table class="wikitable">

<tbody><tr>
<th>Member</th>
<th>Host Stats</th>
<th>Port 0 Stats</th>
<th>Port 1 Stats
</th></tr>
<tr>
<td><i>rxMcast</i></td>
<td>980,000</td>
<td>Example</td>
<td>Example
</td></tr>
<tr>
<td><i>txMcast</i></td>
<td>0</td>
<td>Example</td>
<td>Example
</td></tr>
<tr>
<td><i>rxCRCFrames</i></td>
<td>NA</td>
<td>10,000</td>
<td>0
</td></tr>
<tr>
<td><i>stormPrevCounter</i></td>
<td>NA</td>
<td>10,000</td>
<td>0
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Accessing_Memory">Accessing Memory</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=14" title="Edit section: Accessing Memory">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="ICSS_Shared_RAM">ICSS Shared RAM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=15" title="Edit section: ICSS Shared RAM">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This section explains how to access ICSS memory. The icss_emacSwitch.h file contains the offset information. 
</p><p>The DRAM base addresses for Port 1 and Port 2 can be obtained by adding emacHandle1 to Expressions tab in CCS and typecasting it to ICSSEMAC_HwAttrs.
</p><p>For AM335x, the addresses are:
</p><p><a href="File_Dramaddr.html" class="image"><img alt="Dramaddr.png" src="https://processors.wiki.ti.com/images/c/c4/Dramaddr.png" width="664" height="332" /></a>
</p><p><br />
<b>Example:</b> For example, if storm prevention counter location needs to be accessed for Port 1 of ICEv2 EVM, the following steps give the value of the location to be entered in the Memory Browser of CCS:
</p>
<pre>#define STORM_PREVENTION_OFFSET   	  STATISTICS_OFFSET + STAT_SIZE
</pre>
<p>where,
STATISTICS_OFFSET is 0x1f00 and STAT_SIZE is RX_1024_MAX_BYTE_FRAME_OFFSET + 4,
RX_1024_MAX_BYTE_FRAME_OFFSET is defined as 0x88.
This gives 0x1f00 + 0x88 + 4 = 0x1f8c
</p><p>Hence enter 0x4a301f8c in the Memory Browser and check the content. If the value is 01, storm prevention functionality is enabled and if it is 00, it is disabled.
</p><p><a href="File_Stormprev.html" class="image"><img alt="Stormprev.png" src="https://processors.wiki.ti.com/images/2/21/Stormprev.png" width="800" height="467" /></a>
</p><p><br />
Similarly, the value would be 0x4a302000 + 0x1f8c (DRAM base address for Port 2 + Storm Prevention Offset) = 0x4a303f8c for Port 2 of ICEv2.
</p><p>For AM437x, the DRAM base addresses are as follows:
</p><p><a href="File_Dramaddram4.html" class="image"><img alt="Dramaddram4.png" src="https://processors.wiki.ti.com/images/1/18/Dramaddram4.png" width="677" height="321" /></a>
</p><p><br />
</p>
<h2><span class="mw-headline" id="System_Debug">System Debug</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=16" title="Edit section: System Debug">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span id="SYS/BIOS"></span><span class="mw-headline" id="SYS.2FBIOS">SYS/BIOS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=17" title="Edit section: SYS/BIOS">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Using_ROV_to_Debug_RTOS">Using ROV to Debug RTOS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=18" title="Edit section: Using ROV to Debug RTOS">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>To view ROV tab, goto Tools -&gt; RTOS Object View (ROV) and halt the debug session.
</p><p><a href="File_Rov.html" class="image"><img alt="Rov.png" src="https://processors.wiki.ti.com/images/c/c8/Rov.png" width="800" height="395" /></a>
</p><p><br />
</p>
<h4><span class="mw-headline" id="Checking_the_system_performance_using_UIA">Checking the system performance using UIA</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=19" title="Edit section: Checking the system performance using UIA">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The UIA (Unified Instrumentation Architecture) is a target-side package that provides instrumentation services which can be downloaded from <a rel="nofollow" class="external autonumber" href="http://software-dl.ti.com/dsps/dsps_public_sw/sdo_sb/targetcontent/uia/index.html">[1]</a>. System Analyzer is a suite of host-side tools that use data captured from software instrumentation, hardware instrumentation, and CPU trace to provide visibility into the real-time performance of the target application, which includes the menu commands in Tools &gt; RTOS Analyzer menu of CCS.
</p><p>The following code needs to be added to the configuration file to enable performance tests on AM335x/AM437x using UIA 2.x version:
</p>
<pre>var LoggingSetup = xdc.useModule('ti.uia.sysbios.LoggingSetup');
var SysStd = xdc.useModule('xdc.runtime.SysStd');
</pre>
<pre>System.SupportProxy = SysStd;
</pre>
<pre>/* Enable CPU Load logging */
LoggingSetup.loadLogging = true;
</pre>
<pre>/*
 *  Enable Task, Swi, and Hwi Load logging. This allows the Idle Task
 *  usage to make more sense. Otherwise Hwi and Swi load is factored into
 *  each task's usage.
 */
LoggingSetup.loadTaskLogging = true;
LoggingSetup.loadSwiLogging = true;
LoggingSetup.loadHwiLogging = true;
</pre>
<pre>LoggingSetup.sysbiosHwiLogging = true;
LoggingSetup.sysbiosSwiLogging = true;
LoggingSetup.sysbiosLoggerSize = 65536;
Main.common$.diags_ENTRY = Diags.ALWAYS_ON;
Main.common$.diags_EXIT = Diags.ALWAYS_ON;
LoggingSetup.disableMulticoreEventCorrelation = true;
</pre>
<p>For new log records, the ARM should be paused. The CPU load graph gives the loading percentage which can be used to determine the additional task needed to load CPU to a specific level to perform NDK tests at different loads.
</p><p><br />
</p>
<h4><span id="Using_SYS/BIOS_Timer_to_measure_performance"></span><span class="mw-headline" id="Using_SYS.2FBIOS_Timer_to_measure_performance">Using SYS/BIOS Timer to measure performance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=20" title="Edit section: Using SYS/BIOS Timer to measure performance">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<h3><span class="mw-headline" id="NDK">NDK</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=21" title="Edit section: NDK">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Performing_NDK_tests">Performing NDK tests</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=22" title="Edit section: Performing NDK tests">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The steps to be followed in order to enable NDK Performance Tests are:
</p><p>1. Add this code snippet to the respective configuration files (am335x_app.cfg or am437x_app.cfg) 
</p>
<pre>Global.networkOpenHook = "&amp;netOpenHook";
Global.networkCloseHook = "&amp;netCloseHook";
</pre>
<p>2. Ensure that nethooks.c file is present in the application folder. (If not, copy it from \ti_internal\examples\ethernet_switch\Tcp)
</p><p>3. Build and load the application. 
</p><p>4. In windows command prompt, navigate to the location where send.exe resides in the test PC (e.g., C:\ti\ndk_2_24_02_31\packages\ti\ndk\winapps).
</p><p>5. Enter this command: send.exe&#160;%DUT_IP_ADDRESS% 100 
</p><p>where,
</p><p>DUT_IP_ADDRESS=192.168.2.3 for Port 1 and 192.168.1.3 for Port 2 in case of EMAC application
</p><p>100 is the console print interval, i.e., a console print appears for every 100 packets transmitted
</p><p>6. Similarly, recv.exe, echoc.exe and testudp.exe applications are run to test performance.
</p><p><br />
</p>
<h4><span class="mw-headline" id="Measuring_network_performance">Measuring network performance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=23" title="Edit section: Measuring network performance">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The network performance can be measured from the console output upon running the above tests. Consider the log when send.exe application is run for a few minutes till it stabilizes as below:
</p><p><a href="File_Ndksend.html" class="image"><img alt="Ndksend.png" src="https://processors.wiki.ti.com/images/5/5b/Ndksend.png" width="643" height="303" /></a>
</p><p>Here, 8192 bytes are being sent at 12800000 bytes/s. As NDK performance is measured at MBPS (Megabits per second), conversion is:
</p><p>1 byte = 7.6294e-6 megabits
</p><p>which gives (12800000*8/1024)/1024 = 97.65 MBPS
</p><p><b>Note:</b> The above procedure is applicable for send.exe, recv.exe and echoc.exe tests. The testudp.exe application tests UDP packet payloads from 1 to 1472 bytes and test loop should pass.
</p><p><br />
</p>
<h4><span class="mw-headline" id="Checking_NDK_Buffers">Checking NDK Buffers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=24" title="Edit section: Checking NDK Buffers">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<h2><span class="mw-headline" id="Frequently_Encountered_Issues">Frequently Encountered Issues</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=25" title="Edit section: Frequently Encountered Issues">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Build_Issues">Build Issues</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=26" title="Edit section: Build Issues">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Tools_compatibility">Tools compatibility</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=27" title="Edit section: Tools compatibility">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>One of the frequent issues faced during build are issues of tools compatibility. The SDK build is dependent on NDK, SysBIOS and XDC Tools. While we try to maintain backward compatibility it's not always possible to do so, hence it's recommended that the correct versions of the tools are downloaded and used. The compatible versions are listed in the user guide (<a rel="nofollow" class="external text" href="SYSBIOS_Industrial_SDK_02.01.00-2.html">sample</a>) of every SDK release.
</p>
<h4><span class="mw-headline" id="System_Variables">System Variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=28" title="Edit section: System Variables">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The variable <i>IA_SDK_HOME</i> must point to <i>(place where SDK is installed)/public/sdk</i>, most often than not this is the main reason for build issues, especially when multiple SDK's are installed. This variable is used everywhere during the build process to select include files, libraries, tools etc.
</p>
<h4><span class="mw-headline" id="Migration_from_1.1_to_2.1_Industrial_SDK">Migration from 1.1 to 2.1 Industrial SDK</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;section=29" title="Edit section: Migration from 1.1 to 2.1 Industrial SDK">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>There is a possibility of build issue while migrating from 1.1 to 2.1 Industrial SDK. The “Debug” folder needs to be removed from the project as separate build configurations are available for AM335x and AM437x EVMs in 2.1 SDK.
</p></div>
<!-- 
NewPP limit report
Cached time: 20201130103011
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.091 seconds
Real time usage: 0.097 seconds
Preprocessor visited node count: 145/1000000
Preprocessor generated node count: 221/1000000
Post‐expand include size: 635/2097152 bytes
Template argument size: 25/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.932      1 -total
 39.93%    1.570      1 Template:SpArticleStart
 35.33%    1.389      1 Template:Prettytable
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:39925-0!canonical and timestamp 20201130103011 and revision id 235573
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>ICSS EMAC LLD debug guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>ICSS EMAC LLD debug guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>ICSS EMAC LLD debug guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>ICSS EMAC LLD debug guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>ICSS EMAC LLD debug guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>ICSS EMAC LLD debug guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>ICSS EMAC LLD debug guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>ICSS EMAC LLD debug guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>ICSS EMAC LLD debug guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;oldid=235573">https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;oldid=235573</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="https://processors.wiki.ti.com/index.php?title=Category:Pages_with_broken_file_links&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages with broken file links (page does not exist)">Pages with broken file links</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=ICSS+EMAC+LLD+debug+guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="ICSS_EMAC_LLD_debug_guide.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:ICSS_EMAC_LLD_debug_guide&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="ICSS_EMAC_LLD_debug_guide.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/ICSS_EMAC_LLD_debug_guide.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/ICSS_EMAC_LLD_debug_guide.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;oldid=235573" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=ICSS_EMAC_LLD_debug_guide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 9 September 2018, at 04:02.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.091","walltime":"0.097","ppvisitednodes":{"value":145,"limit":1000000},"ppgeneratednodes":{"value":221,"limit":1000000},"postexpandincludesize":{"value":635,"limit":2097152},"templateargumentsize":{"value":25,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    3.932      1 -total"," 39.93%    1.570      1 Template:SpArticleStart"," 35.33%    1.389      1 Template:Prettytable"]},"cachereport":{"timestamp":"20201130103011","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":230});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/ICSS_EMAC_LLD_debug_guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 08:45:55 GMT -->
</html>
