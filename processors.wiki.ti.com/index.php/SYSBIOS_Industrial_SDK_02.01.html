<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/SYSBIOS_Industrial_SDK_02.01.01_User_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 08:39:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>SYSBIOS Industrial SDK 02.01.01 User Guide - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"SYSBIOS_Industrial_SDK_02.01.01_User_Guide","wgTitle":"SYSBIOS Industrial SDK 02.01.01 User Guide","wgCurRevisionId":214050,"wgRevisionId":214050,"wgArticleId":40208,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Industrial"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"SYSBIOS_Industrial_SDK_02.01.01_User_Guide","wgRelevantArticleId":40208,"wgRequestId":"2559744c53cbe76fc2eee8ef","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-SYSBIOS_Industrial_SDK_02_01_01_User_Guide rootpage-SYSBIOS_Industrial_SDK_02_01_01_User_Guide skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">SYSBIOS Industrial SDK 02.01.01 User Guide</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div style="width:800px; text-align:justify;"> 
<div style="display:block; clear: both; margin: 10px 0px; padding: 0px; background-color: #ee1d23; text-align:right;"><a href="File_TIBanner.html" class="image"><img alt="TIBanner.png" src="https://processors.wiki.ti.com/images/c/cd/TIBanner.png" width="667" height="87" /></a></div>
<div style="display:block; margin: 5px 0px; padding: 2px 5px; font-size:1.5em; font-weight:bold; text-align:left;">SYSBIOS Industrial SDK 02.01.01 User Guide</div>
<div style="display:block; margin: 5px 0px; padding: 2px; color: #666666; font-size:1.0em; font-weight:bold; text-align:right;"></div> <br /> 
<p>Revision History 
</p>
<table width="600" cellspacing="1" cellpadding="1" border="1" align="left">

<tbody><tr>
<td>Revision
</td>
<td>Date
</td>
<td>Description
</td></tr>
<tr>
<td>1.0<span style="white-space: pre;" class="Apple-tab-span"> </span>
</td>
<td>27-Oct-2015
</td>
<td>Created initial version of the document
</td></tr></tbody></table>
<p><br /> 
</p><p><br /> 
</p><p><br /> 
</p><p><br /> 
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Industrial_SDK_Introduction"><span class="tocnumber">1</span> <span class="toctext">Industrial SDK Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Reference_Documents"><span class="tocnumber">2</span> <span class="toctext">Reference Documents</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#SDK_Directory_Structure"><span class="tocnumber">3</span> <span class="toctext">SDK Directory Structure</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#System_Requirements"><span class="tocnumber">4</span> <span class="toctext">System Requirements</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Hardware"><span class="tocnumber">4.1</span> <span class="toctext">Hardware</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Software"><span class="tocnumber">4.2</span> <span class="toctext">Software&#160;</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#SDK_Setup"><span class="tocnumber">5</span> <span class="toctext">SDK Setup</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Pre-Built_Binaries_and_Libraries"><span class="tocnumber">5.1</span> <span class="toctext">Pre-Built Binaries and Libraries</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#SYS.2FBIOS_Driver"><span class="tocnumber">6</span> <span class="toctext">SYS/BIOS Driver</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Board"><span class="tocnumber">7</span> <span class="toctext">Board</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Bootloader"><span class="tocnumber">8</span> <span class="toctext">Bootloader</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Examples"><span class="tocnumber">9</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Supported_Boards"><span class="tocnumber">9.1</span> <span class="toctext">Supported Boards</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#EnDat_diagnostic"><span class="tocnumber">9.2</span> <span class="toctext">EnDat diagnostic</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#EtherNet.2FIP"><span class="tocnumber">9.3</span> <span class="toctext">EtherNet/IP</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Ethernet_MAC"><span class="tocnumber">9.4</span> <span class="toctext">Ethernet MAC</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#EtherCAT"><span class="tocnumber">9.5</span> <span class="toctext">EtherCAT</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#HSR"><span class="tocnumber">9.6</span> <span class="toctext">HSR</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#PRP"><span class="tocnumber">9.7</span> <span class="toctext">PRP</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Example_Utils"><span class="tocnumber">9.8</span> <span class="toctext">Example Utils</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Motor_Control"><span class="tocnumber">9.9</span> <span class="toctext">Motor Control</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#ADC_sampling_firmware_using_ICSS0_PRU1"><span class="tocnumber">9.9.1</span> <span class="toctext">ADC sampling firmware using ICSS0_PRU1</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#PRU_ADC_sampling_firmware_Host_interface"><span class="tocnumber">9.9.2</span> <span class="toctext">PRU ADC sampling firmware Host interface</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#PRU_ADC_sampling_firmware_overview"><span class="tocnumber">9.9.3</span> <span class="toctext">PRU ADC sampling firmware overview</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Sigma_Delta_Decimation_Filter"><span class="tocnumber">9.9.4</span> <span class="toctext">Sigma Delta Decimation Filter</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#EnDat"><span class="tocnumber">9.9.5</span> <span class="toctext">EnDat</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Field_Oriented_Control_.28FOC.29"><span class="tocnumber">9.9.6</span> <span class="toctext">Field Oriented Control (FOC)</span></a>
<ul>
<li class="toclevel-4 tocsection-28"><a href="#Position_Offset_Compensation"><span class="tocnumber">9.9.6.1</span> <span class="toctext">Position Offset Compensation</span></a></li>
<li class="toclevel-4 tocsection-29"><a href="#PI_Tuning"><span class="tocnumber">9.9.6.2</span> <span class="toctext">PI Tuning</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-30"><a href="#Profibus_Slave"><span class="tocnumber">9.10</span> <span class="toctext"><span>Profibus Slave</span></span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Profibus_Master"><span class="tocnumber">9.11</span> <span class="toctext"><span>Profibus Master</span></span></a>
<ul>
<li class="toclevel-3 tocsection-32"><a href="#Board_Setup"><span class="tocnumber">9.11.1</span> <span class="toctext">Board Setup</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="#Running_and_configuring_the_Profibus_master_application"><span class="tocnumber">9.11.2</span> <span class="toctext">Running and configuring the Profibus master application</span></a></li>
<li class="toclevel-3 tocsection-34"><a href="#Limitations"><span class="tocnumber">9.11.3</span> <span class="toctext">Limitations</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-35"><a href="#PROFINET_IRT"><span class="tocnumber">9.12</span> <span class="toctext">PROFINET IRT</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#PROFINET_RT.2FMRP"><span class="tocnumber">9.13</span> <span class="toctext">PROFINET RT/MRP</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Sigma_Delta_Decimation_Filter_GUI_client"><span class="tocnumber">9.14</span> <span class="toctext">Sigma Delta Decimation Filter GUI client</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-38"><a href="#Building_Full_Feature_EtherCAT_Application"><span class="tocnumber">10</span> <span class="toctext">Building Full Feature EtherCAT Application</span></a>
<ul>
<li class="toclevel-2 tocsection-39"><a href="#Generating_ESI_Header_file_From_ESI_xml"><span class="tocnumber">10.1</span> <span class="toctext">Generating ESI Header file From ESI xml</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-40"><a href="#Building_Full_Feature_SNMP_stack"><span class="tocnumber">11</span> <span class="toctext">Building Full Feature SNMP stack</span></a></li>
<li class="toclevel-1 tocsection-41"><a href="#Building_Bootloader"><span class="tocnumber">12</span> <span class="toctext">Building Bootloader</span></a></li>
<li class="toclevel-1 tocsection-42"><a href="#Generating_Executable_Binary_-_Post_Build_Script"><span class="tocnumber">13</span> <span class="toctext">Generating Executable Binary - Post Build Script</span></a></li>
<li class="toclevel-1 tocsection-43"><a href="#Technical_Support_and_Product_Updates"><span class="tocnumber">14</span> <span class="toctext">Technical Support and Product Updates</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Industrial_SDK_Introduction">Industrial SDK Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=1" title="Edit section: Industrial SDK Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>The SYSBIOS-based software development kit (SDK) for industrial communications is designed for the Sitara AM335x and AM437x ARM microprocessor family(with PRU-ICSS IP). The SDK enables customers add real-time industrial communications, motor control and feedback capabilities easily and quickly to their system. By making all the basic system software components immediately available, the Kit allows developers to focus on their application code, where they can add the most differentiation. The SDK is optimized to support real-time industrial communications protocols such as EtherCAT, Profibus, Profinet, Ethernet/IP and motor feedback functions like EnDat, BISS, Sigma Delta Decimation Filter. The SDK includes a real-time, low-footprint SYSBIOS kernel with boot loader and sample industrial applications to get started quickly.
<br /> 
</p><p>The SYSBIOS Industrial SDK combines all the software components and tools needed to begin development of SYS/BIOS-based applications on the ARM. The SDK supports AM437x IDK and AM335x ICEv2 hardware platform and includes the following 
</p>
<ul><li>Open source SYS/BIOS Real Time Operating System (RTOS)</li>
<li>Bootloader for AM437x IDK and AM335x ICEv2 with support to boot from various peripherals</li>
<li>Library of peripheral drivers integrated with SYSBIOS supporting IDK and ICEv2</li>
<li>Sample applications demonstrating peripheral use cases for IDK  and ICEv2</li>
<li>Code Composer Studio integrated development environment (IDE) v.6.1</li>
<li>Sample industrial input/output applications over communication protocols such as EtherCAT</li>
<li>Motor and Drive feedback capability with support for interfaces like EnDat, Sigma Delta Decimation Filter etc</li>
<li>Evaluation versions of protocol stacks for industrial communications such as EtherCAT, EnDat and many others to facilitate software development</li></ul>
<p><br /> 
</p>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><span style="background:#EEEEEEC">
</span>The Industrial SDK is supported on AM437x IDK and AM335x ICEv2</div> 
<p>A high level block diagram of AM437x IDK is shown below. 
</p>
<br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="File_Am437x_idk_functional_diag.html" class="image"><img alt="Am437x idk functional diag.jpg" src="https://processors.wiki.ti.com/images/f/f5/Am437x_idk_functional_diag.jpg" width="600" height="291" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Am437x_idk_functional_diag.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br />
<p><b>Figure 1 AM437x Industrial Development Kit</b>
</p><p>A high level block diagram of AM335x ICEv2 is shown below. 
</p>
<br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="File_ICE_V2_Block_Diagram1.html" class="image"><img alt="ICE V2 Block Diagram1.JPG" src="https://processors.wiki.ti.com/images/8/86/ICE_V2_Block_Diagram1.JPG" width="600" height="391" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_ICE_V2_Block_Diagram1.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br />
<p><b>Figure 2 AM335x Industrial Communication Engine v2</b>
</p><p><br />
</p>
<h1><span class="mw-headline" id="Reference_Documents">Reference Documents</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=2" title="Edit section: Reference Documents">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li><a rel="nofollow" class="external text" href="SYSBIOS_Industrial_SDK_Getting_Started_Guide.html">Industrial SDK Getting Started Guide</a></li>
<li><a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_Release_Notes">Industrial SDK 2.1.1 Release notes</a></li>
<li><a rel="nofollow" class="external text" href="https://e2e.ti.com/support/tools/ccs/f/81/t/947615">SYS/BIOS Getting Started Guide</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com.cn/cn/lit/ug/spruex3o/spruex3o.pdf">SYS/BIOS User Guide</a></li>
<li><a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_developers_guide.html">ICSS EMAC LLD Developers Guide</a></li>
<li><a rel="nofollow" class="external text" href="ICSS_EMAC_LLD_debug_guide.html">ICSS EMAC LLD Debug Guide</a></li>
<li><a rel="nofollow" class="external text" href="FAQ_Sitara_Industrial.html">Frequently Asked Questions for Sitara Industrial</a>\</li>
<li><a rel="nofollow" class="external text" href="Sitara_Indust_SDK_Training.html">Sitara 2.1 Industrial SDK Training Guides</a></li>
<li>API Guides
<ul><li><a rel="nofollow" class="external text" href="PRU_ICSS_EtherCAT_firmware_API_guide.html">EtherCAT Firmware API Guide</a></li>
<li>{IA_SDK_HOME}/board/docs</li>
<li>{IA_SDK_HOME}/interfaces/endat_master/doc</li>
<li>{IA_SDK_HOME}/interfaces/sddf/doc</li>
<li>{IA_SDK_HOME}/os_drivers/docs</li>
<li>{IA_SDK_HOME}/protocols/ethernetip_adapter/docs</li>
<li>{IA_SDK_HOME}/protocols/hsr_prp/docs</li>
<li>{IA_SDK_HOME}/protocols/profibus_slave/doc</li>
<li>{IA_SDK_HOME}/protocols/profibus_master/docs</li>
<li>{IA_SDK_HOME}/protocols/profinet_slave/Docs</li></ul></li>
<li><a rel="nofollow" class="external text" href="SYSBIOS_Industrial_SDK_Migration_guide_from_1.1_to_2.html">Migration Guide from 1.1 to 2.1</a></li>
<li>TI Design
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/tool/TIDEP0025">Single Chip Drive for Industrial Communications and Motor Control</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/tool/TIDA-00209">Isolated Current Shunt and Voltage Measurement Reference Design for Motor Drives Using AM437x</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/tool/TIDA-00172">Reference Design for an Interface to a Position Encoder with EnDat 2.2</a></li></ul></li></ul>
<p><br />
</p><p><br />
</p>
<h1><span class="mw-headline" id="SDK_Directory_Structure">SDK Directory Structure</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=3" title="Edit section: SDK Directory Structure">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<pre>|--- sdk

| &#160; |--- board

|       |--- include

|           |--- icev2am335x

|           |--- idkam437x

|       |--- lib

|       |--- source

|           |--- drivers

|           |--- icev2am335x

|           |--- idkam437x

| &#160; |--- control

| &#160; &#160; &#160; |---foc

| &#160; &#160; &#160; |---math_blocks
 
| &#160; |--- docs

| &#160; &#160; &#160; |---SYSBIOS Industrial SDK 02.XX.XX.XX User Guide.pdf

| &#160; &#160; &#160; |---SYSBIOS Industrial SDK Release Notes.pdf

| &#160; &#160; &#160; |---SYSBIOS Industrial SDK Getting Started Guide.pdf

| &#160; |--- examples

|       |--- endat_diagnostic

| &#160; &#160; &#160; |--- ethercat_slave

|           | --- esi

|       |--- ethernet_mac

|       |--- ethernetip_adapter

|           | --- stc

|       |--- example_utils

|       |--- hsr_prp_app

|           | --- hsr

|           | --- prp

|           | --- snmp

|       |--- motor_control

|       |--- profibus_slave

|           | --- APP

|           | --- GSD

|           | --- include

|       |--- profinet_slave

|           | --- GSD

|           | --- snmp

|       |--- profinet_slave_RT_MRP

|           | --- GSD

|           | --- snmp

|       |--- sddf_gui_client

|   |--- interfaces

|       |--- endat_master

|               |--- doc

|               |--- driver_endat

|               |--- firmware

|               |--- include

|       |--- pru_onchip_adc_sampling

|               |--- firmware

|       |--- sddf

|               |--- doc

|               |--- driver_sddf

|               |--- firmware

|               |--- include

|   |--- os_drivers

|       |--- include

|       |--- lib

|       |--- lld

|               |--- emac

|               |--- pruss

|       |--- source

|   |--- protocols

|       |--- ethercat_slave

|               |--- docs

|               |--- ecat_appl

|                       |--- esi

|                       |--- patch

|                       |--- EcatStack

|               |--- firmware

|               |--- include

|               |--- stack_lib

|       |--- ethernet_mac

|               |--- firmware

|       |--- ethernetip_adapter

|               |--- driver

|               |--- eds

|               |--- firmware

|               |--- include

|               |--- stack_lib

|       |--- hsr_prp

|               |--- drivers

|               |--- firmware

                            |--- hsr

                            |--- prp

|               |--- hsr

|                           |--- lib

|               |--- include

|               |--- prp

|                           |--- lib

|       |--- profibus_slave

|               |--- doc

|               |--- firmware

|               |--- include

|               |--- stack_lib

|       |--- profibus_slave

|               |--- Docs

|               |--- drivers

|               |--- firmware

|               |--- include

|               |--- stack_lib

|       |--- ptp

|               |--- drivers

|               |--- include

|               |--- lib

|               |--- ptpd

|       |--- snmp

|               |--- drivers

|               |--- include

|               |--- stack_lib

| &#160; |--- starterware

| &#160; |--- tools

| &#160; &#160; &#160; |--- bin2header

|       |--- gel


</pre> 
<p><br /> 
<b>board</b> - This folder contains source code for board specific interfaces implementation(Eg: Digital Outputs/Inputs, Flash etc.)
</p><p><b>control</b> - This folder contains source code required for Motor control(FOC and IQMATH)
</p><p><b>docs </b>- This folder contains the pdf versions of the Release Notes, User Guide and Getting Started guide 
</p><p><b>examples </b>- This folder contains examples, their project files, source and include files. Users can build the application in CCS using these files. Please see the [<a rel="nofollow" class="external text" href="SYSBIOS_Industrial_SDK_Getting_Started_Guide.html#Building_and_Running_Sample_Application">Getting Started Guide</a>] for details on building an application 
</p><p><b>interfaces </b>- This folder contains supported motor control interface source, header and firmware
</p><p><b>os_drivers </b>- This folder contains source code and include files for SYS/BIOS driver for AM437x and a pre-built library.<br /> 
</p><p><b>protocols </b>- This folder contains supported industrial automation protocol libraries and/or source codes and their project files. 
</p><p><b>starterware </b>- This contains StarterWare code which provides Device Abstraction Layer libraries and peripheral/board level sample/demo examples that demonstrate the capabilities of the peripherals on a no_OS platform. See <a href="StarterWare.html" title="StarterWare">StarterWare</a> 
</p><p><b>tools </b>- This contains tools supporting application development. For eg GEL files. 
</p><p><br />
</p><p><br />
</p>
<h1><span class="mw-headline" id="System_Requirements">System Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=4" title="Edit section: System Requirements">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Hardware">Hardware</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=5" title="Edit section: Hardware">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>AM437x IDK or AM335x ICEv2</li>
<li>Windows Host Machine with minimum 2GB RAM</li>
<li>Micro SD Card<br /></li></ul>
<h2><span class="mw-headline" id="Software">Software&#160;</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=6" title="Edit section: Software ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/tool/ccstudio">Code Composer Studio</a> version CCS 6.1.1.00022 <br /></li>
<li><a rel="nofollow" class="external text" href="http://software-dl.ti.com/sitara_indus/esd/SYSBIOSSDK-IND-SITARA/02_01_01/index_FDS.html">Industrial SDK</a> version 2.1.1<br /></li>
<li>SYS/BIOS 6.42.2.29&#160;Real Time Operating System<br /></li>
<li>XDC Tool 3.31.2.38_core</li>
<li>NDK 2.24.3.35</li>
<li>Compiler GNU v4.8.4 (Linaro)</li>
<li>Serial console terminal application (like Teraterm, minicom, HyperTerminal)</li></ul>
<p>Note - To be notified when there is a software update select the <b>Alert Me</b> button on the <a rel="nofollow" class="external text" href="http://www.ti.com/tool/SYSBIOSSDK-IND-SITARA">SYS/BIOS Industrial Software Development Kit (SDK) for Sitara™ Processors</a> website<br />
<br />
</p><p><br />
</p>
<h1><span class="mw-headline" id="SDK_Setup">SDK Setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=7" title="Edit section: SDK Setup">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>The SDK setup will install following items in the machine.
</p>
<ul><li>SDK Source files, CCS project files, pre-built libraries and documents</li></ul>
<p>The installation process will use an environment variable called IA_SDK_HOME which will be set to location where the sdk is installed. This variable is used by sdk examples for include and library paths. This should be defined ether as a project or as a CCS user defined variable. 
</p>
<h2><span class="mw-headline" id="Pre-Built_Binaries_and_Libraries">Pre-Built Binaries and Libraries</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=8" title="Edit section: Pre-Built Binaries and Libraries">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The SDK installation comes with following pre-built libraries. These libraries can be used to build user applications quickly.<br /> 
</p>
<ul><li><b>libecat_slave_stack_gcc.a &#160; - &#160; </b>EtherCAT Slave Stack library including PRU Firmwares.</li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\protocols\ethercat_slave\stack_lib\am437x <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\protocols\ethercat_slave\stack_lib\am335x
</p>
<ul><li><b>libethernetip_stack.a</b>&#160;&#160;&#160; -&#160; EtherNet/IP Slave stack library <br /></li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\protocols\ethernetip_adapter\stack_lib\am437x <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\protocols\ethernetip_adapter\stack_lib\am335x
</p>
<ul><li><b>libprofibus.a&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160; -&#160; </b>Profibus Slave stack library<br /></li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\protocols\profibus_slave\stack_lib\ <br />
</p>
<ul><li><b>libprofinet_slave_stack_gcc.a&#160;&#160;&#160;&#160; &#160; -&#160; </b>Profinet Slave stack library<br /></li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\protocols\profinet_slave\stack_lib\am437x <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\protocols\profinet_slave\stack_lib\am335x
</p>
<ul><li><b>libsnmp_core_gcc.a&#160;&#160;&#160;&#160; &#160; -&#160; </b>SNMP core stack library<br /></li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\protocols\snmp_core\stack_lib\am437x <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\protocols\snmp_core\stack_lib\am335x
</p>
<ul><li><b>libsys_bios_driver.a &#160;- &#160;</b>SYS/BIOS specific implementation for accessing peripheral devices and EVM functionality</li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\os_drivers\lib\am437x  <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\os_drivers\lib\am335x
</p>
<ul><li><b>libboard.a &#160;- &#160;</b>StarterWare library for board details</li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\starterware\binary\board\lib\am43xx-evm\a9\ccs\am43xx_release <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\starterware\binary\board\lib\am335x-evm\a8\ccs\am335x_release 
</p>
<ul><li><b>libdal.a &#160;- &#160;</b>Starterware DAL specific initialization library</li></ul>
<p>SDK Path - <br /> 
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\starterware\binary\dal\lib\am43xx-evm\a9\ccs\am43xx_release <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\starterware\binary\dal\lib\am335x-evm\a8\ccs\am335x_release
</p>
<ul><li><b>libdevice.a &#160;- &#160;</b>StarterWare library for peripheral devices</li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\starterware\binary\device\lib\am43xx-evm\a9\ccs\am43xx_release <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\starterware\binary\device\lib\am335x-evm\a8\ccs\am335x_release
</p>
<ul><li><b>libsoc.a &#160;- &#160;</b>StarterWare SOC library</li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\starterware\binary\soc\lib\am43xx-evm\a9\ccs\am43xx_release  <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\starterware\binary\soc\lib\am335x-evm\a8\ccs\am335x_release
</p>
<ul><li><b>libutils.a &#160;- &#160;</b>Starterware Utils libary</li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\starterware\binary\utils\lib\am43xx-evm\a9\ccs\am43xx_release <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\starterware\binary\utils\lib\am335x-evm\a8\ccs\am335x_release
</p>
<ul><li><b>libhsr_lib.a</b>&#160;&#160;&#160; -&#160; HSR Driver library <br /></li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\protocols\hsr_prp\hsr\lib\am437x  <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\protocols\hsr_prp\hsr\lib\am335x
</p>
<ul><li><b>libprp_lib.a</b>&#160;&#160;&#160; -&#160; PRP Driver library <br /></li></ul>
<p>SDK Path - <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
$(IA_SDK_HOME)\protocols\hsr_prp\prp\lib\am437x  <br />
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 
$(IA_SDK_HOME)\protocols\hsr_prp\prp\lib\am335x
</p><p><br /> 
</p><p>The SDK does not include any pre-built binaries, however binaries generated using SDK examples (given below) can be downloaded separately. All of the pre-built binaries except the bootloader are board independent. Please see the release notes for download location link.<br /> 
</p>
<ul><li><b>endat_diagnostic</b> - Sample application demonstrating EnDat master functionality.<br /></li>
<li><b>ethercat_slave</b> - Sample application demonstrating EtherCAT slave functionality.<br /></li>
<li><b>ethernet_mac</b> - Sample application demonstrating Ethernet MAC functionality over PRU-ICSS.<br /></li>
<li><b>example_utils</b> - Sample application demonstrating different peripherals on the board.</li>
<li><b>motor_control</b> - Sample application demonstrating motor control.<br /></li>
<li><b>profibus_slave</b> - Sample application demonstrating Profibus slave functionality.<br /></li>
<li><b>profinet_slave</b> - Sample application demonstrating Profinet slave functionality.<br /></li>
<li><b>sddf_gui_client</b> - Sample application demonstrating SDDF functionality.<br /></li></ul>
<p><br />
</p><p><br />
</p>
<h1><span id="SYS/BIOS_Driver"></span><span class="mw-headline" id="SYS.2FBIOS_Driver">SYS/BIOS Driver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=9" title="Edit section: SYS/BIOS Driver">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>The Industrial SDK provides a driver library for accessing device peripheral modules from a SYS/BIOS application. This has implementation of PRU-ICSS NDK NIMU driver, PRU-ICSS LLD and ICSS-EMAC LLD sources and other utilities. &#160;<br />. The project files can be found at IA_SDK_HOME/os_drivers. There are different build configurations present for AM3x and AM4x(am335x_release, am437x_release)
</p>
<ul><li>PRU ICSS LLD</li></ul>
<p>PRU ICSS Low Level Driver helps the application/drivers to interface with the PRU Subsystem. This module has APIs which can be used to initialize PRU, load firmware and configure PRU-ICSS INTC etc.More information can be found in {IA_SDK_HOME}\os_drivers\docs
</p>
<ul><li>ICSS EMAC LLD</li></ul>
<p>ICSS EMAC LLD (ICSS EMAC Driver) is an ethernet driver implementation over PRU-ICSS. The Driver enables the Ethernet capability of the PRU-ICSS with the help of firmware. This driver has APIs which enables communication between any High Level Driver/Application and EthernetIP or Profinet firmware. The ICSS EMAC Driver can support both EMAC mode and Switch mode (depending on the firmware loaded to PRU-ICSS). For more details please refer {IA_SDK_HOME}\os_drivers\docs
</p><p><br />
</p>
<h1><span class="mw-headline" id="Board">Board</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=10" title="Edit section: Board">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>The Industrial SDK provides a driver library for accessing device peripheral modules from an application. This has implementations for Digital Inputs, Digital Outputs, Flash memory(QSPI and SPI), Rotary Switch and LCD integrated &#160;<br />
The project files can be found at IA_SDK_HOME/board. There are different build configurations present for AM3x and AM4x(am335x_release, am437x_release)
</p>
<h1><span class="mw-headline" id="Bootloader">Bootloader</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=11" title="Edit section: Bootloader">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Starterware provides a simple bootloader, which can be copied to an MMCSD card or flashed to QSPIflash/SPI Flash. Following a power-on-reset the MMCSD card or flash can bootstrap the board. Additionally, the Flash/SD card bootloader can load an application from the MMCSD card/Flash to DDR or Internal RAM and transfer the control to the application. This can be used to provide an application load from reset.
Refer to the Starterware User Guide in {IA_SDK_HOME}\starterware\docs for more details on loading and building the Bootloader.
</p><p><br />
</p>
<h1><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=12" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Following examples and the CCS project files for those are included in the IA-SDK installation package. For details on importing and building samples applications in CCS, please see the [<a rel="nofollow" class="external text" href="SYSBIOS_Industrial_SDK_Getting_Started_Guide.html">SYSBIOS Industrial SDK Getting Started Guide</a>].&#160;<br /> 
</p><p>The project files can be found at IA_SDK_HOME/examples. There are different build configurations present for AM3x and AM4x(am335x_release, am437x_release)
</p>
<h2><span class="mw-headline" id="Supported_Boards">Supported Boards</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=13" title="Edit section: Supported Boards">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<table class="wikitable">

<tbody><tr>
<th>Application/Board</th>
<th>AM437x IDK</th>
<th>AM335xICEv2
</th></tr>
<tr>
<td>Endat master</td>
<td>&#10003;</td>
<td>&#10007;
</td></tr>
<tr>
<td>Ethernet MAC</td>
<td>&#10003;</td>
<td>&#10003;**
</td></tr>
<tr>
<td>EtherNet/IP(ICSS) adapter</td>
<td>&#10003;</td>
<td>&#10003;**
</td></tr>
<tr>
<td>EtherCAT slave</td>
<td>&#10003;</td>
<td>&#10003;**
</td></tr>
<tr>
<td>Example Utils</td>
<td>&#10003;</td>
<td>&#10003;
</td></tr>
<tr>
<td>HSR/PRP</td>
<td>&#10003;</td>
<td>&#10003;
</td></tr>
<tr>
<td>Motor Control</td>
<td>&#10003;</td>
<td>&#10007;
</td></tr>
<tr>
<td>Profibus slave</td>
<td>&#10007;</td>
<td>&#10003;
</td></tr>
<tr>
<td>Profibus Master</td>
<td>&#10007;</td>
<td>&#10003;
</td></tr>
<tr>
<td>ProfinetRT/IRT device</td>
<td>&#10003;</td>
<td>&#10003;**
</td></tr>
<tr>
<td>SDDF GUI client</td>
<td>&#10003;***</td>
<td>&#10007;
</td></tr></tbody></table>
<pre>**Proper jumper settings required (EtherCAT works in ICSS mode only)
</pre>
<p>Jumpers J18 and J19 need to be set accordingly to select CPSW or ICSS mode. Pin2 and Pin3 need to be connected for ICSS mode and Pin1 and Pin2 for CPSW mode.
</p>
<pre>***Require Sigma Delta modulator and adapter card for AM437x IDK as in <a rel="nofollow" class="external autonumber" href="http://www.ti.com/tool/TIDA-00209">[1]</a>
</pre>
<p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="EnDat_diagnostic">EnDat diagnostic</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=14" title="Edit section: EnDat diagnostic">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>EnDat is a bidirectional interface for position encoders. During EnDat operation the EnDat master receives position information from the EnDat position encoder. The EnDat diagnostic application for SYS/BIOS demonstrates the EnDat master operation on the AM437x. <br />
This application is controlled with a terminal interface using a serial over USB connection between the PC host and the EVM. Please connect a USB cable between the PC and the EVM. A serial terminal application (like teraterm/ hyperterminal/ minicom) is then run on the host. To configure, select the serial port corresponding to the port emulated over USB by the EVM. The host serial port should be configured to 115200 baud, no parity, 1 stop bit and no flow control. Connect EnDat encoder to on-board connector J10. EnDat encoder can be connected to on-board connector J10 (channel 0) or using additional transceiver circuitry to use channel 1 or 2 (see note) <br />
The EnDat driver provides a defined set of API's to expose EnDat master interface. The diagnostic invokes these API's to initialize EnDat, configure the host trigger mode, select between concurrent multi channel or single channel configuration, select the channel (channels in the case of concurrent multi channel configuration) and run the firmware. Once these steps are executed, the driver waits for the EnDat to be initialized. It then sets clock frequency to 200KHz (as propagation delay is not yet compensated) and obtains the encoder details including serial number, position resolution etc, and displays on the console. Based on the whether encoder is 2.2 or 2.1 type, it sets clock to either 8MHz or 1MHz respectively. While configuring clock, propagation delay is taken care using the automatically estimated propagation delay (user can override it too). In the case of concurrent multi channel configuration, if propagation delay between various channels are different, that too is automatically taken care. <br />
Once initial setup is over, the diagnostic provides the user with a self explanatory menu. Two types of menu options are presented.  One type (1-14) will send an EnDat command as per EnDat 2.2 specification. The other type (100-108) allows the user to configure clock frequency, various timing parameters, simulate motor control loop using 2.1 command as well as 2.2 command with safety (redundant position information), switch to continuous clock mode and monitor raw data. Concurrent multi channel configuration can work simultaneously for up-to three encoders with identical part number, all variants of 2.2 position commands as well as the 2.1 position command is supported and an additional option (109) to configure wire delay (useful when propagation delay in each channel is different) is available. Application by default, handles wire delay as required, the menu option provides a way to override it. <br />
After the user selects an EnDat command, the diagnostic asks for more details to frame the command and performs a basic sanity check on the user entered values. Then the EnDat API is invoked to process the command. The received EnDat is processed &amp; validated using the defined API's. The result is then presented to the user.  <br /> 
<br />
</p>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE:</b> To make channel 1 or/and 2 functional, additional transceiver circuitry required as in <a rel="nofollow" class="external autonumber" href="http://www.ti.com/tool/TIDA-00172">[2]</a> (but this also makes SD boot non-functional on AM437x IDK) and R541 on AM437x IDK has to be removed. <br /></div>
<p><br />
</p>
<h2><span id="EtherNet/IP"></span><span class="mw-headline" id="EtherNet.2FIP">EtherNet/IP</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=15" title="Edit section: EtherNet/IP">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 1:</b>&#160; Permanent storage of Ethernet/IP device parameters are enabled and are stored in SPI Flash at various offsets as defined in file eip_main.h <br /><br /><b>NOTE 2:</b>&#160;To add ACD(Address Conflict Detection) support in the application, a legacy method is used for configuring NDK parameters. In this approach configuring of NDK is done using the Configuration APIs rather than the XGCONF configuration tool within CCS.  This is because a configuration added through XGCONF tool will be overridden. Please refer the <a rel="nofollow" class="external text" href="http://www.ti.com/lit/ug/spru523i/spru523i.pdf">link</a> for more information on this approach.<br /><br /><b>NOTE 3:</b>&#160;For passing the Subnet Mask tests (Test 4.1) specified in ODVA Conformance test report, rebuilding of the NDK is required. Macro _INCLUDE_ACD_SUPPORT must be defined in the file NDK_INSTALL_DIR\packages\ti\ndk\stack\lli\lliin.c . Then the NDK is rebuilt <br /><br /><b>NOTE 4:</b>&#160;The Ethernet/IP application can be modified to work as a Switch application by removing the Ethernet/IP dependencies. The steps to create Switch application can be found <a rel="nofollow" class="external text" href="SYSBIOS_ISDK_Steps_for_creating_stand_alone_switch_example.html">here</a><br /><br /><b>NOTE 5:</b>&#160;The NDK performance of the ICSS Emac Driver can be improved by increasing Queue size (Prioriy Queue 4 in case of Ethernet/IP). To enable this improvement change the macro QUEUE_4_SIZE in icss_switch.h from 97(3KB) to 194(6KB).  However it is important that the total Queue size is not more than 12KB.  
</div>
<p><span style="background:#EEEEEEC">
</span>
<br />
The example is an EtherNet/IP adapter demo application based on Molex EtherNet/IP stack on top of NDK TCP/IP stack&#160;&#160;. The EtherNet/IP is an industrial networking standard that takes advantage of commercial off-the-shelf Ethernet communication chips and physical media. The EtherNet/IP uses an open protocol (CIP) at the application layer. This example is a limited demo application that is constrained so that a user will be allowed to execute it for one hour only. The EtherNet/IP adapter application is implemented over the low latency cut-thru switch implementation on ICSS<br />&#160;
</p><p>The Ethernet/IP on Industrial Communication SubSystem (ICSS) supports Beacon based DLR (Device Level Ring) node which is a ring redundancy protocol specified by ODVA, the main features of this implementation are
</p>
<ul><li>Supports 200 us beacon interval and 400 us beacon timeout interval</li>
<li>Supports learning table exception for Supervisor</li>
<li>Dynamic start and stop. User can enable or disable DLR on the fly</li>
<li>No user configuration required. The ring parameters get configured on their own.<br />&#160;</li></ul>
<p>The ACD(Address Conflict Detection) feature is enabled in the example. Upon startup, the application checks for the ACD enable bit stored in the SPI Flash (at offset SPI_EEPROM_ACD_OFFSET). If disabled, the application starts immediately, otherwise it waits for the link to come up. Once the link is established, the ACD mechanism is started.  The IP Address is obtained once the ARP probing is done and no duplicate IP Address is detected.
</p><p>IEEE 1588 End to End Support is added to the Ethernet/IP adapter. The application can now act as a PTP node and synchronize   to a PTP Master. Ethernet/IP adapter does not support PTP Master mode. The example makes use of PTPD stack to enable BMCA and Management messages support.
</p><p><br />
This application allows the user to carry out the following actions and can be configured via the serial console
<br />
</p>
<ol><li>Start mode – Start stack in IO exchange mode</li>
<li>Stop mode – Stop IO exchange mode</li>
<li>Run mode – In this mode IO Data will be exchanged with scanner</li>
<li>Idle mode - No Data exchange with scanner. Only communication.</li>
<li>Copy in-out mode – Copy the data from scanner to the OUT data.</li>
<li>Increment mode – Stack will increment the OUT data periodically</li>
<li>Change IP Address - IP address of the device can be configured manually.</li>
<li>Erase Non Volatile Memory - This option will erase the stored device configurations from the non volatile memory</li></ol>
<p><br />
The stc file used for the ODVA CTT is provided along with the application in stc folder. The EDS file for the application is located at $(IA_SDK_HOME)\protocols\ethernetip_adapter\eds folder.The Ethernet/IP Application uses a Module status LED U1 on IDK and <a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/images/b/bd/ICE_V2_marked.jpg">D1 on ICE V2</a>) and a network status LED U2 on IDK and <a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/images/b/bd/ICE_V2_marked.jpg">D2 on ICE V2</a>).
</p><p>For a quick checkout and demonstration of the EtherNet/IP functionality, an EIPTool, available for free from Molex, can be used to establish CIP connections and query or set CIP attributes. Additional details on using EIPTool with an example application can be found here <a rel="nofollow" class="external text" href="Using_EIPTool_with_AM335x_EtherNetIP_Adapter_Application.html">Using EIPTool with AM335x EtherNet/IP Adapter Application</a>
</p><p><br /><b>Running application on ICE V2</b><br />For operation with the ICE V2,&#160; the Jumpers J18 and J19 must be set to ICSS mode. Pin2 and Pin3 are connected for ICSS mode.&#160;<br /><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Ethernet_MAC">Ethernet MAC</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=16" title="Edit section: Ethernet MAC">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This example is an Ethernet Dual mac implementation. The application has two MAC instances each having independent IP Address. By default following IP address will be taken 
</p>
<ul><li>Port1 - 192.168.2.3</li>
<li>Port2 - 192.168.1.3</li></ul>
<p>The IP address of Instance 2 (Port 2) is configured via CFG file. The IP Configuration of Instance 1 (Port1) is assigned in the Stack init hook Callback. This example runs on top of the ICSS EMAC driver  and uses NDK as TCP/IP stack.The Ethernet MAC application is dependent on the libsys_bios_driver.a, libboard_support.a and a few Starterware libs. Once the application is loaded the details are print on Uart console. The TriColour LED (U1 on IDK and D1 on ICEv2) will blink Green to indicate the application is running
</p><p>Dual mac application uses the ICSS EMAC Driver in emac mode. Here both firmwares which runs on both PRUs work independently hence the application can be modified to run as single MAC also. The ICSS EMAC driver need to be initialized accordingly to run in Dual/Single MAC mode. Refer to SYS/BIOS Driver section for more details. In addition to this there are a few changes in the QoS scheme. Out of the four Receive queues two are reserved for each Ethernet MAC. So Queue 1 and 2 are available exclusively for Port 1 EMAC while Queue 3 and 4 are availably only for PORT2   EMAC. On the transmit path there is no change and four queues are available for each port.
</p><p><br />
</p>
<h2><span class="mw-headline" id="EtherCAT">EtherCAT</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=17" title="Edit section: EtherCAT">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 1:</b> SDK Supports two different versions of EtherCAT application. </div><div style="padding-right: 5px; padding-left: 5px; background: rgb(238,238,238); padding-bottom: 5px; color: rgb(21,27,84); padding-top: 5px">1 .&#160;Simple Demo Application&#160; - An EtherCAT sample application built using&#160; pre-built EtherCAT stack library (libecat_slave_stack_am437x.a). This allows limited development using SSC5.11 stack library via Sample Application Interface which provides controlling 32- bit input and 32-bit output. Object dictionary adaptation is not possible in this evaluation version. This will be the default configuration for EtherCAT. The project files for this application can be found in $(IA_SDK_HOME)\examples\ethercat_slave. The example application will be delivered in source, but the EtherCAT stack will be delivered in object format only.<br /></div><div style="padding-right: 5px; padding-left: 5px; background: rgb(238,238,238); padding-bottom: 5px; color: rgb(21,27,84); padding-top: 5px">2.&#160;&#160;Full Feature Demo Application&#160;&#160;-&#160; This is a full-fledged application and provides full flexibility and configurability. However this application need access to complete stack source. As per the SLA terms, TI cannot distribute the stack (Beckhoff Slave Sample Code) in source format. This code is only available to ETG members.  To build the full featured application, the user must sign in with their ETG member ID , download the SSC 5.11 source code from ETG website and apply the provided patch. The project files for this application can be found in $(IA_SDK_HOME)\protocols\ethercat_slave\ecat_appl. Please see the details in later sections. For more information, refer the section on "Building Full Feature EtherCAT Application" of this document. This application&#160;<b>includes motor control functionality</b><br /></div> <div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 2:</b> &#160; Both EtherCAT applications support non-volatile storage of ESI EEPROM. The application writes the data into non-volatile QSPI memory only in INIT and PREOP states. This can be disabled or enabled on full featured application by defining/undefining EEPROM_SPI macro in tiescbsp.h. This feature cannot be modified in limited demo </div> <div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"> <b>NOTE 3:</b> &#160; EtherCAT Motor Drive Synchronization feature requires following hardware modifications, remove resistor R256 &amp; place it at R257, short J16-18 &amp; J16-20 (routes ECAT SYNC signal to PWM3 SYNCI) </div> <div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"> </div> 
<p><span style="background:#EEEEEEC">
</span> 
</p><p>This folder has TI EtherCAT slave simple demo application along with configuration xml file. The user can start and build the CCS6 project named EtherCAT. Upon a successful build, a file named "EtherCAT_ti.bin" will be generated (in sdk\examples\EtherCAT_slave\Debug__GNU). This can be flashed to QSPI or copied to SD card. Please see the [Getting Started Guide] for details on building an application. Alternatively, "ethercat.out" can be load/run from CCS to A8 (AM335x) or A9 (AM437x).  <br />
This application demonstrates the EtherCAT interface, LED light controls.  If the Full Featured EtherCAT Application is available, the application will also demonstrate a motor control application.<br />
</p><p>The Motor Control application demonstrates a sensored 3 phase sensored Field Oriented Control (FOC) for a single Permanent Magnet Synchronous motor (PMSM) using the onchip AM437x ADCs (default) or sigma delta decimation filtering (requires additional modulator &amp; interface card <a rel="nofollow" class="external autonumber" href="http://www.ti.com/tool/TIDA-00209">[3]</a> and ADC_SDDF macro has to be defined in the project) and optionally the EnDat 2.2 master interface with a EnDat encoder attached to the motor. The Motor control application has been validated using a Permanent Magnet Motor (BLY171D-24V-4000, Anaheim Automation). This is coupled to an EnDat 2.2 encoder (ROQ 437, Heidenhain). In this demonstration the Motor drive is provided by the IDK over the three terminals of J17. If no encoder is used or an encoder is available and attached to the longer shaft of the motor, then the connections from the EVM to the motor are: The Red wire from the motor should be connected to J17-1. The Black wire from the motor should be connected to J17-2. The Yellow wire of the motor should be connected to J17-3. Alternatively, if the encoder is attached to the shorter shaft of the motor, then the connections from the EVM to the motor are: The Yellow wire of the motor should be connected to J17-1. The Black wire from the motor should be connected to J17-2. The Red wire from the motor should be connected to J17-3. The encoder should be to be connected to the onboard connector J10. <br />
</p><p>If sigma delta decimation filtering is used, AM437x IDK J17-1,2 &amp; 3 to be connected to negative of channel 3, 2 &amp; 1 of modulator card respectively. Then consider positive terminal of channel 3, 2 &amp; 1 as J17-1, 2 &amp; 3 and make the connections as mentioned in the above paragraph. <br />
</p><p>When sigma delta decimation filtering is used for current sense, Motor drive control can be synchronized with EtherCAT network, to be specific - PWM is synchronized with EtherCAT SYNC0 signal. Define SYNC_ECAT_PWM in the project to achieve EtherCAT drive synchronization. <br />
</p><p>To test TI EtherCAT slave sample app - one can use TwinCAT or any other compatible EtherCAT master. Below are the steps to use TI slave with TwinCAT. Additional details on TwinCAT configuration can be found at  <a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/index.php?title=Configuring_TwinCAT_For_TI_EtherCAT_Slave">here</a>. 
</p><p><br /> 
</p>
<ol><li>Install TwinCAT3 (A one month evaluation is available for free download from the Beckoff website <a rel="nofollow" class="external text" href="http://www.beckhoff.co.in/english.asp?download/tc3-download-xae.htm">TwinCAT 3 Download</a>.  Select the eXtended Automation Engineering (XAE) mode of installation.</li>
<li>Copy sdk\examples\ethercat_slave\esi\TiEtherCATLib.xml to &lt;Drive&gt;:\TwinCAT\3.1\Config\Io\EtherCAT folder</li>
<li>Start the TwinCAT XAE (VS2010)</li>
<li>Create a new TwinCAT XAE project: File &gt; New &gt; Project &gt; TwinCAT Project</li>
<li>Goto TwinCAT &gt; Show Real Time Ethernet Compatible Devices and Install TwinCAT RT Ethernet intermediate driver. For best performance - it is recommended to use a compatible NIC card listed <a rel="nofollow" class="external text" href="http://infosys.beckhoff.com/index.php?content=../content/1031/tcsystemmanager/reference/ethercat/html/ethercat_supnetworkcontroller.htm&amp;id=10112">Supported Network Controller by Beckhoff Ethernet Driver</a> . Note, please always check ethernet adapter is listed below "installed and ready to use devices" before attempting to run TwinCat demo.</li>
<li>Connect CAT5 Ethernet cable from TwinCAT PC to EtherCAT IN/Port0 (J1 in AM335x, J6 in AM437x) of IDK. If you have multiple IDKs in chain, please connect from EtherCAT OUT/Port1 (J2 in AM335x. J9 in AM437x) to Port0 of next IDK. For the last IDK in chain, Port1 will be left open.</li>
<li>In Solution Explorer go to your new TwinCAT project &gt; I/0 &gt; right click Device1(EtherCAT)&gt; select Scan Boxes... If Scan Boxes is grayed out then select TWINCAT &gt;  Restart TwinCAT (Config Mode)</li>
<li>TI Box<small>n</small>(ti-esc) will be detected automatically. If running TwinCAT 2 on Windows XP - Now select Device1 (EtherCAT) and goto Actions &gt; Select Set/Reset TwinCAT to Config Mode or use shortcut SHIFT-F4. Alternatively - If running TwinCAT 3 on Windows 7 - Now select Device1 (EtherCAT) and goto TwinCAT and then Reload Devices.</li>
<li>A dialog will pop asking Load I/O Devices, select Yes</li>
<li>Next dialog asks confirmation to Activate Free Run - select Yes. This will put TI ESC into OP mode. Alternatively, you can use "Toggle Free Run State" bottom.</li>
<li>The application should show digital out LEDs 1 to 8 to on. This indicates that slave is up and in INIT state. The EtherCAT device state can be displayed by selecting a Device (Double click on Device) and then selecting the Online tab. The device should be in the OP state with no Lost frames or Tx/Rx/ Errors. If another mode or errors are shown the interface can be reinitialized by performing Step 7. <br /><b>On startup, the application will set digital out LEDs 1 to 8 to on . This indicates that slave is up and in the INIT state.</b><br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:502px;"><a href="File_Twincat_Device.html" class="image"><img alt="Twincat Device.jpg" src="https://processors.wiki.ti.com/images/8/82/Twincat_Device.jpg" width="500" height="479" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Twincat_Device.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /> <b>Figure 2 TwinCAT Status / Control Display</b><br /></li></ol>
<ol><li>The user can control digital out LEDs using TwinCAT. Select TI Box<small>n</small>(ti-esc)&gt;DO Outputs &gt; LED1-8 to control the output LEDs.  <br /> 1. The LEDs are set by selecting an LED N and then selecting the Online tab. <br /> 2. The LED is turned on and off by selecting write and setting the value to 1 and 0 respectively.<br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:502px;"><a href="File_Twincat_LED.html" class="image"><img alt="Twincat LED.jpg" src="https://processors.wiki.ti.com/images/9/9e/Twincat_LED.jpg" width="500" height="451" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Twincat_LED.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /> <b>Figure 3 TwinCAT LED Control Display</b><br /></li></ol>
<ol><li>To control the Motor using TwinCAT.(Available in full application <b>ONLY</b>), <br /> 1. The Motor speed is set by selecting &#160;TI Boxn(ti-esc)&gt;Motor Outputs-&gt;Data and selecting the Online tab. The speed can be set a value between 1000 (for 4000 rpm in the forward direction) and -1000 (4000 rpm in the reverse direction).   This same Data field also serves as the position input (in position control mode).   In the position mode, a 0 corresponds to 0 degree, while a 1000 corresponds to 360 degrees. <br /> 2. The value is entered into the controller by selecting the Write button, entering a value, and selecting OK. <br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:502px;"><a href="File_Twincat_Motor.html" class="image"><img alt="Twincat Motor.jpg" src="https://processors.wiki.ti.com/images/e/e3/Twincat_Motor.jpg" width="500" height="512" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Twincat_Motor.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /> <b>Figure 4 TwinCAT Motor Control Display</b><br /></li>
<li>The Command box permits the setting of the lsw variable.<br /> The Count box permits the setting of the msw variable.<br /> Please refer below to the block diagram for the illustration of the lsw &amp; msw variable function.<br /> The default build level for the FOC motor control is LEVEL4 (closed speed loop with EnDat position feedback). The Build level can be changed using BUILDLEVEL in foc.h and then rebuilding the project.  In LEVEL4, controlling variables are lsw and speed. The default value of lsw is 0. For an open speed loop set lsw to 1. Set lsw to 2 for a closed speed loop.<br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:702px;"><a href="File_Level4Jan29_15.html" class="image"><img alt="Level4Jan29 15.jpg" src="https://processors.wiki.ti.com/images/4/4b/Level4Jan29_15.jpg" width="700" height="323" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Level4Jan29_15.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /> <b>Figure 5 TwinCAT FOC Level 4</b><br /> In LEVEL5, the controlling variables are lsw and angle. In this configuration, lsw = 0 (default) is the position control is turned off. To enable position control set lsw to 1 or 2. 1. As described earlier, the position is set by selecting TI Box (TIESC-00n) -&gt; Motor Outputs -&gt; Data and selecting the Online tab. The position can be set a value between 0 and 1000. A 0 corresponds to 0 degrees, while a 1000 corresponds to 360 degrees. The value is entered into the controller by selecting the Write button, entering a value, and selecting OK. <br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:702px;"><a href="File_Level5Jan29_15.html" class="image"><img alt="Level5Jan29 15.jpg" src="https://processors.wiki.ti.com/images/f/f0/Level5Jan29_15.jpg" width="700" height="271" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Level5Jan29_15.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /> <b>Figure 6 TwinCAT FOC Level 5</b><br /> LEVEL6 is a combination of LEVEL4 &amp; LEVEL5. In Level 6 the control variables are msw, lsw, speed and angle. When msw = 0 (default), the FOC is operating in speed control mode. In this mode, use the lsw and speed settings as discussed previously in LEVEL4. The angle input is not used in when msw = 0. To include position control set msw = 1. In this mode, the angle control operates as described in LEVEL5. In this configuration, the speed and lsw settings are ignored.  <br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:702px;"><a href="File_Level6Jan29_15.html" class="image"><img alt="Level6Jan29 15.jpg" src="https://processors.wiki.ti.com/images/2/28/Level6Jan29_15.jpg" width="700" height="272" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Level6Jan29_15.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /><b>Figure 7 TwinCAT FOC Level 6</b><br /></li></ol>
<p>For more information, Please see <a rel="nofollow" class="external text" href="http://processors.wiki.ti.com/index.php?title=Configuring_TwinCAT_For_TI_EtherCAT_Slave">Configuring TwinCAT for TI EtherCAT Slave</a>
</p>
<h2><span class="mw-headline" id="HSR">HSR</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=18" title="Edit section: HSR">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The application configures the EVM into a DANH node which implements IEC 62439-3 HSR protocol. The application supports the following modes which can be configured at run time by writing into the memory location specified by the macro LRE_HSR_MODE
</p>
<ul><li><b>HSR H</b>&#160;: in this mode, the DANH inserts the HSR tag on behalf of its host and forward the ring traffic, except for frames sent by the node itself. Duplicate frames and frames where the node is the unicast destination shall not be forwarded</li>
<li><b>HSR M</b>&#160;: Mixed forwarding HSR-tagged and non HSR-tagged – in this mode, the DANH shall insert the HSR tag depending on local criteria when injecting frames into the ring. HSR tagged frames from ring ports are handled according to Mode H. Non-HSR tagged frames from ring ports are handled according to IEEE 802.1D forwarding rules</li>
<li><b>HSR T</b>&#160;: Transparent forwarding – in this mode the DANH shall remove the HSR tag before forwarding the frame to the other port and send a frame from the host to both ports, untagged and without discarding duplicates</li>
<li><b>HSR N</b>&#160;: No forwarding – in this mode, the node shall behave like mode H with the exception that it shall not forward ring traffic from port to port. This mode only alters the switch decision in the receiving task</li>
<li><b>HSR U</b>&#160;: Unicast Forwarding – in this mode, the node shall behave as in Mode H, except that it shall forward unicast traffic for which it is the destination as it does for multicast.</li></ul>
<p>The application is configured by default to <b>HSR H</b> and this is the recommended mode of operation for the DANH. The application requires special handling for Rx and Tx. This is done by registering HSR/PRP specific callbacks in the application. These are <b>txCustomCallBack</b> and <b>rxCustomCallBack</b> callbacks. The implementation supports basic HSR statistics like Node Table, number of duplicates etc.
</p><p>HSR supports PTP/1588 Ordinary and Transparent Clock as per IEC 62439-3 standard. PTP is enabled by default in the application and no configuration is required. 
</p><p>The application is assigned a static IP of 192.168.1.3 from the BIOS/NDK configuration file.
</p><p><br />
</p>
<h2><span class="mw-headline" id="PRP">PRP</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=19" title="Edit section: PRP">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The PRP application configures the EVM as a DANP node as per IEC 62439-3 PRP standard. The implementation is similar to HSR where the Link Redundancy Entity is implemented on the firmware. 
</p><p>PRP supports Port specific statistics which shows number of nodes, duplicates rejected just like HSR
</p><p>Only one mode is supported with PRP and there is no forwarding of frames as per PRP requirements.
</p><p>PRP does not support PTP/1588 implementation.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Example_Utils">Example Utils</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=20" title="Edit section: Example Utils">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The Example Utils application illustrates how various peripherals can be accessed from a SYS/BIOS application. This application demonstrates Digital Outputs, Digital Inputs, Rotary Switch and Flash memory(SPI on ICEv2 and QSPI on IDK). This application also utilizes the LCD panel on ICEv2.
</p><p>On loading the application, a menu will appear on UART terminal to trigger various peripherals.
</p><p>This application is dependent on the libsys_bios_driver.a, libboard_support.a and a few Starterware libs. The project files for these libraries are included in the SDK and they can be rebuild with any modification required. Upon modifying and building libraries, users should re-build the application as well.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Motor_Control">Motor Control</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=21" title="Edit section: Motor Control">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The Motor Control demo demonstrates a sensored 3 phase sensored Field Oriented Control (FOC) of a single Permanent Magnet Synchronous motor (PMSM) using the onchip AM437x ADCs (default) or sigma delta decimation filtering (requires additional modulator &amp; interface card <a rel="nofollow" class="external autonumber" href="http://www.ti.com/tool/TIDA-00209">[4]</a> and ADC_SDDF macro has to be defined in the project) and optionally the EnDat 2.2 master interface and a EnDat encoder attached to the motor. The FOC algorithm provides smooth speed control, with high dynamic performance. The FOC algorithm transforms the 3 phase AC current measurements to d-q axis values allowing control of torque and flux. 
This application requires that the USB port of the EVM is connected to the host PC to enable a UART over USB connection between the EVM and host PC. A serial terminal application (like teraterm/ hyperterminal/ minicom) is then run on the host. To configure the terminal, select the serial port corresponding to the port emulated over USB by the EVM. The host serial port should be configured to 115200 baud, no parity, 1 stop bit and no flow control. 
</p><p>The Motor drive is provided by the IDK over the three terminals of J17. If no encoder is used or an encoder is available and attached to the longer shaft of the motor, then the connections from the EVM to the motor are: The Red wire from the motor should be connected to J17-1. The Black wire from the motor should be connected to J17-2. The Yellow wire of the motor should be connected to J17-3. 
Alternatively, if the encoder is attached to the shorter shaft of the motor, then the connections from the EVM to the motor are: The Yellow wire of the motor should be connected to J17-1. The Black wire from the motor should be connected to J17-2. The Red wire from the motor should be connected to J17-3. The encoder should be to be connected to the onboard M12 connector J10.
</p><p>If sigma delta decimation filtering is used, AM437x IDK J17-1,2 &amp; 3 to be connected to negative of channel 3, 2 &amp; 1 of modulator card respectively. Then consider positive terminal of channel 3, 2 &amp; 1 as J17-1, 2 &amp; 3 and make the connections as mentioned in the above paragraph.
</p>
The Motor control application has been validated using a Permanent Magnet Motor (BLY171D-24V-4000, Anaheim Automation). This is coupled to an EnDat 2.2 encoder (ROQ 437, Heidenhain). The motor can be controlled via terminal console. If an EnDat encoder is attached - Upon executing the run command the terminal window will display. <br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:502px;"><a href="File_EnDat_initial.html" class="image"><img alt="EnDat initial.jpg" src="https://processors.wiki.ti.com/images/3/30/EnDat_initial.jpg" width="500" height="260" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_EnDat_initial.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /> <b>Figure 8 EnDat Display when Encoder is Attached</b><br />
If an EnDat encoder is not attached - Upon executing the run command the terminal window will display. <br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:502px;"><a href="File_EnDat_initial_noEncoder.html" class="image"><img alt="EnDat initial noEncoder.jpg" src="https://processors.wiki.ti.com/images/9/93/EnDat_initial_noEncoder.jpg" width="500" height="260" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_EnDat_initial_noEncoder.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /><b>Figure 9 EnDat Display when Encoder is Not Attached</b><br />
<p><br />
</p><p>Upon pressing enter in the console, user will be asked to enter motor control variables. Simply pressing enter will bypass the setting of any variable. This is helpful, especially when only one variable needs to be changed. The meaning of these variables will change slightly with each of the different build levels. The default build level is LEVEL4 (closed speed loop with EnDat position feedback). The Build level can be changed using BUILDLEVEL in foc.h and then rebuild the project.
</p>
In LEVEL4, controlling variables are lsw and speed. The default value of lsw is 0. For an open speed loop set lsw to 1. Set lsw to 2 for a closed speed loop. The motor, BLY171D-24V-4000, has a maximum speed of 4000 RPM. The desired speed can be expressed as an RPM value in the range of 0 to 4000. To reverse rotation, a negative value is entered.  In LEVEL5, the controlling variables are lsw and angle. In this configuration, lsw = 0 (default) is the position control is turned off. To enable position control set lsw to 1 or 2. The desired position can be specified as an angle in the range 0-360 to control the position. <br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:702px;"><a href="File_Level4Jan29_15.html" class="image"><img alt="Level4Jan29 15.jpg" src="https://processors.wiki.ti.com/images/4/4b/Level4Jan29_15.jpg" width="700" height="323" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Level4Jan29_15.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /><b>Figure 10 FOC Level 4</b><br />
In LEVEL5, the controlling variables are lsw and angle. In this configuration, lsw = 0 (default) is the position control is turned off. To enable position control set lsw to 1 or 2. The desired position can be specified as an angle in the range 0-360 to control the position. <br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:702px;"><a href="File_Level5Jan29_15.html" class="image"><img alt="Level5Jan29 15.jpg" src="https://processors.wiki.ti.com/images/f/f0/Level5Jan29_15.jpg" width="700" height="271" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Level5Jan29_15.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /><b>Figure 11 FOC Level 5</b><br />
LEVEL6 is a combination of LEVEL4 &amp; LEVEL5. In Level 6 the control variables are msw, lsw, speed and angle. When msw = 0 (default), the FOC is operating in speed control mode. In this mode, use the lsw and speed settings as discussed previously in LEVEL4. The angle input is not used in when msw = 0. To include position control set msw = 1. In this mode, the angle control operates as described in LEVEL5. In this configuration, the speed and lsw settings are ignored.  <br /><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:702px;"><a href="File_Level6Jan29_15.html" class="image"><img alt="Level6Jan29 15.jpg" src="https://processors.wiki.ti.com/images/2/28/Level6Jan29_15.jpg" width="700" height="272" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Level6Jan29_15.html" class="internal" title="Enlarge"></a></div></div></div></div></div> <br /><b>Figure 12 FOC Level 6</b><br />
<p><br />
</p>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 1:</b> Before proceeding with closed speed loop or position control ensure that encoder is connected and coupled to the motor and position offset compensation updated as mentioned below</div>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 2:</b>It is recommended to bring motor to a standstill before connecting/disconnecting through JTAG </div> 
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 3:</b>In LEVEL6, before switching from position control to speed control and viceversa, ensure that speed/position is set to zero (eg. before switching from speed control to position control mode, make speed as 0) and verify that the motor is at a standstill </div> 
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 4:</b>Use power supply provided with AM437x IDK </div> 
<h3><span class="mw-headline" id="ADC_sampling_firmware_using_ICSS0_PRU1">ADC sampling firmware using ICSS0_PRU1</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=22" title="Edit section: ADC sampling firmware using ICSS0 PRU1">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This firmware makes use of the PRU C compiler assembler and linker integrated in CCS6.x onwards. Additional detail on that is available is contained the following documentation.
</p><p>PRU Optimizing C/C++ Compiler v2.0, <a rel="nofollow" class="external free" href="http://www.ti.com/lit/ug/spruhv7/spruhv7.pdf">http://www.ti.com/lit/ug/spruhv7/spruhv7.pdf</a> PRU Assembly Language Tools v2.0 User's Guide <a rel="nofollow" class="external free" href="http://www.ti.com/lit/ug/spruhv6/spruhv6.pdf">http://www.ti.com/lit/ug/spruhv6/spruhv6.pdf</a>
</p><p>sdk\interfaces\pru_onchip_adc_sampling\firmware has the example firmware implementation for ADC sampling and PWM &amp; ADC synchronization
</p>
<ul><li>icss_cfg_regs.hp: Register offsets for PRU_ICSS_CFG registers</li>
<li>icss_cntl_regs.hp: Register offsets for PRU_ICSS_CTRL registers</li>
<li>icss_ecap_regs.hp: Register offsets for PRU_ICSS_ECAP registers</li>
<li>icss_event_defs.hp: PRU_ICSS system event defines</li>
<li>icss_iep_regs.hp: Register offsets for PRU_ICSS_IEP registers</li>
<li>icss_intc_regs.hp: Register offsets for PRU_ICSS_INTC registers</li>
<li>icss_regs.hp: PRU_ICSS local memory map defines and Constant table entries</li></ul>
<p>For more details on above, refer to AM437x TRM Chapter 30 
</p>
<ul><li>pru_adc_sampling_macros.hp: Reference macro implementations for legacy pasm CALL and RET instructions using clpru macros</li>
<li>pru_adc_sampling.hp: Various configuration and register variable defines for ADC sampling firmware</li>
<li>pru_adc_sampling.asm: Main assembly source file which implements ADC sampling and PWM to ADC synchronization using IEP timer module</li>
<li>pru_adc_sampling.cmd: Command file for clpru linker (generates .out file from .obj files)</li>
<li>pru_adc_hexpru.cmd: Command file for hexpru tool (generates .bin file from .out file)</li>
<li>build_pru_adc_sampling.bat Bat file to build firmware C array header from assembly input files. Set PRU_C_COMPILER_PATH to PRU C compiler tool path</li></ul>
<p>E.g.:-"C:\ti\ccs6\ccsv6\tools\compiler\pru_2.0.0B2") 
.project,.ccsproject, .cproject: CCS 6.x project files to build .out (for debugging firmware) and C array header (to be included in applications) from assembly sources 
</p>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE:</b> sdk\tools\bin2header\bin2header.exe generates pasm compatible PRU firmware C array header from hexpru generated .bin files. Source code for the same is available in the same folder.
Usage&#160;: bin2header.exe input_binary_file output_C_header_file output_array_name 4/1 [4: 32-bit hex values 1: 8-bit hex values (default)] </div>
<p><br />
</p>
<h3><span class="mw-headline" id="PRU_ADC_sampling_firmware_Host_interface">PRU ADC sampling firmware Host interface</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=23" title="Edit section: PRU ADC sampling firmware Host interface">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Maintained in ICSS0 PRU1 Data memory (base address: 0x54442000) 
</p>
<ul><li>FOC_CONTROL_OFFSET(0x54442050): Indicate to PRU firmware when Host is ready for FOC processing 0: Wait 1: Continue</li>
<li>FOC_TRIGGER_OFFSET(0x54442054): Select when to issue End of Conversion (EOC) to Host. On ADC EOC event (FOC_TRIGGER_IS_ADC) or on ADC EOC &amp; EnDat EOC event (FOC_TRIGGER_IS_ENDAT). FOC_TRIGGER_IS_ADC is used today</li>
<li>FOC_IEP_PWM_PERIOD_OFFSET(0x54442058): Configure the PWM_PERIOD for ICSS0 to track and synchronize the ADC events w.r.t PWM period (nano sec units)</li>
<li>FOC_IEP_ADC_SOC_TRIGGER_OFFSET(0x5444205C): Configure ADC_SOC trigger time period from host (nano sec units)</li>
<li>FOC_IEP_ENDAT_SOC_TRIGGER_OFFSET(0x54442060): Configure ENADT_SOC trigger time period from host (nano sec units)</li>
<li>FOC_IEP_PWM_SYNC_OFFSET(0x54442064): Adjust IEP counter w.r.t PWM counter, program the IEP counter init value when PWM counter is cleared during synchronization phase (nano sec units)</li></ul>
<h3><span class="mw-headline" id="PRU_ADC_sampling_firmware_overview">PRU ADC sampling firmware overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=24" title="Edit section: PRU ADC sampling firmware overview">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Host will setup the PRU_ICSS INTC mapping, initialize PRU memories, initialize firmware configuration variables, download and start the firmware execution…
</p>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>Init:</b> <br /> 
<ol><li>Firmware clears all registers and wait for Host interface to be ready polling FOC_CONTROL_OFFSET <br /></li>
<li>When host CPU is ready, firmware initialize IEP CMP registers with PWM_PERIOD, ADC_SOC_TRIGGER, IEP_PWM_SYNC values programmed by host.<br />
<ol><li>PWM_PERIOD (CMP0) is 100000 (100us ) for 10 KHz <br /></li>
<li>ADC_SOC_TRIGGER (CMP1) is 50000 (50us) - mid point in PWM cycle <br /></li>
<li>IEP_PWM_SYNC is set to 50000 (50us) <br /></li></ol></li>
<li>Clear all pending events for ADC, PWM, IEP and INTC <br /></li>
<li>Align PWM_TBCNT and IEP_COUNTER based on IEP_PWM_SYNC <br /> </li></ol></div>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b> Main loop:</b> <br />
<ol><li>Firmware poll for IEP_CMP_HIT event, if match and ADC_SOC_TRIGGER (CMP1) then generate ADC_SOC via ICSS0_HOST5 &gt; ICSS1_HOST0 &gt;ADC1_EVT_TRIGGER connection</li>
<li>Firmware poll for ADC_EOC event (from ADC register) if match then read samples from ADC FIFO, store to PRU data memory in required format and generate ADC_EOC to host cortex A9 </li></ol></div>
<h3><span class="mw-headline" id="Sigma_Delta_Decimation_Filter">Sigma Delta Decimation Filter</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=25" title="Edit section: Sigma Delta Decimation Filter">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This is also integrated as a CCS project, PRU firmware sources are available @"interfaces\sddf\firmware".
</p><p>Sigma Delta is configured to triggered mode in motor control application using relevant API's. In triggered mode, it is synced to PWM (SYNCOUT) and PWM SYNCOUT is configured to trigger at PWM count zero. Pre-triggering time from PWM reversal point is configured to half of three sample time for the default configurations (OSR128, 20MHz modulator clock). Three sample is the Sinc3 settling time and sampling around the PWM reversal instant to reduce harmonics in the current, hence pre-triggering with half the settling time. So trigger time from PWM SYNC is configured to (PWM period) / 2 - 1.5 * (sample time). Upon processing the third sample, PRU will trigger ARM interrupt and that will cause FOC loop to run.
</p><p>Sigma Delta firmware also has capability to optionally generate an additional event synced to PWM, it is leveraged to make EnDat run in trigger mode.
</p><p>Refer for more details, firmware design, API guide as well as interface guide in "interfaces\sddf\doc" and Sigma Delta Decimation Filter GUI client example section
</p><p><br />
</p>
<h3><span class="mw-headline" id="EnDat">EnDat</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=26" title="Edit section: EnDat">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>EnDat is configured initially to host trigger mode to extract details about the encoder. Once details are obtained, it is switched to periodic mode and the command to be sent (2.2 position) periodically is also setup. The triggering instant configured by ADC PRU ensures the completion of EnDat command by the time FOC interrupt occurs. During the execution of FOC interrupt, a lightweight EnDat API is invoked to read angular position for the already completed EnDat 2.2 position command.
</p><p>Refer for more details, API guide in "interfaces\endat_master\doc".
</p>
<h3><span id="Field_Oriented_Control_(FOC)"></span><span class="mw-headline" id="Field_Oriented_Control_.28FOC.29">Field Oriented Control (FOC)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=27" title="Edit section: Field Oriented Control (FOC)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Field Oriented Control (FOC) algorithm is used to control the motor. This implementation is derived from the C2000 PMSM sensored servo FOC. 
</p><p>The FOC implementation used in this application has 6 LEVEL's. LEVEL4 and LEVEL5 are the ones that would normally be used in most applications. LEVEL3 and LEVEL6 are included primarily for demonstration purposes. LEVEL1, 2 and 3 are used during system bring up and tuning. 
</p><p>Description of different LEVEL's (all below are with closed current loop), <br />
LEVEL3 - open speed loop <br />
LEVEL4 - open speed loop, closed speed loop with EnDat feedback <br />
LEVEL5 - position control with EnDat feedback <br />
LEVEL6 - combination of LEVEL4 &amp; LEVEL5 selection between it can be performed at runtime <br />
</p><p><br />
</p>
<h4><span class="mw-headline" id="Position_Offset_Compensation">Position Offset Compensation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=28" title="Edit section: Position Offset Compensation">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The position value reported by encoder at zero electrical angle of the motor has to be set to zero. The position offset compensation value helps in correcting it. Position offset compensation between motor and encoder can have different values with a relative angular position between them. There are two methods to determine the poc as follows,
</p><p><br />
1. A reliable, precise (and difficult) means to determine the poc is to incrementally change the position offset compensation and find the value at which q-axis value (at memory location 0x54442204) and the d-axis value (at memory location 0x54442104) current drawn is minimum.
</p><p>2. Poc quick estimate for a coupled motor and encoder set – automatically detected poc value is available in memory location 0x54442030 as a floating point number. This is available within a second of the time that the motor has started running in a closed speed loop (lsw = 2) at LEVEL4. Repeat this step for 10 times (restart every time), and note down the poc value for all the cases where motor runs properly till 75% rated speed. Some times motor may go out of step or over current may happen, discard the values in those case. Average the value for successful cases.
</p><p><br />
Once the position offset compensation value is obtained, using either of the above methods, replace the following code in foc.c,
</p>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><span style="background:#EEEEEEC">
<p class="mw-empty-elt">
</p>
<pre>#if (BUILDLEVEL &lt; LEVEL5)
_iq OffsetE = _IQ(0.0);
#else
_iq OffsetE = _IQ(-0.67);
#endif
Uint32 ElecThetaCalibrateFlag;
</pre>
</span></div>
<p>TO:
</p>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><span style="background:#EEEEEEC">
<p class="mw-empty-elt">
</p>
<pre>_iq OffsetE = _IQ(&lt;new position offset compensation value&gt;);
Uint32 ElecThetaCalibrateFlag = 1;
</pre>
</span></div>
<p>The above updates position offset compensation value to be used for LEVEL4, LEVEL5 &amp; LEVEL6.
</p><p><br />
</p>
<h4><span class="mw-headline" id="PI_Tuning">PI Tuning</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=29" title="Edit section: PI Tuning">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The FOC algorithm uses several PI controllers. For a given setup, it may be necessary to tune the current, speed and position PI controller parameters. These variables are exposed through the PRU shared memory, which is modifiable at runtime using CCS. To change these values, first go to the CCS debug window. 
To enable the Non Debuggable Devices display, right click on <b>AM437x_XDS100V2.ccxml [Code Composer Studio - Device Debugging]</b> and select “Show all cores” . 
Then select <b>Texas Instruments XDS100v2 USB Emulator_0/CS_DAP_DebugSS</b> 
Connect using Non Debuggable Devices -&gt; CS_DAP_DebugSS, add relevant variables to it (don't forget to typecast it to float).
</p><p>PI structure base address as follows (refer control/math_blocks/pi.h for more details),
</p>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><span style="background:#EEEEEEC">
<p class="mw-empty-elt">
</p>
<pre>d-axis current (id) - 0x54442100
q-axis current (iq) - 0x54442200
speed (spd) - 0x54442300
position (pos) - 0x54442400
</pre>
</span></div>
<p>The values that would have to be changed are:
</p>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><span style="background:#EEEEEEC">
<p class="mw-empty-elt">
</p>
<pre>Proportional gain (Kp) - 0xC
Integral gain (Ki) - 0x10
Maximum limit (Umax) - 0x14
Minimum limit (Umax) - 0x18
</pre>
</span></div>
<p>Eg., if you want to change Kp for speed PI, modify 0x5444230c (0x54442300 + 0xC)
</p><p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Profibus_Slave"><span style="line-height: 1.5em;">Profibus Slave</span></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=30" title="Edit section: Profibus Slave">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE:</b> As per the SLA terms, TI cannot distribute the PROFIBUS slave stack from Technologie Management Gruppe (TMG) Code in source format. An evaluation library is provided with this release. For production use, please obtain the license and software directly from TMG.<br /></div>
<p>This application uses drivers.lib, am335x_platform.lib, sys_bios_driver.lib, utils.lib, platform.lib, system.lib, and profibus.lib. The project files for these libraries except for profibus.lib are included in the SDK.  They can be rebuild with any modifications required. Upon modifying and building libraries, it is recommeded to re-build the application as well.
</p><p>Texas Instruments use PROCENTEC's ProfiTrace 2.6.1 to test the TI PROFIBUS DP slave sample app.. However, any PROFIBUS master can be used. Alink is the link to set up PROCENTEC's ProfiTrace 2.6.1 master is <a rel="nofollow" class="external free" href="http://www.procentec.com/downloads/profitrace/ProfiTrace2-Manual-EN.pdf">http://www.procentec.com/downloads/profitrace/ProfiTrace2-Manual-EN.pdf</a>
</p><p>A quick guide to set up TI Profibus slave with master is: <a rel="nofollow" class="external free" href="PROFIBUS_DP_slave_demo_setup_on_AM335x.html">http://processors.wiki.ti.com/index.php/PROFIBUS_DP_slave_demo_setup_on_AM335x</a>
</p><p>To set up the board the following steps are taken:
</p>
<ul><li>On the master side:
<ul><li>Copy PRU_OCDA.gsd file provided in the SDK into master GSD library</li>
<li>Scan the GSD library in the master</li>
<li>Create/Add "AM335x Evaluation Module (EVM)" slave in the project/network</li>
<li>Add modules (for e.g. 8byte input, 8byte output which is default) for the slave and activate</li>
<li>Initialize master, set baud rate, and operate</li></ul></li></ul>
<ul><li>On the slave side:
<ul><li>For ICE V1&#160;: Set Jumper on J7 (pin 1 and 2), J6, and J5 as shown and remove Jumper J4</li>
<li>For ICE V2&#160;: Set Jumpers between pins 2 &amp; 3 on J18 and J19 to slect ICSS mode<br />&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;Set jumper on J7, J8 ( pin 1 and 2) and J10. Remove Jumper on J6</li>
<li>After powering on the board the bootloader will load the APP from SDMMC/SPI flash/NOR flash into DDR/Internal RAM/Cache</li>
<li>The boot logs can be seen on serial console</li>
<li>The APP waits for 5 sec to obtain the station address from serial console, if nothing is set then assume that the default station address 5. For changing the station address connect serial console as shown in the above snap shots. Hit Enter key to change station address, then enter the valid station address and hit enter again to start the APP. For ICE board after powering on and connecting the serial console, press the reset button to set the station address.</li>
<li>APP will print the menu on the serial console.
<ul><li>The input can be changed by pressing 'i' on keyboard</li>
<li>The master output updates are seen on serial console and output byte 3 toggles the LEDs on top of J17 (in IDK) or below J9 (in ICE) in a pattern sent by the master on byte3 (enable watchdog/modify I/O)</li>
<li>'d' gives the DP status - 0x80 or 0x81 indicates the data exchanges, 0x0 indicates that data exchange is stopped</li></ul></li></ul></li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Profibus_Master"><span style="line-height: 1.5em;">Profibus Master</span></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=31" title="Edit section: Profibus Master">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Board_Setup">Board Setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=32" title="Edit section: Board Setup">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To set up the board the following steps are taken:
</p>
<ul><li>For ICE V2&#160;: Set Jumpers between pins 2 &amp; 3 on J18 and J19 to select ICSS mode. Set jumper on J7, J8 ( pin 1 and 2) and J10. Remove Jumper on J6</li>
<li>After powering on the board the bootloader will load the APP from SDMMC/SPI flash/NOR flash into DDR/Internal RAM/Cache</li>
<li>The boot logs can be seen on serial console. Serial console need to be configured with 8 bit data, 1 stop bit and with the baud rate of 115200.</li></ul>
<h3><span class="mw-headline" id="Running_and_configuring_the_Profibus_master_application">Running and configuring the Profibus master application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=33" title="Edit section: Running and configuring the Profibus master application">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Profibus master application provides the feature of configuring and controlling the master application through the UART interface provided and if UART interface is not present profibus application works with default configuration.
After successful powering on the board, application waits for 5 sec for the keyboard input data through the UART. If it doesn’t get (UART cable not connected or user didn’t press the keyboard in 5 sec). Application configures the master with the default configurations.
The default configuration details are as below.
</p>
<ul><li>Master Application supports 3 TI supported slaves with slave address of 3, 4, and 7.</li>
<li>Communication baud rate between master and slave is set to 12MB.</li></ul>
<p>In case of board is connected to UART cable, on power on, 
</p>
<div class="floatleft"><a href="File_Profibus_master1.html" class="image"><img alt="Profibus master1.png" src="https://processors.wiki.ti.com/images/7/7a/Profibus_master1.png" width="325" height="95" /></a></div> <br /><br /><br /><br /><br />
<p>If user presses any key within 5 sec, console displays the following for Baud rate configuration.
</p>
<div class="floatleft"><a href="File_Profibus_master2.html" class="image"><img alt="Profibus master2.png" src="https://processors.wiki.ti.com/images/4/41/Profibus_master2.png" width="621" height="220" /></a></div> <br /><br /><br /><br /><br /><br /><br />
<p>User can select the required baud rate by pressing the respective number. For ex. For 12 MB baud rate, user needs to press 8.
After Baud rate it goes for configuring the number of slaves in a group. Console displays  as below.
</p>
<div class="floatleft"><a href="File_Profibus_master3.html" class="image"><img alt="Profibus master3.png" src="https://processors.wiki.ti.com/images/c/c3/Profibus_master3.png" width="502" height="233" /></a></div><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<p>User can configures the no. of slave by entering the value from 1 to 32.
</p>
<div class="floatleft"><a href="File_Profibus_master4.html" class="image"><img alt="Profibus master4.jpg" src="https://processors.wiki.ti.com/images/7/7e/Profibus_master4.jpg" width="448" height="258" /></a></div><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<p>Slave address for each slave device  should be enter separately followed by “ENTER”
</p><p>At this stage User completes the configuration. On success of configuration  console displays as below.
</p>
<div class="floatleft"><a href="File_Profibus_master5.html" class="image"><img alt="Profibus master5.png" src="https://processors.wiki.ti.com/images/6/6d/Profibus_master5.png" width="496" height="530" /></a></div><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<p>Now master is in Data exchange with the Slave device (address = 0x0A).user can see the data exchange through the Profitrace.
</p><p>In RUN time, the Master application supports the following commands for control and to get the status of master and slaves connected.
</p><p><br />
1.	Sync.: This command is used to sync (to cache output data and only forward it to the physical outputs) all the slaves connected to master. With the single input command, Master sends the sync command to all the slaves which are connected. 
</p>
<div class="floatleft"><a href="File_Profibus_master6.html" class="image"><img alt="Profibus master6.png" src="https://processors.wiki.ti.com/images/4/48/Profibus_master6.png" width="255" height="36" /></a></div> <br /><br />
<p>2.	Unsync: This commands unsync all the slaves.
</p>
<div class="floatleft"><a href="File_Profibus_master7.html" class="image"><img alt="Profibus master7.png" src="https://processors.wiki.ti.com/images/a/a2/Profibus_master7.png" width="274" height="30" /></a></div><br /><br />
<p>3.	Freeze: A FREEZE instruction causes all slaves activated with a group address to cache physical input values.
</p>
<div class="floatleft"><a href="File_Profibus_master8.html" class="image"><img alt="Profibus master8.png" src="https://processors.wiki.ti.com/images/6/6d/Profibus_master8.png" width="270" height="25" /></a></div><br /><br />
<p>4.	Unfreeze: unfreezes all the slaves
</p>
<div class="floatleft"><a href="File_Profibus_master9.html" class="image"><img alt="Profibus master9.png" src="https://processors.wiki.ti.com/images/4/48/Profibus_master9.png" width="290" height="31" /></a></div><br /><br />
<p>5.	Getdiag&#160;: This command is used the get Diagnostics data of all the slaves.
</p>
<div class="floatleft"><a href="File_Profibus_master10.html" class="image"><img alt="Profibus master10.png" src="https://processors.wiki.ti.com/images/2/2b/Profibus_master10.png" width="403" height="35" /></a></div><br /><br />
<h3><span class="mw-headline" id="Limitations">Limitations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=34" title="Edit section: Limitations">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ol><li>Profibus master application supports DPV0 and DPv1 profiles.</li>
<li>Profibus master application (evaluation version available in SDK) supports only the TI Profibus slaves (AM335x ICE)</li>
<li>Profibus master  is not supported on AM437x.</li></ol>
<p><br />
</p>
<h2><span class="mw-headline" id="PROFINET_IRT">PROFINET IRT</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=35" title="Edit section: PROFINET IRT">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 1:</b> PROFINET I/O RT/IRT Device is certified by COMDEC for Conformance Classes A, B and C <br /></div>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 2:</b> As per the SLA terms, TI cannot distribute the PROFINET slave stack code from Molex in source format. The evaluation library is provided with this release. For production use, one has to obtain the license directly from Molex<br /></div>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 3:</b> As per the SLA terms, TI cannot distribute the SNMP stack code from Interniche in source format. The evaluation library is provided with this release. For production use, one has to obtain the license directly from Interniche. Please refer section <a rel="nofollow" class="external text" href="SYSBIOS_Industrial_SDK_02.01.html#Building_Full_Feature_SNMP_stack">Building full feature SNMP stack</a> to rebuild the SNMP stack</div>
<p>This example is a PROFINET I/O IRT Device(slave) application based on Molex PROFINET stack. PROFINET is a real-time Ethernet standard for high-speed, deterministic communications used in a wide range of industrial applications including factory automation, process automation and building automation.
</p><p>This example also incorporates SNMP(Simple Network Management Protocol)&#160;using Interniche SNMP stack. SNMP is required for managing devices in the network. This application supports SNMP MIB-2(System and Interfaces), LLDP-MIB, LLDP-EXT3-MIB and LLDP-PNO-MIB which are mandated for Conformance Class B. Current implementation of the LLDP-MIBs are limited in nature as the integration between PROFINET stack and SNMP interface is incomplete. The SNMP stack available in the example is a limited version, and shuts down after 1024 SNMP requests.
</p><p>During start-up, the I/O Device is assigned an IP Address of 0.0.0.0 . The PROFINET master will have to configure the desired IP Address and device name to the I/O device before an I/O connection can be established with the device. Once the application is up, PROFINET I/O IRT device will start communicating with a PROFINET PLC, or a PROFINET IO Tester or SPIRTA.
</p><p>The GSD file used for configuring the I/O Device in the master side is provided along with the application in GSD folder.
</p><p>PROFINET I/O IRT Device has an integrated two-port cut-through learning switch. Switch handles the non real-time traffic and it has been interfaced with the PROFINET stack and TCP/IP (NDK) stack. It implements the PROFINET Quality of Service (QoS) using four priority queues on host and port interfaces. It implements PROFINET Filter Database for multicast addresses.Please see <a rel="nofollow" class="external text" href="AM335x_NDK_Driver_API_Guide.html">AM335x NDK driver API Guide</a> for details on NDK based ICSS switch driver.
</p><p>On ICE V2 and AM437x IDK, the LED will blink in orange when the application is running.
</p><p>A simple sample I/O Application has been provided to demonstrate the usage of PROFINET implementation. All the 1440 bytes of output data are exposed to the application. Sample I/O application simply uses the first byte of output data and maps it to the Digital Output LED's on the board. It also implements a mechanism to read the Digital Inputs. Interpretation of Digital Inputs by sample application is described below:
</p>
<ul><li>Setting Jumper on Digital Input 0 generates an Alarm. This is an external way to manually generate the alarms from the I/O device.</li>
<li>Setting Jumper on Digital Input 1 generates a bit shift pattern input. Application reads this input and transmits to PLC.</li>
<li>Setting Jumper on Digital Input 2 generates a fixed test data input.</li></ul>
<p>User can write a simple PLC program where input data of I/O device is transmitted back by PLC as output data. For example, a Jumper can be inserted in Digital Input 1 on I/O device to generate a bit shift pattern which is then transmitted back by PLC to demonstrate the moving LED light on the Digital Output LED's.
</p><p>Details on setting up a PROFINET Connection with a PLC is included in sdk/protocols/profinet_slave/docs
</p><p>The PROFINET Driver API guide is available here - sdk/protocols/profinet_slave/Docs/AM335X_Profinet_Slave_API_Guide.chm
</p><p><br /><b>Running application on ICE V2</b><br />Jumpers J18 and J19 need to be set properly to select ICSS mode. Pin2 and Pin3 need to be connected for ICSS mode&#160;<br /><br />
</p><p><br />
</p>
<h2><span id="PROFINET_RT/MRP"></span><span class="mw-headline" id="PROFINET_RT.2FMRP">PROFINET RT/MRP</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=36" title="Edit section: PROFINET RT/MRP">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 1:</b> PROFINET I/O RT/IRT Device is certified by COMDEC for Conformance Classes A, B and C <br /></div>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 2:</b> As per the SLA terms, TI cannot distribute the PROFINET slave stack code from Molex in source format. The evaluation library is provided with this release. For production use, one has to obtain the license directly from Molex<br /></div>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE 3:</b> As per the SLA terms, TI cannot distribute the SNMP stack code from Interniche in source format. The evaluation library is provided with this release. For production use, one has to obtain the license directly from Interniche. Please refer section <a rel="nofollow" class="external text" href="SYSBIOS_Industrial_SDK_02.01.00-2.html#Building_Full_Feature_SNMP_stack">Building full feature SNMP stack</a> to rebuild the SNMP stack</div>
<p>This example is a PROFINET I/O RT/MRP Device(slave) application based on Molex PROFINET stack. PROFINET is a real-time Ethernet standard for high-speed, deterministic communications used in a wide range of industrial applications including factory automation, process automation and building automation.
</p><p>This example also incorporates SNMP(Simple Network Management Protocol)&#160;using Interniche SNMP stack. SNMP is required for managing devices in the network. This application supports SNMP MIB-2(System and Interfaces), LLDP-MIB, LLDP-EXT3-MIB and LLDP-PNO-MIB which are mandated for Conformance Class B. Current implementation of the LLDP-MIBs are limited in nature as the integration between PROFINET stack and SNMP interface is incomplete. The SNMP stack available in the example is a limited version, and shuts down after 1024 SNMP requests.
</p><p>During start-up, the I/O Device is assigned an IP Address of 0.0.0.0 . The PROFINET master will have to configure the desired IP Address and device name to the I/O device before an I/O connection can be established with the device. Once the application is up, PROFINET I/O RT/MRP device will start communicating with a PROFINET PLC, or a PROFINET IO Tester.
</p><p>The GSD file used for configuring the I/O Device in the master side is provided along with the application in GSD folder.
</p><p>PROFINET I/O RT/MRP Device has an integrated two-port cut-through learning switch. Switch handles the non real-time traffic and it has been interfaced with the PROFINET stack and TCP/IP (NDK) stack. It implements the PROFINET Quality of Service (QoS) using four priority queues on host and port interfaces. It implements PROFINET Filter Database for multicast addresses.Please see <a rel="nofollow" class="external text" href="AM335x_NDK_Driver_API_Guide.html">AM335x NDK driver API Guide</a> for details on NDK based ICSS switch driver.
</p><p>On ICE V2 and AM437x IDK, the LED will blink in orange when the application is running.
</p><p>A simple sample I/O Application has been provided to demonstrate the usage of PROFINET implementation. All the 1440 bytes of output data are exposed to the application. Sample I/O application simply uses the first byte of output data and maps it to the Digital Output LED's on the board. It also implements a mechanism to read the Digital Inputs. Interpretation of Digital Inputs by sample application is described below:
</p>
<ul><li>Setting Jumper on Digital Input 0 generates an Alarm. This is an external way to manually generate the alarms from the I/O device.</li>
<li>Setting Jumper on Digital Input 1 generates a bit shift pattern input. Application reads this input and transmits to PLC.</li>
<li>Setting Jumper on Digital Input 2 generates a fixed test data input.</li></ul>
<p>User can write a simple PLC program where input data of I/O device is transmitted back by PLC as output data. For example, a Jumper can be inserted in Digital Input 1 on I/O device to generate a bit shift pattern which is then transmitted back by PLC to demonstrate the moving LED light on the Digital Output LED's.
</p><p>Details on setting up a PROFINET Connection with a PLC is included in sdk/protocols/profinet_slave/docs
</p><p>The PROFINET Driver API guide is available here - sdk/protocols/profinet_slave/Docs/AM335X_Profinet_Slave_API_Guide.chm
</p><p><br /><b>Running application on ICE V2</b><br />Jumpers J18 and J19 need to be set properly to select ICSS mode. Pin2 and Pin3 need to be connected for ICSS mode&#160;<br /><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Sigma_Delta_Decimation_Filter_GUI_client">Sigma Delta Decimation Filter GUI client</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=37" title="Edit section: Sigma Delta Decimation Filter GUI client">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Sigma delta A/D converters combine oversampling analog sigma delta modulators with digital decimation filters to achieve high precision and cost effective A/D conversion. This application demonstrates Sigma delta A/D conversion using AM437x IDK along with AMC1304 Sigma Delta modulator. Sigma Delta modulator provides a stream of one's and zero's that correspond to analog value. The digital stream from AMC1304 modulator card is fed to PRU Sigma Delta channels via adapter card. PRU has hardware support to integrate modulator output and provide the result in accumulators that can be Sinc2/3 based on the configuration, in the present case configured to Sinc3. The accumulator result is processed (simple differentiation) in PRU firmware to get the digital sample value.
</p><p>This application provides the hence obtained sample value to host PC via UART. Sinc3 OSR can be configured from host using a GUI. Clock for the modulator is provided by PRU and is configured by default to 20MHz. Refer for more details, <a rel="nofollow" class="external text" href="http://www.ti.com/tool/TIDA-00209">Isolated Current Shunt and Voltage Measurement Reference Design for Motor Drives Using AM437x</a>. It also gives details on installing and using the GUI in host PC to observe the wave forms and analyze it.
</p><p>Firmware also has Sinc3 based over current detection capability, DIGIO 7 available @J3-8 will be raised high if overcurrent occurs, details about this too can be found in the TI design.
</p><p>Application configures firmware to continuous mode to do continuous sampling. More details about Sigma Delta design, API guide and Interface guide can be found @"interfaces\sddf\doc". 
</p><p><br />
</p>
<div style="padding-right: 5px; padding-left: 5px; background: #eeeeee; padding-bottom: 5px; color: #151b54; padding-top: 5px"><b>NOTE:</b> This application required modulator card and adapter card to be connected to AM437x IDK as mentioned in <a rel="nofollow" class="external autonumber" href="http://www.ti.com/tool/TIDA-00209">[5]</a> <br /></div>
<p><br />
</p><p><br />
</p>
<h1><span class="mw-headline" id="Building_Full_Feature_EtherCAT_Application">Building Full Feature EtherCAT Application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=38" title="Edit section: Building Full Feature EtherCAT Application">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>The EtherCAT example application provided in $(IA_SDK_HOME)\Examples\EtherCAT folder is a limited development application. To have a full development capability on AM335x/AM437x, it is necessary to get the EtherCAT source code from Beckhoff and use that with the SDK example application. The SDK example application provides all board specific implementation sources for EtherCAT and a patch file to modify Beckhoff source files for the AM335x/AM437x. This application can be found in $(IA_SDK_HOME)\protocols\EtherCAT\ecat_appl. This folder also includes the configuration xml file to be used for testing and it can be found in $(IA_SDK_HOME)\protocols\EtherCAT\ecat_appl\esi folder.<br /> 
</p><p>The steps for building&#160;full feature&#160;EtherCAT application using Beckhoff source are given below. 
</p>
<ol><li>Download EtherCAT stack version 5.11 from <a rel="nofollow" class="external text" href="http://www.ethercat.org/">ETG website</a> and extract it to a local folder. <br /></li>
<li>Apply ( See Apply instructions below) TI_ECAT.patch file found at $(IA_SDK_HOME)\protocols\ethercat_slave\ecat_appl\patch on extracted Beckhoff stack code.<br /></li>
<li>Copy the patched Beckhoff source files (.c and .h) to $(IA_SDK_HOME)\Protocols\ethercat_slave\ecat_appl\EcatStack<br /></li>
<li>Launch CCS and import ecat_appl project found at $(IA_SDK_HOME)\Protocols\ethercat_slave\ecat_appl to CCS<br /></li>
<li>Define macros in ecat_appl\EcatStack\ecat_def.h as required for your application. (a) Ensure that TIESC_HW is set to 1. (b) For running default application, set&#160;TIESC_APPLICATION to 1 and&#160;CiA402_DEVICE to 0. For running CiA402 application, set&#160;TIESC_APPLICATION to 0 and&#160;CiA402_DEVICE to 1.</li>
<li>Build the project. This will generate the application binary which can be used to run on AM335x/AM437x. <br /></li></ol>
<p><u><b>Applying a Patch file</b></u><br /> 
</p>
<ul><li>Download Windows Patch Utility from <a rel="nofollow" class="external text" href="http://gnuwin32.sourceforge.net/downlinks/patch-bin-zip.php">gnuwin32 sourceforge</a>. ( Note that this is not a TI tool - See&#160;<a rel="nofollow" class="external text" href="http://savannah.gnu.org/projects/patch/">licensing information</a> page for more details)</li>
<li>Extract the zip file to the Windows PC. Patch file utility(Patch.exe) can be found in bin folder.</li>
<li>Launch DOS Command prompt ( <b>Start-&gt;Run-&gt;cmd</b>).</li>
<li>CD to bin folder.</li>
<li>Execute patch.exe as given below</li></ul>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; patch.exe -i PATCH_FILE_NAME -d SOURCE_DIR 
</p><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; where PATCH_FILE is name of the patch file with full path and<br /> 
</p><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SOURCE_DIR is Directory with full path where source files are present. 
</p><p><b>Example&#160;:</b> <br /> 
</p><p>patch.exe -i C:\TI\sysbios_ind_sdk_2.0.0.1\sdk\protocols\ethercat_slave\ecat_appl\patch\TI_ECAT.patch&#160;<b>-d</b> c:\SSC_V5i0\SlaveFiles\src<br /> 
</p>
<h2><span class="mw-headline" id="Generating_ESI_Header_file_From_ESI_xml">Generating ESI Header file From ESI xml<br /></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=39" title="Edit section: Generating ESI Header file From ESI xml">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The above given EtherCAT application is expected to be used against the ESI xml file given in esi folder.If the application should work with another ESI xml file, user will need to generate a corresponding ESI header file ( tiesc_eeprom.h ) and re-build the ecat_appl with the generated .h file.<br /> 
</p><p>Steps for generating ESI&#160;header file is given below.<br /> 
</p>
<ul><li>Generate the binary file equilant to ESI xml file. Pease see <a rel="nofollow" class="external text" href="Configuring_TwinCAT_For_AM335x.html#Generating_EEPROM_binary_file">Generating EEPROM binary</a>.<br /></li>
<li>Convert the binary file to header file using the bin2header.exe utility. This utility can be found in&#160; $(IA_SDK_HOME)\tools\bin2header <br /></li></ul>
<p><b>Usage&#160;:</b><br /> 
'bin2header.exe 'binary_filename' 'header_filename' 'out_array_name' <br /> 
</p><p><b>Example: </b> <br /> 
bin2header.exe "C:\Documents and Settings\user\Desktop\Box1.bin" "C:\Documents and Settings\user\Desktop\tiesc_eeprom.h" tiesc_eeprom<br /> 
</p>
<ul><li>Replace the existing file with new header file ( tiesc_eeprom.h) to $(IA_SDK_HOME)\Protocols\ethercat_slave\ecat_appl\src<br /></li>
<li>Rebuild the application.<br /></li></ul>
<p><br />
</p>
<h1><span class="mw-headline" id="Building_Full_Feature_SNMP_stack">Building Full Feature SNMP stack</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=40" title="Edit section: Building Full Feature SNMP stack">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>SNMP is provided as a library in the Industrial SDK with a limit of 1000 SNMP requests(after which it will shutdown). To have full development 
capability, users have to get the stack from Interniche SNMP Stack v4.01(please contact - <a rel="nofollow" class="external free" href="http://www.iniche.com/snmp.php">http://www.iniche.com/snmp.php</a> )
</p><p>The SNMP stack project files can be found in $(IA_SDK_HOME)\protocols\snmp\snmp_core. Once the user has access to the stack source, they can copy the files into this folder and re-build the library to get full development access.
</p><p>The steps for building&#160;full feature&#160;SNMP stack using Interniche SNMP source are given below.
</p>
<ol><li>Copy the SNMP stack source to $(IA_SDK_HOME)\Protocols\snmp\snmp_core\source<br /></li>
<li>Launch CCS and import snmp_core project found at $(IA_SDK_HOME)\Protocols\snmp\snmp_core to CCS<br /></li>
<li>Exclude "specific.c" in the stack source</li>
<li>Delete all the header files already included in $(IA_SDK_HOME)\protocols\snmp\include. The header files are listed below
<ol><li>asn1nm.h</li>
<li>in_ti.h</li>
<li>iniche_types.h</li>
<li>ipport.h</li>
<li>libport.h</li>
<li>npsnmp.h</li>
<li>osport.h</li>
<li>snmp_imp.h</li>
<li>snmp_var.h</li>
<li>snmp_vie.h</li>
<li>snmpagt.h</li>
<li>snmpport.h</li>
<li>socket.h</li></ol></li>
<li>Delete mibvars.c(This file lists the implemented objects, Industrial SDK provides the implementation within examples)</li>
<li>Build the project. This will generate the application binary(at $(IA_SDK_HOME)\Protocols\snmp\stack_lib)  which can be used to run in application. <br /></li></ol>
<h1><span class="mw-headline" id="Building_Bootloader">Building Bootloader</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=41" title="Edit section: Building Bootloader">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Boot loader project is included in the starterware package. The supported build configurations for AM437x are:<br />
</p>
<ol><li>am43xx_boot_mmcsd_debug -  This configuration builds the application with no optimization in place , in 32 bit mode and with maximum debugging support. The size of the boot loader binary would be large. Builds the binary to be executed from SD card</li>
<li>am43xx_boot_mmcsd_release - This configuration is optimized to an extent. Builds binary to be executed from SD card</li>
<li>am43xx_boot_qspi_debug - This configuration builds the application with no optimization in place , in 32 bit mode and with maximum debugging support. The size of the boot loader binary would be large. Builds the binary to be executed from qSPI flash</li>
<li>am43xx_boot_qspi_release - This configuration is optimized to an extent. Builds binary to be executed from qSPI Flash</li></ol>
<p>The supported build configurations for AM335x are:<br />
</p>
<ol><li>am4335x_boot_mmcsd_debug -  This configuration builds the application with no optimization in place , in 32 bit mode and with maximum debugging support. The size of the boot loader binary would be large. Builds the binary to be executed from SD card</li>
<li>am335x_boot_mmcsd_release - This configuration is optimized to an extent. Builds binary to be executed from SD card</li>
<li>am335x_boot_mcspi_debug - This configuration builds the application with no optimization in place , in 32 bit mode and with maximum debugging support. The size of the boot loader binary would be large. Builds the binary to be executed from qSPI flash</li>
<li>am335x_boot_mcspi_release - This configuration is optimized to an extent. Builds binary to be executed from qSPI Flash</li></ol>
<p>Once the build configuration is selected,  follow the given steps to build the boot loader.
</p>
<ul><li>Import Bootloader project found at $(IA_SDK_HOME)\starterware\bootloader directory to CCS. See importing and building instructions section for details.</li>
<li>Import dependent starterware projects. They are board, dal, soc, utils, ff9b_lib and mmscd_lib. They can be located at  $(IA_SDK_HOME)\starterware\</li>
<li>Select the appropriate build configuration for the bootloader. The dependent projects will automatically build</li>
<li>Set predefined macros as follows</li>
<li>Set the post build script arguments properly. See Post Build Script section for details.</li>
<li>Build bootloader project.</li></ul>
<p>A Successful build will generate boot.out and binary file in $(IA_SDK_HOME)\starterware\binary\bootloader\bin\am43xx-evm\ccs\
<br />
</p><p><br />
</p>
<h1><span class="mw-headline" id="Generating_Executable_Binary_-_Post_Build_Script">Generating Executable Binary - Post Build Script</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=42" title="Edit section: Generating Executable Binary - Post Build Script">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>OBJCOPY is used to generate a binary(.bin) from a .out file. Then ri_image adds the ti_headers into the generated binary file(resulting in an _ti.bin)
</p><p><br /> 
</p><p><b>Parameter List for Post build steps</b> <br /> 
</p>
<ul><li>Param 1 - OBJCOPY path</li>
<li>Param 2 - Output file format(Binary)</li>
<li>Param 3 - Input Image path name</li>
<li>Param 4 - Output Image path name</li>
<li>Param 5 - ti_image.exe path</li>
<li>Param 6 - Load address/Run address for the binary in hexadecimal format.(c_int00 should be forced to load address)</li>
<li>Param 8 - Boot mode. For bootloader, value of &lt;boot mode&gt; should be corresponding bootmedia name i,e NAND/SPI/MMCSD/UART. For application, value of &lt;boot mode&gt; should be NONE.</li>
<li>Param 9- Input Image path name</li>
<li>Param 10- Output Image path name</li></ul>
<p><b>Example&#160;:-</b> 
</p><p>Generate a bootloader binary to be stored in qSPI/SPI Flash or MMCSD <br /> 
</p><p>"${CG_TOOL_ROOT}/bin/arm-none-eabi-objcopy" -O binary --strip-all --strip-debug --strip-unneeded <br />
"${PROJECT_BUILD_DIR}/${ProjName}.out" 
"${PROJECT_BUILD_DIR}/${ProjName}.bin" &amp; <br />
"${IA_SDK_HOME}/starterware/tools/ti_image/tiimage.exe" "0x80000000" "NONE" <br />
"${PROJECT_BUILD_DIR}/${ProjName}.bin" <br />
"${PROJECT_BUILD_DIR}/${ProjName}_ti.bin"
<br />
</p><p><br />
</p><p><br />
</p>
<h1><span class="mw-headline" id="Technical_Support_and_Product_Updates">Technical Support and Product Updates</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;section=43" title="Edit section: Technical Support and Product Updates">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>The support and comunity for Sitara Processors is at <a rel="nofollow" class="external free" href="http://www.ti.com/lsds/ti/arm/sitara_arm_cortex_a_processor/support.page">http://www.ti.com/lsds/ti/arm/sitara_arm_cortex_a_processor/support.page</a> 
The Sitara E2E forum is at <a rel="nofollow" class="external free" href="http://e2e.ti.com/support/arm/sitara_arm/default.aspx">http://e2e.ti.com/support/arm/sitara_arm/default.aspx</a> 
</p><p><br /> 
</p><p><br /> 
</p><p><br /> 
</p><p><br /> 
</p><p><br />
</p></div>
<!-- 
NewPP limit report
Cached time: 20201130202032
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.184 seconds
Real time usage: 0.199 seconds
Preprocessor visited node count: 231/1000000
Preprocessor generated node count: 324/1000000
Post‐expand include size: 493/2097152 bytes
Template argument size: 42/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 3310/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    1.600      1 Template:SpArticleStart
100.00%    1.600      1 -total
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:40208-0!canonical and timestamp 20201130202032 and revision id 214050
 -->
<div class='hf-nsfooter' id='hf-nsfooter-'><table style="text-align:center; background:white; width:100%; text-align:left; height: 65px border-top: 1px solid; border-bottom: 1px solid; border-left: 1px solid; border-right: 1px solid; border-width: 1px; border-style: solid;">
<tr>
<td width="305px"><a href="File_E2e.html" class="image"><img alt="E2e.jpg" src="https://processors.wiki.ti.com/images/8/82/E2e.jpg" width="305" height="63" /></a>
</td>
<td>{{
<ol><li>switchcategory:MultiCore=</li></ol>
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>SYSBIOS Industrial SDK 02.01.01 User Guide</b> here.<i></i>
</p>
</td>
<td>Keystone=
<ul><li>For technical support on MultiCore devices, please post your questions in the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/default.aspx">C6000 MultiCore Forum</a></li>
<li>For questions related to the BIOS MultiCore SDK (MCSDK), please use the <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/embedded/f/355.aspx">BIOS Forum</a></li></ul>
<p>Please post only comments related to the article <b>SYSBIOS Industrial SDK 02.01.01 User Guide</b> here.<i></i>
</p>
</td>
<td>C2000=<i>For technical support on the C2000 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/tms320c2000_32-bit_real-time_mcus/f/171.aspx">The C2000 Forum</a>. Please post only comments about the article <b>SYSBIOS Industrial SDK 02.01.01 User Guide</b> here.</i>
</td>
<td>DaVinci=<i>For technical support on DaVincoplease post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/default.aspx">The DaVinci Forum</a>. Please post only comments about the article <b>SYSBIOS Industrial SDK 02.01.01 User Guide</b> here.</i>
</td>
<td>MSP430=<i>For technical support on MSP430 please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/default.aspx">The MSP430 Forum</a>. Please post only comments about the article <b>SYSBIOS Industrial SDK 02.01.01 User Guide</b> here.</i>
</td>
<td>OMAP35x=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>SYSBIOS Industrial SDK 02.01.01 User Guide</b> here.</i>
</td>
<td>OMAPL1=<i>For technical support on OMAP please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/dsp/omap_applications_processors/default.aspx">The OMAP Forum</a>. Please post only comments about the article <b>SYSBIOS Industrial SDK 02.01.01 User Guide</b> here.</i>
</td>
<td>MAVRK=<i>For technical support on MAVRK please post your questions on <a rel="nofollow" class="external text" href="http://e2e.ti.com/support/development_tools/mavrk/default.aspx">The MAVRK Toolbox Forum</a>. Please post only comments about the article <b>SYSBIOS Industrial SDK 02.01.01 User Guide</b> here.</i>
</td>
<td><i>For technical support please post your questions at <a rel="nofollow" class="external text" href="http://e2e.ti.com/">http://e2e.ti.com</a>. Please post only comments about the article <b>SYSBIOS Industrial SDK 02.01.01 User Guide</b> here.</i>
<p>}}
</p>
</td></tr></table>
<table style="border-style:solid; border-width:1px; text-align:center; width:100%;">

<tr style="font-size:150%;">
<td rowspan="2"><a href="File_Hyperlink_blue.html" class="image"><img alt="Hyperlink blue.png" src="https://processors.wiki.ti.com/images/9/9f/Hyperlink_blue.png" width="96" height="96" /></a>
</td>
<td><b>Links</b>
</td></tr>
<tr>
<td>
<table style="text-align: left;">
<tr>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/amplifier_and_linear.page">Amplifiers &amp; Linear</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/audio/audio_overview.page">Audio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/rfif.page">Broadband RF/IF &amp; Digital Radio</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/clocksandtimers/clocks_and_timers.page">Clocks &amp; Timers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/dataconverters/data_converter.page">Data Converters</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/mems/mems.page">DLP &amp; MEMS</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/high_reliability.page">High-Reliability</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/interface/interface.page">Interface</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/logic/home_overview.page">Logic</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page">Power Management</a>
</p>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/embedded_processor.page">Processors</a>
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/arm.page">ARM Processors</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/dsp/home.page">Digital Signal Processors (DSP)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/microcontroller/home.page">Microcontrollers (MCU)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/omap-applications-processors/the-omap-experience.page">OMAP Applications Processors</a></li></ul>
</td>
<td style="padding-right: 10px; vertical-align: top;">
<p><a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/switches_and_multiplexers.page">Switches &amp; Multiplexers</a><br/>
<a rel="nofollow" class="external text" href="http://www.ti.com/lsds/ti/analog/temperature_sensor.page">Temperature Sensors &amp; Control ICs</a><br/>
<a rel="nofollow" class="external text" href="http://focus.ti.com/wireless/docs/wirelessoverview.tsp?familyId=2003&amp;sectionId=646&amp;tabId=2735">Wireless Connectivity</a>
</p>
</td></tr></table>
</td></tr></table>
<div id="tiPrivacy"></div>
</div></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;oldid=214050">https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;oldid=214050</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_Industrial.html" title="Category:Industrial">Industrial</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=SYSBIOS+Industrial+SDK+02.01.01+User+Guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="SYSBIOS_Industrial_SDK_02.01.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Talk:SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="SYSBIOS_Industrial_SDK_02.01.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/SYSBIOS_Industrial_SDK_02.01.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/SYSBIOS_Industrial_SDK_02.01.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;oldid=214050" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=SYSBIOS_Industrial_SDK_02.01.01_User_Guide&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 27 March 2016, at 23:45.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.184","walltime":"0.199","ppvisitednodes":{"value":231,"limit":1000000},"ppgeneratednodes":{"value":324,"limit":1000000},"postexpandincludesize":{"value":493,"limit":2097152},"templateargumentsize":{"value":42,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":3310,"limit":5000000},"timingprofile":["100.00%    1.600      1 Template:SpArticleStart","100.00%    1.600      1 -total"]},"cachereport":{"timestamp":"20201130202032","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":241});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/SYSBIOS_Industrial_SDK_02.01.01_User_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 08:39:34 GMT -->
</html>
