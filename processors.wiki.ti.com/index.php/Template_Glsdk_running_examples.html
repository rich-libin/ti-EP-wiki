<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from processors.wiki.ti.com/index.php/Template:Glsdk_running_examples by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 08:36:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Template:Glsdk running examples - Texas Instruments Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"Template","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":10,"wgPageName":"Template:Glsdk_running_examples","wgTitle":"Glsdk running examples","wgCurRevisionId":236901,"wgRevisionId":236901,"wgArticleId":31210,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["PROCESSOR-SDK","Automotive","IPC, BIOS, Linux","Pages with broken file links"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Template:Glsdk_running_examples","wgRelevantArticleId":31210,"wgRequestId":"e79ae1cdc911de02fadb47db","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@19o3a1s",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://processors.wiki.ti.com/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.6"/>
<link rel="shortcut icon" href="https://processors.wiki.ti.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://processors.wiki.ti.com/opensearch_desc.php" title="Texas Instruments Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://processors.wiki.ti.com/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Texas Instruments Wiki Atom feed" href="https://processors.wiki.ti.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-10 ns-subject page-Template_Glsdk_running_examples rootpage-Template_Glsdk_running_examples skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="siteNotice" class="mw-body-content"><div id="localNotice" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span style="color:#ff0000"><b>NOTICE: The Processors Wiki will End-of-Life on January 15, 2021. It is recommended to download any files or other content you may need that are hosted on processors.wiki.ti.com. The site is now set to read only.</b></span>
</p></div></div></div><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Template:Glsdk running examples</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Texas Instruments Wiki</div>				<div id="contentSub"></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Running_Examples"><span class="tocnumber">1</span> <span class="toctext">Running Examples</span></a>
<ul>
<li class="toclevel-2"><a href="#Running_OMAP_DRM_DSS_Examples"><span class="tocnumber">1.1</span> <span class="toctext">Running OMAP DRM DSS Examples</span></a></li>
<li class="toclevel-2"><a href="#Graphics_Demos_from_Command_Line"><span class="tocnumber">1.2</span> <span class="toctext">Graphics Demos from Command Line</span></a>
<ul>
<li class="toclevel-3"><a href="#Finding_Connector_ID"><span class="tocnumber">1.2.1</span> <span class="toctext">Finding Connector ID</span></a></li>
<li class="toclevel-3"><a href="#Finding_Plane_ID"><span class="tocnumber">1.2.2</span> <span class="toctext">Finding Plane ID</span></a></li>
<li class="toclevel-3"><a href="#kmscube"><span class="tocnumber">1.2.3</span> <span class="toctext">kmscube</span></a></li>
<li class="toclevel-3"><a href="#kmscube_with_video"><span class="tocnumber">1.2.4</span> <span class="toctext">kmscube with video</span></a></li>
<li class="toclevel-3"><a href="#Wayland.2FWeston"><span class="tocnumber">1.2.5</span> <span class="toctext">Wayland/Weston</span></a>
<ul>
<li class="toclevel-4"><a href="#Running_weston_clients"><span class="tocnumber">1.2.5.1</span> <span class="toctext">Running weston clients</span></a></li>
<li class="toclevel-4"><a href="#Running_multimedia_with_Wayland_sink"><span class="tocnumber">1.2.5.2</span> <span class="toctext">Running multimedia with Wayland sink</span></a></li>
<li class="toclevel-4"><a href="#Exiting_weston"><span class="tocnumber">1.2.5.3</span> <span class="toctext">Exiting weston</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Using_IVI_shell_feature"><span class="tocnumber">1.2.6</span> <span class="toctext">Using IVI shell feature</span></a>
<ul>
<li class="toclevel-4"><a href="#Running_weston.E2.80.99s_sample_client_applications_with_ivi-shell"><span class="tocnumber">1.2.6.1</span> <span class="toctext">Running weston’s sample client applications with ivi-shell</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#IMG_PowerVR_Demos"><span class="tocnumber">1.2.7</span> <span class="toctext">IMG PowerVR Demos</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Using_the_PowerVR_Tools"><span class="tocnumber">1.3</span> <span class="toctext">Using the PowerVR Tools</span></a>
<ul>
<li class="toclevel-3"><a href="#PVRTune"><span class="tocnumber">1.3.1</span> <span class="toctext">PVRTune</span></a></li>
<li class="toclevel-3"><a href="#PVRTrace"><span class="tocnumber">1.3.2</span> <span class="toctext">PVRTrace</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Testing_DSS_WB_pipeline"><span class="tocnumber">1.4</span> <span class="toctext">Testing DSS WB pipeline</span></a>
<ul>
<li class="toclevel-3"><a href="#Memory_to_Memory_.28M2M.29"><span class="tocnumber">1.4.1</span> <span class="toctext">Memory to Memory (M2M)</span></a></li>
<li class="toclevel-3"><a href="#Capture"><span class="tocnumber">1.4.2</span> <span class="toctext">Capture</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Running_aplay_and_arecord_application"><span class="tocnumber">1.5</span> <span class="toctext">Running aplay and arecord application</span></a></li>
<li class="toclevel-2"><a href="#Running_GC320_application"><span class="tocnumber">1.6</span> <span class="toctext">Running GC320 application</span></a></li>
<li class="toclevel-2"><a href="#Running_viddec3test_application"><span class="tocnumber">1.7</span> <span class="toctext">Running viddec3test application</span></a></li>
<li class="toclevel-2"><a href="#Running_a_gstreamer_pipeline"><span class="tocnumber">1.8</span> <span class="toctext">Running a gstreamer pipeline</span></a></li>
<li class="toclevel-2"><a href="#Running_VIP.2FVPE.2FCAL_application"><span class="tocnumber">1.9</span> <span class="toctext">Running VIP/VPE/CAL application</span></a>
<ul>
<li class="toclevel-3"><a href="#Video_Input_Port"><span class="tocnumber">1.9.1</span> <span class="toctext">Video Input Port</span></a></li>
<li class="toclevel-3"><a href="#Camera_Adapter_Layer"><span class="tocnumber">1.9.2</span> <span class="toctext">Camera Adapter Layer</span></a></li>
<li class="toclevel-3"><a href="#Supported_cameras"><span class="tocnumber">1.9.3</span> <span class="toctext">Supported cameras</span></a>
<ul>
<li class="toclevel-4"><a href="#Running_dmabuftest"><span class="tocnumber">1.9.3.1</span> <span class="toctext">Running dmabuftest</span></a></li>
<li class="toclevel-4"><a href="#Capturing_from_OV10633_onboard_camera"><span class="tocnumber">1.9.3.2</span> <span class="toctext">Capturing from OV10633 onboard camera</span></a></li>
<li class="toclevel-4"><a href="#Capturing_from_OV10635_Vision_board_camera"><span class="tocnumber">1.9.3.3</span> <span class="toctext">Capturing from OV10635 Vision board camera</span></a></li>
<li class="toclevel-4"><a href="#Capturing_through_TVP_decoder"><span class="tocnumber">1.9.3.4</span> <span class="toctext">Capturing through TVP decoder</span></a></li>
<li class="toclevel-4"><a href="#Capturing_through_LVDS_camera"><span class="tocnumber">1.9.3.5</span> <span class="toctext">Capturing through LVDS camera</span></a></li>
<li class="toclevel-4"><a href="#Capturing_through_OV10640.2FOV490_CSI_camera.2FISP"><span class="tocnumber">1.9.3.6</span> <span class="toctext">Capturing through OV10640/OV490 CSI camera/ISP</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Video_Processing_Engine.28VPE.29"><span class="tocnumber">1.9.4</span> <span class="toctext">Video Processing Engine(VPE)</span></a>
<ul>
<li class="toclevel-4"><a href="#File_to_File"><span class="tocnumber">1.9.4.1</span> <span class="toctext">File to File</span></a></li>
<li class="toclevel-4"><a href="#File_to_Display"><span class="tocnumber">1.9.4.2</span> <span class="toctext">File to Display</span></a></li>
<li class="toclevel-4"><a href="#VIP-VPE-Display"><span class="tocnumber">1.9.4.3</span> <span class="toctext">VIP-VPE-Display</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2"><a href="#Running_DSS_application"><span class="tocnumber">1.10</span> <span class="toctext">Running DSS application</span></a>
<ul>
<li class="toclevel-3"><a href="#Testing_with_FPDLink_Display_setup"><span class="tocnumber">1.10.1</span> <span class="toctext">Testing with FPDLink Display setup</span></a>
<ul>
<li class="toclevel-4"><a href="#Current_H.2FW_setup"><span class="tocnumber">1.10.1.1</span> <span class="toctext">Current H/W setup</span></a></li>
<li class="toclevel-4"><a href="#Legacy_H.2FW_setup"><span class="tocnumber">1.10.1.2</span> <span class="toctext">Legacy H/W setup</span></a></li>
<li class="toclevel-4"><a href="#HW_Modifications_required"><span class="tocnumber">1.10.1.3</span> <span class="toctext">HW Modifications required</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2"><a href="#Gsttestplayer"><span class="tocnumber">1.11</span> <span class="toctext">Gsttestplayer</span></a>
<ul>
<li class="toclevel-3"><a href="#Running_gsttestplayer"><span class="tocnumber">1.11.1</span> <span class="toctext">Running gsttestplayer</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-2"><a href="#Running_IPC_examples"><span class="tocnumber">1.12</span> <span class="toctext">Running IPC examples</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#User_space_sample_application"><span class="tocnumber">1.12.1</span> <span class="toctext">User space sample application</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#RPMsg_client_sample_application"><span class="tocnumber">1.12.2</span> <span class="toctext">RPMsg client sample application</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#Running_basic_Wifi_tests"><span class="tocnumber">1.13</span> <span class="toctext">Running basic Wifi tests</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Running_basic_Bluetooth_tests"><span class="tocnumber">1.14</span> <span class="toctext">Running basic Bluetooth tests</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#How_to_bring_up_the_GNSS_driver_and_sample_application"><span class="tocnumber">1.15</span> <span class="toctext">How to bring up the GNSS driver and sample application</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Running_Examples">Running Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;action=edit&amp;section=1" title="Edit section: Running Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h3><span class="mw-headline" id="Running_OMAP_DRM_DSS_Examples">Running OMAP DRM DSS Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-1" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The drmclone, drmextended, and modetest examples demonstrates how to create a CRTC (i.e. FB) and display planes (overlays) on the CRTC.
Additionally, drmtest demonstrates similar functionality as the previously mentioned demos, along with dynamic plane updates for 2 CRTCs.
</p><p>Retrieve the omapdrm-tests source 
</p>
<pre> git clone <a rel="nofollow" class="external free" href="https://github.com/tomba/omapdrm-tests.git">https://github.com/tomba/omapdrm-tests.git</a>
 cd omapdrm-tests
</pre>
<p>Run (or example planescale)
</p>
<pre>./planescale
</pre>
<h2><span class="mw-headline" id="Graphics_Demos_from_Command_Line">Graphics Demos from Command Line</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-2" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The graphics driver and userspace libraries and binaries are distributed along with the SDK. 
</p><p><br />
Graphic demos can also run from command line. In order to do so, exit Weston by pressing Ctrl-Alt-Backspace from the keyboard which connects to the EVM. Then, if the LCD screen stays in "Please wait...", press Ctrl-Alt-F1 to go to the command line on LCD console. After that, the command line can be used from serial console, SSH console, or LCD console.
| 
Graphic demos can also run from command line. In order to do so, exit Weston by pressing Ctrl-Alt-Backspace from the keyboard which connects to the EVM. Then, if the LCD screen stays in "Please wait...", press Ctrl-Alt-F1 to go to the command line on LCD console. After that, the command line can be used from serial console, SSH console, or LCD console.
</p><p><br />
Please make sure the  board is connected to atleast one display before running these demos.
</p>
<h3><span class="mw-headline" id="Finding_Connector_ID">Finding Connector ID</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Modetest_find_connector_id&amp;action=edit&amp;section=T-1" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span><b>Note:</b></span> Most of the applications used in the Demos would require the user to pass a connector id.
A connector id is a number that is assigned to each of the display devices connected to the system. 
To get the list of the display devices connected and the corresponding connector id one can use the <b>modetest</b> application (shipped with the file system) as mentioned below:
</p>
<pre>  <b>target #</b>  modetest
</pre>
<p>Look for the display device for which the connector ID is required - such as HDMI, LCD etc.
</p><p><br />
</p>
<pre>Connectors:
id      encoder status          type    size (mm)       modes   encoders
4       3       connected       HDMI-A  480x270         20      3
  modes:
        name refresh (Hz) hdisp hss hse htot vdisp vss vse vtot)
  1920x1080 60 1920 2008 2052 2200 1080 1084 1089 1125 flags: phsync, pvsync; type: preferred, driver
...
16      15      connected       unknown 0x0             1       15
  modes:
        name refresh (Hz) hdisp hss hse htot vdisp vss vse vtot)
  800x480 60 800 1010 1040 1056 480 502 515 525 flags: nhsync, nvsync; type: preferred, driver</pre>
<p>Usually, LCD is assigned 16 (800x480), and HDMI is assigned 4 (multiple resolutions).
| 
</p>
<pre>Connectors:
id  encoder status      type    size (mm)   modes   encoders
4   3   connected   unknown 0x0     1   3
  modes:
    name refresh (Hz) hdisp hss hse htot vdisp vss vse vtot)
  1280x800 60 1280 1328 1360 1404 800 804 811 823 flags: nhsync, nvsync; type: preferred, driver
...
16  11  connected   HDMI-A  700x390     31  11
  modes:
    name refresh (Hz) hdisp hss hse htot vdisp vss vse vtot)
  1280x720 60 1280 1390 1430 1650 720 725 730 750 flags: phsync, pvsync; type: preferred, driver</pre>
<p>Usually LCD is assigned 4 (800x480), HDMI is assigned 16 (multiple resolutions).
</p>
<h3><span class="mw-headline" id="Finding_Plane_ID">Finding Plane ID</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Modetest_find_connector_id&amp;action=edit&amp;section=T-2" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To find the Plane ID, run the modetest command:
</p>
<pre>  <b>target #</b>  modetest
</pre>
<p>Look for the section called Planes. (Sample truncated output of the Planes section is given below)
</p>
<pre>Planes:
id      crtc    fb      CRTC x,y        x,y     gamma size
19      0       0       0,0             0,0     0
 formats: RG16 RX12 XR12 RA12 AR12 XR15 AR15 RG24 RX24 XR24 RA24 AR24 NV12 YUYV UYVY
 props:
 ...
20      0       0       0,0             0,0     0
 formats: RG16 RX12 XR12 RA12 AR12 XR15 AR15 RG24 RX24 XR24 RA24 AR24 NV12 YUYV UYVY
 props:
 ...
</pre>
<h3><span class="mw-headline" id="kmscube">kmscube</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-3" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Run kmscube on default display (HDMI):
</p>
<pre>  <b>target #</b> kmscube
</pre>
<p><br />
</p><p>Run kmscube on default display (LCD):
</p>
<pre>  <b>target #</b> kmscube
</pre>
<p>Run kmscube on secondary display (HDMI):
</p>
<pre>  <b>target #</b> kmscube -c &lt;connector-id&gt;
  <b>target #</b> kmscube -c 16 #Usually, the connector id for HDMI is 16.
</pre>
<p>Run kmscube on all connected displays (LCD &amp; HDMI &amp; FPDLink(optional)):
</p>
<pre>  <b>target #</b> kmscube -a
</pre>
<p><br />
</p><p>Run kmscube on default display (HDMI):
</p>
<pre>  <b>target #</b> kmscube
</pre>
<p>Run kmscube on secondary display (LCD):
</p>
<pre>  <b>target #</b> kmscube -c &lt;connector-id&gt;
  <b>target #</b> kmscube -c 16 #Usually, the connector id for LCD is 16.
</pre>
<p>Run kmscube on all connected displays (LCD &amp; HDMI):
</p>
<pre>  <b>target #</b> kmscube -a
</pre>
<h3><span class="mw-headline" id="kmscube_with_video">kmscube with video</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-4" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This demo allows a video frame to be applied as a texture onto the surface of the kmscube. The user can invoke the demo by following the syntax below:
</p>
<pre>  <b>target #</b> viddec3test &lt;path_to_the_file&gt; --kmscube --connector &lt;connector_number&gt;
</pre>
<p>This feature is not supported on OMAP5 based releases.
</p><p><br />
Run kmscube with video on default display (LCD):
</p>
<pre>  <b>target #</b> viddec3test &lt;path_to_the_file&gt; --kmscube
</pre>
<p>Run kmscube with video on secondary display (HDMI):
</p>
<pre>  <b>target #</b> viddec3test &lt;path_to_the_file&gt; --kmscube --connector 16 #Usually, the connector id for HDMI is 16.
</pre>
<p><br />
</p><p>Run kmscube with video on default display (HDMI):
</p>
<pre>  <b>target #</b> viddec3test &lt;path_to_the_file&gt; --kmscube
</pre>
<p>Run kmscube with video on secondary display (LCD):
</p>
<pre>  <b>target #</b> viddec3test &lt;path_to_the_file&gt; --kmscube --connector 16 #Usually, the connector id for HDMI is 16.
</pre>
<p><br />
Additionally, to change the field of view of the rotating cube, the user can specify the same on the command line like below:
</p>
<pre>  <b>target #</b> viddec3test &lt;path_to_the_file&gt; --kmscube --connector &lt;connector_number&gt; --fov &lt;number&gt;
</pre>
<h3><span id="Wayland/Weston"></span><span class="mw-headline" id="Wayland.2FWeston">Wayland/Weston</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-5" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>Wayland/Weston version brings in the multiple display support in extended desktop mode and the ability to drag-and-drop windows from one display to the other.
</pre>
<p><br />
To execute the demos, the graphics driver must be initialized by running start weston, if this has not been done earlier.
</p>
<pre>  <b>target #</b> /etc/init.d/weston start
</pre>
<p><br />
To launch weston without using systemd init scripts, do the following:
</p><p><br />
On all connected displays (LCD, HDMI and FPDLink):
</p>
<pre>  <b>target #</b> weston --tty=1 --backend=drm-backend.so
</pre>
<p><br />
</p><p><br />
On default display (HDMI):
</p>
<pre>  <b>target #</b> weston --tty=1 --connector=4
</pre>
<p>On secondary display (LCD):
</p>
<pre>  <b>target #</b> weston --tty=1 --connector=16
</pre>
<p>On all connected displays (LCD and HDMI):
</p>
<pre>  <b>target #</b> weston --tty=1
</pre>
<p><br />
</p><p>By default, the screensaver timeout is configured to 300 seconds. <br />
</p><p>The user can change the screensaver timeout using a command line option
</p>
<pre> --idle-time=&lt;number of seconds&gt;
</pre>
<p>To disable the screen timeout and to configure weston configured to display on all connectors, use the option with "0" as the input:
</p>
<pre> --idle-time=0
</pre>
<p><br />
The filesystem comes with a preconfigured <b>weston.ini</b> file which will be located in
</p><p><b>/etc/weston.ini</b>
|
<b>/etc/weston.ini</b><br />
</p><p><br />
</p>
<h4><span class="mw-headline" id="Running_weston_clients">Running weston clients</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-6" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Weston client examples can run from the command line on serial port console or SSH console.
After launching weston, the user should be able to use the keyboard and the mouse for various controls.<br />
</p>
<pre>       <b>#</b> /usr/bin/weston-flower
       <b>#</b> /usr/bin/weston-clickdot
       <b>#</b> /usr/bin/weston-cliptest
       <b>#</b> /usr/bin/weston-dnd
       <b>#</b> /usr/bin/weston-editor
       <b>#</b> /usr/bin/weston-eventdemo
       <b>#</b> /usr/bin/weston-image /usr/share/weston/terminal.png
       <b>#</b> /usr/bin/weston-resizor
       <b>#</b> /usr/bin/weston-simple-egl
       <b>#</b> /usr/bin/weston-simple-shm
       <b>#</b> /usr/bin/weston-simple-touch
       <b>#</b> /usr/bin/weston-smoke
       <b>#</b> /usr/bin/weston-info
       <b>#</b> /usr/bin/weston-terminal
</pre>
<p>|
There is one icon on the top right hand corner of the weston desktop window which has been configured for
</p>
<ul><li>weston-terminal</li></ul>
<p>Clicking this icon should launch the applications on the Weston Desktop.
</p><p>It is possible to add other icons by editing the weston.ini file.
</p><p>There are several other applications that are included in the default filesystem. To invoke these applications, the user should launch the weston-terminal (top right hand corner of the desktop) and then invoke the client apps as described below from within the terminal window:
</p>
<pre>       <b>wayland sh #</b> /usr/bin/weston-flower
       <b>wayland sh #</b> /usr/bin/weston-clickdot
       <b>wayland sh #</b> /usr/bin/weston-cliptest
       <b>wayland sh #</b> /usr/bin/weston-dnd
       <b>wayland sh #</b> /usr/bin/weston-editor
       <b>wayland sh #</b> /usr/bin/weston-eventdemo
       <b>wayland sh #</b> /usr/bin/weston-image /usr/share/weston/terminal.png
       <b>wayland sh #</b> /usr/bin/weston-resizor
       <b>wayland sh #</b> /usr/bin/weston-simple-egl
       <b>wayland sh #</b> /usr/bin/weston-simple-shm
       <b>wayland sh #</b> /usr/bin/weston-simple-touch
       <b>wayland sh #</b> /usr/bin/weston-smoke
       <b>wayland sh #</b> /usr/bin/weston-info
       <b>wayland sh #</b> /usr/bin/weston-terminal
</pre>
<p><br />
</p>
<h4><span class="mw-headline" id="Running_multimedia_with_Wayland_sink">Running multimedia with Wayland sink</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-7" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The GStreamer video sink for Wayland is the waylandsink. To use this video-sink for video playback:
</p>
<pre>  <b>target #</b> gst-launch-1.0 playbin uri=file://&lt;<i>path-to-file-name</i>&gt; video-sink=waylandsink
</pre>
<p><br />
</p>
<h4><span class="mw-headline" id="Exiting_weston">Exiting weston</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-8" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Terminate all Weston clients before exiting Weston. If you have invoked Weston from the serial console, exit Weston by pressing Ctrl-C. 
</p><p>It is also possible to invoke Weston from the native console, exit Weston by using pressing Ctrl-Alt-Backspace.
</p>
<h3><span class="mw-headline" id="Using_IVI_shell_feature">Using IVI shell feature</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-9" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The SDK also has support for configuring weston ivi-shell. The default shell that is configured in the SDK is the desktop-shell. <br />
</p><p>To change the shell to ivi-shell, the user will have to add the following lines into the /etc/weston.ini. 
</p><p><i>To switch back to the desktop-shell can be done by commenting these lines in the /etc/weston.ini (comments begin with a '#' at the start of line).</i>
</p>
<pre>[core]
shell=ivi-shell.so

[ivi-shell]
ivi-module=ivi-controller.so
ivi-input-module=ivi-input-controller.so
</pre>
<p>After the above configuration is completed, we can restart weston by running the following commands
</p>
<pre>target# /etc/init.d/weston stop
target# /etc/init.d/weston start
</pre>
<p><b>NOTE:</b> When weston starts with ivi-shell, the default background is black, this is different from the desktop-shell that brings up a window with background.
</p><p>With ivi-shell configured for weston, wayland client applications use ivi-application protocol to be managed by a central HMI window management. The wayland-ivi-extension provides ivi-controller.so to manage properties of surfaces/layers/screens and it also provides the ivi-input-controller.so to manage the input focus on a surface.  <br />
</p><p>Applications must support the ivi-application protocol to be managed by the HMI central controller with an unique numeric ID. <br />
</p><p>Some important references to wayland-ivi-extension can be found at the following links: 
<a rel="nofollow" class="external free" href="https://at.projects.genivi.org/wiki/display/WIE/01.+Quick+start">https://at.projects.genivi.org/wiki/display/WIE/01.+Quick+start</a>
<a rel="nofollow" class="external free" href="https://at.projects.genivi.org/wiki/display/PROJ/Wayland+IVI+Extension+Design">https://at.projects.genivi.org/wiki/display/PROJ/Wayland+IVI+Extension+Design</a>
</p><p><br />
</p>
<h4><span id="Running_weston’s_sample_client_applications_with_ivi-shell"></span><span class="mw-headline" id="Running_weston.E2.80.99s_sample_client_applications_with_ivi-shell">Running weston’s sample client applications with ivi-shell</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-10" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>All the sample client applications in the weston package like weston-simple-egl, weston-simple-shm, weston-flower etc also have support for ivi-shell. The SDK includes the application called layer-add-surfaces which is part of the wayland-ivi-extension. This application allows the user to invoke the various functionalities of the ivi-shell and control the applications.
</p><p>The following is an example sequence of commands and the corresponding effect on the target. 
</p><p>After launching the weston with the ivi-shell, please run the below sequence of commands:
</p>
<pre>target# weston-simple-shm &amp;

</pre>
<p>At this point nothing is displayed on the screen, some additional commands are required.
</p>
<pre>target# layer_add_surfaces 0 1000 2 &amp;
</pre>
<p>This command creates a layer with ID 1000 and to add maximum 2 surfaces to this layer on the screen 0 (which is usually the LCD). <br />
At this point, the user can see weston-simple-shm running on LCD. This also prints the numericID (surfaceID) to which client’s surface is mapped as shown below:
</p>
<pre> CreateWithDimension: layer ID (1000), Width (1280), Height (800)
 SetVisibility     &#160;: layer ID (1000), ILM_TRUE
 layer: 1000 created
 surface               &#160;: 10369 created
 SetDestinationRectangle: surface ID (10369), Width (250), Height (250)
 SetSourceRectangle    &#160;: surface ID (10369), Width (250), Height (250)
 SetVisibility         &#160;: surface ID (10369), ILM_TRUE
 layerAddSurface       &#160;: surface ID (10369) is added to layer ID (1000)
</pre>
<p>Here 10369 is the number to which weston-simple-shm application’s surface is mapped. <br />
</p><p>User can launch one more client application which allows layer_add_surfaces to add second surface to the layer 1000 as shown below.
</p>
<pre>target# weston-flower &amp;
</pre>
<p>User can control the properties of the above surfaces using LayerManagerControl as shown below to set the position, resize, opacity and visibility respectively.
</p>
<pre>target# LayerManagerControl set surface 10369 position 100 100
target# LayerManagerControl set surface 10369 destination region 150 150 300 300
target# LayerManagerControl set surface 10369 opacity 0.5
target# LayerManagerControl set surface 10369 visibility 1
</pre>
<pre>target# LayerManagerControl  help  
</pre>
<p>The help option prints all possible control operations with the LayerManagerControl binary, please refer to the available options.
</p>
<h3><span class="mw-headline" id="IMG_PowerVR_Demos">IMG PowerVR Demos</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-11" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Processor SDK Linux Automotive filesystem comes packaged with example OpenGLES applications. Both DRM and Wayland based applications are packaged as part of the filesystem. 
</p><p>The examples running on <b>Wayland</b> can be invoked using the below commands.
</p>
<pre> target # /usr/bin/SGX/demos/Wayland/OGLES2ChameleonMan
 target # /usr/bin/SGX/demos/Wayland/OGLES2Navigation
</pre>
<p>The examples running on <b>DRM/KMS</b> can be invoked using the below commands.
</p>
<pre> target # /usr/bin/SGX/demos/Raw/OGLES2ChameleonMan
 target # /usr/bin/SGX/demos/Raw/OGLES2Navigation
</pre>
<p>After you see the output on the display interface, hit <i>q</i> to terminate the application.
</p>
<h2><span class="mw-headline" id="Using_the_PowerVR_Tools">Using the PowerVR Tools</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-12" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Please refer to <a rel="nofollow" class="external free" href="http://community.imgtec.com/developers/powervr/graphics-sdk/">http://community.imgtec.com/developers/powervr/graphics-sdk/</a> for additional details on the tools and detailed documentation.</b>
</p><p>The target file system includes tools such as PVRScope and PVRTrace recorder libraries from Imagination PowerVR SDK to profile and trace SGX activities. In addition, it also includes PVRPerfServerDeveloper toolfor Jacinto6 platform. <br />
</p>
<h3><span class="mw-headline" id="PVRTune">PVRTune</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-13" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>PVRPerfServerDeveloper tool can be used along with the PVRTune running on the PC to gather data on the SGX loading and activity threads.
You can invoke the tool with the below command:
</p>
<pre>target # /opt/img-powervr-sdk/PVRHub/PVRPerfServer/PVRPerfServerDeveloper
</pre>
<h3><span class="mw-headline" id="PVRTrace">PVRTrace</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_graphics_demos&amp;action=edit&amp;section=T-14" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The default filesystem contains helper scripts to obtain the PVRTrace of the graphics application. This trace can then be played back on the PC using the PVRTrace Utility.
</p><p>To start tracing, use the below commands as reference:
</p>
<pre>target # cp /opt/img-powervr-sdk/PVRHub/Scripts/start_tracing.sh ~/.
target # ./start_tracing.sh &lt;log-filename&gt; &lt;application-to-be-traced&gt;
</pre>
<p>Example:
</p>
<pre>target # ./start_tracing.sh westonapp weston-simple-egl
</pre>
<p>The above command will do the following:
</p>
<ol><li>Setup the required environment for the tracing</li>
<li>Create a directory under the current working directory called pvrtrace</li>
<li>Launch the application specified by the user</li>
<li>Start tracing the PVR Interactions and record the same to the log-filename</li></ol>
<p>To end the tracing, user can invoke the Ctrl-C and the trace file path will be displayed.
</p><p>The trace file can then be transferred to a PC and we can visualize the application using the host side PVRTrace utility.
Please refer to the link at the beginning of this section for more details.
</p>
<h2><span class="mw-headline" id="Testing_DSS_WB_pipeline">Testing DSS WB pipeline</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Psdkla_dss_wb&amp;action=edit&amp;section=T-1" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span id="Memory_to_Memory_(M2M)"></span><span class="mw-headline" id="Memory_to_Memory_.28M2M.29">Memory to Memory (M2M)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Psdkla_dss_wb&amp;action=edit&amp;section=T-2" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ol style="list-style-type: decimal;">
<li><p>Identify the WB pipeline M2M device.</p>
<pre># ls /sys/class/video4linux/
Video0 video10 video11
# cat  /sys/class/video4linux/video10/name
omapwb-m2m</pre></li>
<li><p>Look at list of formats supported.</p>
<pre># v4l2-ctl -d /dev/video10 --list-formats
ioctl: VIDIOC_ENUM_FMT
        Index      &#160;: 0
        Type       &#160;: Video Capture Multiplanar
        Pixel Format: 'NV12'
        Name       &#160;: Y/CbCr 4:2:0

        Index      &#160;: 1
        Type       &#160;: Video Capture Multiplanar
        Pixel Format: 'YUYV'
        Name       &#160;: YUYV 4:2:2

        Index      &#160;: 2
        Type       &#160;: Video Capture Multiplanar
        Pixel Format: 'UYVY'
        Name       &#160;: UYVY 4:2:2

        Index      &#160;: 3
        Type       &#160;: Video Capture Multiplanar
        Pixel Format: 'XR24'
        Name       &#160;: 32-bit BGRX 8-8-8-8</pre></li>
<li><p>Use <code>v4l2-ctl</code> command to test the input output. Below command converts from NV12 to YUYV using WB pipeline in M2M mode.</p>
<pre># v4l2-ctl -d /dev/video10 --set-fmt-video-out=width=1920,height=1080,pixelformat=NV12  \
--stream-from=test/BigBuckBunny_1920_1080_24fps_100frames.nv12 \
--set-fmt-video=width=1920,height=1080,pixelformat=YUYV \
--stream-to=out/video_test_file.yuyv --stream-mmap=3 --stream-out-mmap=3 --stream-count=70 --stream-poll</pre></li></ol>
<h3><span class="mw-headline" id="Capture">Capture</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Psdkla_dss_wb&amp;action=edit&amp;section=T-3" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ol style="list-style-type: decimal;">
<li><p>Identify the WB pipeline capture device.</p>
<pre># ls /sys/class/video4linux/
Video0 video10 video11
# cat  /sys/class/video4linux/video11/name
omapwb-cap</pre></li>
<li><p>Look at list of formats supported.</p>
<pre># v4l2-ctl -d /dev/video11 --list-formats
ioctl: VIDIOC_ENUM_FMT
        Index      &#160;: 0
        Type       &#160;: Video Capture Multiplanar
        Pixel Format: 'NV12'
        Name       &#160;: Y/CbCr 4:2:0

        Index      &#160;: 1
        Type       &#160;: Video Capture Multiplanar
        Pixel Format: 'YUYV'
        Name       &#160;: YUYV 4:2:2

        Index      &#160;: 2
        Type       &#160;: Video Capture Multiplanar
        Pixel Format: 'UYVY'
        Name       &#160;: UYVY 4:2:2

        Index      &#160;: 3
        Type       &#160;: Video Capture Multiplanar
        Pixel Format: 'XR24'
        Name       &#160;: 32-bit BGRX 8-8-8-8
</pre></li>
<li><p>Use <code>v4l2-ctl</code> command to test the input output. Below command converts from NV12 to YUYV using WB pipeline in M2M mode.</p>
<pre># v4l2-ctl -d /dev/video11 -i 0 --set-fmt-video=pixelformat=NV12 \
--stream-to=/test/video_test_file.yuv --stream-mmap=6 --stream-count=10 --stream-poll
Video input set to 0 (CRTC#0 - LCD1: ok)
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; 7.84 fps
&lt;
# v4l2-ctl -d /dev/video11 -i 1 --set-fmt-video=pixelformat=NV12 --stream-to=/test/video
_test_file.yuv --stream-mmap=6 --stream-count=10 --stream-poll
Video input set to 1 (CRTC#1 - DIGIT/TV: ok)
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; 8.65 fps</pre></li></ol>
<h2><span class="mw-headline" id="Running_aplay_and_arecord_application">Running aplay and arecord application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_aplay_arecord&amp;action=edit&amp;section=T-1" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Audio playback is supported on HDMI and via headset. By default, the audio playback takes place on the HDMI. To listen to audio via the HDMI, run the aplay application
</p>
<pre>  <b>target #</b>  aplay &lt;path_to_example_audio&gt;.wav
</pre>
<p>If playback is required via headset, please make sure that the following amixer settings are done for the corresponding card (check the card no. by running the command cat /proc/asound/cards, assuming the card 1 is for headset here):
</p>
<pre>  <b>target #</b>  amixer cset -c 1 name='Headset Left Playback' 1
  <b>target #</b>  amixer cset -c 1 name='Headset Right Playback' 1
  <b>target #</b>  amixer cset -c 1 name='Headset Playback Volume' 12
  <b>target #</b>  amixer cset -c 1 name='DL1 PDM Switch' 1
  <b>target #</b>  amixer cset -c 1 name='Sidetone Mixer Playback' 1
  <b>target #</b>  amixer cset -c 1 name='SDT DL Volume' 120
  <b>target #</b>  amixer cset -c 1 name='DL1 Mixer Multimedia' 1
  <b>target #</b>  amixer cset -c 1 name='DL1 Media Playback Volume' 110
  <b>target #</b>  amixer sset -c 1 'Analog Left',0 'Aux/FM Left'
  <b>target #</b>  amixer sset -c 1 'Analog Right',0 'Aux/FM Right'
  <b>target #</b>  amixer sset -c 1 'Aux FM',0 7
  <b>target #</b>  amixer sset -c 1 'AUDUL Media',0 149
  <b>target #</b>  amixer sset -c 1 'Capture',0 4
  <b>target #</b>  amixer sset -c 1 MUX_UL00,0 AMic0
  <b>target #</b>  amixer sset -c 1 MUX_UL01,0 AMic1
  <b>target #</b>  amixer sset -c 1 'AMIC UL',0 120
</pre>
<p>Once these settings are done, one could do playback via headset using aplay by the following command:
</p>
<pre>  <b>target #</b>  aplay -Dplughw:1,0 &lt;path_to_example_audio&gt;.wav
</pre>
<p><br />
To playback/record on the evm via headset/mic, please make sure the following amixer settings are done:
</p>
<ul><li>For playback via headset, enter the following at prompt <b>target#</b></li></ul>
<pre>  amixer sset 'Left DAC Mux',0 'DAC_L2'
  amixer sset 'Right DAC Mux',0 'DAC_R2'
  amixer cset name='HP Playback Switch' On
  amixer cset name='Line Playback Switch' Off
  amixer cset name='PCM Playback Volume' 127
</pre>
<p>Once these settings are successful, use aplay application for playback:
</p>
<pre>  <b>target #</b>  aplay &lt;path_to_example_audio&gt;.wav
</pre>
<p><br />
</p>
<ul><li>For recording via Mic In</li></ul>
<pre>  amixer cset name='Left PGA Mixer Mic3L Switch' On
  amixer cset name='Right PGA Mixer Mic3L Switch' On
  amixer cset name='Left PGA Mixer Line1L Switch' off
  amixer cset name='Right PGA Mixer Line1R Switch' off
  amixer cset name='PGA Capture Switch' on
  amixer cset name='PGA Capture Volume' 6
</pre>
<p>Once these settings are successful, use arecord to record
</p>
<pre>  <b>target #</b>  arecord -r 44.1 &gt; &lt;path_to_example_audio&gt;.wav
</pre>
<p><br />
</p><p>To playback/record on the evm via Line Out/ Line In, please make sure the following amixer settings are done:
</p>
<ul><li>For playback via Line Out, enter the following at prompt <b>target#</b></li></ul>
<pre>  amixer cset name='Line Playback Switch' On
  amixer cset name='PCM Playback Volume' 127
</pre>
<p>Once these settings are successful, use aplay application for playback, e.g.,
</p>
<pre>  <b>target #</b>  aplay &lt;path_to_example_audio&gt;.wav
</pre>
<p><br />
</p>
<ul><li>For recording via Line In</li></ul>
<pre>  amixer cset name='Left PGA Mixer Mic2L Switch' On
  amixer cset name='Right PGA Mixer Mic2L Switch' On
  amixer cset name='Left PGA Mixer Line1L Switch' On
  amixer cset name='Right PGA Mixer Line1R Switch' On
  amixer cset name='PGA Capture Switch' On
  amixer cset name='PGA Capture Volume' 50
</pre>
<p>Once these settings are successful, use arecord to record, e.g.,
</p>
<pre>  <b>target #</b>  arecord -r 44100 -c 2 -f S16_LE &lt;path_to_example_audio&gt;.wav
</pre>
<h2><span class="mw-headline" id="Running_GC320_application">Running GC320 application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_viddec3test&amp;action=edit&amp;section=T-1" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>GC320 is a 2D Graphic accelerator in DRA7xx. This IP can be utilized for the usecases like alpha blending, overlaying, bitBlit, color conversion, scaling, rotation etc.
</p><p>SDK provides two sample GC320 testcases in the root filesystem.  Before running the test, the gc320 kernel module needs to be inserted into system.
</p><p>On 1.5GB RAM configuration
</p>
<pre>  <b>target#</b> insmod /lib/modules/4.4.xx-gyyyyyyyy/extra/galcore.ko baseAddress=0x80000000 physSize=0x60000000
</pre>
<p>On 2GB RAM configuration
</p>
<pre>   <b>target#</b> insmod /lib/modules/4.4.xx-gyyyyyyyy/extra/galcore.ko baseAddress=0x80000000 physSize=0x80000000
</pre>
<p>Now follow these instrctions to execute the applications
</p>
<pre>  <b>target#</b> cd /usr/bin/GC320/tests/unit_test
  <b>target#</b> export LD_LIBRARY_PATH=$PWD
  <b>target#</b> ./runtest.sh
</pre>
<p>This script executes two sample unit test cases of filling rectangles and GC320 rendered results will be stored in .bmp file in a directory "result" under /usr/bin/GC320/tests/unit_test.
</p><p>Note: To run all GC320 unit testcases, clone ti-gc320-test package from <a rel="nofollow" class="external free" href="git://git.ti.com/graphics/ti-gc320-test.git">git://git.ti.com/graphics/ti-gc320-test.git</a>&#160;: branch:ti-5.0.11.p7, rebuild test application, libraries etc and install the package on target.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Running_viddec3test_application">Running viddec3test application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_viddec3test&amp;action=edit&amp;section=T-2" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>viddec3test is a demo application for decoder/video playback using hardware accelerators. 
The application currently runs on the kms display. The application requires the connector information for display. One can get the information of the display connected to the board by running the <i>modetest</i> application in the filesystem, as described above. To execute the application "modetest" make sure the display is connected to the board.
</p><p><b>Running a decode on a display</b>
</p><p>To run a hardware decode on a display connected to the board, execute the following command:
</p>
<pre>  <b>target #</b>  viddec3test -s &lt;connector_id&gt;:&lt;display resolution&gt; filename --fps 30

e.g.: target # viddec3test -s 4:1920x1080 file.h264 --fps 30
</pre>
<p><br />
<b>Running single decode on dual displays</b>
</p><p>To run the output of a single decode on the dual displays. Please make sure both the displays are connected and get the information about the connectors and the resolution associated with it for both the displays from the <i>modetest</i> application.
</p>
<pre>  <b>target #</b>  viddec3test -s &lt;connector_id_1&gt;:&lt;display resolution&gt; -s &lt;connector_id_2&gt;:&lt;display resolution&gt; filename --fps 30
     e.g.: target # viddec3test -s 4:1920x1080 -s 12:1024x768 file.h264 --fps 30
</pre>
<p><br />
<b>Running dual decode on dual displays</b>
</p><p>One can also run  a dual decode and display their output on two different displays. Please make sure both the displays are connected and get the information about the connectors and the resolution associated with it for both the displays from the <i>modetest</i> application.
</p>
<pre>  <b>target #</b> viddec3test -s &lt;connector_id_1&gt;:&lt;display resolution&gt; filename1 -s &lt;connector_id_2&gt;:&lt;display resolution&gt; filename2
    e.g.: target # viddec3test -s 4:1920x1080 file1.h264 -- -s 12:1024x768 file2.h264
</pre>
<h2><span class="mw-headline" id="Running_a_gstreamer_pipeline">Running a gstreamer pipeline</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_gstreamer&amp;action=edit&amp;section=T-1" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>GStreamer v1.14.4 is supported  in Processor SDK 
|
in Processor SDK Linux Automotive 6.00
</p><p><br />
Gstreamer pipelines can also run from command line. In order to do so, exit Weston by pressing Ctrl-Alt-Backspace from the keyboard which connects to the EVM. Then, if the LCD screen stays in "Please wait...", press Ctrl-Alt-F1 to go to the command line on LCD console. After that, the command line can be used from serial console, SSH console, or LCD console.
</p><p><br />
One can run an audio video file using the gstreamer playbin from the console. Currently, the supported Audio/video sink is kmssink, waylandsink and alsassink. 
</p><p><br />
</p>
<pre>kmssink:
  <b>target #</b>  gst-launch playbin2 uri=file:///&lt;path_to_file&gt; video-sink=kmssink audio-sink="alsasink device=hw:1,0"
</pre>
<pre>waylandsink:  
  1. refer <a href="#Wayland.2FWeston">#Wayland/Weston</a> to start the weston
  2. <b>target #</b> gst-launch playbin2 uri=file:///&lt;path_to_file&gt; video-sink=waylandsink audio-sink="alsasink device=hw:1,0"
</pre>
<pre>dri2videosink:
  1. refer <a href="#X_Server">#X_Server</a> to start the X11
  2. <b>target #</b> gst-launch playbin2 uri=file:///&lt;path_to_file&gt; video-sink=dri2videosink audio-sink="alsasink device=hw:1,0"  
</pre>
<p>| 
<br />
</p>
<pre>kmssink:
  <b>target #</b>  gst-launch-1.0 playbin uri=file:///&lt;path_to_file&gt; video-sink=kmssink audio-sink=alsasink
</pre>
<pre>waylandsink:
  1. refer <a href="#Wayland.2FWeston">#Wayland/Weston</a> to start the weston
  2. <b>target #</b>  gst-launch-1.0 playbin uri=file:///&lt;path_to_file&gt; video-sink=waylandsink audio-sink=alsasink
</pre>
<p><br />
The following pipelines show how to use vpe for scaling and color space conversion.
<br />
</p>
<pre>  1. Decode-&gt; Scale-&gt;Display
     <b>target #</b> gst-launch-1.0 -v filesrc location=example_h264.mp4&#160;! qtdemux&#160;! h264parse&#160;! \
 ducatih264dec&#160;! vpe&#160;! 'video/x-raw, format=(string)NV12, width=(int)720, height=(int)480'&#160;! kmssink
</pre>
<pre>  2. Color space conversion:
     <b>target #</b> gst-launch-1.0 -v videotestsrc&#160;! 'video/x-raw, format=(string)YUY2, width= \
 (int)1280, height=(int)720'&#160;! vpe&#160;! 'video/x-raw, format=(string)NV12, width=(int)720, height=(int)480' \
&#160;! kmssink
</pre>
<pre>Note: 
  1. While using playbin for playing the stream, vpe plugin is automatically picked up. However vpe cannot be used with playbin for scaling.
For utilizing scaling capabilities of vpe, using manual pipeline given above is recommended.
  2. Waylandsink and Kmssink uses the cropping metadata set on buffers and does not require vpe plugin for cropping
</pre>
<p><br />
The following pipelines show how to use v4l2src and ducatimpeg4enc elements to capture video from VIP and encode captured video respectively.
<br />
</p>
<pre>Capture and Display Fullscreen
  <b>target #</b>  gst-launch-1.0 v4l2src device=/dev/video1 num-buffers=1000 io-mode=4&#160;! 'video/x-raw, \
format=(string)YUY2, width=(int)1280, height=(int)720'&#160;! vpe num-input-buffers=8&#160;! queue&#160;! kmssink
</pre>
<pre>Note:
 The following pipelines can also be used for NV12 capture-display usecase. 
 Dmabuf is allocated by v4l2src if io-mode=4 and by kmssink and imported by v4l2src if io-mode=5
 <b>target #</b> gst-launch-1.0 v4l2src device=/dev/video1 num-buffers=1000 io-mode=4&#160;! 'video/x-raw, \
format=(string)NV12, width=(int)1280, height=(int)720'&#160;! kmssink
 <b>target #</b> gst-launch-1.0 v4l2src device=/dev/video1 num-buffers=1000 io-mode=5&#160;! 'video/x-raw, \
format=(string)NV12, width=(int)1280, height=(int)720'&#160;! kmssink
</pre>
<p><br />
</p>
<pre>Capture and Display to a window in wayland
  1. refer <a href="#Wayland.2FWeston">#Wayland/Weston</a> to start the weston
  2. <b>target #</b>  gst-launch-1.0 v4l2src device=/dev/video1 num-buffers=1000 io-mode=4&#160;! 'video/x-raw, \
format=(string)YUY2, width=(int)1280, height=(int)720'&#160;! vpe num-input-buffers=8&#160;! queue&#160;! waylandsink
</pre>
<pre>Note:
 The following pipelines can also be used for NV12 capture-display usecase. Dmabuf is allocated by v4l2src 
 if io-mode=4 and by waylandsink and imported by v4l2src if io-mode=5.
 Waylandsink supports both shm and drm. A new property use-drm is added to specify drm allocator based bufferpool to be used.
 When using ducati or vpe plugins, use-drm is set in caps as true.
 <b>target #</b> gst-launch-1.0 v4l2src device=/dev/video1 num-buffers=1000 io-mode=4&#160;! 'video/x-raw, \
format=(string)NV12, width=(int)1280, height=(int)720'&#160;! waylandsink use-drm=true
 <b>target #</b> gst-launch-1.0 v4l2src device=/dev/video1 num-buffers=1000 io-mode=5&#160;! 'video/x-raw, \
format=(string)NV12, width=(int)1280, height=(int)720'&#160;! waylandsink use-drm=true
</pre>
<p><br />
</p>
<pre>Capture and Encode into a MP4 file.
  <b>target #</b>  gst-launch-1.0 -e v4l2src device=/dev/video1 num-buffers=1000 io-mode=4&#160;! 'video/x-raw, \
format=(string)YUY2, width=(int)1280, height=(int)720, framerate=(fraction)30/1'&#160;! vpe num-input-buffers=8&#160;! \
queue&#160;! ducatimpeg4enc bitrate=4000&#160;! queue&#160;! mpeg4videoparse&#160;! qtmux&#160;! filesink location=x.mp4
</pre>
<pre>Note:
  The following pipeline can be used in usecases where vpe processing is not required.
  <b>target #</b> gst-launch-1.0 -e v4l2src device=/dev/video1 num-buffers=1000 io-mode=5&#160;! 'video/x-raw, \
format=(string)NV12, width=(int)1280, height=(int)720, framerate=(fraction)30/1'&#160;! ducatimpeg4enc bitrate=4000&#160;! \
queue&#160;! mpeg4videoparse&#160;! qtmux&#160;! filesink location=x.mp4
</pre>
<pre>Capture and Encode and Display in parallel.
  <b>target #</b>  gst-launch-1.0 -e v4l2src device=/dev/video1 num-buffers=1000 io-mode=4&#160;! 'video/x-raw, \
format=(string)YUY2, width=(int)1280, height=(int)720, framerate=(fraction)30/1'&#160;! vpe num-input-buffers=8&#160;! tee name=t &#160;! \
 queue&#160;! ducatimpeg4enc bitrate=4000&#160;! queue&#160;! mpeg4videoparse&#160;! qtmux&#160;! filesink location=x.mp4 t.&#160;! queue&#160;! kmssink
</pre>
<p><br />
|
</p>
<h2><span id="Running_VIP/VPE/CAL_application"></span><span class="mw-headline" id="Running_VIP.2FVPE.2FCAL_application">Running VIP/VPE/CAL application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-1" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h4><span class="mw-headline" id="Video_Input_Port">Video Input Port</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-2" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Video Input Port is used to capture video frames from BT56/ BT601 Camera. Currently the VIP driver supports following features.
</p><p><br />
For more information on VIP driver and other features, please refer to <b><a rel="nofollow" class="external free" href="http://software-dl.ti.com/processor-sdk-linux/esd/docs/latest/linux/Foundational_Components_Kernel_Drivers.html#vip">http://processors.wiki.ti.com/index.php/Processor_SDK_VIP_Driver</a></b>
</p>
<ul><li>Standard V4L2 capture driver</li>
<li>Supports single planar buffers</li>
<li>Supports MMAP buffering method</li>
<li>Supports DMABUF based buffering method</li>
<li>Supports V4L2 endpoint standard way of specifying camera nodes</li>
<li>Supports captures upto 60FPS</li>
<li>Multi instance capture - All slices, ports supported</li>
<li>Capture from a YUYV camera(8bit)</li>
<li>NV12 capture format</li></ul>
<h4><span class="mw-headline" id="Camera_Adapter_Layer">Camera Adapter Layer</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-3" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Camera Adapter Layer is used to capture video from CSI Camera. Currently the CAL driver supports following features.
</p>
<ul><li>Standard V4L2 capture driver</li>
<li>Supports single planar buffers</li>
<li>Supports MMAP buffering method</li>
<li>Supports DMABUF based buffering method</li>
<li>Supports V4L2 endpoint standard way of specifying camera nodes (CSI bindings)</li>
<li>Multi instance capture - 4data lane phy0 + 2data lane phy1</li></ul>
<h4><span class="mw-headline" id="Supported_cameras">Supported cameras</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-4" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Camera Adapter Layer is used to capture video from CSI Camera. Currently the CAL driver supports following features.
Processor SDK Linux Automotive release supports following sensors/cameras/video inputs:-
</p>
<ul><li>OV10633 sensor - YUYV sensor connected on J6 EVM</li>
<li>OV10635 sensor - YUYV sensor on Vision board</li>
<li>OV10635 sensor - YUYV sensor connected through LVDS</li>
<li>TVP5158 decoder - Support for decoding single channel analog video</li>
<li>OV10640/OV490 - 720p CSI2 raw camera connected to OV490 ISP in YUYV format</li></ul>
<p>Processor SDK supports following sensors/cameras
</p>
<ul><li>mt9t111 camera sensor</li></ul>
<p><br />
</p>
<pre> <span style="color:blue"> <b>Note: This release of PSDKLA with kernel 4.19, supports only OV10633 sensor.</b>
        <b>OV10635 sensor capture on Vision Board and LVDS Capture are supported with VisionSDK v3.8.</b> 
        <b>FPDLink serializer and deserializer support is also not available with this release.</b>
        <b>JAMR board support is not validated with this release</b>
        <b>CSI2 capture not validated with this release</b>
</span></pre>
<p><br />
</p>
<h6><span class="mw-headline" id="Running_dmabuftest">Running dmabuftest</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-5" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>dmabuftest is a user space application which demonstrates capture  display loopback.
It can support multiple captures at the same time
</p><p>Video buffers are allocated by libdrm and they are shared to VIP through dmabuf.
</p><p>It interfaces with the VIP through standard v4l2 ioctls.
</p><p>Filesystem from release has dmabuftest app preinstalled.
</p><p>To capture and display on the LCD screen, run following command
</p>
<pre><b>target#</b> dmabuftest -s 4:800x480 -d /dev/video1 -c 1280x720@YUYV
</pre>
<pre><b>target#</b> dmabuftest -s 16:800x480 -d /dev/video1 -c 1280x720@YUYV
</pre>
<p><br />
To capture and display on the HDMI display, run following command
</p>
<pre><b>target#</b> dmabuftest -s 32:1920x1200 -d /dev/video1 -c 1280x720@YUYV
</pre>
<pre><b>target#</b> dmabuftest -s 4:1920x1080 -d /dev/video1 -c 1280x720@YUYV
</pre>
<p><br />
To capture video in NV12 format, run following command 
</p>
<pre><b>target#</b> dmabuftest -s 32:1920x1200 -d /dev/video1 -c 1280x720@<b>NV12</b>
</pre>
<pre><b>target#</b> dmabuftest -s 16:800x480 -d /dev/video1 -c 1280x720@<b>NV12</b>
</pre>
<p><br />
To capture and display on KMScube backend (Video on a rotating cube), run following command
</p>
<pre><b>target#</b> dmabuftest --kmscube --fov 20 -d /dev/video1 -c 1280x720@YUYV
<b>This feature is currently not supported</b>
</pre>
<p>To capture and display on wayland backend (Video in a wayland client window), run following command
</p>
<pre><b>target#</b> dmabuftest -w 640x480 --pos 100x400 /dev/video1 -c 1280x720@YUYV
</pre>
<p><br />
</p>
<h6><span class="mw-headline" id="Capturing_from_OV10633_onboard_camera">Capturing from OV10633 onboard camera</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-6" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Linux kernel driver for OV1063x cameras support OV10633 sensor.
</p><p>Video capture can be verified from the OV10633 sensor as follows
</p>
<ul><li>Connect OV10633 sensor to the Leopard Imaging port on the J6 EVM</li>
<li>Reboot the board and enable i2c2 as given above</li>
<li>I2C device on Bus 2 slave address 0x37 should be probed successfully</li>
<li>VIP should register a V4L2 video device (e.g. /dev/video1) using this i2c device</li>
<li>Run dmabuftest with '1280x720@YUYV' as capture format</li></ul>
<h6><span class="mw-headline" id="Capturing_from_OV10635_Vision_board_camera">Capturing from OV10635 Vision board camera</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-7" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Linux kernel driver for OV1063x cameras support OV10635 sensor.
</p><p>Video capture can be verified from the OV10635 sensor as follows
</p>
<ul><li>Connect OV10635 sensor to the OVcam port on the Vision board</li>
<li>Change the SW3 switch setting on Vision board as SW3[1-8] = 01010101</li>
<li>Reboot the board and enable i2c2 as given above</li>
<li>I2C device on Bus 2 slave address 0x30 should be probed successfully</li>
<li>VIP should register a V4L2 video device (e.g. /dev/video1) using this i2c device</li>
<li>Run dmabuftest with '1280x720@YUYV' as capture format</li></ul>
<h6><span class="mw-headline" id="Capturing_through_TVP_decoder">Capturing through TVP decoder</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-8" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Linux kernel supports TVP5158 NTSC/PAL decoder.
</p><p>TVP5158 decoder is a TI chip which can decode upto 4 channels of NTSC/PAL analog video and multiplex it.
</p><p>Video capture from 1 channel TVP5158 can be verified as follows.
</p>
<ul><li>Connect analog camera to the Vin1 port of the JAMR3 board</li>
<li>Change the SW2 switch setting on JAMR board as SW2[1-2] = [OFF, ON] - This is to select i2c4 for the IO expander</li>
<li>Reboot the board and enable i2c2 as given above</li>
<li>I2C device on Bus 2 slave address 0x58 should be probed successfully</li>
<li>VIP should register a V4L2 video device (e.g. /dev/video1) using this i2c device</li>
<li>Run dmabuftest with capture format of the analog camera (e.g. '720x240@YUYV')</li></ul>
<h6><span class="mw-headline" id="Capturing_through_LVDS_camera">Capturing through LVDS camera</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-9" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>LVDS camera is also a camera connected through a serializer and deserializer
</p><p>Linux kernel has driver for FPDlink serializers and deserializers
</p><p>For interfacing every LVDS camera with J6, an I2C slave for ser, deser and camera is needed.
By default, all of the device tree nodes are disabled.
</p><p>Following table shows mapping between all LVDS cameras on multi deserializer duaghter card for Vision Board.
</p>
<pre>LVDS camera    Camera address alias    Serializer address alias    Derializer address    VIP port
</pre>
<pre>cam1           0x38                    0x74                        0x60                  Vin1a(VIP1 slice0 port A)
cam2           0x39                    0x75                        0x64                  Vin2a(VIP1 slice1 port A)
cam3           0x3A                    0x76                        0x68                  Vin3a(VIP2 slice0 port A)
cam4           0x3B                    0x77                        0x6C                  Vin5a(VIP3 slice0 port A)
cam5           0x3C                    0x78                        0x61                  Vin4b(VIP2 slice1 port B)
cam6           0x3D                    0x79                        0x69                  Vin6a(VIP3 slice1 port A)
</pre>
<p>Video capture from LVDS camera can be verified as follows.
</p>
<ul><li>Connect a LVDS camera to cam1/2/3/4 port of Multides board.</li>
<li>Change the SW3 switch setting on Vision board as SW3[1-8] = 00100101</li>
<li>I2C device on Bus 2 slave address (e.g. 0x38 for cam1) should be probed successfully</li>
<li>VIP should register a V4L2 video device (e.g. /dev/video1) using this i2c device</li>
<li>Run dmabuftest with '1280x720@YUYV' as capture format</li></ul>
<p><br />
</p>
<h6><span id="Capturing_through_OV10640/OV490_CSI_camera/ISP"></span><span class="mw-headline" id="Capturing_through_OV10640.2FOV490_CSI_camera.2FISP">Capturing through OV10640/OV490 CSI camera/ISP</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-10" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Linux kernel supports CSI capture from OV10640 RAW camera and OV490 ISP.
</p><p>CAL works on the CSI2 protocol and supports both raw and YUYV capture. It is verified with the OV10640 raw camera and OV490 ISP.
TI-EVM has support for capturing via two CSI phys. - phy0 (4data lanes) and phy1 (2data lanes)
</p><p>Video capture from OV490 can be verified as follows.
</p>
<ul><li>Connect OV10640 camera to the OV490 board</li>
<li>Connect the OV490 board to the TI-EVM via the CSI2 dual 490 adaptor board</li>
<li>I2C device on Bus 4 slave address 0x24 should be probed successfully</li>
<li>VIP should register a V4L2 video device (e.g. /dev/video1) using this i2c device</li>
<li>Run dmabuftest with capture format of the analog camera (e.g. '1280x720@YUYV')</li></ul>
<h4><span id="Video_Processing_Engine(VPE)"></span><span class="mw-headline" id="Video_Processing_Engine.28VPE.29">Video Processing Engine(VPE)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-11" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>VPE supports Scalar, Colour Space Conversion and Deinterlace.It uses V4L2 mem2mem API.
</p><p>Supported Input formats: nv12, yuyv, uyvy
</p><p>Supported Output formats: nv12, yuyv, uyvy, rgb24, bgr24, argb24, abgr24
</p><p>Not Supported formats: yuv444, yvyu, vyuy, nv16, nv61, nv21
</p>
<h6><span class="mw-headline" id="File_to_File">File to File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-12" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<pre> test-v4l2-m2m

 Usage:
 &lt;SRCfilename&gt; &lt;SRCWidth&gt; &lt;SRCHeight&gt; &lt;SRCFormat&gt; &lt;DSTfilename&gt; &lt;DSTWidth&gt; &lt;DSTHeight&gt; &lt;DSTformat&gt; &lt;interlace&gt; &lt;translen&gt;
</pre>
<p>Note:
</p><p>&lt;interlace&gt;&#160;: set 1, If input is interlaced and want deinterlaced(progressive) output. output height should be twice of input height.
</p><p><br />
<i> Deinterlace(DI):- </i>
</p>
<pre><b>target#</b> test-v4l2-m2m /dev/video0 frame-176-144-nv12-inp.yuv 176 144 nv12 progressive_output.nv12 176 288 nv12 1 1
</pre>
<p><i> Scalar(SC):- </i>
</p>
<pre><b>target#</b> test-v4l2-m2m /dev/video0 frame-176-144-nv12-inp.yuv 176 144 nv12 frame-1920-1080-nv12-out.nv12 1920 1080 nv12 0 1
</pre>
<p><i> Colour Space Conversion(CSC):- </i>
</p>
<pre><b>target#</b> test-v4l2-m2m /dev/video0 frame-720-240-yuyv-inp.yuv 720 240 yuyv frame-720-240-argb32-out.argb32 720 240 argb32 0 1
</pre>
<p><i> SC+CSC+DI:- </i>
</p>
<pre><b>target#</b> test-v4l2-m2m /dev/video0 frame-720-240-yuyv-inp.yuv 720 240 yuyv frame-1920-1080-rgb24-dei-out.rgb24 1920 1080 rgb24 1 1
</pre>
<h6><span class="mw-headline" id="File_to_Display">File to Display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-13" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<pre> filevpedisplay

 Usage:
 &lt;src_filename&gt; &lt;src_w&gt; &lt;src_h&gt; &lt;src_format&gt; &lt;dst_w&gt; &lt;dst_h&gt; &lt;dst_format&gt; &lt;top&gt; &lt;left&gt; &lt;w&gt; &lt;h&gt; &lt;inter&gt; &lt;trans&gt; -s &lt;conn_id&gt;:&lt;mode&gt;
</pre>
<p><br />
Input without crop:
</p>
<pre><b>target#</b> filevpedisplay frame-176-144-nv12-inp.yuv 176 144 nv12 800 480 yuyv 0 0 176 144 0 1 -s 4:800x480
</pre>
<p>Input with crop:
</p>
<pre><b>target#</b> filevpedisplay frame-176-144-nv12-inp.yuv 176 144 nv12 800 480 yuyv 16 32 128 128 0 1 -s 4:800x480
</pre>
<p><br />
</p><p>Input without crop:
</p>
<pre><b>target#</b> filevpedisplay frame-176-144-nv12-inp.yuv 176 144 nv12 800 480 yuyv 0 0 176 144 0 1 -s 16:800x480
</pre>
<p>Input with crop:
</p>
<pre><b>target#</b> filevpedisplay frame-176-144-nv12-inp.yuv 176 144 nv12 800 480 yuyv 16 32 128 128 0 1 -s 4:1280x720
</pre>
<p><br />
</p>
<h6><span class="mw-headline" id="VIP-VPE-Display">VIP-VPE-Display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_VIP_VPE&amp;action=edit&amp;section=T-14" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Camera captures the frames, which are processed by VPE(SC, CSC, Dei) then displays on LCD/HDMI.
</p>
<pre> capturevpedisplay

 Usage:
 &lt;src_w&gt; &lt;src_h&gt; &lt;src_format&gt; &lt;dst_w&gt; &lt;dst_h&gt; &lt;dst_format&gt; &lt;inter&gt; &lt;trans&gt; -s &lt;conn_id&gt;:&lt;mode&gt;
</pre>
<p><br />
</p>
<pre><b>target#</b> capturevpedisplay 640 480 yuyv 320 240 uyvy 0 1 -s 4:640x480
</pre>
<p><br />
</p>
<pre><b>target#</b> capturevpedisplay 640 480 yuyv 320 240 uyvy 0 1 -s 4:1280x720
</pre>
<h2><span class="mw-headline" id="Running_DSS_application">Running DSS application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_DSS&amp;action=edit&amp;section=T-1" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>DSS applications are omapdrm based. These will demonstrate the clone mode, extended mode, overlay window, z-order and alpha blending features.
To demonstrate clone and extended mode, HDMI display must be connected to board.
Application requires the supported mode information of connected displays and plane ids. One can get these information by running the <i>modetest</i> application in the filesystem.
</p>
<pre>  <b>target #</b>  modetest
</pre>
<p><br />
DSS application is omapdrm based. This will demonstrate the z-order and alpha blending features.
HDMI display must be connected to board. Application requires the supported mode information of connected display and plane ids. One can get these information by running the <i>modetest</i> application in the filesystem.
</p>
<pre>  <b>target #</b>  modetest
</pre>
<p><br />
<b>Running drmclone application</b>
</p><p>This displays same test pattern on both LCD and HDMI (clone). Overlay window also displayed on LCD.
To test clone mode, execute the following command:
</p>
<pre>  <b>target #</b>  drmclone -l &lt;lcd_w&gt;x&lt;lcd_h&gt; -p &lt;plane_w&gt;x&lt;plane_h&gt;:&lt;x&gt;+&lt;y&gt; -h &lt;hdmi_w&gt;x&lt;hdmi_h&gt;
</pre>
<pre>e.g.: target # drmclone -l 1280x800 -p 320x240:0+0 -h 640x480
</pre>
<p>We can change position of overlay window by changing x+y values. eg. 240+120 will show @ center
</p><p><b>Running drmextended application</b>
</p><p>This displays different test pattern on LCD and HDMI. Overlay window also displayed on LCD.
To test extended mode, execute the following command:
</p>
<pre>  <b>target #</b> drmextended -l &lt;lcd_w&gt;x&lt;lcd_h&gt; -p &lt;plane_w&gt;x&lt;plane_h&gt;:&lt;x&gt;+&lt;y&gt; -h &lt;hdmi_w&gt;x&lt;hdmi_h&gt;
</pre>
<pre>e.g.: target # drmextended -l 1280x800 -p 320x240:0+0 -h 640x480
</pre>
<p><b>Running drmzalpha application</b>
</p><p><i>Z-order:</i>
</p><p>It determines, which overlay window appears on top of the other.
</p><p>Range: 0 to 3
</p>
<div style="text-align: left; direction: ltr; margin-left: 1em;">
<p>lowest value for bottom
</p><p>highest value for top
</p>
</div>
<p><i>Alpha Blend:</i>
</p><p>It determines transparency level of image as a result of both global alpha &amp; pre multiplied alpha value.
</p><p>Global alpha range: 0 to 255
</p>
<div style="text-align: left; direction: ltr; margin-left: 1em;">
<p>0   - fully transparent
</p><p>127 - semi transparent
</p><p>255 - fully opaque
</p>
</div>
<p>Pre multipled alpha value: 0 or 1
</p>
<div style="text-align: left; direction: ltr; margin-left: 1em;">
<p>0 - source is not premultiply with alpha
</p><p>1 - source is premultiply with alpha
</p>
</div>
<p>To test drmzalpha, execute the following command:
</p>
<pre>  <b>target #</b> drmzalpha -s &lt;crtc_w&gt;x&lt;crtc_h&gt; -w &lt;plane1_id&gt;:&lt;z_val&gt;:&lt;glo_alpha&gt;:&lt;pre_mul_alpha&gt; -w &lt;plane2_id&gt;:&lt;z_val&gt;:&lt;glo_alpha&gt;:&lt;pre_mul_alpha&gt;
</pre>
<pre>e.g.: target # drmzalpha -s 1280x800 -w 19:1:255:1 -w 20:2:255:1
</pre>
<p><br />
To test drmzalpha, execute the following command:
</p>
<pre>  <b>target #</b> drmzalpha -s &lt;crtc_w&gt;x&lt;crtc_h&gt; -w &lt;plane1_id&gt;:&lt;z_val&gt;:&lt;glo_alpha&gt;:&lt;pre_mul_alpha&gt; -w &lt;plane2_id&gt;:&lt;z_val&gt;:&lt;glo_alpha&gt;:&lt;pre_mul_alpha&gt;

e.g.: target # drmzalpha -s 640x480 -w 15:1:255:1 -w 16:2:255:1
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Testing_with_FPDLink_Display_setup">Testing with FPDLink Display setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_DSS&amp;action=edit&amp;section=T-2" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="color:red"> <b>NOTE!</b> </span> Support for FPDLink display is available upto K4.4 releases. PSDKLA6.0x release with k4.19 doesn't have support for FPDLInk. Check the release notes to see whether FPDLink is supported on the Processor SDK Linux Automotive release you are using.
</p><p><br />
</p><p>For information on debugging FPDLink integration, please refer to <a href="Processor_SDK_Linux_Automotive_Display_FAQ.html#Debugging_FPDLink_integration" title="Processor SDK Linux Automotive Display FAQ"> Debugging FPDLink integration</a>
</p>
<h4><span id="Current_H/W_setup"></span><span class="mw-headline" id="Current_H.2FW_setup">Current H/W setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_DSS&amp;action=edit&amp;section=T-3" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>FPDLink display is currently supported with Spectrum Digital FPDLink display part number 703840-0001. This display includes a 1280x800 AUO LCD panel with Goodix touch screen connected over a DS90UB924Q1 deserializer.
</p><p>To validate FPDLink with the current HW setup, below hardware is required.
</p>
<ul><li>DRA7xx EVM + 12V supply for the EVM.</li>
<li>FPDLink Cable between DRA7xx and FPDLink display</li>
<li>12 V power supply for the FPDLink display if using a J6/J6 Eco/J6 Entry EVM. J6 Plus EVM supplies power to the display over FPDLink. Power supply for display is not required in this case.</li></ul>
<p>The picture below shows the overall setup.
</p><p><a href="File_DRA7xx_FPDLink_AUO_SD_setup.html" class="image"><img alt="DRA7xx FPDLink AUO SD setup.png" src="https://processors.wiki.ti.com/images/e/ec/DRA7xx_FPDLink_AUO_SD_setup.png" width="780" height="432" /></a>
</p><p>Kernel Config modifications are not necessary as AUO panel support and fpdlink support are built into the kernel.
</p><p>To test the FPDLink display,
</p>
<ol><li>Use the device tree <code>dra7-evm-fpd-auo-g101evn01.0.dtb</code> to boot.</li>
<li>Add <code>omapdrm.num_crtc=2</code> to the kernel boot arguments. The above device tree will enable both HDMI and FPDlink LCD.</li>
<li>Power on the EVM and the check the modetest output. You should see two connectors now, one for HDMI and another for FPDLink.</li></ol>
<h4><span id="Legacy_H/W_setup"></span><span class="mw-headline" id="Legacy_H.2FW_setup">Legacy H/W setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_DSS&amp;action=edit&amp;section=T-4" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>Please note that support for the below FPDLink hardware will be deprecated with the next release. This is due to availability of the single board FPDLink display listed above.</b>
</p><p>To validate FPDLink with the legacy HW setup, below hardware is required.
</p>
<ul><li>DRA7xx EVM + 12V supply for the EVM.</li>
<li>FPDLink Cable between DRA7xx and De-serilzer board (DS90UB928Q).</li>
<li>5V power supply for De-serializer board.</li>
<li>LCD Adapter board (DS90UH928Q) that sits on De-serializer board.</li>
<li>LCD Adapter cable which is between LCD panel and the Adapter board.</li>
<li>12V power supply for LCD Adapter board.</li>
<li>The actual LCD panel (LG101(10.1in) or AUO (7.1 in))</li></ul>
<p>The picture below shows the overall setup.
</p><p><a href="File_DRA7xx_FPDLink_setup.html" class="image"><img alt="DRA7xx FPDLink setup.png" src="https://processors.wiki.ti.com/images/9/92/DRA7xx_FPDLink_setup.png" width="1388" height="961" /></a>
</p><p>Kernel Config is not necessary as the supported panels and fpdlink are built into the kernel.
</p><p>To test the FPDLink display,
</p>
<ol><li>Use the device tree <code>dra7-evm-fpd-lg.dtb</code> to boot.</li>
<li>Add <code>omapdrm.num_crtc=2</code> to the kernel boot arguments. The above device tree will enable both HDMI and FPDlink LCD.</li>
<li>Power on the EVM and the check the modetest output. You should see two connectors now, one for HDMI and another for FPDLink.</li></ol>
<h4><span class="mw-headline" id="HW_Modifications_required">HW Modifications required</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_DSS&amp;action=edit&amp;section=T-5" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>With the Rev B J6 Plus EVM's, a board modification is required to supply the pixel clock to the FPDLink connector. The modification required is shown in the below image.
</p><p><a href="File_DRA76x_FPDLink_Board_mod.html" class="image"><img alt="DRA76x FPDLink Board mod.png" src="https://processors.wiki.ti.com/images/b/be/DRA76x_FPDLink_Board_mod.png" width="574" height="585" /></a>
</p><p>}}
</p>
<h2><span class="mw-headline" id="Gsttestplayer">Gsttestplayer</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_gsttestplayer&amp;action=edit&amp;section=T-1" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>gsttestplayer is a gstreamer test application useful for testing some features not testable with gst-launch-1.0 such as:
</p>
<ol><li>Seek - Seeking to random points in a stream</li>
<li>Trick play  - Playback at different speeds (fast forward, rewind)</li>
<li>Pause, Resume</li>
<li>Playing multiple streams simultaneously in the same process, in a loop or one after another.</li></ol>
<h3><span class="mw-headline" id="Running_gsttestplayer">Running gsttestplayer</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_gsttestplayer&amp;action=edit&amp;section=T-2" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Command line options:
</p>
<pre>  <b>target #</b> gsttestplayer -h
        Usage: gsttestplayer &lt;options&gt;
                -s &lt;sinkname&gt;    Specify the video sink name to be used, default: kmssink
                -n               Do not use VPE, implies no scaling
                -r &lt;width&gt;x&lt;height&gt; Resize the output to widthxheight, no scaling if left blank
                -a               Play with no A/V Sync
                -c &lt;cmds file&gt;   Non-interactive mode, reading commands from &lt;cmds file&gt;
                --help-gst                        Show GStreamer Options
</pre>
<p>Example: To use waylandsink and resize the output video to 800x400.
</p>
<pre>  <b>target #</b> gsttestplayer -s waylandsink -r 800x400
</pre>
<p>In normal mode, when -c option is not used, the application enters an command prompt at which the user enter various commands. Type "help" to print out the list of possible commands:
</p>
<pre>  <b>target #</b> gsttestplayer -s waylandsink -r 800x400
        Scaling output to 800x400
        Using videosink=waylandsink
        <b>&lt;Enter ip&gt;</b> help
        Commands available:
        start  &lt;instance num&gt; &lt;filename/capture device&gt;
        stop   &lt;instance num&gt;
        pause  &lt;instance num&gt;
        resume &lt;instance num&gt;
        seek   &lt;instance num&gt; &lt;seek to time in seconds&gt; &lt;optional: playback speed&gt;
        sleep  &lt;sleep time in seconds&gt;
        msleep &lt;sleep time in milliseconds&gt;
        rewind &lt;line number&gt;
        exit
        <b>&lt;Enter ip&gt;</b>
</pre>
<p>Example commands:
</p>
<pre><i>start 0 KMS_MPEG4_D1.MP4</i>  # Start playing the file "KMS_MPEG4_D1.MP4", using instance 0.
<i>start 1 NTSC_h264.mp4</i>     # Start playing the file "NTSC_h264.mp4" (simultaneously) using instance 1.
<i>stop 0</i>                    # Stop playback of instance 0.
<i>seek 0 0 2</i>                # Seek to "0"th second mark of the stream playing in instance 0,
                          #  and start playing back at speed 2x.
<i>seek 0 300 -1</i>             # Seek to "300"th second mark of the stream playing in instance 0,
                          #  and start playing back reserve at speed 1x.
<i>start 2 /dev/video1</i>       # Start capturing from /dev/video1 using the v4l2src plugin
</pre>
<p>All these commands could be put into a text file and given as input to gsttestplayer with the "-c" option. In this case, gsttestplayer runs non-interactively, reading commands from the text file one line after another. The commands <i>sleep</i> and <i>rewind</i> are useful for this mode, to introduce delays or to create a loop respectively.
</p><p>Notes:
</p>
<ol><li>This application plays video only. Audio path is not used.</li>
<li>The input filename should have the correct file extension to indicate the type of file. The supported extensions are "mp4", "avi", "ts", "asf" &amp; "wmv".</li>
<li>The input filename should contain the string "264", "mpeg2", "mpeg4" or "vc1"/"wmv" to indicate which video codec should be used for decoding - H.264, MPEG-2, MPEG-4 or Windows Media Video.</li>
<li>If the input filename is a video device which matches /dev/videoX pattern, v4l2src plugin would be used for video capture instead of playback.</li>
<li>Decode and capture can be run in parallel depending on the sink being used.</li></ol>
<h2><span class="mw-headline" id="Running_IPC_examples">Running IPC examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;action=edit&amp;section=2" title="Edit section: Running IPC examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Processor SDK Linux Automotive includes IPC examples are part of the target filesystem.
</p>
<h3><span class="mw-headline" id="User_space_sample_application">User space sample application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;action=edit&amp;section=3" title="Edit section: User space sample application">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>MessageQ is the user space API provided for IPC. The sample application for MessageQ consists of an application &quot;MessageQApp&quot; running on the A15 and corresponding binaries running on the remotecore. The below table shows the paths under which the remotecore binaries can be found on the target filesystem. To ensure that these binaries are loaded by the kernel, please symbolic link them to the location shown in the below table.
</p>
<table class="wikitable">
<tbody><tr>
<th>Core
</th>
<th>Binary path on target relative to /lib/firmware
</th>
<th>Binary should be symlinked to
</th></tr>
<tr>
<td>DSP2
</td>
<td>./ipc/ti_platforms_evmDRA7XX_dsp2/messageq_single.xe66
</td>
<td>/lib/firmware/dra7-dsp2-fw.xe66
</td></tr>
<tr>
<td>IPU2
</td>
<td>./ipc/ti_platforms_evmDRA7XX_ipu2/messageq_single.xem4
</td>
<td>/lib/firmware/dra7-ipu2-fw.xem4
</td></tr>
<tr>
<td>IPU1
</td>
<td>./ipc/ti_platforms_evmDRA7XX_ipu1/messageq_single.xem4
</td>
<td>/lib/firmware/dra7-ipu1-fw.xem4
</td></tr>
<tr>
<td>DSP1
</td>
<td>./ipc/ti_platforms_evmDRA7XX_dsp1/messageq_single.xe66
</td>
<td>/lib/firmware/dra7-dsp1-fw.xe66
</td></tr></tbody></table>
<p>Boot the target and ensure that the lad daemon is running. Use the <code>ps</code> command to check if the lad daemon is already running. If not, please start the lad daemon.
</p>
<pre>target # /usr/bin/lad_dra7xx</pre>
<p>Start the MessageQApp
</p>
<pre>target # /usr/bin/MessageQApp &lt;number of messages&gt; &lt;core id&gt;</pre>
<p>The core id to be used is 1,2,3,4 for IPU2,IPU1,DSP2 and DSP1 respectively.
</p>
<pre>target # MessageQApp 10 3
Using numLoops: 10; procId&#160;: 3
Entered MessageQApp_execute
Local MessageQId: 0x80
Remote queueId  [0x30080]
Exchanging 10 messages with remote processor DSP2...
MessageQ_get #1 Msg = 0xb6400468
MessageQ_get #2 Msg = 0xb6400468
MessageQ_get #3 Msg = 0xb6400468
MessageQ_get #4 Msg = 0xb6400468
MessageQ_get #5 Msg = 0xb6400468
MessageQ_get #6 Msg = 0xb6400468
MessageQ_get #7 Msg = 0xb6400468
MessageQ_get #8 Msg = 0xb6400468
MessageQ_get #9 Msg = 0xb6400468
MessageQ_get #10 Msg = 0xb6400468
Exchanged 10 messages with remote processor DSP2
Sample application successfully completed!
Leaving MessageQApp_execute
</pre>
<p><br />
</p><p><br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="RPMsg_client_sample_application">RPMsg client sample application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;action=edit&amp;section=4" title="Edit section: RPMsg client sample application">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>RPMsg is the kernel space IPC and the building block for the user space MessageQ IPC API. The below wiki page illustrates how to build and run an rpmsg Linux kernel space client to communicate with a slave processor (e.g. DSP, IPU, etc) using IPC's RPMsg module.
</p><p><a rel="nofollow" class="external text" href="RPMsg_Kernel_Client_Application.html">RPMsg_Kernel_Client_Application</a>
</p><p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Running_basic_Wifi_tests">Running basic Wifi tests</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;action=edit&amp;section=5" title="Edit section: Running basic Wifi tests">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To run this test, you would need to have the Wilink COM module connected to the EVM.
</p><p>Check if the wlan0 interface is showing up:
</p>
<pre>target # ifconfig -a
</pre>
<p>Bring up the wlan0 inteface:
</p>
<pre>target # ifconfig wlan0 up
</pre>
<p>Search for the available Wifi networks:
</p>
<pre>target # iw wlan0 scan | grep -i ssid
</pre>
<h2><span class="mw-headline" id="Running_basic_Bluetooth_tests">Running basic Bluetooth tests</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;action=edit&amp;section=6" title="Edit section: Running basic Bluetooth tests">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To run this test, you would need to have the Wilink COM module connected to the EVM. Make sure that this module supports the Bluetooth.
</p>
<pre>target # hciconfig hci0 up
target # hciconfig -a
</pre>
<p>Turn on the Bluetooth on the device that you want to pair and make it discoverable, then run the following command:
</p>
<pre>target # hcitool scan
</pre>
<h2><span class="mw-headline" id="How_to_bring_up_the_GNSS_driver_and_sample_application">How to bring up the GNSS driver and sample application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;action=edit&amp;section=7" title="Edit section: How to bring up the GNSS driver and sample application">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>WL8 GNSS driver that is compatible with SDK is now available as part of the click wrap license at the following location. <a rel="nofollow" class="external free" href="http://www.ti.com/tool/wilink-sw">http://www.ti.com/tool/wilink-sw</a>
</p><p>Users are requested to register and obtain the package.
</p><p>The package contains the driver source and the required documentation.
</p><p>The document "Bring up manual for WiLink8 GNSS driver on Linux" is the starting point that contains the instructions for compiling and trying the sample application.
</p><p><b>NOTE: These instructions are known to work if the user starts with the Processor SDK Linux Automotive installer and compiles the Linux kernel using the instructions provided in the Software Developers Guide. </b>
</p>
<!-- 
NewPP limit report
Cached time: 20201201051601
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.141 seconds
Real time usage: 0.149 seconds
Preprocessor visited node count: 206/1000000
Preprocessor generated node count: 665/1000000
Post‐expand include size: 50982/2097152 bytes
Template argument size: 45/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 5079/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   21.822      1 -total
 35.25%    7.692      1 Template:Glsdk_running_graphics_demos
 12.57%    2.742      1 Template:Glsdk_VIP_VPE
 11.42%    2.492      1 Template:Modetest_find_connector_id
  9.62%    2.099      1 Template:Glsdk_running_gsttestplayer
  9.13%    1.993      1 Template:Psdkla_dss_wb
  9.12%    1.990      1 Template:Glsdk_running_gstreamer
  8.10%    1.767      1 Template:Glsdk_DSS
  7.90%    1.724      1 Template:Glsdk_running_viddec3test
  6.99%    1.525      1 Template:Glsdk_running_aplay_arecord
-->
</div>
<!-- Saved in parser cache with key procwiki:pcache:idhash:31210-0!canonical and timestamp 20201201051601 and revision id 236901
 -->
</div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;oldid=236901">https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;oldid=236901</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_PROCESSOR-SDK.html" title="Category:PROCESSOR-SDK">PROCESSOR-SDK</a></li><li><a href="Category_Automotive.html" title="Category:Automotive">Automotive</a></li><li><a href="Category_IPC%2c_BIOS%2c_Linux.html" title="Category:IPC, BIOS, Linux">IPC, BIOS, Linux</a></li><li><a href="https://processors.wiki.ti.com/index.php?title=Category:Pages_with_broken_file_links&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages with broken file links (page does not exist)">Pages with broken file links</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://processors.wiki.ti.com/index.php?title=Special:UserLogin&amp;returnto=Template%3AGlsdk+running+examples" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="Special_RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Request account</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-template" class="selected"><span><a href="Template_Glsdk_running_examples.html" title="View the template [c]" accesskey="c">Template</a></span></li><li id="ca-talk" class="new"><span><a href="https://processors.wiki.ti.com/index.php?title=Template_talk:Glsdk_running_examples&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Template_Glsdk_running_examples.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://processors.wiki.ti.com/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Texas Instruments Wiki" title="Search Texas Instruments Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li><li id="n-All-pages"><a href="Special_AllPages.html">All pages</a></li><li id="n-All-categories"><a href="Special_Categories.html">All categories</a></li><li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="Package_Reflow_Profiles.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Toolbox</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Template_Glsdk_running_examples.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Template_Glsdk_running_examples.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;oldid=236901" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://processors.wiki.ti.com/index.php?title=Template:Glsdk_running_examples&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 28 November 2019, at 23:37.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Project_Privacy_policy.html" title="Project:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="Project_About.html" title="Project:About">About Texas Instruments Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="Project_General_disclaimer.html" title="Project:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-termsofservice"><a href="Project_Terms_of_Service.html" title="Project:Terms of Service">Terms of Use</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://processors.wiki.ti.com/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://processors.wiki.ti.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.141","walltime":"0.149","ppvisitednodes":{"value":206,"limit":1000000},"ppgeneratednodes":{"value":665,"limit":1000000},"postexpandincludesize":{"value":50982,"limit":2097152},"templateargumentsize":{"value":45,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":5079,"limit":5000000},"timingprofile":["100.00%   21.822      1 -total"," 35.25%    7.692      1 Template:Glsdk_running_graphics_demos"," 12.57%    2.742      1 Template:Glsdk_VIP_VPE"," 11.42%    2.492      1 Template:Modetest_find_connector_id","  9.62%    2.099      1 Template:Glsdk_running_gsttestplayer","  9.13%    1.993      1 Template:Psdkla_dss_wb","  9.12%    1.990      1 Template:Glsdk_running_gstreamer","  8.10%    1.767      1 Template:Glsdk_DSS","  7.90%    1.724      1 Template:Glsdk_running_viddec3test","  6.99%    1.525      1 Template:Glsdk_running_aplay_arecord"]},"cachereport":{"timestamp":"20201201051601","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":358});});</script>
	</body>

<!-- Mirrored from processors.wiki.ti.com/index.php/Template:Glsdk_running_examples by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Dec 2020 08:36:47 GMT -->
</html>
